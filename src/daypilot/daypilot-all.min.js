/**
@license
DayPilot Pro for JavaScript 2025.3.6631 (trial)
Copyright (c) 2005 - 2025 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
"use strict";
var DayPilot = { Global: {} };
!(function (DayPilot) {
  function e(e, t) {
    return (
      DayPilot.isArray(t) ||
        ((t = e.areas),
        t || (e.cache ? (t = e.cache.areas) : e.data && (t = e.data.areas))),
      t
    );
  }
  function t(e) {
    var t = DayPilot.Date.Cache.Ticks;
    if (t[e]) return (DayPilot.Stats.cacheHitsTicks += 1), t[e];
    var n,
      i = new Date(e),
      a = i.getUTCMilliseconds();
    n = 0 === a ? "" : a < 10 ? ".00" + a : a < 100 ? ".0" + a : "." + a;
    var r = i.getUTCSeconds();
    r < 10 && (r = "0" + r);
    var o = i.getUTCMinutes();
    o < 10 && (o = "0" + o);
    var l = i.getUTCHours();
    l < 10 && (l = "0" + l);
    var s = i.getUTCDate();
    s < 10 && (s = "0" + s);
    var d = i.getUTCMonth() + 1;
    d < 10 && (d = "0" + d);
    var c = i.getUTCFullYear();
    if (c <= 0) throw "The minimum year supported is 1.";
    c < 10
      ? (c = "000" + c)
      : c < 100
      ? (c = "00" + c)
      : c < 1e3 && (c = "0" + c);
    var u = c + "-" + d + "-" + s + "T" + l + ":" + o + ":" + r + n;
    return (t[e] = u), u;
  }
  function n(e, t) {
    "string" == typeof t && (t = DayPilot.Locale.find(t)),
      (t = t || DayPilot.Locale.US);
    var n = [
        {
          seq: "yyyy",
          expr: "[0-9]{4,4}",
          str: function (e) {
            return e.getYear();
          },
        },
        {
          seq: "yy",
          expr: "[0-9]{2,2}",
          str: function (e) {
            return e.getYear() % 100;
          },
          transform: function (e) {
            return parseInt(e) + 2e3;
          },
        },
        {
          seq: "mm",
          expr: "[0-9]{2,2}",
          str: function (e) {
            var t = e.getMinutes();
            return t < 10 ? "0" + t : t;
          },
        },
        {
          seq: "m",
          expr: "[0-9]{1,2}",
          str: function (e) {
            return e.getMinutes();
          },
        },
        {
          seq: "HH",
          expr: "[0-9]{2,2}",
          str: function (e) {
            var t = e.getHours();
            return t < 10 ? "0" + t : t;
          },
        },
        {
          seq: "H",
          expr: "[0-9]{1,2}",
          str: function (e) {
            return e.getHours();
          },
        },
        {
          seq: "hh",
          expr: "[0-9]{2,2}",
          str: function (e) {
            var t = e.getHours();
            (t %= 12), 0 === t && (t = 12);
            var n = t;
            return n < 10 ? "0" + n : n;
          },
        },
        {
          seq: "h",
          expr: "[0-9]{1,2}",
          str: function (e) {
            var t = e.getHours();
            return (t %= 12), 0 === t && (t = 12), t;
          },
        },
        {
          seq: "ss",
          expr: "[0-9]{2,2}",
          str: function (e) {
            var t = e.getSeconds();
            return t < 10 ? "0" + t : t;
          },
        },
        {
          seq: "s",
          expr: "[0-9]{1,2}",
          str: function (e) {
            return e.getSeconds();
          },
        },
        {
          seq: "MMMM",
          expr: "[^\\s0-9]*",
          str: function (e) {
            return t.monthNames[e.getMonth()];
          },
          transform: function (e) {
            var n = DayPilot.indexOf(t.monthNames, e, i);
            return n < 0 ? null : n + 1;
          },
        },
        {
          seq: "MMM",
          expr: "[^\\s0-9]*",
          str: function (e) {
            return t.monthNamesShort[e.getMonth()];
          },
          transform: function (e) {
            var n = DayPilot.indexOf(t.monthNamesShort, e, i);
            return n < 0 ? null : n + 1;
          },
        },
        {
          seq: "MM",
          expr: "[0-9]{2,2}",
          str: function (e) {
            var t = e.getMonth() + 1;
            return t < 10 ? "0" + t : t;
          },
        },
        {
          seq: "M",
          expr: "[0-9]{1,2}",
          str: function (e) {
            return e.getMonth() + 1;
          },
        },
        {
          seq: "dddd",
          expr: "[^\\s0-9]*",
          str: function (e) {
            return t.dayNames[e.getDayOfWeek()];
          },
        },
        {
          seq: "ddd",
          expr: "[^\\s0-9]*",
          str: function (e) {
            return t.dayNamesShort[e.getDayOfWeek()];
          },
        },
        {
          seq: "dd",
          expr: "[0-9]{2,2}",
          str: function (e) {
            var t = e.getDay();
            return t < 10 ? "0" + t : t;
          },
        },
        {
          seq: "%d",
          expr: "[0-9]{1,2}",
          str: function (e) {
            return e.getDay();
          },
        },
        {
          seq: "d",
          expr: "[0-9]{1,2}",
          str: function (e) {
            return e.getDay();
          },
        },
        {
          seq: "tt",
          expr: "(AM|PM|am|pm)",
          str: function (e) {
            return e.getHours() < 12 ? "AM" : "PM";
          },
          transform: function (e) {
            return e.toUpperCase();
          },
        },
      ],
      a = function (e) {
        return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&");
      };
    (this.init = function () {
      (this.year = this.findSequence("yyyy") || this.findSequence("yy")),
        (this.month =
          this.findSequence("MMMM") ||
          this.findSequence("MMM") ||
          this.findSequence("MM") ||
          this.findSequence("M")),
        (this.day = this.findSequence("dd") || this.findSequence("d")),
        (this.hours = this.findSequence("HH") || this.findSequence("H")),
        (this.minutes = this.findSequence("mm") || this.findSequence("m")),
        (this.seconds = this.findSequence("ss") || this.findSequence("s")),
        (this.ampm = this.findSequence("tt")),
        (this.hours12 = this.findSequence("hh") || this.findSequence("h"));
    }),
      (this.findSequence = function (t) {
        function i(e) {
          return parseInt(e);
        }
        return e.indexOf(t) === -1
          ? null
          : {
              findValue: function (r) {
                for (var o = a(e), l = null, s = 0; s < n.length; s++) {
                  var d = t === n[s].seq,
                    c = n[s].expr;
                  d && ((c = "(" + c + ")"), (l = n[s].transform)),
                    (o = o.replace(n[s].seq, c));
                }
                o = "^" + o + "$";
                try {
                  var u = new RegExp(o),
                    h = u.exec(r);
                  return h ? (l = l || i)(h[1]) : null;
                } catch (e) {
                  throw "unable to create regex from: " + o;
                }
              },
            };
      }),
      (this.print = function (t) {
        for (
          var i = function (e) {
              for (var t = 0; t < n.length; t++)
                if (n[t] && n[t].seq === e) return n[t];
              return null;
            },
            a = e.length <= 0,
            r = 0,
            o = [];
          !a;

        ) {
          var l = e.substring(r),
            s = /%?(.)\1*/.exec(l);
          if (s && s.length > 0) {
            var d = s[0],
              c = i(d);
            c ? o.push(c) : o.push(d), (r += d.length), (a = e.length <= r);
          } else a = !0;
        }
        for (var u = 0; u < o.length; u++) {
          var h = o[u];
          "string" != typeof h && (o[u] = h.str(t));
        }
        return o.join("");
      }),
      (this.parse = function (e) {
        var t = this.year.findValue(e);
        if (!t) return null;
        var n = this.month.findValue(e);
        if (DayPilot.Util.isNullOrUndefined(n)) return null;
        if (n > 12 || n < 1) return null;
        var i = this.day.findValue(e),
          a = DayPilot.Date.fromYearMonthDay(t, n).daysInMonth();
        if (i < 1 || i > a) return null;
        var r = this.hours ? this.hours.findValue(e) : 0,
          o = this.minutes ? this.minutes.findValue(e) : 0,
          l = this.seconds ? this.seconds.findValue(e) : 0,
          s = this.ampm ? this.ampm.findValue(e) : null;
        if (this.ampm && this.hours12) {
          var d = this.hours12.findValue(e);
          if (d < 1 || d > 12) return null;
          r = "PM" === s ? (12 === d ? 12 : d + 12) : 12 === d ? 0 : d;
        }
        if (r < 0 || r > 23) return null;
        if (o < 0 || o > 59) return null;
        if (l < 0 || l > 59) return null;
        var c = new Date();
        return (
          c.setUTCFullYear(t, n - 1, i),
          c.setUTCHours(r),
          c.setUTCMinutes(o),
          c.setUTCSeconds(l),
          c.setUTCMilliseconds(0),
          new DayPilot.Date(c)
        );
      }),
      this.init();
  }
  function i(e, t) {
    return (
      !DayPilot.Util.isNullOrUndefined(e) &&
      !DayPilot.Util.isNullOrUndefined(t) &&
      e.toLocaleLowerCase() === t.toLocaleLowerCase()
    );
  }
  function a(e) {
    (e = Math.min(e, 255)), (e = Math.max(e, 0));
    var t = e.toString(16);
    return e < 16 ? "0" + t : t;
  }
  function r(e) {
    function t() {
      var t = new URL(e, location.href);
      return t.origin + t.pathname !== location.origin + location.pathname;
    }
    var n = this;
    (this.l = function () {
      return t()
        ? fetch(e)
            .then(function (e) {
              return e.text();
            })
            .then(function (e) {
              var t = document.createElement("div");
              return (
                (t.innerHTML = e),
                new Promise(function (e) {
                  e(t.querySelector(n.P()));
                })
              );
            })
        : new Promise(function (e) {
            e(document.querySelector(n.P()));
          });
    }),
      (this.P = function () {
        return new URL(e, location.href).hash;
      });
  }
  if ("undefined" == typeof DayPilot.browser) {
    (DayPilot.browser = {
      get ios() {
        var e, t;
        return (
          "undefined" != typeof navigator &&
          ((null === (e = navigator.userAgent) || void 0 === e
            ? void 0
            : e.includes("iPad")) ||
            (null === (t = navigator.userAgent) || void 0 === t
              ? void 0
              : t.includes("iPhone")))
        );
      },
      get hover() {
        return !window.matchMedia("(any-hover: none)").matches;
      },
    }),
      (DayPilot.touch = {
        start: "touchstart",
        move: "touchmove",
        end: "touchend",
      }),
      (DayPilot.mo3 = function (e, t) {
        var n = t.touches && t.touches[0] ? t.touches[0] : t;
        if (!e) {
          return {
            x: void 0 !== n.pageX ? n.pageX : n.clientX + window.pageXOffset,
            y: void 0 !== n.pageY ? n.pageY : n.clientY + window.pageYOffset,
            shift: !!t.shiftKey,
            meta: !!t.metaKey,
            ctrl: !!t.ctrlKey,
            alt: !!t.altKey,
          };
        }
        var i = e.getBoundingClientRect(),
          a = n.clientX - i.left,
          r = n.clientY - i.top;
        return (
          (a = Math.round(a)),
          (r = Math.round(r)),
          {
            x: a,
            y: r,
            shift: !!t.shiftKey,
            meta: !!t.metaKey,
            ctrl: !!t.ctrlKey,
            alt: !!t.altKey,
          }
        );
      }),
      (DayPilot.mc = function (e) {
        if (e.touches) {
          var t = e.touches[0];
          return { x: t.pageX, y: t.pageY };
        }
        return e.pageX || e.pageY
          ? { x: e.pageX, y: e.pageY }
          : {
              x: e.clientX + document.documentElement.scrollLeft,
              y: e.clientY + document.documentElement.scrollTop,
            };
      }),
      (DayPilot.Stats = {}),
      (DayPilot.Stats.eventObjects = 0),
      (DayPilot.Stats.dateObjects = 0),
      (DayPilot.Stats.cacheHitsCtor = 0),
      (DayPilot.Stats.cacheHitsParsing = 0),
      (DayPilot.Stats.cacheHitsTicks = 0),
      (DayPilot.list = function (e, t) {
        if (e && e.isDayPilotList && !t) return e;
        var n =
            DayPilot.isArray(e) ||
            "[object NodeList]" === Object.prototype.toString.call(e),
          i = !n && !DayPilot.Util.isNullOrUndefined(e),
          a = [];
        if (
          ((a.isDayPilotList = !0),
          (a.clone = function () {
            for (var e = DayPilot.list(), t = 0; t < a.length; t++)
              e.push(a[t]);
            return e;
          }),
          (a.each = function (e) {
            if (e) {
              if (a.forEach) return void a.forEach(e);
              for (var t = 0; t < this.length; t++) e(a[t], t, a);
            }
          }),
          (a.addProps = function (e) {
            var t = a.clone();
            if (e) for (var n in e) t[n] = e[n];
            return t;
          }),
          (a.last = function () {
            return 0 === a.length ? null : a[a.length - 1];
          }),
          (a.first = function () {
            return 0 === a.length ? null : a[0];
          }),
          (a.add = function (e) {
            var t = a.clone();
            return t.push(e), t;
          }),
          (a.map = function (e) {
            if ("function" != typeof e)
              throw "DayPilot.list().map(f): Function expected";
            var t = DayPilot.list();
            return (
              a.forEach(function (n, i, a) {
                t.push(e(n, i, a));
              }),
              t
            );
          }),
          (a.filter = function (e) {
            var t = DayPilot.list();
            if ("function" != typeof e)
              throw "DayPilot.list().filter(f): Function expected";
            return (
              a.forEach(function (n, i, a) {
                e(n, i, a) && t.push(n);
              }),
              t
            );
          }),
          (a.concat = function (e) {
            if (!e) return a;
            for (var t = a.clone(), n = 0; n < e.length; n++) t.push(e[n]);
            return t;
          }),
          a.find ||
            (a.find = function (e) {
              if ("function" != typeof e)
                throw "DayPilot.list().find(f): Function expected";
              for (var t = 0; t < this.length; t++) if (e(a[t])) return a[t];
            }),
          a.findIndex ||
            (a.findIndex = function (e) {
              if ("function" != typeof e)
                throw "DayPilot.list().findIndex(f): Function expected";
              for (var t = 0; t < this.length; t++) if (e(a[t])) return t;
              return -1;
            }),
          a.some ||
            (a.some = function (e) {
              if ("function" != typeof e)
                throw "DayPilot.list().some(f): Function expected";
              for (var t = 0; t < this.length; t++) if (e(a[t])) return !0;
              return !1;
            }),
          a.reduce ||
            (a.reduce = function (e, t) {
              if ("function" != typeof e)
                throw "DayPilot.list().reduce(f): Function expected";
              var n,
                i = 0;
              if ("undefined" != typeof t) n = t;
              else {
                if (((i = 1), 0 === a.length))
                  throw "DayPilot.list().reduce(f): No initial value and empty list";
                n = a[0];
              }
              for (var r = i; r < this.length; r++) n = e(n, a[r], r, this);
              return n;
            }),
          (a.isEmpty = function () {
            return 0 === a.length;
          }),
          n)
        )
          for (var r = 0; r < e.length; r++) a[r] = e[r];
        else i && (a[0] = e);
        return a;
      }),
      (DayPilot.list.for = function (e, t) {
        for (var n = DayPilot.list(), i = 0; i < e; i++)
          "function" == typeof t ? n.push(t(i)) : n.push(i);
        return n;
      }),
      (DayPilot.line = function (e, t, n, i, a) {
        var r, o;
        void 0 === a && (a = {});
        var l = { x: n, y: i, deg: DayPilot.deg(e, t, n, i) },
          s = e,
          d = t,
          c = n,
          u = i;
        d < u &&
          ((r = [c, s]),
          (s = r[0]),
          (c = r[1]),
          (o = [u, d]),
          (d = o[0]),
          (u = o[1]));
        var h = DayPilot.deg(s, d, c, u),
          f = { x: s, y: d },
          v = { x: c, y: u },
          p = Math.abs(s - c),
          m = Math.abs(d - u),
          g = (s + c) / 2,
          b = (d + u) / 2,
          y = Math.sqrt(p * p + m * m),
          w = g - y / 2,
          x = b,
          k = DayPilot.distance(f, v),
          C = document.createElement("div");
        (C.style.width = "".concat(k, "px")),
          (C.style.height = "0px"),
          (C.style.transform = "rotate(".concat(h, "deg)")),
          (C.style.position = "absolute"),
          (C.style.top = "".concat(x, "px")),
          (C.style.left = "".concat(w, "px")),
          a.cssClass && (C.className = a.cssClass);
        var _ = document.createElement("div");
        _.appendChild(C);
        var T = Boolean(a.arrow);
        if (T) {
          var S = 10,
            D = document.createElement("div");
          (D.style.position = "absolute"),
            (D.style.left = "".concat(l.x - 5, "px")),
            (D.style.top = "".concat(l.y - 5, "px")),
            (D.style.width = "".concat(S, "px")),
            (D.style.height = "".concat(S, "px")),
            (D.style.borderRadius = "".concat(S, "px")),
            a.cssClass
              ? (D.className = "".concat(a.cssClass, "_circle"))
              : (D.style.backgroundColor = "black"),
            _.appendChild(D);
        }
        return _;
      }),
      (DayPilot.deg = function (e, t, n, i) {
        var a = Math.abs(e - n),
          r = Math.abs(t - i),
          o = (e + n) / 2,
          l = (t + i) / 2,
          s = Math.sqrt(a * a + r * r),
          d = o - s / 2,
          c = l;
        a = s / 2;
        var u = Math.abs(o - d);
        r = Math.sqrt(
          Math.abs(e - d) * Math.abs(e - d) + Math.abs(t - c) * Math.abs(t - c)
        );
        var h = (r * r - a * a - u * u) / (2 * a * u);
        return (180 * Math.acos(h)) / Math.PI;
      }),
      (DayPilot.complete = function (e) {
        return "complete" === document.readyState
          ? void e()
          : (DayPilot.complete.list ||
              ((DayPilot.complete.list = []),
              DayPilot.re(document, "readystatechange", function () {
                if ("complete" === document.readyState) {
                  for (var e = 0; e < DayPilot.complete.list.length; e++) {
                    (0, DayPilot.complete.list[e])();
                  }
                  DayPilot.complete.list = [];
                }
              })),
            void DayPilot.complete.list.push(e));
      }),
      (DayPilot.debounce = function (e, t) {
        var n;
        return function () {
          var i = this,
            a = arguments,
            r = function () {
              (n = null), e.apply(i, a);
            };
          clearTimeout(n), (n = setTimeout(r, t));
        };
      }),
      (DayPilot.page = function (e) {
        var t =
          e.changedTouches && e.changedTouches[0] ? e.changedTouches[0] : e;
        return "undefined" != typeof t.pageX
          ? { x: t.pageX, y: t.pageY }
          : "undefined" != typeof e.clientX &&
            document.body &&
            document.documentElement
          ? {
              x:
                e.clientX +
                document.body.scrollLeft +
                document.documentElement.scrollLeft,
              y:
                e.clientY +
                document.body.scrollTop +
                document.documentElement.scrollTop,
            }
          : null;
      }),
      (DayPilot.isArray = function (e) {
        return "[object Array]" === Object.prototype.toString.call(e);
      }),
      (DayPilot.abs = function (e, t) {
        if (!e) return null;
        if (e.getBoundingClientRect) {
          var n = DayPilot.absBoundingClientBased(e);
          if (t) {
            var i = DayPilot.absOffsetBased(e, !1),
              a = DayPilot.absOffsetBased(e, !0);
            (n.x += a.x - i.x), (n.y += a.y - i.y), (n.w = a.w), (n.h = a.h);
          }
          return n;
        }
        return DayPilot.absOffsetBased(e, t);
      }),
      (DayPilot.absBoundingClientBased = function (e) {
        var t = e.getBoundingClientRect();
        return {
          x: t.left + window.pageXOffset,
          y: t.top + window.pageYOffset,
          w: e.clientWidth,
          h: e.clientHeight,
          toString: function () {
            return (
              "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h
            );
          },
        };
      }),
      (DayPilot.absOffsetBased = function (e, t) {
        for (
          var n = {
            x: e.offsetLeft,
            y: e.offsetTop,
            w: e.clientWidth,
            h: e.clientHeight,
            toString: function () {
              return (
                "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h
              );
            },
          };
          DayPilot.op(e);

        )
          (e = DayPilot.op(e)),
            (n.x -= e.scrollLeft),
            (n.y -= e.scrollTop),
            t &&
              (n.x < 0 && ((n.w += n.x), (n.x = 0)),
              n.y < 0 && ((n.h += n.y), (n.y = 0)),
              e.scrollLeft > 0 &&
                n.x + n.w > e.clientWidth &&
                (n.w -= n.x + n.w - e.clientWidth),
              e.scrollTop &&
                n.y + n.h > e.clientHeight &&
                (n.h -= n.y + n.h - e.clientHeight)),
            (n.x += e.offsetLeft),
            (n.y += e.offsetTop);
        var i = DayPilot.pageOffset();
        return (n.x += i.x), (n.y += i.y), n;
      }),
      (DayPilot.wd = function () {
        var e = document.documentElement.clientHeight,
          t = document.documentElement.clientWidth,
          n =
            (document.documentElement && document.documentElement.scrollTop) ||
            document.body.scrollTop,
          i =
            (document.documentElement && document.documentElement.scrollLeft) ||
            document.body.scrollLeft,
          a = {};
        return (
          (a.width = t),
          (a.height = e),
          (a.scrollTop = n),
          (a.scrollLeft = i),
          a
        );
      }),
      (DayPilot.op = function (e) {
        try {
          return e.offsetParent;
        } catch (e) {
          return document.body;
        }
      }),
      (DayPilot.distance = function (e, t) {
        return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));
      }),
      (DayPilot.doc = function () {
        var e = document.documentElement;
        return e && e.clientHeight ? e : document.body;
      }),
      (DayPilot.pageOffset = function () {
        if ("undefined" != typeof window.pageXOffset)
          return { x: window.pageXOffset, y: window.pageYOffset };
        var e = DayPilot.doc();
        return { x: e.scrollLeft, y: e.scrollTop };
      }),
      (DayPilot.ac = function (e, t) {
        t || (t = []);
        for (var n = 0; e.children && n < e.children.length; n++)
          t.push(e.children[n]), DayPilot.ac(e.children[n], t);
        return t;
      }),
      (DayPilot.indexOf = function (e, t, n) {
        if (!e || !e.length) return -1;
        for (var i = 0; i < e.length; i++)
          if (n) {
            if (n(e[i], t)) return i;
          } else if (e[i] === t) return i;
        return -1;
      }),
      (DayPilot.contains = function (e, t) {
        if (2 !== arguments.length)
          throw new DayPilot.Exception(
            "DayPilot.contains() requires two arguments."
          );
        return (
          !!e &&
          ((e === t && !DayPilot.isArray(e)) || DayPilot.indexOf(e, t) !== -1)
        );
      }),
      (DayPilot.rfa = function (e, t) {
        var n = DayPilot.indexOf(e, t);
        n !== -1 && e.splice(n, 1);
      }),
      (DayPilot.sheet = function (e) {
        function t() {
          for (
            var e = document.querySelectorAll("style[nonce]"), t = 0;
            t < e.length;
            t++
          ) {
            var n = e[t];
            if (n.nonce) return n.nonce;
          }
          if (document.currentScript && document.currentScript.nonce)
            return document.currentScript.nonce;
          for (
            var i = document.querySelectorAll("script[nonce]"), a = 0;
            a < i.length;
            a++
          ) {
            var r = i[a];
            if (r.nonce) return r.nonce;
          }
          return "";
        }
        if ("undefined" == typeof window)
          return {
            add: function () {},
            commit: function () {},
            print: function () {
              return "";
            },
          };
        e = e || window.document;
        var n = e.createElement("style");
        (n.nonce = t()),
          (e.head || e.getElementsByTagName("head")[0]).appendChild(n);
        var i = [];
        return {
          add: function (e, t, a) {
            return (
              (a = "undefined" == typeof a ? n.sheet.cssRules.length : a),
              n.sheet.insertRule(e + "{" + t + "}", a),
              i.push(e + "{" + t + "}"),
              this
            );
          },
          commit: function () {},
          print: function (e, t) {
            function n(e) {
              return e.replace(/[-/\\^$*+?.()|[\]{}]/g, "\\$&");
            }
            for (var a = [], r = 0; r < i.length; r++) {
              var o = i[r].split(/\s*{\s*/),
                l = o[0].trim(),
                s = o[1].replace(/\s*}\s*$/, "");
              if (!e || 0 === l.indexOf(e)) {
                if (e && t) {
                  var d = new RegExp(n(e), "g");
                  l = l.replace(d, t);
                }
                for (
                  var c = s
                      .split(/;(?![^(]*\))/)
                      .map(function (e) {
                        return e.trim();
                      })
                      .filter(Boolean),
                    u = l + " {\n",
                    h = 0;
                  h < c.length;
                  h++
                )
                  u += "  " + c[h] + ";\n";
                (u += "}"), a.push(u);
              }
            }
            return a.join("\n\n");
          },
        };
      }),
      (DayPilot.Args = function (e) {
        var t = this;
        (this.isArgs = !0),
          (this.preventDefault = function () {
            e && e.preventDefault(), (t.preventDefault.value = !0);
          });
      }),
      (DayPilot.Debug = function (e) {
        var t = this;
        (this.printToBrowserConsole = !1),
          (this.enabled = !1),
          (this.messages = []),
          (this.target = null),
          (this.c = null),
          (this.clear = function () {
            (this.messages = []), t.c && (t.c.innerHTML = "");
          }),
          (this.hide = function () {
            DayPilot.de(t.c), (t.c = null);
          }),
          (this.show = function () {
            t.c && t.hide();
            var n = e.nav.top,
              i = document.createElement("div");
            (i.style.position = "absolute"),
              (i.style.top = "0px"),
              (i.style.bottom = "0px"),
              (i.style.left = "0px"),
              (i.style.right = "0px"),
              (i.style.backgroundColor = "black"),
              (i.style.color = "#ccc"),
              (i.style.overflow = "auto"),
              (i.style.webkitUserSelect = "auto"),
              (i.style.userSelect = "all"),
              (i.onclick = function () {
                t.hide();
              });
            for (var a = 0; a < this.messages.length; a++) {
              var r = t.messages[a],
                o = r.j();
              i.appendChild(o);
            }
            (this.c = i), n.appendChild(i);
          }),
          (this.log = function () {
            if (t.target) {
              for (var e = [], n = 0; n < arguments.length; n++) {
                var i = arguments[n];
                e.push(i);
              }
              var a = e.join(" ");
              (t.target.style.whiteSpace = "pre"),
                (t.target.innerText += a + "\n");
            }
          }),
          (this.message = function (e, t) {
            if (this.enabled) {
              var n = {};
              (n.time = new DayPilot.Date()),
                (n.level = t || "debug"),
                (n.text = DayPilot.Util.escapeHtml(e)),
                (n.j = function () {
                  var e = document.createElement("div");
                  switch (
                    ((e.innerHTML = n.time + " (" + n.level + "): " + n.text),
                    n.level)
                  ) {
                    case "error":
                      e.style.color = "red";
                      break;
                    case "warning":
                      e.style.color = "orange";
                      break;
                    case "info":
                      e.style.color = "white";
                      break;
                    case "debug":
                  }
                  return e;
                }),
                this.messages.push(n),
                this.printToBrowserConsole &&
                  "undefined" != typeof console &&
                  console.log(n);
            }
          });
      }),
      (DayPilot.re = function (e, t, n) {
        n && e && e.addEventListener(t, n, !1);
      }),
      (DayPilot.rePassive = function (e, t, n) {
        n && e && e.addEventListener(t, n, { passive: !0 });
      }),
      (DayPilot.reNonPassive = function (e, t, n) {
        n && e && e.addEventListener(t, n, { passive: !1 });
      }),
      (DayPilot.ue = function (e, t, n) {
        e.removeEventListener(t, n, !1);
      }),
      (DayPilot.gs = function (e, t) {
        return window.getComputedStyle(e, null).getPropertyValue(t) || "";
      }),
      (DayPilot.StyleReader = function (e) {
        (this.get = function (t) {
          return e ? DayPilot.gs(e, t) : null;
        }),
          (this.getColorHex = function (e) {
            var t = this.get(e);
            return t ? DayPilot.Util.normalizeColor(t) : null;
          }),
          (this.getPx = function (e) {
            var t = this.get(e);
            if (t) return t.indexOf("px") === -1 ? void 0 : parseInt(t, 10);
          }),
          (this.getFont = function () {
            var e = this.get("font-weight"),
              t = "italic" === this.get("font-style") ? "italic" : "";
            return {
              family: this.get("font-family"),
              size: this.get("font-size"),
              style: t + " " + e,
              asString: function () {
                return DayPilot.Util.fontString(this);
              },
            };
          }),
          (this.getBackColor = function (e) {
            "undefined" == typeof e && (e = "white");
            var t = this.get("background-color");
            return DayPilot.Util.isTransparentColor(t) ? e : t;
          });
      }),
      (DayPilot.he = function (e) {
        var t = e.replace(/&/g, "&amp;");
        return (
          (t = t.replace(/</g, "&lt;")),
          (t = t.replace(/>/g, "&gt;")),
          (t = t.replace(/"/g, "&quot;"))
        );
      }),
      (DayPilot.he2 = function (e) {
        var t = document.createTextNode(e),
          n = document.createElement("div");
        return n.appendChild(t), n.innerHTML;
      }),
      (DayPilot.us = function (e) {
        e &&
          ((e.style.userSelect = "none"), (e.style.webkitUserSelect = "none"));
      }),
      (DayPilot.pu = function (e) {
        var t,
          n,
          i,
          a = e.attributes;
        if (a)
          for (n = a.length, t = 0; t < n; t += 1)
            a[t] &&
              ((i = a[t].name), "function" == typeof e[i] && (e[i] = null));
        if ((a = e.childNodes))
          for (n = a.length, t = 0; t < n; t += 1) DayPilot.pu(e.childNodes[t]);
      }),
      (DayPilot.puc = function (e) {
        var t = e.childNodes;
        if (t)
          for (var n = t.length, i = 0; i < n; i += 1)
            DayPilot.pu(e.childNodes[i]);
      }),
      (DayPilot.de = function (e) {
        if (e)
          if (DayPilot.isArray(e))
            for (var t = 0; t < e.length; t++) DayPilot.de(e[t]);
          else e.remove();
      }),
      (DayPilot.fade = function (e, t, n) {
        if (e) {
          clearTimeout(e.messageTimeout);
          var i = "none" !== e.style.display,
            a = t > 0,
            r = t < 0;
          if (0 !== t) {
            if ((a ? (e.status = "in") : r && (e.status = "out"), a && !i))
              (e.target = parseFloat(e.style.opacity)),
                (e.opacity = 0),
                (e.style.opacity = 0),
                (e.style.display = "");
            else if (r && !e.target) e.target = e.style.opacity;
            else {
              var o = e.opacity,
                l = Math.floor(10 * (o + t)) / 10;
              a && l > e.target && (l = e.target),
                r && l < 0 && (l = 0),
                (e.opacity = l),
                (e.style.opacity = l);
            }
            (a && (e.opacity >= e.target || e.opacity >= 1)) ||
            (r && e.opacity <= 0)
              ? ((e.target = null),
                r &&
                  ((e.style.opacity = e.target),
                  (e.opacity = e.target),
                  (e.style.display = "none")),
                n && "function" == typeof n && ((e.status = null), n()))
              : (e.messageTimeout = setTimeout(function () {
                  DayPilot.fade(e, t, n);
                }, 50));
          }
        }
      }),
      (DayPilot.sw = function (e) {
        return e ? e.offsetWidth - e.clientWidth : 0;
      }),
      (DayPilot.swa = function () {
        var e = document.createElement("div");
        (e.style.position = "absolute"),
          (e.style.top = "-2000px"),
          (e.style.left = "-2000px"),
          (e.style.width = "200px"),
          (e.style.height = "100px"),
          (e.style.overflow = "auto");
        var t = document.createElement("div");
        (t.style.width = "300px"),
          (t.style.height = "300px"),
          e.appendChild(t),
          document.body.appendChild(e);
        var n = DayPilot.sw(e);
        return document.body.removeChild(e), n;
      }),
      (DayPilot.sh = function (e) {
        return e ? e.offsetHeight - e.clientHeight : 0;
      }),
      (DayPilot.guid = function () {
        var e = function () {
          return ((65536 * (1 + Math.random())) | 0).toString(16).substring(1);
        };
        return (
          "" +
          e() +
          e() +
          "-" +
          e() +
          "-" +
          e() +
          "-" +
          e() +
          "-" +
          e() +
          e() +
          e()
        );
      }),
      (DayPilot.ua = function (e) {
        if (!DayPilot.isArray(e))
          throw new DayPilot.Exception("DayPilot.ua() - array required");
        var t = [];
        return (
          e.forEach(function (e) {
            DayPilot.contains(t, e) || t.push(e);
          }),
          t
        );
      }),
      (DayPilot.am = function () {
        return "undefined" == typeof angular
          ? null
          : (DayPilot.am.cached ||
              (DayPilot.am.cached = angular.module("daypilot", [])),
            DayPilot.am.cached);
      }),
      (function () {
        function e(e, i) {
          var a = {
            w: e.offsetWidth,
            h: e.offsetHeight,
            x: parseInt(e.style.left),
            y: parseInt(e.style.top),
          };
          (a.height = e.style.height),
            (a.width = e.style.width),
            (a.top = e.style.top),
            (a.left = e.style.left),
            (a.toString = function () {
              return "w: " + this.w + " h:" + this.h;
            });
          var r = {};
          if (
            ((r.finished = null),
            (r.vertical = "center"),
            (r.horizontal = "center"),
            i)
          )
            for (var o in i) r[o] = i[o];
          (e.style.visibility = "hidden"), (e.style.display = "");
          var l = i.animation || "fast",
            s = t(l);
          (s.div = e), (s.i = 0), (s.target = a), (s.config = r), n(s);
        }
        function t(e) {
          var t = function () {
              var e = [];
              e.time = 10;
              var t,
                n = 0.08;
              t = 0.1;
              for (var i = t; i < 1.2; i += n) e.push(i), (t = i);
              n = 0.03;
              for (var i = t; i > 0.8; i -= n) e.push(i), (t = i);
              for (var i = t; i <= 1; i += n) e.push(i), (t = i);
              return e;
            },
            n = function () {
              var e = [];
              e.time = 10;
              var t,
                n = 0.04;
              t = 0.1;
              for (var i = t; i <= 1; i += n) e.push(i), (t = i);
              return e;
            },
            i = function () {
              var e = [];
              e.time = 10;
              var t,
                n = 0.08;
              t = 0.1;
              for (var i = t; i <= 1; i += n) e.push(i), (t = i);
              return e;
            },
            a = { fast: i, slow: n, jump: t };
          return a[e] || (e = "fast"), a[e]();
        }
        function n(e) {
          var t,
            i = e.div,
            a = e[e.i],
            r = a * e.target.h;
          switch (e.config.vertical) {
            case "center":
              t = e.target.y - (r - e.target.h) / 2;
              break;
            case "top":
              t = e.target.y;
              break;
            case "bottom":
              t = e.target.y - (r - e.target.h);
              break;
            default:
              throw "Unexpected 'vertical' value.";
          }
          var o,
            l = a * e.target.w;
          switch (e.config.horizontal) {
            case "left":
              o = e.target.x;
              break;
            case "center":
              o = e.target.x - (l - e.target.w) / 2;
              break;
            case "right":
              o = e.target.x - (l - e.target.w);
              break;
            default:
              throw "Unexpected 'horizontal' value.";
          }
          (i.style.height = r + "px"),
            (i.style.top = t + "px"),
            (i.style.width = l + "px"),
            (i.style.left = o + "px"),
            (i.style.visibility = "visible"),
            e.i++,
            e.i < e.length - 1
              ? setTimeout(
                  (function (e) {
                    return function () {
                      n(e);
                    };
                  })(e),
                  e.time
                )
              : ((i.style.width = e.target.width),
                (i.style.height = e.target.height),
                (i.style.top = e.target.top),
                (i.style.left = e.target.left),
                "function" == typeof e.config.finished && e.config.finished());
        }
        DayPilot.pop = e;
      })(),
      (DayPilot.Util = {}),
      (DayPilot.Util.addClass = function (e, t) {
        if (e && t)
          if (DayPilot.isArray(e))
            for (var n = 0; n < e.length; n++) DayPilot.Util.addClass(e[n], t);
          else {
            var i = t.split(/\s+/);
            if (e.classList)
              i.forEach(function (t) {
                t && e.classList.add(t);
              });
            else
              for (var n = 0; n < i.length; n++) {
                var a = i[n];
                if (a)
                  if (e.className) {
                    var r = new RegExp("(^|\\s)" + a + "($|\\s)");
                    r.test(e.className) || (e.className += " " + a);
                  } else e.className = a;
              }
          }
      }),
      (DayPilot.Util.normalizeColor = function (e) {
        function t(e) {
          return (
            (e = e.replace(/[^\d,]/g, "").split(",")),
            "#" +
              ((1 << 24) + (+e[0] << 16) + (+e[1] << 8) + +e[2])
                .toString(16)
                .slice(1)
          );
        }
        return 0 === e.indexOf("rgb") ? t(e) : e;
      }),
      (DayPilot.Util.addClassToString = function (e, t) {
        return e
          ? new RegExp("(^|\\s)" + t + "($|\\s)").test(e)
            ? e
            : e + " " + t
          : t;
      }),
      (DayPilot.Util.removeClassFromString = function (e, t) {
        if (!e) return "";
        var n = new RegExp("(^|\\s)" + t + "($|\\s)");
        return e
          .replace(n, " ")
          .replace(/^\s\s*/, "")
          .replace(/\s\s*$/, "");
      }),
      (DayPilot.Util.removeClass = function (e, t) {
        if (e)
          if (DayPilot.isArray(e))
            for (var n = 0; n < e.length; n++)
              DayPilot.Util.removeClass(e[n], t);
          else if (e.className) {
            var i = new RegExp("(^|\\s)" + t + "($|\\s)");
            e.className = e.className
              .replace(i, " ")
              .replace(/^\s\s*/, "")
              .replace(/\s\s*$/, "");
          }
      }),
      (DayPilot.Util.props = function (e) {
        var t = [];
        for (var n in e) t.push(n), t.push(e[n]);
        return t.join("-");
      }),
      (DayPilot.Util.propArray = function (e, t, n) {
        return DayPilot.list(e).map(function (e) {
          return e[t] ? e[t] : n;
        });
      }),
      (DayPilot.Util.updatePropsFromArray = function (e, t, n) {
        for (var i = 0; i < n.length; i++) e[i][t] = n[i];
      }),
      (DayPilot.Util.copyProps = function (e, t, n) {
        if ((void 0 === t && (t = {}), !e)) return t;
        if ("undefined" == typeof n)
          for (var i = 0, a = Object.entries(e); i < a.length; i++) {
            var r = a[i],
              o = r[0],
              l = r[1];
            "undefined" != typeof l && (t[o] = l);
          }
        else
          for (var s = 0, d = n; s < d.length; s++) {
            var c = d[s],
              l = e[c];
            "undefined" != typeof l && (t[c] = l);
          }
        return t;
      }),
      (DayPilot.Util.ownPropsAsArray = function (e) {
        return e
          ? Object.entries(e).map(function (e) {
              return { key: e[0], val: e[1] };
            })
          : [];
      }),
      (DayPilot.Util.firstPropValue = function (e) {
        for (var t in e) return e[t];
      }),
      (DayPilot.Util.isOnlyProperty = function (e, t) {
        return (
          !!e &&
          1 === Object.keys(e).length &&
          Object.prototype.hasOwnProperty.call(e, t)
        );
      }),
      (DayPilot.Util.createArrayCopy = function (e, t) {
        if (!DayPilot.isArray(e)) return [];
        for (var n = [], i = 0; i < e.length; i++) {
          var a = {};
          DayPilot.Util.copyProps(e[i], a, t), n.push(a);
        }
        return n;
      }),
      (DayPilot.Util.atLeast = function (e, t) {
        return Math.max(e, t);
      }),
      (DayPilot.Util.atMost = function (e, t) {
        return Math.min(e, t);
      }),
      (DayPilot.Util.avg = function (e, t) {
        return (e + t) / 2;
      }),
      (DayPilot.Util.div = function (e, t, n, i, a) {
        var r = document.createElement("div");
        return (
          (t || n || i || a) &&
            (i < 0 && ((t += i), (i *= -1)),
            a < 0 && ((n += a), (a *= -1)),
            (r.style.position = "absolute"),
            "number" == typeof t
              ? (r.style.left = t + "px")
              : "string" == typeof t && (r.style.left = t),
            "number" == typeof n
              ? (r.style.top = n + "px")
              : "string" == typeof n && (r.style.top = n),
            "number" == typeof i
              ? (r.style.width = i + "px")
              : "string" == typeof i && (r.style.width = i),
            "number" == typeof a
              ? (r.style.height = a + "px")
              : "string" == typeof a && (r.style.height = a)),
          e && e.appendChild(r),
          r
        );
      }),
      (DayPilot.Util.overlaps = function (e, t, n, i) {
        return !(t <= n || e >= i);
      }),
      (DayPilot.Util.isMouseEvent = function (e) {
        return !!e && ("mouse" === e.pointerType || e instanceof MouseEvent);
      }),
      (DayPilot.Util.mouseButton = function (e) {
        var t = {};
        switch (e.button) {
          case 0:
            t.left = !0;
            break;
          case 1:
            t.middle = !0;
            break;
          case 2:
            t.right = !0;
        }
        return t;
      }),
      (DayPilot.Util.shouldApply = function (e) {
        if (!e) return !1;
        var t = e.toLowerCase();
        return (
          !(t.indexOf("before") >= 0) &&
          !(t.indexOf("after") >= 0) &&
          "onrowfilter" !== t &&
          "oneventfilter" !== t
        );
      }),
      (DayPilot.Util.safeApply = function (e, t) {
        var n = e["$root"]["$$phase"];
        "$apply" === n || "$digest" === n ? e["$eval"](t) : e["$apply"](t);
      }),
      (DayPilot.Util.replaceCharAt = function (e, t, n) {
        return e.substr(0, t) + n + e.substr(t + n.length);
      }),
      (DayPilot.Util.evalVariable = function (e, t) {
        if (((t = t || ["object"]), null === e || "undefined" == typeof e))
          return null;
        if (DayPilot.indexOf(t, typeof e) !== -1) return e;
        if ("string" != typeof e)
          throw "Unable to resolve a variable name (not a string).";
        if (!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e))
          throw "Invalid variable name: " + e;
        return void e;
      }),
      (DayPilot.Util.evalFunction = function (e) {
        if (null === e) return null;
        if ("function" == typeof e) return e;
        if ("string" != typeof e)
          throw "Unable to resolve a function (not a string).";
        if (!/^\(?function/.test(e)) throw "Invalid function string";
        return (e = "(" + e + ")"), void e;
      }),
      (DayPilot.Util.isNullOrUndefined = function (e) {
        return null === e || "undefined" == typeof e;
      }),
      (DayPilot.Util.log = function (e) {
        var t, n;
        null ===
          (n =
            null === (t = window.console) || void 0 === t ? void 0 : t.log) ||
        void 0 === n
          ? void 0
          : n.call(t, e);
      }),
      (DayPilot.Util.workerFrom = function (e) {
        var t = e.toString(),
          n = t.slice(t.indexOf("{") + 1, t.lastIndexOf("}")),
          i = new Blob([n]),
          a = window.URL.createObjectURL(i);
        return new Worker(a);
      }),
      (DayPilot.Util.dataUriToBlob = function (e) {
        if ("string" != typeof e)
          throw "DayPilot.Util.dataUriToBlob(): dataURI string expected";
        for (
          var t = e.split(","),
            n = t[0],
            i = t[1],
            a = n.indexOf("base64") !== -1,
            r = a ? atob : decodeURI,
            o = n.split(":")[1].split(";")[0],
            l = r(i),
            s = new window.Uint8Array(l.length),
            d = 0;
          d < l.length;
          d++
        )
          s[d] = l.charCodeAt(d);
        return new Blob([s], { type: o });
      }),
      (DayPilot.Util.downloadDataUri = function (e, t) {
        var n = DayPilot.Util.dataUriToBlob(e);
        DayPilot.Util.downloadBlob(n, t);
      }),
      (DayPilot.Util.downloadBlob = function (e, t) {
        if (((t = t || "download"), window.navigator.msSaveBlob))
          window.navigator.msSaveBlob(e, t);
        else {
          var n = window.URL.createObjectURL(e),
            i = document.createElement("a");
          (i.download = t),
            (i.href = n),
            (i.style.display = "none"),
            document.body.appendChild(i),
            i.click(),
            setTimeout(function () {
              document.body.removeChild(i), window.URL.revokeObjectURL(n);
            });
        }
      }),
      (DayPilot.Util.monitor = function (e, t, n) {
        var i = e[t];
        e[t] = function () {
          n.apply(e, arguments), i.apply(e, arguments);
        };
      }),
      (DayPilot.Util.isTransparentColor = function (e) {
        return "transparent" === e || "rgba(0, 0, 0, 0)" === e;
      }),
      (DayPilot.Util.stripTags = function (e) {
        if (DayPilot.Util.isNullOrUndefined(e)) return e;
        if ("string" == typeof e) return e.replace(/<(?:.|\n)*?>/gm, "");
        throw new DayPilot.Exception("Unable to strip tags from a non-string");
      }),
      (DayPilot.Util.escapeHtml = function (e) {
        var t = document.createElement("div");
        return (t.innerText = e), t.innerHTML;
      }),
      (DayPilot.Util.escapeTextHtml = function (e, t) {
        return DayPilot.Util.isNullOrUndefined(t)
          ? DayPilot.Util.isNullOrUndefined(e)
            ? ""
            : DayPilot.Util.escapeHtml(e)
          : t;
      }),
      (DayPilot.Util.isSameEvent = function (e, t) {
        return (
          !(!e || !t) &&
          ((e = e instanceof DayPilot.Event || e.isEvent ? e.data : e),
          (t = t instanceof DayPilot.Event || t.isEvent ? t.data : t),
          e === t ||
            (!DayPilot.Util.isNullOrUndefined(e.id) && e.id === t.id) ||
            (!(
              !DayPilot.Util.isNullOrUndefined(e.id) ||
              DayPilot.Util.isNullOrUndefined(e.recurrentMasterId)
            ) &&
              e.recurrentMasterId === t.recurrentMasterId &&
              new DayPilot.Date(e.start) === new DayPilot.Date(t.start)))
        );
      }),
      (DayPilot.Util.isReactComponent = function (e) {
        if (!e) return !1;
        var t = "function" == typeof Symbol && Symbol.for,
          n = (t && Symbol.for("react.element")) || 60103,
          i = (t && Symbol.for("react.transitional.element")) || null,
          a = e.$$typeof;
        return a === n || a === i || 60103 === a;
      }),
      (DayPilot.Util.isVueComponent = function (e) {
        return e && "function" == typeof e.render;
      }),
      (DayPilot.Util.isVueVNode = function (e) {
        return (
          !!e &&
          (DayPilot.isArray(e)
            ? DayPilot.Util.isVueVNode(e[0])
            : e["__v_isVNode"])
        );
      }),
      (DayPilot.Util.fontString = function (e) {
        return (e.style + " " + e.size + " " + e.family).trim();
      }),
      (DayPilot.Util.fontHeight = function (e) {
        var t = DayPilot.Util.fontString(e);
        if ("number" != typeof DayPilot.Util.fontHeight.cache[t]) {
          var n = document.createElement("div");
          (n.style.position = "fixed"),
            (n.style.left = "-2000px;"),
            (n.style.top = "-2000px"),
            (n.style.padding = "0px"),
            (n.style.font = t),
            (n.innerText = "X"),
            document.body.appendChild(n),
            (DayPilot.Util.fontHeight.cache[t] = new DayPilot.StyleReader(
              n
            ).getPx("height")),
            document.body.removeChild(n);
        }
        return DayPilot.Util.fontHeight.cache[t];
      }),
      (DayPilot.Util.fontHeight.cache = {}),
      (DayPilot.Areas = {}),
      (DayPilot.Areas.attach = function (t, n, i) {
        i = i || {};
        var a = i.areas,
          r =
            i.allowed ||
            function () {
              return !0;
            },
          o = i.offsetX || 0;
        (a = e(n, a)),
          a &&
            DayPilot.isArray(a) &&
            0 !== a.length &&
            (DayPilot.re(t, "mousemove", function (e) {
              t.active ||
                t.areasDisabled ||
                !r() ||
                DayPilot.Areas.showAreas(t, n, e, a, {
                  offsetX: o,
                  eventDiv: i.eventDiv,
                });
            }),
            DayPilot.re(t, "mouseleave", function (e) {
              DayPilot.Areas.hideAreas(t, e);
            }),
            DayPilot.list(a).forEach(function (e) {
              if (DayPilot.Areas.isVisible(e)) {
                var a = DayPilot.Areas.createArea(t, n, e, {
                  offsetX: o,
                  eventDiv: i.eventDiv,
                });
                t.appendChild(a);
              }
            }));
      }),
      (DayPilot.Areas.disable = function (e) {
        (e.areasDisabled = !0),
          DayPilot.list(e.childNodes)
            .filter(function (e) {
              return e.isActiveArea && !e.area.start;
            })
            .forEach(function (e) {
              (e.k = e.style.display), (e.style.display = "none");
            });
      }),
      (DayPilot.Areas.enable = function (e) {
        (e.areasDisabled = !1),
          DayPilot.list(e.childNodes)
            .filter(function (e) {
              return e.isActiveArea && !e.area.start;
            })
            .forEach(function (e) {
              e.k ? (e.style.display = e.k) : (e.style.display = "");
            });
      }),
      (DayPilot.Areas.remove = function (e) {
        var t = DayPilot.list(e.childNodes).filter(function (e) {
          return e.isActiveArea;
        });
        DayPilot.de(t);
      }),
      (DayPilot.Areas.isVisible = function (e) {
        var t = e.visibility || e.v || "Visible";
        return (
          "Visible" === t || ("TouchVisible" === t && !DayPilot.browser.hover)
        );
      }),
      (DayPilot.Areas.copy = function (e) {
        return DayPilot.isArray(e)
          ? e.map(function (e) {
              return DayPilot.Util.copyProps(e, {});
            })
          : [];
      }),
      (DayPilot.Areas.resolvePosition = function (e, t, n, i) {
        var a = DayPilot.Areas.copy(e),
          r = t;
        return (
          a.forEach(function (e) {
            e.start &&
              (e.left = r.getPixels(new DayPilot.Date(e.start)).left - n),
              "number" == typeof e.offsetX && (e.left += e.offsetX),
              e.end &&
                (e.right = n + i - r.getPixels(new DayPilot.Date(e.end)).left);
          }),
          a
        );
      }),
      (DayPilot.Areas.showAreas = function (e, t, n, i, a) {
        if (
          !(
            DayPilot.Global.resizing ||
            DayPilot.Global.moving ||
            DayPilot.Global.selecting ||
            e.active
          )
        ) {
          if (DayPilot.Areas.all && DayPilot.Areas.all.length > 0)
            for (var r = 0; r < DayPilot.Areas.all.length; r++) {
              var o = DayPilot.Areas.all[r];
              o !== e && DayPilot.Areas.hideAreas(o, n);
            }
          if (
            ((e.active = {}),
            DayPilot.isArray(i) ||
              ((i = t.areas),
              i ||
                (t.cache ? (i = t.cache.areas) : t.data && (i = t.data.areas))),
            i && 0 !== i.length && !(e.areas && e.areas.length > 0))
          ) {
            e.areas = [];
            for (var r = 0; r < i.length; r++) {
              var l = i[r];
              if (!DayPilot.Areas.isVisible(l)) {
                var s = DayPilot.Areas.createArea(e, t, l, a);
                e.areas.push(s), e.appendChild(s), DayPilot.Areas.all.push(e);
              }
            }
            e.active.children = DayPilot.ac(e);
          }
        }
      }),
      (DayPilot.Areas.createArea = function (e, t, n, i) {
        function a(e, t, n) {
          var i = {};
          return (
            (i.area = e),
            (i.source = t),
            (i.originalEvent = n),
            (i.preventDefault = function () {
              i.preventDefault.value = !0;
            }),
            "function" == typeof e.onClick && e.onClick(i),
            i
          );
        }
        function r(e, t, n) {
          DayPilot.Bubble && DayPilot.Bubble.touchPosition(n),
            e.calendar.bubble && e.calendar.bubble.showEvent(e, !0);
        }
        function o(e, t, n, i) {
          DayPilot.Menu && DayPilot.Menu.touchPosition(i);
          var a = n.contextMenu || n.menu;
          if (
            (a instanceof DayPilot.Menu ||
              ("string" == typeof a
                ? (a = DayPilot.Util.evalVariable(a))
                : t.isEvent && t.client.contextMenu()
                ? (a = t.client.contextMenu())
                : t.isEvent && t.calendar.contextMenu
                ? (a = DayPilot.Util.evalVariable(t.calendar.contextMenu))
                : t.isRow &&
                  t.calendar.contextMenuResource &&
                  (a = DayPilot.Util.evalVariable(
                    t.calendar.contextMenuResource
                  ))),
            a && a.show)
          ) {
            var r = { type: "area", div: e, e: t, area: n, a: d };
            a.show(t, { initiator: r });
          }
        }
        function l(e) {
          return "string" == typeof e
            ? e
            : "number" == typeof e
            ? e + "px"
            : void 0;
        }
        i = i || {};
        var s = i.eventDiv || e,
          d = document.createElement("div");
        (d.isActiveArea = !0), (d.area = n);
        var c = n.w || n.width,
          u = n.h || n.height,
          h = n.cssClass || n.css || n.className;
        "undefined" != typeof n.style && d.setAttribute("style", n.style),
          (d.style.position = "absolute"),
          (d.style.overflow = "hidden"),
          (d.style.width = l(c)),
          (d.style.height = l(u)),
          (d.style.right = l(n.right)),
          (d.style.top = l(n.top)),
          (d.style.left = l(n.left)),
          (d.style.bottom = l(n.bottom)),
          (d.style.borderRadius = l(n.borderRadius)),
          n.id && (d.id = n.id);
        var f = !DayPilot.Util.isNullOrUndefined(n.html),
          v = !DayPilot.Util.isNullOrUndefined(n.text);
        if (f || v) d.innerHTML = DayPilot.Util.escapeTextHtml(n.text, n.html);
        else if (n.icon) {
          var p = document.createElement("i");
          (p.className = n.icon), d.appendChild(p);
        } else if (n.image) {
          var m = document.createElement("img");
          (m.src = n.image), d.appendChild(m);
        } else if (n.symbol) {
          var g = "http://www.w3.org/2000/svg",
            b = document.createElementNS(g, "svg");
          b.setAttribute("width", "100%"), b.setAttribute("height", "100%");
          var y = document.createElementNS(g, "use");
          y.setAttribute("href", n.symbol), b.appendChild(y), d.appendChild(b);
        }
        if (
          (h && (d.className = h),
          n.toolTip && d.setAttribute("title", n.toolTip),
          n.backColor && (d.style.background = n.backColor),
          n.background && (d.style.background = n.background),
          n.fontColor && (d.style.color = n.fontColor),
          n.padding &&
            ((d.style.padding = n.padding + "px"),
            (d.style.boxSizing = "border-box")),
          n.borderColor)
        ) {
          var w = n.borders;
          w
            ? (w.top && (d.style.borderTop = "1px solid " + n.borderColor),
              w.right && (d.style.borderRight = "1px solid " + n.borderColor),
              w.bottom && (d.style.borderBottom = "1px solid " + n.borderColor),
              w.left && (d.style.borderLeft = "1px solid " + n.borderColor))
            : (d.style.border = "1px solid " + n.borderColor),
            (d.style.boxSizing = "border-box");
        }
        if (n.verticalAlignment)
          switch (((d.style.display = "flex"), n.verticalAlignment)) {
            case "center":
              d.style.alignItems = "center";
              break;
            case "top":
              d.style.alignItems = "flex-start";
              break;
            case "bottom":
              d.style.alignItems = "flex-end";
          }
        if (n.horizontalAlignment)
          switch (((d.style.display = "flex"), n.horizontalAlignment)) {
            case "right":
              d.style.justifyContent = "flex-end";
              break;
            case "left":
              d.style.justifyContent = "flex-start";
              break;
            case "center":
              d.style.justifyContent = "center";
          }
        if (
          "ResizeEnd" === n.action ||
          "ResizeStart" === n.action ||
          "Move" === n.action
        ) {
          if (t.calendar.isCalendar)
            switch (n.action) {
              case "ResizeEnd":
                (n.cursor = "s-resize"), (n.dpBorder = "bottom");
                break;
              case "ResizeStart":
                (n.cursor = "n-resize"), (n.dpBorder = "top");
                break;
              case "Move":
                n.cursor = "move";
            }
          if (t.calendar.isScheduler || t.calendar.isMonth)
            switch (n.action) {
              case "ResizeEnd":
                (n.cursor = "e-resize"), (n.dpBorder = "right");
                break;
              case "ResizeStart":
                (n.cursor = "w-resize"), (n.dpBorder = "left");
                break;
              case "Move":
                n.cursor = "move";
            }
          (d.onmousemove = (function (e, t, n) {
            return function (i) {
              (t.calendar.internal &&
                t.calendar.internal.dragInProgress &&
                t.calendar.internal.dragInProgress()) ||
                ((i.cancelBubble = !0),
                (e.style.cursor = n.cursor),
                n.dpBorder && (e.dpBorder = n.dpBorder));
            };
          })(s, t, n)),
            (d.onmouseout = (function (e, t, n) {
              return function () {
                e.style.cursor = "";
              };
            })(s, t, n));
        }
        if (
          ("ResizeEnd" === n.action || "ResizeStart" === n.action) &&
          t.isEvent &&
          t.calendar.internal.touch
        ) {
          var x = (function (e, t, n) {
            return function (i) {
              i.cancelBubble = !0;
              var a = t.calendar.internal.touch,
                r = i.touches ? i.touches[0] : i,
                o = { x: r.pageX, y: r.pageY };
              (t.calendar.coords = a.relativeCoords(i)),
                (a.preventEventTap = !0),
                t.calendar.isScheduler
                  ? a.startResizing(
                      e,
                      "ResizeEnd" === n.action ? "right" : "left"
                    )
                  : t.calendar.isCalendar &&
                    a.startResizing(
                      e,
                      "ResizeEnd" === n.action ? "bottom" : "top",
                      o
                    );
            };
          })(s, t, n);
          DayPilot.rePassive(d, DayPilot.touch.start, x);
        }
        if (
          "ContextMenu" === n.action &&
          t.isEvent &&
          t.calendar.internal.touch
        ) {
          var x = (function (e, t, n) {
              return function (i) {
                (i.cancelBubble = !0),
                  i.preventDefault(),
                  o(e, t, n, i),
                  (t.calendar.internal.touch.preventEventTap = !0);
              };
            })(s, t, n),
            k = (function (e, t, n) {
              return function (e) {
                (e.cancelBubble = !0), e.preventDefault();
              };
            })(s, t, n);
          DayPilot.reNonPassive(d, DayPilot.touch.start, x),
            DayPilot.reNonPassive(d, DayPilot.touch.end, k);
        }
        if ("Bubble" === n.action && t.isEvent && t.calendar.internal.touch) {
          var x = (function (e, t, n) {
              return function (e) {
                (e.cancelBubble = !0), e.preventDefault();
                var i = a(n, t, e);
                if (!i.preventDefault.value) {
                  r(t, n, e);
                  (t.calendar.internal.touch.preventEventTap = !0),
                    "function" == typeof n.onClicked && n.onClicked(i);
                }
              };
            })(s, t, n),
            k = (function (e, t, n) {
              return function (e) {
                (e.cancelBubble = !0), e.preventDefault();
              };
            })(s, t, n);
          DayPilot.reNonPassive(d, DayPilot.touch.start, x),
            DayPilot.reNonPassive(d, DayPilot.touch.end, k);
        }
        if ("Move" === n.action && t.isEvent && t.calendar.internal.touch) {
          var x = (function (e, t, n) {
            return function (n) {
              n.cancelBubble = !0;
              var i = t.calendar.internal.touch,
                a = n.touches ? n.touches[0] : n,
                r = { x: a.pageX, y: a.pageY };
              (t.calendar.coords = i.relativeCoords(n)),
                DayPilot.Global &&
                  DayPilot.Global.touch &&
                  (DayPilot.Global.touch.active = !0),
                (i.preventEventTap = !0),
                i.startMoving(e, r);
            };
          })(s, t, n);
          DayPilot.rePassive(d, DayPilot.touch.start, x);
        }
        if (
          ("Move" === n.action && t.isRow && t.calendar.internal.touch,
          (n.bubble || "Bubble" === n.action) && t.isEvent
            ? ((d.onmousemove = (function (e, t, n) {
                return function (e) {
                  (e.preventBubbleActivation = !0),
                    DayPilot.Bubble && DayPilot.Bubble.cancelShowing(),
                    n.bubble
                      ? n.bubble.showEvent(t, !0)
                      : t.calendar.bubble && t.calendar.bubble.showEvent(t, !0);
                };
              })(e, t, n)),
              (d.onmouseout = (function (e, t, n) {
                return function () {
                  "undefined" != typeof DayPilot.Bubble &&
                    (n.bubble
                      ? n.bubble.hideOnMouseOut()
                      : t.calendar.bubble &&
                        t.calendar.bubble.hideOnMouseOut());
                };
              })(e, t, n)))
            : (n.bubble || "Bubble" === n.action) && t.isRow
            ? ((d.onmousemove = (function (e, t, n) {
                return function (e) {
                  "undefined" != typeof DayPilot.Bubble &&
                    DayPilot.Bubble.mousePosition(e),
                    "undefined" != typeof DayPilot.Menu &&
                      DayPilot.Menu.mousePosition(e),
                    e.stopPropagation(),
                    n.bubble
                      ? n.bubble.showResource(t, !1, d)
                      : t.calendar.resourceBubble &&
                        t.calendar.resourceBubble.showResource(t, !1, d);
                };
              })(e, t, n)),
              (d.onmouseout = (function (e, t, n) {
                return function () {
                  "undefined" != typeof DayPilot.Bubble &&
                    (n.bubble
                      ? n.bubble.hideOnMouseOut()
                      : t.calendar.resourceBubble &&
                        t.calendar.resourceBubble.hideOnMouseOut());
                };
              })(e, t, n)))
            : "undefined" != typeof DayPilot.Bubble &&
              n.bubble instanceof DayPilot.Bubble &&
              ((d.onmousemove = (function (e, t, n) {
                return function () {
                  n.bubble.showHtml(null, d);
                };
              })(e, t, n)),
              (d.onmouseout = (function (e, t, n) {
                return function () {
                  "undefined" != typeof DayPilot.Bubble &&
                    n.bubble &&
                    n.bubble.hideOnMouseOut();
                };
              })(e, t, n))),
          "HoverMenu" === n.action &&
            ((d.onmousemove = (function (e, t, n) {
              return function () {
                var e = n.menu;
                "string" == typeof e && (e = DayPilot.Util.evalVariable(e)),
                  e &&
                    e.show &&
                    (e.visible
                      ? e.source &&
                        "undefined" != typeof e.source.id &&
                        e.source.id !== t.id &&
                        e.show(t)
                      : e.show(t),
                    e.cancelHideTimeout());
              };
            })(e, t, n)),
            (d.onmouseout = (function (e, t, n) {
              return function () {
                var e = n.menu;
                "string" == typeof e && (e = DayPilot.Util.evalVariable(e)),
                  e && e.hideOnMouseOver && e.delayedHide();
              };
            })(e, t, n))),
          "JavaScript" === n.action)
        ) {
          var x = (function (e, t, n) {
              return function (e) {
                DayPilot.Util.isMouseEvent(e) ||
                  (e.preventDefault(),
                  DayPilot.Global &&
                    DayPilot.Global.touch &&
                    (DayPilot.Global.touch.start = !0));
              };
            })(s, t, n),
            k = (function (e, t, n) {
              return function (e) {
                if (!DayPilot.Util.isMouseEvent(e)) {
                  (e.cancelBubble = !0),
                    e.preventDefault(),
                    DayPilot.Global &&
                      DayPilot.Global.touch &&
                      (DayPilot.Global.touch.start = !1);
                  var i = n.js;
                  if (
                    ("string" == typeof i &&
                      (i = DayPilot.Util.evalFunction(n.js)),
                    "function" == typeof i)
                  ) {
                    var a = n.target || t;
                    i.call(this, a);
                  }
                }
              };
            })(s, t, n);
          DayPilot.reNonPassive(d, DayPilot.touch.start, x),
            DayPilot.reNonPassive(d, DayPilot.touch.end, k);
        }
        if ("None" === n.action) {
          var x = (function (e, t, n) {
            return function (e) {
              var i = a(n, t, e);
              "function" == typeof n.onClicked && n.onClicked(i),
                e.preventDefault(),
                e.stopPropagation();
            };
          })(s, t, n);
          DayPilot.reNonPassive(d, DayPilot.touch.start, x);
        }
        if (
          ((d.onmousedown = (function (e, t, n) {
            return function (i) {
              if (
                ("function" == typeof n.onmousedown && n.onmousedown(i),
                "function" == typeof n.mousedown)
              ) {
                var a = {};
                (a.area = n),
                  (a.div = e),
                  (a.originalEvent = i),
                  (a.source = t),
                  n.mousedown(a);
              }
              if ("Move" === n.action && t.isRow) {
                var r = t.$.row;
                (0, t.calendar.internal.rowStartMoving)(r);
              }
              "undefined" != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
                "Move" === n.action &&
                  (DayPilot.Global.movingAreaData = n.data),
                ("ResizeEnd" !== n.action && "ResizeStart" !== n.action) ||
                  (DayPilot.Global.resizingAreaData = n.data),
                "Move" === n.action &&
                  t.isEvent &&
                  t.calendar.internal &&
                  t.calendar.internal.startMoving &&
                  t.calendar.internal.startMoving(e, i);
              "Move" !== n.action &&
                "ResizeEnd" !== n.action &&
                "ResizeStart" !== n.action &&
                n.action &&
                "Default" !== n.action &&
                (i.preventDefault(), (i.cancelBubble = !0));
            };
          })(e, t, n)),
          (d.onclick = (function (e, t, n) {
            return function (i) {
              var r = a(n, t, i);
              if (!r.preventDefault.value) {
                switch (n.action) {
                  case "JavaScript":
                    var l = n.js;
                    if (
                      ("string" == typeof l &&
                        (l = DayPilot.Util.evalFunction(n.js)),
                      "function" == typeof l)
                    ) {
                      var s = n.target || t;
                      l.call(this, s);
                    }
                    i.cancelBubble = !0;
                    break;
                  case "ContextMenu":
                    o(e, t, n, i), (i.cancelBubble = !0);
                    break;
                  case "CallBack":
                    alert("callback not implemented yet, id: " + n.id),
                      (i.cancelBubble = !0);
                    break;
                  case "None":
                    i.cancelBubble = !0;
                }
                "function" == typeof n.onClicked && n.onClicked(r);
              }
            };
          })(e, t, n)),
          "function" == typeof n.onMouseEnter &&
            d.addEventListener(
              "mouseenter",
              (function (e, t, n) {
                return function (e) {
                  var i = {};
                  (i.area = n),
                    (i.source = t),
                    (i.originalEvent = e),
                    n.onMouseEnter(i);
                };
              })(e, t, n)
            ),
          "function" == typeof n.onMouseLeave &&
            d.addEventListener(
              "mouseleave",
              (function (e, t, n) {
                return function (e) {
                  var i = {};
                  (i.area = n),
                    (i.source = t),
                    (i.originalEvent = e),
                    n.onMouseLeave(i);
                };
              })(e, t, n)
            ),
          "function" == typeof n.onAfterRender)
        ) {
          var C = {};
          (C.div = d), (C.area = n), n.onAfterRender(C);
        }
        return d;
      }),
      (DayPilot.Areas.all = []),
      (DayPilot.Areas.hideAreas = function (e, t) {
        if (e && e && e.active) {
          var n = e.active,
            i = e.areas;
          if (n && n.children && t) {
            var a = t.toElement || t.relatedTarget;
            if (~DayPilot.indexOf(n.children, a)) return;
          }
          if (!i || 0 === i.length) return void (e.active = null);
          DayPilot.de(i),
            (e.active = null),
            (e.areas = []),
            DayPilot.rfa(DayPilot.Areas.all, e),
            (n.children = null);
        }
      }),
      (DayPilot.Areas.hideAll = function (e) {
        if (DayPilot.Areas.all && 0 !== DayPilot.Areas.all.length)
          for (var t = 0; t < DayPilot.Areas.all.length; t++)
            DayPilot.Areas.hideAreas(DayPilot.Areas.all[t], e);
      }),
      (DayPilot.Action = function (e, t, n, i) {
        var a = this;
        (this.calendar = e),
          (this.isAction = !0),
          (this.action = t),
          (this.params = n),
          (this.data = i),
          (this.notify = function () {
            a.calendar.internal.invokeEvent(
              "Immediate",
              this.action,
              this.params,
              this.data
            );
          }),
          (this.auto = function () {
            a.calendar.internal.invokeEvent(
              "Notify",
              this.action,
              this.params,
              this.data
            );
          }),
          (this.queue = function () {
            a.calendar.queue.add(this);
          }),
          (this.toJSON = function () {
            var e = {};
            return (
              (e.name = this.action),
              (e.params = this.params),
              (e.data = this.data),
              e
            );
          });
      }),
      (DayPilot.Selection = function (e, t, n, i) {
        (this.menuType = "selection"),
          (this.start = new DayPilot.Date(e)),
          (this.end = new DayPilot.Date(t)),
          (this.resource = n),
          (this.root = i),
          (this.calendar = i),
          (this.toJSON = function () {
            var e = {};
            return (
              (e.start = this.start),
              (e.end = this.end),
              (e.resource = this.resource),
              e
            );
          });
      }),
      (DayPilot.Link = function (e, t) {
        (this.isLink = !0),
          (this.data = e),
          (this.calendar = t),
          (this.to = function () {
            return this.data.to;
          }),
          (this.from = function () {
            return this.data.from;
          }),
          (this.type = function () {
            return this.data.type;
          }),
          (this.id = function () {
            return this.data.id;
          }),
          (this.toJSON = function () {
            var e = {};
            return (
              (e.from = this.data.from),
              (e.to = this.data.to),
              (e.id = this.data.id),
              (e.type = this.data.type),
              e
            );
          });
      }),
      (DayPilot.Event = function (e, t, n) {
        var i = this;
        (this.calendar = t),
          (this.data = e ? e : {}),
          (this.part = n ? n : {}),
          "undefined" == typeof this.data.id &&
            (this.data.id = this.data.value);
        var a = {},
          r = ["id", "text", "start", "end", "resource"];
        (this.isEvent = !0),
          (DayPilot.Stats.eventObjects += 1),
          (this.temp = function () {
            if (a.dirty) return a;
            for (var e = 0; e < r.length; e++) a[r[e]] = i.data[r[e]];
            return (a.dirty = !0), a;
          }),
          (this.copy = function () {
            var e = {};
            return DayPilot.Util.copyProps(i.data, e), e;
          }),
          (this.commit = function () {
            if (a.dirty) {
              for (var e = 0; e < r.length; e++) i.data[r[e]] = a[r[e]];
              "function" == typeof i.data.commitCallback &&
                i.data.commitCallback(),
                (a.dirty = !1);
            }
          }),
          (this.dirty = function () {
            return a.dirty;
          }),
          (this.id = function (e) {
            return "undefined" == typeof e
              ? i.data.id
              : void (this.temp().id = e);
          }),
          (this.value = function (e) {
            return "undefined" == typeof e ? i.id() : void i.id(e);
          }),
          (this.text = function (e) {
            if ("undefined" == typeof e) return i.data.text;
            this.temp().text = e;
            var t = DayPilot.Util.escapeHtml(e);
            this.client.innerHTML(t);
          }),
          (this.start = function (e) {
            return "undefined" == typeof e
              ? new DayPilot.Date(i.data.start)
              : void (this.temp().start = new DayPilot.Date(e));
          }),
          (this.end = function (e) {
            return "undefined" == typeof e
              ? t && t.internal.adjustEndNormalize
                ? t.internal.adjustEndNormalize(new DayPilot.Date(i.data.end))
                : new DayPilot.Date(i.data.end)
              : void (this.temp().end = new DayPilot.Date(e));
          }),
          (this.duration = function () {
            return new DayPilot.Duration(this.start(), this.end());
          }),
          (this.rawend = function (e) {
            if ("undefined" == typeof e)
              return t && t.internal.adjustEndIn
                ? t.internal.adjustEndIn(new DayPilot.Date(i.data.end))
                : new DayPilot.Date(i.data.end);
            throw new DayPilot.Exception("DayPilot.Event.rawend() is readonly");
          }),
          (this.partStart = function () {
            return new DayPilot.Date(this.part.start);
          }),
          (this.partEnd = function () {
            return new DayPilot.Date(this.part.end);
          }),
          (this.row = function () {
            return this.resource();
          }),
          (this.allday = function (e) {
            return "undefined" == typeof e
              ? i.data.allday
              : void (this.temp().allday = e);
          }),
          (this.isAllDay = this.allday),
          (this.resource = function (e) {
            return "undefined" == typeof e
              ? i.data.resource
              : void (this.temp().resource = e);
          }),
          (this.recurrent = function () {
            return i.data.recurrent;
          }),
          (this.recurrentMasterId = function () {
            return i.data.recurrentMasterId;
          }),
          (this.useBox = function () {
            return this.part.box;
          }),
          (this.staticBubbleHTML = function () {
            return this.bubbleHtml();
          }),
          (this.bubbleHtml = function () {
            return i.cache
              ? i.cache.bubbleHtml || i.data.bubbleHtml
              : i.data.bubbleHtml;
          }),
          (this.tag = function (e) {
            if (i.data.tags) return i.data.tags[e];
            var t = i.data.tag;
            if (!t) return null;
            if ("undefined" == typeof e) return i.data.tag;
            for (var n = i.calendar.tagFields, a = -1, r = 0; r < n.length; r++)
              e === n[r] && (a = r);
            if (a === -1) throw "Field name not found.";
            return t[a];
          }),
          (this.client = {}),
          (this.client.innerHTML = function (e) {
            if ("undefined" == typeof e) {
              var t = i.cache || i.data,
                n =
                  i.calendar &&
                  i.calendar.internal &&
                  i.calendar.internal.xssTextHtml;
              return n
                ? n(t.text, t.html)
                : DayPilot.Util.escapeTextHtml(t.text, t.html);
            }
            (i.data.html = e), i.cache && (i.cache.html = e);
          }),
          (this.client.html = this.client.innerHTML),
          (this.client.header = function (e) {
            return "undefined" == typeof e
              ? i.data.header
              : void (i.data.header = e);
          }),
          (this.client.cssClass = function (e) {
            return "undefined" == typeof e
              ? i.data.cssClass
              : void (i.data.cssClass = e);
          }),
          (this.client.toolTip = function (e) {
            if ("undefined" == typeof e) {
              var t = null;
              return (t =
                i.cache && "undefined" != typeof i.cache.toolTip
                  ? i.cache.toolTip
                  : "undefined" != typeof i.data.toolTip
                  ? i.data.toolTip
                  : i.data.text);
            }
            i.data.toolTip = e;
          }),
          (this.client.backColor = function (e) {
            return "undefined" == typeof e
              ? i.cache && "undefined" != typeof i.cache.backColor
                ? i.cache.backColor
                : "undefined" != typeof i.data.backColor
                ? i.data.backColor
                : i.calendar.eventBackColor
              : void (i.data.backColor = e);
          }),
          (this.client.borderColor = function (e) {
            return "undefined" == typeof e
              ? i.cache && "undefined" != typeof i.cache.borderColor
                ? i.cache.borderColor
                : "undefined" != typeof i.data.borderColor
                ? i.data.borderColor
                : i.calendar.eventBorderColor
              : void (i.data.borderColor = e);
          }),
          (this.client.barColor = function (e) {
            return "undefined" == typeof e
              ? i.cache && "undefined" != typeof i.cache.barColor
                ? i.cache.barColor
                : "undefined" != typeof i.data.barColor
                ? i.data.barColor
                : i.calendar.durationBarColor
              : void (i.data.barColor = e);
          }),
          (this.client.barVisible = function (e) {
            return "undefined" == typeof e
              ? i.cache && "undefined" != typeof i.cache.barHidden
                ? !i.cache.barHidden
                : i.calendar.durationBarVisible && !i.data.barHidden
              : void (i.data.barHidden = !e);
          }),
          (this.client.contextMenu = function (e) {
            if ("undefined" == typeof e) {
              if (i.oContextMenu) return i.oContextMenu;
              var t = i.cache ? i.cache.contextMenu : i.data.contextMenu;
              return t ? DayPilot.Util.evalVariable(t) : null;
            }
            i.oContextMenu = e;
          }),
          (this.client.moveEnabled = function (e) {
            return "undefined" == typeof e
              ? i.cache && "undefined" != typeof i.cache.moveDisabled
                ? !i.cache.moveDisabled
                : "Disabled" !== i.calendar.eventMoveHandling &&
                  !i.data.moveDisabled
              : void (i.data.moveDisabled = !e);
          }),
          (this.client.resizeEnabled = function (e) {
            return "undefined" == typeof e
              ? "Milestone" !== i.data.type &&
                  (i.cache && "undefined" != typeof i.cache.resizeDisabled
                    ? !i.cache.resizeDisabled
                    : "Disabled" !== i.calendar.eventResizeHandling &&
                      !i.data.resizeDisabled)
              : void (i.data.resizeDisabled = !e);
          }),
          (this.client.rightClickEnabled = function (e) {
            return "undefined" == typeof e
              ? i.cache && "undefined" != typeof i.cache.rightClickDisabled
                ? !i.cache.rightClickDisabled
                : "Disabled" !== i.calendar.eventRightClickHandling &&
                  !i.data.rightClickDisabled
              : void (i.data.rightClickDisabled = !e);
          }),
          (this.client.clickEnabled = function (e) {
            return "undefined" == typeof e
              ? i.cache && "undefined" != typeof i.cache.clickDisabled
                ? !i.cache.clickDisabled
                : "Disabled" !== i.calendar.eventClickHandling &&
                  !i.data.clickDisabled
              : void (i.data.clickDisabled = !e);
          }),
          (this.client.deleteEnabled = function (e) {
            return "undefined" == typeof e
              ? i.cache && "undefined" != typeof i.cache.deleteDisabled
                ? !i.cache.deleteDisabled
                : "Disabled" !== i.calendar.eventDeleteHandling &&
                  !i.data.deleteDisabled
              : void (i.data.deleteDisabled = !e);
          }),
          (this.client.doubleClickEnabled = function (e) {
            return "undefined" == typeof e
              ? i.cache && "undefined" != typeof i.cache.doubleClickDisabled
                ? !i.cache.doubleClickDisabled
                : "Disabled" !== i.calendar.eventDoubleClickHandling &&
                  !i.data.doubleClickDisabled
              : void (i.data.doubleClickDisabled = !e);
          }),
          (this.client.deleteClickEnabled = function (e) {
            return "undefined" == typeof e
              ? i.cache && "undefined" != typeof i.cache.deleteDisabled
                ? !i.cache.deleteDisabled
                : "Disabled" !== i.calendar.eventDeleteHandling &&
                  !i.data.deleteDisabled
              : void (i.data.deleteDisabled = !e);
          }),
          (this.toJSON = function () {
            var e = {};
            if (
              ((e.value = this.id()),
              (e.id = this.id()),
              (e.text = this.text()),
              (e.start = this.start().toJSON()),
              (e.end = this.end().toJSON()),
              (e.resource = this.resource()),
              (e.isAllDay = !1),
              (e.recurrentMasterId = this.recurrentMasterId()),
              (e.join = this.data.join),
              (e.tag = {}),
              i.data.tags)
            )
              for (
                var t = 0, n = Object.entries(i.data.tags || {});
                t < n.length;
                t++
              ) {
                var a = n[t],
                  r = a[0],
                  o = a[1];
                e.tag[r] = String(o);
              }
            else if (i.calendar && i.calendar.tagFields)
              for (var l = i.calendar.tagFields, s = 0; s < l.length; s++)
                e.tag[l[s]] = this.tag(l[s]);
            return e;
          });
      }),
      (DayPilot.Task = function (e, t) {
        if (!e)
          throw "Trying to initialize DayPilot.Task with null data parameter";
        var n = this,
          i = null;
        if (e instanceof DayPilot.Event) (i = e), (this.data = e.data.task);
        else {
          if (e instanceof DayPilot.Task) return e;
          e.isTaskWrapper ? (this.data = e.data) : (this.data = e);
        }
        var a = {},
          r = ["id", "text", "start", "end", "complete", "type"];
        (this.isTask = !0),
          (this.calendar = t),
          (this.temp = function () {
            if (a.dirty) return a;
            for (var e = 0; e < r.length; e++) a[r[e]] = n.data[r[e]];
            return (a.dirty = !0), a;
          }),
          (this.copy = function () {
            var e = {};
            return DayPilot.Util.copyProps(n.data, e), e;
          }),
          (this.commit = function () {
            if (a.dirty) {
              for (var e = 0; e < r.length; e++) n.data[r[e]] = a[r[e]];
              a.dirty = !1;
            }
          }),
          (this.dirty = function () {
            return a.dirty;
          }),
          (this.id = function (e) {
            return "undefined" == typeof e
              ? n.data.id
              : void (this.temp().id = e);
          }),
          (this.text = function (e) {
            if ("undefined" == typeof e) return n.data.text;
            this.temp().text = e;
            var t = DayPilot.Util.escapeHtml(e);
            this.client.innerHTML(t);
          }),
          (this.start = function (e) {
            return "undefined" == typeof e
              ? new DayPilot.Date(n.data.start)
              : void (this.temp().start = new DayPilot.Date(e));
          }),
          (this.duration = function () {
            return new DayPilot.Duration(this.start(), this.end());
          }),
          (this.end = function (e) {
            return "undefined" == typeof e
              ? t && "Date" === t.taskEndSpec && "Milestone" !== n.type()
                ? new DayPilot.Date(n.data.end).getDatePart().addDays(1)
                : new DayPilot.Date(n.data.end)
              : void (this.temp().end = new DayPilot.Date(e));
          }),
          (this.type = function (e) {
            return "undefined" == typeof e
              ? i
                ? i.data.type || "Task"
                : n.data.type
              : void (this.temp().type = e);
          }),
          (this.complete = function (e) {
            return "undefined" == typeof e
              ? n.data.complete
                ? n.data.complete
                : 0
              : void (this.temp().complete = e);
          }),
          (this.children = function () {
            var e = [];
            e.add = function (e) {
              var t = new DayPilot.Task(e);
              this.data.children || (this.data.children = []),
                this.children.push(t.data);
            };
            for (
              var n = 0;
              this.data.children && n < this.data.children.length;
              n++
            )
              e.push(new DayPilot.Task(this.data.children[n], t));
            return e;
          }),
          (this.toJSON = function () {
            var e = {};
            return (
              (e.id = this.id()),
              (e.text = this.text()),
              (e.start = this.start().toJSON()),
              (e.end = this.end().toJSON()),
              (e.type = this.type()),
              (e.tags = {}),
              DayPilot.Util.copyProps(this.data.tags, e.tags),
              e
            );
          }),
          (this.row = {});
        var o = this.row;
        (o.expanded = function (e) {
          return "undefined" == typeof e
            ? !n.data.row || !n.data.row.collapsed
            : (n.data.row || (n.data.row = {}),
              !!n.data.row.collapsed != !e &&
                t.internal.rowObjectForTaskData(n.data).toggle(),
              (n.data.row.collapsed = !e),
              void 0);
        }),
          (o.expand = function () {
            o.expanded(!0);
          }),
          (o.collapse = function () {
            o.expanded(!1);
          }),
          (o.toggle = function () {
            o.expanded(!o.expanded());
          });
      }),
      (DayPilot.request = function (e, t, n, i) {
        var a = DayPilot.createXmlHttp();
        a &&
          (a.open("POST", e, !0),
          a.setRequestHeader("Content-type", "text/plain"),
          (a.onreadystatechange = function () {
            if (4 === a.readyState)
              return 200 !== a.status && 304 !== a.status
                ? void (i
                    ? i(a)
                    : window.console && console.log("HTTP error " + a.status))
                : void t(a);
          }),
          4 !== a.readyState &&
            ("object" == typeof n && (n = JSON.stringify(n)), a.send(n)));
      }),
      (DayPilot.ajax = function (e) {
        if (!e) throw new DayPilot.Exception("Parameter object required.");
        if ("string" != typeof e.url)
          throw new DayPilot.Exception(
            "The parameter object must have 'url' property."
          );
        var t = DayPilot.createXmlHttp();
        if (!t)
          throw new DayPilot.Exception(
            "Unable to create XMLHttpRequest object"
          );
        var n = "object" == typeof e.data,
          i = e.data,
          a = e.method || (e.data ? "POST" : "GET"),
          r = e.success || function () {},
          o = e.error || function () {},
          l = e.url,
          s = e.contentType || (n ? "application/json" : "text/plain"),
          d = e.headers || {};
        t.open(a, l, !0),
          t.setRequestHeader("Content-type", s),
          DayPilot.Util.ownPropsAsArray(d).forEach(function (e) {
            t.setRequestHeader(e.key, e.val);
          }),
          (t.onreadystatechange = function () {
            if (4 === t.readyState)
              if (
                200 === t.status ||
                201 === t.status ||
                204 === t.status ||
                304 === t.status
              ) {
                var e = {};
                (e.request = t),
                  t.responseText && (e.data = JSON.parse(t.responseText)),
                  r(e);
              } else if (o) {
                var n = {};
                (n.request = t), o(n);
              } else window.console && console.log("HTTP error " + t.status);
          }),
          4 !== t.readyState && (n && (i = JSON.stringify(i)), t.send(i));
      }),
      (DayPilot.createXmlHttp = function () {
        return new XMLHttpRequest();
      }),
      (DayPilot.Http = {}),
      (DayPilot.Http.ajax = function (e) {
        DayPilot.ajax(e);
      }),
      (DayPilot.Http.get = function (e, t) {
        return (
          (t = t || {}),
          new Promise(function (n, i) {
            var a = {};
            (a.url = e),
              (a.method = "GET"),
              (a.success = function (e) {
                n(e);
              }),
              (a.error = function (e) {
                i(e);
              }),
              (a.contentType = t.contentType),
              (a.headers = t.headers),
              DayPilot.ajax(a);
          })
        );
      }),
      (DayPilot.Http.post = function (e, t, n) {
        return (
          (n = n || {}),
          new Promise(function (i, a) {
            var r = {};
            (r.url = e),
              (r.method = "POST"),
              (r.data = t),
              (r.success = function (e) {
                i(e);
              }),
              (r.error = function (e) {
                a(e);
              }),
              (r.contentType = n.contentType),
              (r.headers = n.headers),
              DayPilot.ajax(r);
          })
        );
      }),
      (DayPilot.Http.put = function (e, t, n) {
        return (
          (n = n || {}),
          new Promise(function (i, a) {
            var r = {};
            (r.url = e),
              (r.method = "PUT"),
              (r.data = t),
              (r.success = function (e) {
                i(e);
              }),
              (r.error = function (e) {
                a(e);
              }),
              (r.contentType = n.contentType),
              (r.headers = n.headers),
              DayPilot.ajax(r);
          })
        );
      }),
      (DayPilot.Http.delete = function (e, t) {
        return (
          (t = t || {}),
          new Promise(function (n, i) {
            var a = {};
            (a.url = e),
              (a.method = "DELETE"),
              (a.success = function (e) {
                n(e);
              }),
              (a.error = function (e) {
                i(e);
              }),
              (a.contentType = t.contentType),
              (a.headers = t.headers),
              DayPilot.ajax(a);
          })
        );
      }),
      (DayPilot.Http.patch = function (e, t, n) {
        return (
          (n = n || {}),
          new Promise(function (i, a) {
            var r = {};
            (r.url = e),
              (r.method = "PATCH"),
              (r.data = t),
              (r.success = function (e) {
                i(e);
              }),
              (r.error = function (e) {
                a(e);
              }),
              (r.contentType = n.contentType),
              (r.headers = n.headers),
              DayPilot.ajax(r);
          })
        );
      }),
      (DayPilot.Duration = function (e) {
        var t = this,
          n = 864e5,
          i = 36e5,
          a = 6e4,
          r = 1e3;
        if (2 === arguments.length) {
          var o = arguments[0],
            l = arguments[1];
          if (!(o instanceof DayPilot.Date) && "string" != typeof o)
            throw "DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";
          if (!(l instanceof DayPilot.Date) && "string" != typeof l)
            throw "DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";
          "string" == typeof o && (o = new DayPilot.Date(o)),
            "string" == typeof l && (l = new DayPilot.Date(l)),
            (e = l.getTime() - o.getTime());
        }
        return (
          (this.ticks = e || 0),
          DayPilot.Date.Cache.DurationCtor["" + e]
            ? DayPilot.Date.Cache.DurationCtor["" + e]
            : ((DayPilot.Date.Cache.DurationCtor["" + e] = this),
              (this.toString = function (e) {
                if (!e)
                  return (
                    t.days() +
                    "." +
                    t.hours() +
                    ":" +
                    t.minutes() +
                    ":" +
                    t.seconds() +
                    "." +
                    t.milliseconds()
                  );
                var n = t.minutes();
                n = (n < 10 ? "0" : "") + n;
                var i = e;
                return (
                  (i = i.replace("mm", n)),
                  (i = i.replace("m", t.minutes())),
                  (i = i.replace("H", t.hours())),
                  (i = i.replace("h", t.hours())),
                  (i = i.replace("d", t.days())),
                  (i = i.replace("s", t.seconds()))
                );
              }),
              (this.totalHours = function () {
                return t.ticks / i;
              }),
              (this.totalDays = function () {
                return t.ticks / n;
              }),
              (this.totalMinutes = function () {
                return t.ticks / a;
              }),
              (this.totalSeconds = function () {
                return t.ticks / r;
              }),
              (this.totalMilliseconds = function () {
                return t.ticks;
              }),
              (this.days = function () {
                return Math.floor(t.totalDays());
              }),
              (this.hours = function () {
                var e = t.ticks - t.days() * n;
                return Math.floor(e / i);
              }),
              (this.minutes = function () {
                var e = t.ticks - Math.floor(t.totalHours()) * i;
                return Math.floor(e / a);
              }),
              (this.seconds = function () {
                var e = t.ticks - Math.floor(t.totalMinutes()) * a;
                return Math.floor(e / r);
              }),
              (this.milliseconds = function () {
                return t.ticks % r;
              }),
              void (this.add = function (e) {
                return new DayPilot.Duration(t.ticks + e.ticks);
              }))
        );
      }),
      (DayPilot.Duration.ofWeeks = function (e) {
        return new DayPilot.Duration(1e3 * e * 60 * 60 * 24 * 7);
      }),
      (DayPilot.Duration.ofDays = function (e) {
        return new DayPilot.Duration(1e3 * e * 60 * 60 * 24);
      }),
      (DayPilot.Duration.ofHours = function (e) {
        return new DayPilot.Duration(1e3 * e * 60 * 60);
      }),
      (DayPilot.Duration.ofMinutes = function (e) {
        return new DayPilot.Duration(1e3 * e * 60);
      }),
      (DayPilot.Duration.ofSeconds = function (e) {
        return new DayPilot.Duration(1e3 * e);
      }),
      (DayPilot.Duration.weeks = function (e) {
        return DayPilot.Duration.ofWeeks(e);
      }),
      (DayPilot.Duration.days = function (e) {
        return DayPilot.Duration.ofDays(e);
      }),
      (DayPilot.Duration.hours = function (e) {
        return DayPilot.Duration.ofHours(e);
      }),
      (DayPilot.Duration.minutes = function (e) {
        return DayPilot.Duration.ofMinutes(e);
      }),
      (DayPilot.Duration.seconds = function (e) {
        return DayPilot.Duration.ofSeconds(e);
      }),
      (DayPilot.TimeSpan = function () {
        throw "Please use DayPilot.Duration class instead of DayPilot.TimeSpan.";
      });
    try {
      DayPilot.TimeSpan.prototype = Object.create(DayPilot.Duration.prototype);
    } catch (e) {}
    (DayPilot.Date = function (e, n) {
      if (e instanceof DayPilot.Date) return e;
      var i;
      DayPilot.Util.isNullOrUndefined(e) &&
        ((i = DayPilot.DateUtil.fromLocal().getTime()), (e = i));
      var a = DayPilot.Date.Cache.Ctor;
      if (a[e]) return (DayPilot.Stats.cacheHitsCtor += 1), a[e];
      var r = !1;
      if ("string" == typeof e || e instanceof String) {
        try {
          i = DayPilot.DateUtil.fromStringSortable(e, n).getTime();
        } catch (t) {
          throw new DayPilot.Exception(
            "DayPilot.Date - Unable to parse ISO8601 date/time string: " + e
          );
        }
        r = !0;
      } else if ("number" == typeof e || e instanceof Number) {
        if (isNaN(e)) throw "Cannot create DayPilot.Date from NaN";
        i = e;
      } else {
        if (!(e instanceof Date))
          throw "Unrecognized parameter: use Date, number or string in ISO 8601 format";
        i = n ? DayPilot.DateUtil.fromLocal(e).getTime() : e.getTime();
      }
      var o = t(i);
      return a[o]
        ? a[o]
        : ((a[o] = this),
          (a[i] = this),
          r && o !== e && DayPilot.DateUtil.hasTzSpec(e) && (a[e] = this),
          Object.defineProperty
            ? (Object.defineProperty(this, "ticks", {
                get: function () {
                  return i;
                },
              }),
              Object.defineProperty(this, "value", {
                value: o,
                writable: !1,
                enumerable: !0,
              }))
            : ((this.ticks = i), (this.value = o)),
          DayPilot.Date.Config.legacyShowD && (this.d = new Date(i)),
          void (DayPilot.Stats.dateObjects += 1));
    }),
      (DayPilot.Date.Config = {}),
      (DayPilot.Date.Config.legacyShowD = !1),
      (DayPilot.Date.Cache = {}),
      (DayPilot.Date.Cache.Parsing = {}),
      (DayPilot.Date.Cache.Ctor = {}),
      (DayPilot.Date.Cache.Ticks = {}),
      (DayPilot.Date.Cache.DurationCtor = {}),
      (DayPilot.Date.Cache.clear = function () {
        (DayPilot.Date.Cache.Parsing = {}),
          (DayPilot.Date.Cache.Ctor = {}),
          (DayPilot.Date.Cache.Ticks = {}),
          (DayPilot.Date.Cache.DurationCtor = {});
      }),
      (DayPilot.Date.prototype.addDays = function (e) {
        return e
          ? new DayPilot.Date(this.ticks + 24 * e * 60 * 60 * 1e3)
          : this;
      }),
      (DayPilot.Date.prototype.addHours = function (e) {
        return e ? this.addTime(60 * e * 60 * 1e3) : this;
      }),
      (DayPilot.Date.prototype.addMilliseconds = function (e) {
        return e ? this.addTime(e) : this;
      }),
      (DayPilot.Date.prototype.addMinutes = function (e) {
        return e ? this.addTime(60 * e * 1e3) : this;
      }),
      (DayPilot.Date.prototype.addMonths = function (e) {
        if (!e) return this;
        var t = new Date(this.ticks),
          n = t.getUTCFullYear(),
          i = t.getUTCMonth() + 1;
        if (e > 0) {
          for (; e >= 12; ) (e -= 12), n++;
          e > 12 - i ? (n++, (i = e - (12 - i))) : (i += e);
        } else {
          for (; e <= -12; ) (e += 12), n--;
          i + e <= 0 ? (n--, (i = 12 + i + e)) : (i += e);
        }
        var a = new Date(t.getTime());
        a.setUTCDate(1), a.setUTCFullYear(n), a.setUTCMonth(i - 1);
        var r = new DayPilot.Date(a).daysInMonth();
        return a.setUTCDate(Math.min(r, t.getUTCDate())), new DayPilot.Date(a);
      }),
      (DayPilot.Date.prototype.addSeconds = function (e) {
        return e ? this.addTime(1e3 * e) : this;
      }),
      (DayPilot.Date.prototype.addTime = function (e) {
        return e
          ? (e instanceof DayPilot.Duration && (e = e.ticks),
            new DayPilot.Date(this.ticks + e))
          : this;
      }),
      (DayPilot.Date.prototype.addYears = function (e) {
        var t = new Date(this.ticks),
          n = new Date(this.ticks),
          i = this.getYear() + e,
          a = this.getMonth();
        n.setUTCDate(1), n.setUTCFullYear(i), n.setUTCMonth(a);
        var r = new DayPilot.Date(n).daysInMonth();
        return n.setUTCDate(Math.min(r, t.getUTCDate())), new DayPilot.Date(n);
      }),
      (DayPilot.Date.prototype.dayOfWeek = function () {
        return new Date(this.ticks).getUTCDay();
      }),
      (DayPilot.Date.prototype.dayOfWeekISO = function () {
        return new Date(this.ticks).getUTCDay() || 7;
      }),
      (DayPilot.Date.prototype.getDayOfWeek = function () {
        return new Date(this.ticks).getUTCDay();
      }),
      (DayPilot.Date.prototype.getDayOfYear = function () {
        var e = this.firstDayOfYear();
        return DayPilot.DateUtil.daysDiff(e, this) + 1;
      }),
      (DayPilot.Date.prototype.daysInMonth = function () {
        var e = new Date(this.ticks),
          t = e.getUTCMonth() + 1,
          n = e.getUTCFullYear(),
          i = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
        return 2 !== t
          ? i[t - 1]
          : n % 4 !== 0
          ? i[1]
          : n % 100 === 0 && n % 400 !== 0
          ? i[1]
          : i[1] + 1;
      }),
      (DayPilot.Date.prototype.daysInYear = function () {
        var e = this.getYear();
        return e % 4 !== 0 ? 365 : e % 100 === 0 && e % 400 !== 0 ? 365 : 366;
      }),
      (DayPilot.Date.prototype.dayOfYear = function () {
        return (
          Math.ceil(
            (this.getDatePart().getTime() - this.firstDayOfYear().getTime()) /
              864e5
          ) + 1
        );
      }),
      (DayPilot.Date.prototype.equals = function (e) {
        if (null === e) return !1;
        if (e instanceof DayPilot.Date) return this === e;
        throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";
      }),
      (DayPilot.Date.prototype.firstDayOfMonth = function () {
        var e = new Date();
        return (
          e.setUTCFullYear(this.getYear(), this.getMonth(), 1),
          e.setUTCHours(0),
          e.setUTCMinutes(0),
          e.setUTCSeconds(0),
          e.setUTCMilliseconds(0),
          new DayPilot.Date(e)
        );
      }),
      (DayPilot.Date.prototype.firstDayOfYear = function () {
        var e = this.getYear(),
          t = new Date();
        return (
          t.setUTCFullYear(e, 0, 1),
          t.setUTCHours(0),
          t.setUTCMinutes(0),
          t.setUTCSeconds(0),
          t.setUTCMilliseconds(0),
          new DayPilot.Date(t)
        );
      }),
      (DayPilot.Date.prototype.firstDayOfWeek = function (e) {
        var t = this;
        if (e instanceof DayPilot.Locale) e = e.weekStarts;
        else if ("string" == typeof e && DayPilot.Locale.find(e)) {
          var n = DayPilot.Locale.find(e);
          e = n.weekStarts;
        } else e = e || 0;
        for (var i = t.dayOfWeek(); i !== e; )
          (t = t.addDays(-1)), (i = t.dayOfWeek());
        return new DayPilot.Date(t);
      }),
      (DayPilot.Date.prototype.getDay = function () {
        return new Date(this.ticks).getUTCDate();
      }),
      (DayPilot.Date.prototype.getDatePart = function () {
        var e = new Date(this.ticks);
        return (
          e.setUTCHours(0),
          e.setUTCMinutes(0),
          e.setUTCSeconds(0),
          e.setUTCMilliseconds(0),
          new DayPilot.Date(e)
        );
      }),
      (DayPilot.Date.prototype.getYear = function () {
        return new Date(this.ticks).getUTCFullYear();
      }),
      (DayPilot.Date.prototype.getHours = function () {
        return new Date(this.ticks).getUTCHours();
      }),
      (DayPilot.Date.prototype.getMilliseconds = function () {
        return new Date(this.ticks).getUTCMilliseconds();
      }),
      (DayPilot.Date.prototype.getMinutes = function () {
        return new Date(this.ticks).getUTCMinutes();
      }),
      (DayPilot.Date.prototype.getMonth = function () {
        return new Date(this.ticks).getUTCMonth();
      }),
      (DayPilot.Date.prototype.getSeconds = function () {
        return new Date(this.ticks).getUTCSeconds();
      }),
      (DayPilot.Date.prototype.getTotalTicks = function () {
        return this.getTime();
      }),
      (DayPilot.Date.prototype.getTime = function () {
        return this.ticks;
      }),
      (DayPilot.Date.prototype.getTimePart = function () {
        var e = this.getDatePart();
        return DayPilot.DateUtil.diff(this, e);
      }),
      (DayPilot.Date.prototype.lastDayOfMonth = function () {
        var e = new Date(this.firstDayOfMonth().getTime()),
          t = this.daysInMonth();
        return e.setUTCDate(t), new DayPilot.Date(e);
      }),
      (DayPilot.Date.prototype.weekNumber = function () {
        var e = this.firstDayOfYear(),
          t = (this.getTime() - e.getTime()) / 864e5;
        return Math.ceil((t + e.dayOfWeek() + 1) / 7);
      }),
      (DayPilot.Date.prototype.weekNumberISO = function () {
        var e = !1,
          t = this.dayOfYear(),
          n = this.firstDayOfYear().dayOfWeek(),
          i = this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();
        0 === n && (n = 7), 0 === i && (i = 7);
        var a = 8 - n;
        (4 !== n && 4 !== i) || (e = !0);
        var r = Math.ceil((t - a) / 7),
          o = r;
        return (
          a >= 4 && (o += 1),
          o > 52 && !e && (o = 1),
          0 === o && (o = this.firstDayOfYear().addDays(-1).weekNumberISO()),
          o
        );
      }),
      (DayPilot.Date.prototype.toDateLocal = function () {
        var e = new Date(this.ticks),
          t = new Date();
        return (
          t.setFullYear(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()),
          t.setHours(e.getUTCHours()),
          t.setMinutes(e.getUTCMinutes()),
          t.setSeconds(e.getUTCSeconds()),
          t.setMilliseconds(e.getUTCMilliseconds()),
          t
        );
      }),
      (DayPilot.Date.prototype.toDate = function () {
        return new Date(this.ticks);
      }),
      (DayPilot.Date.prototype.toJSON = function () {
        return this.value;
      }),
      (DayPilot.Date.prototype.toString = function (e, t) {
        return e ? new n(e, t).print(this) : this.toStringSortable();
      }),
      (DayPilot.Date.prototype.toStringSortable = function () {
        return t(this.ticks);
      }),
      (DayPilot.Date.parse = function (e, t, i) {
        return new n(t, i).parse(e);
      }),
      (DayPilot.Date.today = function () {
        return new DayPilot.Date(DayPilot.DateUtil.localToday(), !0);
      }),
      (DayPilot.Date.now = function () {
        return new DayPilot.Date();
      }),
      (DayPilot.Date.fromYearMonthDay = function (e, t, n) {
        (t = t || 1), (n = n || 1);
        var i = new Date(0);
        return (
          i.setUTCFullYear(e),
          i.setUTCMonth(t - 1),
          i.setUTCDate(n),
          new DayPilot.Date(i)
        );
      }),
      (DayPilot.DateUtil = {}),
      (DayPilot.DateUtil.fromStringSortable = function (e, t) {
        var n = function () {
          return new DayPilot.Exception(
            "Invalid string format (use '2010-12-31' or '2010-12-31T23:50:00'): '" +
              e +
              "'"
          );
        };
        if (!e)
          throw new DayPilot.Exception(
            "Can't create DayPilot.Date from an empty string"
          );
        var i = e.length,
          a = 10 === i,
          r = 19 === i,
          o = i > 19;
        if (!a && !r && !o) throw n();
        if (DayPilot.Date.Cache.Parsing[e] && !t)
          return (
            (DayPilot.Stats.cacheHitsParsing += 1),
            DayPilot.Date.Cache.Parsing[e]
          );
        var l = e.substring(0, 4);
        if (isNaN(l)) throw n();
        var s = e.substring(5, 7);
        if (isNaN(s)) throw n();
        var d = e.substring(8, 10);
        if (isNaN(d)) throw n();
        var c = new Date(0);
        if ((c.setUTCFullYear(l, s - 1, d), a))
          return (DayPilot.Date.Cache.Parsing[e] = c), c;
        var u = e.substring(11, 13);
        if (isNaN(u)) throw n();
        var h = e.substring(14, 16);
        if (isNaN(h)) throw n();
        var f = e.substring(17, 19);
        if (isNaN(f)) throw n();
        if ((c.setUTCHours(u), c.setUTCMinutes(h), c.setUTCSeconds(f), r))
          return (DayPilot.Date.Cache.Parsing[e] = c), c;
        var v = e[19],
          p = 0;
        if ("." === v) {
          var m = parseInt(e.substring(20, 23));
          if (isNaN(m)) throw n();
          c.setUTCMilliseconds(m),
            (p = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(23)));
        } else p = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(19));
        var g = new DayPilot.Date(c);
        return (
          t || (g = g.addMinutes(-p)),
          (c = g.toDate()),
          (DayPilot.Date.Cache.Parsing[e] = c),
          c
        );
      }),
      (DayPilot.DateUtil.getTzOffsetMinutes = function (e) {
        if (DayPilot.Util.isNullOrUndefined(e) || "" === e) return 0;
        if ("Z" === e) return 0;
        var t = e[0],
          n = parseInt(e.substring(1, 3)),
          i = parseInt(e.substring(4)),
          a = 60 * n + i;
        if ("-" === t) return -a;
        if ("+" === t) return a;
        throw "Invalid timezone spec: " + e;
      }),
      (DayPilot.DateUtil.hasTzSpec = function (e) {
        return !!e.indexOf("+") || !!e.indexOf("-");
      }),
      (DayPilot.DateUtil.daysDiff = function (e, t) {
        if (!e || !t) throw new Error("two parameters required");
        if (
          ((e = new DayPilot.Date(e)),
          (t = new DayPilot.Date(t)),
          e.getTime() > t.getTime())
        )
          return null;
        for (
          var n = 0, i = e.getDatePart(), a = t.getDatePart();
          i.getTime() < a.getTime();

        )
          (i = i.addDays(1)), n++;
        return n;
      }),
      (DayPilot.DateUtil.daysSpan = function (e, t) {
        if (!e || !t) throw new Error("two parameters required");
        if (
          ((e = new DayPilot.Date(e)),
          (t = new DayPilot.Date(t)),
          e.getTime() === t.getTime())
        )
          return 0;
        var n = DayPilot.DateUtil.daysDiff(e, t);
        return t.getTime() === t.getDatePart().getTime() && n--, n;
      }),
      (DayPilot.DateUtil.diff = function (e, t) {
        if (!(e && t && e.getTime && t.getTime))
          throw "Both compared objects must be Date objects (DayPilot.Date.diff).";
        return e.getTime() - t.getTime();
      }),
      (DayPilot.DateUtil.fromLocal = function (e) {
        e || (e = new Date());
        var t = new Date();
        return (
          t.setUTCFullYear(e.getFullYear(), e.getMonth(), e.getDate()),
          t.setUTCHours(e.getHours()),
          t.setUTCMinutes(e.getMinutes()),
          t.setUTCSeconds(e.getSeconds()),
          t.setUTCMilliseconds(e.getMilliseconds()),
          t
        );
      }),
      (DayPilot.DateUtil.localToday = function () {
        var e = new Date();
        return (
          e.setHours(0),
          e.setMinutes(0),
          e.setSeconds(0),
          e.setMilliseconds(0),
          e
        );
      }),
      (DayPilot.DateUtil.hours = function (e, t) {
        var n = e.getUTCMinutes();
        n < 10 && (n = "0" + n);
        var i = e.getUTCHours();
        if (t) {
          var a = i < 12;
          (i %= 12), 0 === i && (i = 12);
          return i + ":" + n + " " + (a ? "AM" : "PM");
        }
        return i + ":" + n;
      }),
      (DayPilot.DateUtil.max = function (e, t) {
        return e.getTime() > t.getTime() ? e : t;
      }),
      (DayPilot.DateUtil.min = function (e, t) {
        return e.getTime() < t.getTime() ? e : t;
      }),
      (DayPilot.ColorUtil = {}),
      (DayPilot.ColorUtil.hexToRgb = function (e) {
        if (!/^#[0-9a-f]{6}$/i.test(e))
          throw new DayPilot.Exception(
            "Invalid color, only full hex color string accepted, eg. '#ffaaff'."
          );
        return (
          (e = e.replace("#", "")),
          {
            r: parseInt(e.substring(0, 2), 16),
            g: parseInt(e.substring(2, 4), 16),
            b: parseInt(e.substring(4, 6), 16),
          }
        );
      }),
      (DayPilot.ColorUtil.rgbToHex = function (e) {
        return "#" + a(e.r) + a(e.g) + a(e.b);
      }),
      (DayPilot.ColorUtil.adjustLuminance = function (e, t) {
        return { r: e.r + t, g: e.g + t, b: e.b + t };
      }),
      (DayPilot.ColorUtil.darker = function (e, t) {
        var n = "";
        9 === e.length && ((n = e.slice(7, 9)), (e = e.slice(0, 7)));
        var i = DayPilot.ColorUtil.hexToRgb(e);
        "number" != typeof t && (t = 1);
        var a = 17,
          r = Math.round(t * a),
          o = DayPilot.ColorUtil.adjustLuminance(i, -r);
        return DayPilot.ColorUtil.rgbToHex(o) + n;
      }),
      (DayPilot.ColorUtil.lighter = function (e, t) {
        return (
          "number" != typeof t && (t = 1), DayPilot.ColorUtil.darker(e, -t)
        );
      }),
      (DayPilot.ColorUtil.pl = function (e) {
        var t = DayPilot.ColorUtil.hexToRgb(e),
          n = t.r / 255,
          i = t.g / 255,
          a = t.b / 255;
        return Math.sqrt(0.299 * n * n + 0.587 * i * i + 0.114 * a * a);
      }),
      (DayPilot.ColorUtil.contrasting = function (e, t, n) {
        var i = DayPilot.ColorUtil.pl(e);
        return (t = t || "#ffffff"), (n = n || "#000000"), i > 0.5 ? n : t;
      }),
      (DayPilot.Canvas = function (e, t, n, i, a) {
        function o(e, t, n) {
          for (
            var i = t.split(" "), a = [], r = i[0], o = 1;
            o < i.length;
            o++
          ) {
            var l = i[o];
            e.measureText(r + " " + l).width < n
              ? (r += " " + l)
              : (a.push(r), (r = l));
          }
          return a.push(r), a;
        }
        i = i || 1;
        var l =
            /Chrome/.test(navigator.userAgent) &&
            /Google Inc/.test(navigator.vendor),
          s = /Firefox/.test(navigator.userAgent),
          d = document.createElement("canvas");
        (d.width = e * i), (d.height = t * i);
        var c = d.getContext("2d");
        c.scale(i, i),
          (this.defaultFileName = "image.png"),
          "image/jpeg" === n &&
            ((this.defaultFileName = "image.jpg"), (a = a || 0.92)),
          (this.groupStart = function () {}),
          (this.groupEnd = function () {}),
          (this.fillRect = function (e, t) {
            c.save(),
              (c.strokeStyle = "rgb(0,0,0,0)"),
              (c.fillStyle = t),
              c.fillRect(e.x, e.y, e.w, e.h),
              c.restore();
          }),
          (this.rect = function (e, t, n) {
            c.save(),
              (c.strokeStyle = t),
              n
                ? (c.beginPath(),
                  n.top &&
                    (c.moveTo(e.x + 0.5, e.y + 0.5),
                    c.lineTo(e.x + e.w - 0.5, e.y + 0.5)),
                  n.right &&
                    (c.moveTo(e.x + e.w - 0.5, e.y + 0.5),
                    c.lineTo(e.x + e.w - 0.5, e.y + e.h - 0.5)),
                  n.bottom &&
                    (c.moveTo(e.x + e.w - 0.5, e.y + e.h - 0.5),
                    c.lineTo(e.x + 0.5, e.y + e.h - 0.5)),
                  n.left &&
                    (c.moveTo(e.x + 0.5, e.y + e.h - 0.5),
                    c.lineTo(e.x + 0.5, e.y + 0.5)),
                  c.stroke())
                : (c.beginPath(),
                  c.rect(e.x + 0.5, e.y + 0.5, e.w - 1, e.h - 1),
                  c.stroke()),
              c.restore();
          }),
          (this.diamond = function (e, t) {
            c.save(),
              (c.strokeStyle = "rgb(0,0,0,0)"),
              (c.fillStyle = t),
              c.beginPath(),
              c.moveTo(e.x + e.w / 2, e.y + 0.5),
              c.lineTo(e.x + e.w - 0.5, e.y + e.h / 2),
              c.lineTo(e.x + e.w / 2, e.y + e.h - 0.5),
              c.lineTo(e.x + 0.5, e.y + e.h / 2),
              c.closePath(),
              c.fill(),
              c.restore();
          }),
          (this.triangle = function (e, t, n) {
            for (n = n || 0; n < 0; ) n += 360;
            for (; n >= 360; ) n -= 360;
            switch (
              (c.save(),
              (c.strokeStyle = "rgb(0,0,0,0)"),
              (c.fillStyle = t),
              c.beginPath(),
              n)
            ) {
              case 0:
                c.moveTo(e.x + e.w / 3, e.y + 0.5),
                  c.lineTo(e.x + e.w + 0.5, e.y + e.h / 2),
                  c.lineTo(e.x + e.w / 3, e.y + e.h - 0.5);
                break;
              case 90:
                c.moveTo(e.x - 0.5, e.y + e.h / 3),
                  c.lineTo(e.x + e.w + 0.5, e.y + e.h / 3),
                  c.lineTo(e.x + e.w / 2, e.y + e.h + 0.5);
                break;
              case 180:
                c.moveTo(e.x + (2 * e.w) / 3, e.y + 0.5),
                  c.lineTo(e.x + (2 * e.w) / 3, e.y + e.h),
                  c.lineTo(e.x, e.y + e.h / 2);
                break;
              case 270:
                c.moveTo(e.x + e.w / 2, e.y + e.w / 2 + 0.5),
                  c.lineTo(e.x + e.w - 0.5, e.y + (2 * e.h) / 3),
                  c.lineTo(e.x, e.y + (2 * e.h) / 3);
                break;
              default:
                throw new DayPilot.Exception("Unsupported rotation angle");
            }
            c.closePath(), c.fill(), c.restore();
          }),
          (this.upperLeftCorner = function (e, t) {
            c.save(),
              (c.strokeStyle = "rgb(0,0,0,0)"),
              (c.fillStyle = t),
              c.beginPath(),
              c.moveTo(e.x, e.y),
              c.lineTo(e.x + e.w, e.y),
              c.lineTo(e.x, e.y + e.h),
              c.closePath(),
              c.fill(),
              c.restore();
          }),
          (this.upperRightCorner = function (e, t) {
            c.save(),
              (c.strokeStyle = "rgb(0,0,0,0)"),
              (c.fillStyle = t),
              c.beginPath(),
              c.moveTo(e.x, e.y),
              c.lineTo(e.x + e.w, e.y),
              c.lineTo(e.x + e.w, e.y + e.h),
              c.closePath(),
              c.fill(),
              c.restore();
          }),
          (this.textWidth = function (e, t) {
            c.save(), (c.font = t.style + " " + t.size + " " + t.family);
            var n = c.measureText(e).width + 1;
            return c.restore(), n;
          }),
          (this.text = function (e, t, n, i, a, r, d, u) {
            if (t) {
              if (("number" == typeof t && (t = "" + t), "string" != typeof t))
                throw "String expected, supplied: " + typeof t;
              (a = a || "left"),
                (r = r || 0),
                (i = i || "#000"),
                (d = d || "top"),
                c.save();
              var h = DayPilot.Util.fontHeight(n),
                f = s ? 3 : 0;
              (f += 0.2 * h),
                (f += l ? 1 : 0),
                c.beginPath(),
                c.rect(e.x + 0.5 + r, e.y + 0.5 + r, e.w - 1 - r, e.h - 1 - r),
                c.clip(),
                (c.fillStyle = i),
                (c.font = n.style + " " + n.size + " " + n.family),
                (c.textBaseline = "top"),
                (c.textAlign = a);
              var v = e.x;
              switch (a) {
                case "left":
                  v += r;
                  break;
                case "center":
                  v += e.w / 2;
                  break;
                case "right":
                  v += e.w - r;
              }
              var p = 1.2 * h,
                m = t.split("\n"),
                g = [];
              DayPilot.list(m).forEach(function (t) {
                if (u) {
                  var n = o(c, t, e.w);
                  DayPilot.list(n).forEach(function (e) {
                    g.push(e);
                  });
                } else g.push(t);
              });
              var b = p - h,
                y = p * g.length - b,
                w = e.h - 2 * r,
                x = e.y + r;
              switch (d) {
                case "top":
                  x += f;
                  break;
                case "center":
                  x += (w - y) / 2 + 0.1 * h;
                  break;
                case "bottom":
                  x += w - y;
              }
              for (var k = 0; k < g.length; k++) {
                var C = g[k];
                c.fillText(C, v, x), (x += p);
              }
              c.restore();
            }
          }),
          (this.line = function (e, t, n, i, a) {
            c.save(),
              (c.lineWidth = 1),
              (c.strokeStyle = a),
              c.beginPath(),
              c.moveTo(e + 0.5, t + 0.5),
              c.lineTo(n + 0.5, i + 0.5),
              c.stroke(),
              c.restore();
          }),
          (this.image = function (e, t) {
            if (t) {
              var n;
              if ("string" == typeof t) {
                var i = document.createElement("img");
                if ((0 !== t.indexOf("data:"), !0))
                  return (
                    (i.onload = function () {
                      c.save(), c.drawImage(i, e.x, e.y), c.restore();
                    }),
                    void (i.src = t)
                  );
                (i.src = t), (n = i);
              } else {
                if (!(t instanceof HTMLImageElement))
                  throw new DayPilot.Exception(
                    "Invalid image type: " +
                      typeof t +
                      ", expected string or HTMLImageElement."
                  );
                n = t;
              }
              c.save(), c.drawImage(n, e.x, e.y), c.restore();
            }
          }),
          (this.symbol = function (e, t, n) {
            var i = "http://www.w3.org/2000/svg",
              a = document.createElementNS(i, "svg"),
              o = this;
            n = n || {};
            var l = n.color;
            new r(t).l().then(function (t) {
              if (l) {
                var n = document.createElementNS(i, "style");
                (n.innerHTML = "svg { color: " + l + "; }"), a.appendChild(n);
              }
              a.setAttribute("viewBox", t.getAttribute("viewBox")),
                a.setAttribute("width", e.w),
                a.setAttribute("height", e.h);
              var r = document.createElementNS(i, "g");
              (r.innerHTML = t.innerHTML), a.appendChild(r);
              var s = new XMLSerializer().serializeToString(a),
                d = "data:image/svg+xml;base64," + btoa(s);
              o.image(e, d);
            });
          }),
          (this.getWidth = function () {
            return d.width;
          }),
          (this.getHeight = function () {
            return d.height;
          }),
          (this.getElement = function () {
            return d;
          }),
          (this.getSource = function () {
            return "<img src='" + d.toDataURL(n, a) + "' />";
          }),
          (this.getDataUri = function () {
            return d.toDataURL(n, a);
          }),
          (this.getDefaultFileName = function () {
            return this.defaultFileName;
          }),
          (this.getBlob = function () {
            return d.msToBlob
              ? d.msToBlob()
              : DayPilot.Util.dataUriToBlob(this.getDataUri());
          });
      }),
      (DayPilot.Svg = function (e, t) {
        function n(e, t) {
          var n = document.createElementNS(a, "clipPath");
          n.id = "clip" + DayPilot.guid();
          var i = document.createElementNS(a, "rect");
          i.setAttribute("x", 0),
            i.setAttribute("y", 0),
            i.setAttribute("width", e),
            i.setAttribute("height", t),
            n.appendChild(i),
            l.defs.appendChild(n);
          var r = document.createElementNS(a, "g");
          r.setAttribute("clip-path", "url(#" + n.id + ")"),
            o.appendChild(r),
            (o = r);
        }
        function i(e, t) {
          var n = null;
          if (e) {
            if ("string" == typeof e) {
              if (0 === e.indexOf("data:")) {
                var i = {};
                (i.dataUri = e), t(i);
              }
              n = e;
            } else n = e.src;
            var a = document.createElement("img");
            (a.onload = function () {
              var e = document.createElement("canvas");
              (e.width = this.naturalWidth),
                (e.height = this.naturalHeight),
                e.getContext("2d").drawImage(this, 0, 0);
              var n = {};
              (n.dataUri = e.toDataURL("image/png")), t(n);
            }),
              (a.src = n);
          }
        }
        var a = "http://www.w3.org/2000/svg",
          o = document.createElementNS(a, "svg"),
          l = this;
        (this.m = o),
          (this.groups = []),
          o.outerHTML && o.setAttribute("xmlns", a),
          o.setAttribute("viewBox", "0 0 " + e + " " + t);
        var s = document.createElementNS(a, "defs");
        o.appendChild(s),
          (l.defs = s),
          n(e, t),
          (this.defaultFileName = "image.svg"),
          (this.groupStart = function (e) {
            var t = document.createElementNS(a, "g");
            for (var n in e) t.setAttribute("data-" + n, e[n]);
            (o = t),
              this.group && this.groups.push(this.group),
              (this.group = t);
          }),
          (this.groupEnd = function () {
            if (!this.group)
              throw new DayPilot.Exception("SVG export = group not open");
            var e = this.group;
            (this.group = this.groups.pop()),
              (o = this.group),
              o || (o = this.m),
              o.appendChild(e);
          }),
          (this.fillRect = function (e, t) {
            var n = document.createElementNS(a, "rect");
            n.setAttribute("x", e.x),
              n.setAttribute("y", e.y),
              n.setAttribute("width", e.w),
              n.setAttribute("height", e.h),
              n.setAttribute("fill", t),
              o.appendChild(n);
          }),
          (this.diamond = function (e, t) {
            var n = document.createElementNS(a, "path"),
              i = "";
            (i += "M " + (e.x + e.w / 2) + " " + e.y),
              (i += " "),
              (i += "L " + (e.x + e.w) + " " + (e.y + e.h / 2)),
              (i += " "),
              (i += "L " + (e.x + e.w / 2) + " " + (e.y + e.h)),
              (i += " "),
              (i += "L " + e.x + " " + (e.y + e.h / 2)),
              (i += " Z"),
              n.setAttribute("d", i),
              n.setAttribute("fill", t),
              o.appendChild(n);
          }),
          (this.triangle = function (e, t, n) {
            var i = document.createElementNS(a, "path"),
              r = "";
            (r += "M " + (e.x + e.w / 3) + " " + e.y),
              (r += " "),
              (r += "L " + (e.x + e.w) + " " + (e.y + e.h / 2)),
              (r += " "),
              (r += "L " + (e.x + e.w / 3) + " " + (e.y + e.h)),
              (r += " Z"),
              i.setAttribute("d", r),
              i.setAttribute("fill", t),
              "number" == typeof n &&
                i.setAttribute(
                  "transform",
                  "rotate(" +
                    n +
                    "," +
                    (e.x + e.w / 2) +
                    "," +
                    (e.y + e.h / 2) +
                    ")"
                ),
              o.appendChild(i);
          }),
          (this.upperLeftCorner = function (e, t) {
            var n = document.createElementNS(a, "path"),
              i = "";
            (i += "M " + e.x + " " + e.y),
              (i += " "),
              (i += "L " + (e.x + e.w) + " " + e.y),
              (i += " "),
              (i += "L " + e.x + " " + (e.y + e.h)),
              (i += " Z"),
              n.setAttribute("d", i),
              n.setAttribute("fill", t),
              o.appendChild(n);
          }),
          (this.upperRightCorner = function (e, t) {
            var n = document.createElementNS(a, "path"),
              i = "";
            (i += "M " + e.x + " " + e.y),
              (i += " "),
              (i += "L " + (e.x + e.w) + " " + e.y),
              (i += " "),
              (i += "L " + (e.x + e.w) + " " + (e.y + e.h)),
              (i += " Z"),
              n.setAttribute("d", i),
              n.setAttribute("fill", t),
              o.appendChild(n);
          }),
          (this.rect = function (e, t, n) {
            if (!(e.w <= 0 || e.h <= 0))
              if (n) {
                if (n.top) {
                  var i = document.createElementNS(a, "line");
                  i.setAttribute("x1", e.x + 0.5),
                    i.setAttribute("y1", e.y + 0.5),
                    i.setAttribute("x2", e.x + e.w - 0.5),
                    i.setAttribute("y2", e.y + 0.5),
                    i.setAttribute("stroke", t),
                    i.setAttribute("stroke-width", "1"),
                    i.setAttribute("fill", "transparent"),
                    o.appendChild(i);
                }
                if (n.right) {
                  var r = document.createElementNS(a, "line");
                  r.setAttribute("x1", e.x + e.w - 0.5),
                    r.setAttribute("y1", e.y + 0.5),
                    r.setAttribute("x2", e.x + e.w - 0.5),
                    r.setAttribute("y2", e.y + e.h - 0.5),
                    r.setAttribute("stroke", t),
                    r.setAttribute("stroke-width", "1"),
                    r.setAttribute("fill", "transparent"),
                    o.appendChild(r);
                }
                if (n.bottom) {
                  var l = document.createElementNS(a, "line");
                  l.setAttribute("x1", e.x + e.w - 0.5),
                    l.setAttribute("y1", e.y + e.h - 0.5),
                    l.setAttribute("x2", e.x + 0.5),
                    l.setAttribute("y2", e.y + e.h - 0.5),
                    l.setAttribute("stroke", t),
                    l.setAttribute("stroke-width", "1"),
                    l.setAttribute("fill", "transparent"),
                    o.appendChild(l);
                }
                if (n.left) {
                  var s = document.createElementNS(a, "line");
                  s.setAttribute("x1", e.x + 0.5),
                    s.setAttribute("y1", e.y + e.h - 0.5),
                    s.setAttribute("x2", e.x + 0.5),
                    s.setAttribute("y2", e.y + 0.5),
                    s.setAttribute("stroke", t),
                    s.setAttribute("stroke-width", "1"),
                    s.setAttribute("fill", "transparent"),
                    o.appendChild(s);
                }
              } else {
                var d = document.createElementNS(a, "rect");
                d.setAttribute("x", e.x + 0.5),
                  d.setAttribute("y", e.y + 0.5),
                  d.setAttribute("width", e.w - 1),
                  d.setAttribute("height", e.h - 1),
                  d.setAttribute("stroke", t),
                  d.setAttribute("stroke-width", "1"),
                  d.setAttribute("fill", "transparent"),
                  o.appendChild(d);
              }
          }),
          (this.text = function (e, t, n, i, r, s, d, c) {
            function u(e, t, r) {
              var l = document.createElementNS(a, "text");
              l.setAttribute("fill", i),
                l.setAttribute("font-family", n.family),
                l.setAttribute("font-size", n.size),
                l.setAttribute("font-style", f),
                l.setAttribute("font-weight", v),
                l.setAttribute("x", t),
                l.setAttribute("y", r),
                l.setAttribute("dy", "0.8em"),
                l.setAttribute("text-anchor", g),
                l.setAttribute("clip-path", "url(#" + b.id + ")");
              var s = document.createTextNode(e);
              return l.appendChild(s), o.appendChild(l), l;
            }
            function h(e, t) {
              var n = e.textContent,
                i = n.split("\n"),
                r = [],
                o = document.createElementNS(a, "svg"),
                l = e.cloneNode(!0);
              o.appendChild(l),
                (o.style.position = "absolute"),
                (o.style.left = "-10000px"),
                (o.style.top = "-10000px"),
                document.body.appendChild(o);
              for (var s = 0; s < i.length; s++) {
                for (
                  var d = i[s], c = d.split(/\s+/), u = [], h = 0, f = c;
                  h < f.length;
                  h++
                ) {
                  var v = f[h];
                  u.push(v),
                    (l.textContent = u.join(" ")),
                    l.getComputedTextLength() > t &&
                      (u.pop(), r.push(u.join(" ")), (u = [v]));
                }
                r.push(u.join(" "));
              }
              (e.textContent = ""), document.body.removeChild(o);
              for (var p = e.getAttribute("x") || 0, m = 0; m < r.length; m++) {
                var g = document.createElementNS(a, "tspan");
                (g.textContent = r[m]),
                  g.setAttribute("x", p),
                  m > 0 && g.setAttribute("dy", w),
                  e.appendChild(g);
              }
              return r;
            }
            if (t) {
              if (("number" == typeof t && (t = "" + t), "string" != typeof t))
                throw "String expected, supplied: " + typeof t;
              if (!(e.w < 0)) {
                (r = r || "left"), (s = s || 0), (d = d || "top");
                var f = n.style;
                f.indexOf("italic") !== -1 && (f = "bold");
                var v = n.style,
                  p = 3,
                  m = e.x,
                  g = "start";
                switch (r) {
                  case "center":
                    (m += e.w / 2), (g = "middle");
                    break;
                  case "right":
                    (m += e.w), (g = "end");
                }
                var b = document.createElementNS(a, "clipPath");
                b.id = "clip" + DayPilot.guid();
                var y = document.createElementNS(a, "rect");
                y.setAttribute("x", e.x),
                  y.setAttribute("y", e.y),
                  y.setAttribute("width", e.w),
                  y.setAttribute("height", e.h),
                  b.appendChild(y),
                  l.defs.appendChild(b);
                var w = DayPilot.Util.fontHeight(n),
                  x = 1.1 * w,
                  k = e.y + s,
                  C = x - w,
                  _ = u(t, m + s, k),
                  T = t.split("\n");
                c && e.w > 0 && (T = h(_, e.w - 2 * s));
                var S = x * T.length - C,
                  D = e.h - 2 * s;
                switch (d) {
                  case "top":
                    k += p;
                    break;
                  case "center":
                    k += (D - S) / 2 + 0.1 * w;
                    break;
                  case "bottom":
                    k += D - S;
                }
                _.setAttribute("y", k);
              }
            }
          }),
          (this.line = function (e, t, n, i, r) {
            var l = document.createElementNS(a, "line");
            l.setAttribute("x1", e + 0.5),
              l.setAttribute("y1", t + 0.5),
              l.setAttribute("x2", n + 0.5),
              l.setAttribute("y2", i + 0.5),
              l.setAttribute("stroke", r),
              o.appendChild(l);
          }),
          (this.image = function (e, t) {
            function n(t) {
              var n = document.createElementNS(a, "image");
              n.setAttribute("href", t.dataUri),
                n.setAttribute("x", e.x),
                n.setAttribute("y", e.y),
                n.setAttribute("width", e.w),
                n.setAttribute("height", e.h),
                r.appendChild(n);
            }
            var r = document.createElementNS(a, "g");
            o.appendChild(r), i(t, n);
          }),
          (this.symbol = function (e, t, n) {
            var i = "http://www.w3.org/2000/svg",
              a = document.createElementNS(i, "symbol"),
              l = this;
            n = n || {};
            var s = n.color;
            new r(t).l().then(function (t) {
              if (s) {
                var n = document.createElementNS(i, "style");
                (n.innerHTML = "svg { color: " + s + "; }"), a.appendChild(n);
              }
              var r = DayPilot.guid();
              a.setAttribute("viewBox", t.getAttribute("viewBox")),
                a.setAttribute("width", e.w),
                a.setAttribute("height", e.h),
                a.setAttribute("id", r);
              var d = document.createElementNS(i, "g");
              (d.innerHTML = t.innerHTML), a.appendChild(d), l.m.appendChild(a);
              var c = document.createElementNS(i, "use");
              c.setAttribute("href", "#" + r),
                c.setAttribute("x", e.x),
                c.setAttribute("y", e.y),
                o.appendChild(c);
            });
          }),
          (this.n = {}),
          (this.textWidth = function (e, t) {
            var n = "#" + e + "#" + JSON.stringify(t),
              i = this.n[n];
            if ("number" == typeof i) return i;
            var a = "http://www.w3.org/2000/svg",
              r = document.createElementNS(a, "svg");
            (r.style.position = "absolute"),
              (r.style.left = "-10000px"),
              (r.style.width = "100px"),
              r.outerHTML && r.setAttribute("xmlns", a),
              r.setAttribute("viewBox", "0 0 100 100");
            var o = document.createElementNS(a, "text");
            o.setAttribute("font-family", t.family),
              o.setAttribute("font-size", t.size),
              o.setAttribute("font-style", t.style),
              o.setAttribute("x", 0),
              o.setAttribute("y", 0),
              o.setAttribute("dy", "1em");
            var l = document.createTextNode(e);
            o.appendChild(l), r.appendChild(o), document.body.appendChild(r);
            var s = o.getComputedTextLength();
            return (this.n[n] = s), document.body.removeChild(r), s;
          }),
          (this.getWidth = function () {
            return e;
          }),
          (this.getHeight = function () {
            return t;
          }),
          (this.getElement = function () {
            return this.m;
          }),
          (this.getSource = function () {
            if (this.m.outerHTML) return this.m.outerHTML;
            var e = document.createElement("div"),
              t = this.m.cloneNode(!0);
            return e.appendChild(t), e.innerHTML;
          }),
          (this.getDataUri = function () {
            return (
              "data:application/octet-stream," +
              encodeURIComponent(this.getSource())
            );
          }),
          (this.getDefaultFileName = function () {
            return this.defaultFileName;
          }),
          (this.getBlob = function () {
            return new Blob([this.getSource()]);
          });
      }),
      (DayPilot.Excel = function (e, t) {
        function n(e) {
          function t(e, t, r) {
            (this.setText = function (t) {
              return t && (e.value = t), this;
            }),
              (this.setBorderColor = function (t, n) {
                if (!t) return this;
                t.startsWith("#") && (t = t.substring(1));
                var i = !0,
                  a = !0,
                  r = !0,
                  o = !0;
                return (
                  n &&
                    ((i = n.top), (a = n.right), (r = n.bottom), (o = n.left)),
                  (e.border = {
                    top: i ? { style: "thin", color: { argb: t } } : null,
                    left: o ? { style: "thin", color: { argb: t } } : null,
                    bottom: r ? { style: "thin", color: { argb: t } } : null,
                    right: a ? { style: "thin", color: { argb: t } } : null,
                  }),
                  this
                );
              }),
              (this.setBackColor = function (t) {
                return t
                  ? (t.startsWith("#") && (t = t.substring(1)),
                    (e.fill = {
                      type: "pattern",
                      pattern: "solid",
                      fgColor: { argb: t },
                    }),
                    this)
                  : this;
              }),
              (this.setFontColor = function (t) {
                return t
                  ? (t.startsWith("#") && (t = t.substring(1)),
                    e.font || (e.font = {}),
                    e.font.name || (e.font.name = o),
                    (e.font.color = { argb: t }),
                    this)
                  : this;
              }),
              (this.setHeight = function (e) {
                var t = a(e);
                return (n.getRow(r + 1).height = t), this;
              }),
              (this.setMinHeight = function (e) {
                var t = a(e),
                  i = n.getRow(r + 1);
                return i.height < t && (i.height = t), this;
              }),
              (this.setWidth = function (e) {
                var a = i(e);
                return (n.getColumn(t + 1).width = a), this;
              }),
              (this.setIndent = function (t) {
                return (
                  e.alignment || (e.alignment = {}),
                  t && (e.alignment.indent = t),
                  this
                );
              }),
              (this.setWordWrap = function (t) {
                return (
                  e.alignment || (e.alignment = {}),
                  (e.alignment.wrapText = t),
                  this
                );
              }),
              (this.setColspan = function (e) {
                return e > 1 && n.mergeCells(r + 1, t + 1, r + 1, t + e), this;
              }),
              (this.setRowspan = function (e) {
                return e > 1 && n.mergeCells(r + 1, t + 1, r + e, t + 1), this;
              }),
              (this.setSpan = function (e, i) {
                return 1 === e && 1 === i
                  ? this
                  : (n.mergeCells(r + 1, t + 1, r + i, t + e), this);
              }),
              (this.setHorizontalAlignment = function (t) {
                return t
                  ? ((t = t.toLowerCase()),
                    e.alignment
                      ? (e.alignment.horizontal = t)
                      : (e.alignment = { horizontal: t }),
                    this)
                  : this;
              }),
              (this.setVerticalAlignment = function (t) {
                return t
                  ? ((t = t.toLowerCase()),
                    "center" === t && (t = "middle"),
                    e.alignment
                      ? (e.alignment.vertical = t)
                      : (e.alignment = { vertical: t }),
                    this)
                  : this;
              }),
              (this.makeTopLeft = function () {
                var t = e.address;
                return (
                  "frozen" === n.views[0].state && (n.views[0].topLeftCell = t),
                  this
                );
              }),
              (this.focus = function () {
                var t = e.address;
                return (n.views[0].activeCell = t), this;
              });
          }
          var n = r.addWorksheet(e);
          (n.views = [{ showGridLines: !1 }]),
            (this.cell = function (e, i) {
              return new t(n.getCell(i + 1, e + 1), e, i);
            }),
            (this.freeze = function (e, t) {
              return (
                (n.views[0].state = "frozen"),
                (n.views[0].xSplit = e),
                (n.views[0].ySplit = t),
                this
              );
            });
        }
        t = t || {};
        var i =
            t.transformWidth ||
            function (e) {
              return (e - 5) / 7;
            },
          a =
            t.transformHeight ||
            function (e) {
              return 0.75 * e;
            },
          r = new e.Workbook(),
          o = "Calibri";
        (this.worksheets = []),
          (this.worksheets.create = function (e) {
            return new n(e);
          }),
          (this.writeBuffer = function () {
            return r.xlsx.writeBuffer();
          });
      }),
      (DayPilot.Export = function (e) {
        (this.toElement = function () {
          return e.getElement();
        }),
          (this.dimensions = function () {
            return { width: e.getWidth(), height: e.getHeight() };
          }),
          (this.toHtml = function () {
            return e.getSource();
          }),
          (this.toDataUri = function () {
            return e.getDataUri();
          }),
          (this.toBlob = function () {
            return e.getBlob();
          }),
          (this.print = function (t) {
            (t = t || {}), (t.orientation = t.orientation || "portrait");
            var n = document.createElement("iframe");
            n.setAttribute("width", 0),
              n.setAttribute("height", 0),
              n.setAttribute("frameborder", 0),
              n.setAttribute("src", "about:blank"),
              (n.onload = function () {
                var i = n.contentWindow.document;
                if (
                  (i.body.appendChild(e.getElement()),
                  "landscape" === t.orientation)
                ) {
                  var a = DayPilot.sheet(i);
                  a.add("@page", "size: landscape;"), a.commit();
                }
                n.contentWindow.document.execCommand("print", !1, null) ||
                  (n.contentWindow.focus(), n.contentWindow.print()),
                  setTimeout(function () {
                    document.body.removeChild(n);
                  }, 10);
              }),
              document.body.appendChild(n);
          }),
          (this.download = function (t) {
            if ("function" == typeof e.download) return void e.download(t);
            t = t || e.getDefaultFileName();
            var n = e.getBlob();
            DayPilot.Util.downloadBlob(n, t);
          });
      }),
      (DayPilot.Exception = function (e) {
        return new Error(e);
      }),
      (DayPilot.Locale = function (e, t) {
        if (
          ((this.id = e),
          (this.dayNames = [
            "Sunday",
            "Monday",
            "Tuesday",
            "Wednesday",
            "Thursday",
            "Friday",
            "Saturday",
          ]),
          (this.dayNamesShort = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"]),
          (this.monthNames = [
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
            "August",
            "September",
            "October",
            "November",
            "December",
          ]),
          (this.monthNamesShort = [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
          ]),
          (this.datePattern = "M/d/yyyy"),
          (this.timePattern = "H:mm"),
          (this.dateTimePattern = "M/d/yyyy H:mm"),
          (this.timeFormat = "Clock12Hours"),
          (this.weekStarts = 0),
          t)
        )
          for (var n in t) this[n] = t[n];
      }),
      (DayPilot.Locale.all = {}),
      (DayPilot.Locale.find = function (e) {
        if (!e) return null;
        var t = e.toLowerCase();
        return (
          t.length > 2 && (t = DayPilot.Util.replaceCharAt(t, 2, "-")),
          DayPilot.Locale.all[t]
        );
      }),
      (DayPilot.Locale.register = function (e) {
        DayPilot.Locale.all[e.id] = e;
      }),
      DayPilot.Locale.register(
        new DayPilot.Locale("ca-es", {
          dayNames: [
            "diumenge",
            "dilluns",
            "dimarts",
            "dimecres",
            "dijous",
            "divendres",
            "dissabte",
          ],
          dayNamesShort: ["dg", "dl", "dt", "dc", "dj", "dv", "ds"],
          monthNames: [
            "gener",
            "febrer",
            "març",
            "abril",
            "maig",
            "juny",
            "juliol",
            "agost",
            "setembre",
            "octubre",
            "novembre",
            "desembre",
            "",
          ],
          monthNamesShort: [
            "gen.",
            "febr.",
            "març",
            "abr.",
            "maig",
            "juny",
            "jul.",
            "ag.",
            "set.",
            "oct.",
            "nov.",
            "des.",
            "",
          ],
          timePattern: "H:mm",
          datePattern: "dd/MM/yyyy",
          dateTimePattern: "dd/MM/yyyy H:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("cs-cz", {
          dayNames: [
            "neděle",
            "pondělí",
            "úterý",
            "středa",
            "čtvrtek",
            "pátek",
            "sobota",
          ],
          dayNamesShort: ["ne", "po", "út", "st", "čt", "pá", "so"],
          monthNames: [
            "leden",
            "únor",
            "březen",
            "duben",
            "květen",
            "červen",
            "červenec",
            "srpen",
            "září",
            "říjen",
            "listopad",
            "prosinec",
            "",
          ],
          monthNamesShort: [
            "I",
            "II",
            "III",
            "IV",
            "V",
            "VI",
            "VII",
            "VIII",
            "IX",
            "X",
            "XI",
            "XII",
            "",
          ],
          timePattern: "H:mm",
          datePattern: "d. M. yyyy",
          dateTimePattern: "d. M. yyyy H:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("da-dk", {
          dayNames: [
            "søndag",
            "mandag",
            "tirsdag",
            "onsdag",
            "torsdag",
            "fredag",
            "lørdag",
          ],
          dayNamesShort: ["sø", "ma", "ti", "on", "to", "fr", "lø"],
          monthNames: [
            "januar",
            "februar",
            "marts",
            "april",
            "maj",
            "juni",
            "juli",
            "august",
            "september",
            "oktober",
            "november",
            "december",
            "",
          ],
          monthNamesShort: [
            "jan",
            "feb",
            "mar",
            "apr",
            "maj",
            "jun",
            "jul",
            "aug",
            "sep",
            "okt",
            "nov",
            "dec",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd-MM-yyyy",
          dateTimePattern: "dd-MM-yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("de-at", {
          dayNames: [
            "Sonntag",
            "Montag",
            "Dienstag",
            "Mittwoch",
            "Donnerstag",
            "Freitag",
            "Samstag",
          ],
          dayNamesShort: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
          monthNames: [
            "Jänner",
            "Februar",
            "März",
            "April",
            "Mai",
            "Juni",
            "Juli",
            "August",
            "September",
            "Oktober",
            "November",
            "Dezember",
            "",
          ],
          monthNamesShort: [
            "Jän",
            "Feb",
            "Mär",
            "Apr",
            "Mai",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Okt",
            "Nov",
            "Dez",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd.MM.yyyy",
          dateTimePattern: "dd.MM.yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("de-ch", {
          dayNames: [
            "Sonntag",
            "Montag",
            "Dienstag",
            "Mittwoch",
            "Donnerstag",
            "Freitag",
            "Samstag",
          ],
          dayNamesShort: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
          monthNames: [
            "Januar",
            "Februar",
            "März",
            "April",
            "Mai",
            "Juni",
            "Juli",
            "August",
            "September",
            "Oktober",
            "November",
            "Dezember",
            "",
          ],
          monthNamesShort: [
            "Jan",
            "Feb",
            "Mrz",
            "Apr",
            "Mai",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Okt",
            "Nov",
            "Dez",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd.MM.yyyy",
          dateTimePattern: "dd.MM.yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("de-de", {
          dayNames: [
            "Sonntag",
            "Montag",
            "Dienstag",
            "Mittwoch",
            "Donnerstag",
            "Freitag",
            "Samstag",
          ],
          dayNamesShort: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
          monthNames: [
            "Januar",
            "Februar",
            "März",
            "April",
            "Mai",
            "Juni",
            "Juli",
            "August",
            "September",
            "Oktober",
            "November",
            "Dezember",
            "",
          ],
          monthNamesShort: [
            "Jan",
            "Feb",
            "Mrz",
            "Apr",
            "Mai",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Okt",
            "Nov",
            "Dez",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd.MM.yyyy",
          dateTimePattern: "dd.MM.yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("de-lu", {
          dayNames: [
            "Sonntag",
            "Montag",
            "Dienstag",
            "Mittwoch",
            "Donnerstag",
            "Freitag",
            "Samstag",
          ],
          dayNamesShort: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
          monthNames: [
            "Januar",
            "Februar",
            "März",
            "April",
            "Mai",
            "Juni",
            "Juli",
            "August",
            "September",
            "Oktober",
            "November",
            "Dezember",
            "",
          ],
          monthNamesShort: [
            "Jan",
            "Feb",
            "Mrz",
            "Apr",
            "Mai",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Okt",
            "Nov",
            "Dez",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd.MM.yyyy",
          dateTimePattern: "dd.MM.yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("en-au", {
          dayNames: [
            "Sunday",
            "Monday",
            "Tuesday",
            "Wednesday",
            "Thursday",
            "Friday",
            "Saturday",
          ],
          dayNamesShort: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
          monthNames: [
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
            "August",
            "September",
            "October",
            "November",
            "December",
            "",
          ],
          monthNamesShort: [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
            "",
          ],
          timePattern: "h:mm tt",
          datePattern: "d/MM/yyyy",
          dateTimePattern: "d/MM/yyyy h:mm tt",
          timeFormat: "Clock12Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("en-ca", {
          dayNames: [
            "Sunday",
            "Monday",
            "Tuesday",
            "Wednesday",
            "Thursday",
            "Friday",
            "Saturday",
          ],
          dayNamesShort: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
          monthNames: [
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
            "August",
            "September",
            "October",
            "November",
            "December",
            "",
          ],
          monthNamesShort: [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
            "",
          ],
          timePattern: "h:mm tt",
          datePattern: "yyyy-MM-dd",
          dateTimePattern: "yyyy-MM-dd h:mm tt",
          timeFormat: "Clock12Hours",
          weekStarts: 0,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("en-gb", {
          dayNames: [
            "Sunday",
            "Monday",
            "Tuesday",
            "Wednesday",
            "Thursday",
            "Friday",
            "Saturday",
          ],
          dayNamesShort: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
          monthNames: [
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
            "August",
            "September",
            "October",
            "November",
            "December",
            "",
          ],
          monthNamesShort: [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd/MM/yyyy",
          dateTimePattern: "dd/MM/yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("en-us", {
          dayNames: [
            "Sunday",
            "Monday",
            "Tuesday",
            "Wednesday",
            "Thursday",
            "Friday",
            "Saturday",
          ],
          dayNamesShort: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
          monthNames: [
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
            "August",
            "September",
            "October",
            "November",
            "December",
            "",
          ],
          monthNamesShort: [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
            "",
          ],
          timePattern: "h:mm tt",
          datePattern: "M/d/yyyy",
          dateTimePattern: "M/d/yyyy h:mm tt",
          timeFormat: "Clock12Hours",
          weekStarts: 0,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("es-es", {
          dayNames: [
            "domingo",
            "lunes",
            "martes",
            "miércoles",
            "jueves",
            "viernes",
            "sábado",
          ],
          dayNamesShort: ["D", "L", "M", "X", "J", "V", "S"],
          monthNames: [
            "enero",
            "febrero",
            "marzo",
            "abril",
            "mayo",
            "junio",
            "julio",
            "agosto",
            "septiembre",
            "octubre",
            "noviembre",
            "diciembre",
            "",
          ],
          monthNamesShort: [
            "ene.",
            "feb.",
            "mar.",
            "abr.",
            "may.",
            "jun.",
            "jul.",
            "ago.",
            "sep.",
            "oct.",
            "nov.",
            "dic.",
            "",
          ],
          timePattern: "H:mm",
          datePattern: "dd/MM/yyyy",
          dateTimePattern: "dd/MM/yyyy H:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("es-mx", {
          dayNames: [
            "domingo",
            "lunes",
            "martes",
            "miércoles",
            "jueves",
            "viernes",
            "sábado",
          ],
          dayNamesShort: ["do.", "lu.", "ma.", "mi.", "ju.", "vi.", "sá."],
          monthNames: [
            "enero",
            "febrero",
            "marzo",
            "abril",
            "mayo",
            "junio",
            "julio",
            "agosto",
            "septiembre",
            "octubre",
            "noviembre",
            "diciembre",
            "",
          ],
          monthNamesShort: [
            "ene.",
            "feb.",
            "mar.",
            "abr.",
            "may.",
            "jun.",
            "jul.",
            "ago.",
            "sep.",
            "oct.",
            "nov.",
            "dic.",
            "",
          ],
          timePattern: "hh:mm tt",
          datePattern: "dd/MM/yyyy",
          dateTimePattern: "dd/MM/yyyy hh:mm tt",
          timeFormat: "Clock12Hours",
          weekStarts: 0,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("eu-es", {
          dayNames: [
            "igandea",
            "astelehena",
            "asteartea",
            "asteazkena",
            "osteguna",
            "ostirala",
            "larunbata",
          ],
          dayNamesShort: ["ig", "al", "as", "az", "og", "or", "lr"],
          monthNames: [
            "urtarrila",
            "otsaila",
            "martxoa",
            "apirila",
            "maiatza",
            "ekaina",
            "uztaila",
            "abuztua",
            "iraila",
            "urria",
            "azaroa",
            "abendua",
            "",
          ],
          monthNamesShort: [
            "urt.",
            "ots.",
            "mar.",
            "api.",
            "mai.",
            "eka.",
            "uzt.",
            "abu.",
            "ira.",
            "urr.",
            "aza.",
            "abe.",
            "",
          ],
          timePattern: "H:mm",
          datePattern: "yyyy/MM/dd",
          dateTimePattern: "yyyy/MM/dd H:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("fi-fi", {
          dayNames: [
            "sunnuntai",
            "maanantai",
            "tiistai",
            "keskiviikko",
            "torstai",
            "perjantai",
            "lauantai",
          ],
          dayNamesShort: ["su", "ma", "ti", "ke", "to", "pe", "la"],
          monthNames: [
            "tammikuu",
            "helmikuu",
            "maaliskuu",
            "huhtikuu",
            "toukokuu",
            "kesäkuu",
            "heinäkuu",
            "elokuu",
            "syyskuu",
            "lokakuu",
            "marraskuu",
            "joulukuu",
            "",
          ],
          monthNamesShort: [
            "tammi",
            "helmi",
            "maalis",
            "huhti",
            "touko",
            "kesä",
            "heinä",
            "elo",
            "syys",
            "loka",
            "marras",
            "joulu",
            "",
          ],
          timePattern: "H:mm",
          datePattern: "d.M.yyyy",
          dateTimePattern: "d.M.yyyy H:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("fr-be", {
          dayNames: [
            "dimanche",
            "lundi",
            "mardi",
            "mercredi",
            "jeudi",
            "vendredi",
            "samedi",
          ],
          dayNamesShort: ["di", "lu", "ma", "me", "je", "ve", "sa"],
          monthNames: [
            "janvier",
            "février",
            "mars",
            "avril",
            "mai",
            "juin",
            "juillet",
            "août",
            "septembre",
            "octobre",
            "novembre",
            "décembre",
            "",
          ],
          monthNamesShort: [
            "janv.",
            "févr.",
            "mars",
            "avr.",
            "mai",
            "juin",
            "juil.",
            "août",
            "sept.",
            "oct.",
            "nov.",
            "déc.",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd-MM-yy",
          dateTimePattern: "dd-MM-yy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("fr-ca", {
          dayNames: [
            "dimanche",
            "lundi",
            "mardi",
            "mercredi",
            "jeudi",
            "vendredi",
            "samedi",
          ],
          dayNamesShort: ["di", "lu", "ma", "me", "je", "ve", "sa"],
          monthNames: [
            "janvier",
            "février",
            "mars",
            "avril",
            "mai",
            "juin",
            "juillet",
            "août",
            "septembre",
            "octobre",
            "novembre",
            "décembre",
            "",
          ],
          monthNamesShort: [
            "janv.",
            "févr.",
            "mars",
            "avr.",
            "mai",
            "juin",
            "juil.",
            "août",
            "sept.",
            "oct.",
            "nov.",
            "déc.",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "yyyy-MM-dd",
          dateTimePattern: "yyyy-MM-dd HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 0,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("fr-ch", {
          dayNames: [
            "dimanche",
            "lundi",
            "mardi",
            "mercredi",
            "jeudi",
            "vendredi",
            "samedi",
          ],
          dayNamesShort: ["di", "lu", "ma", "me", "je", "ve", "sa"],
          monthNames: [
            "janvier",
            "février",
            "mars",
            "avril",
            "mai",
            "juin",
            "juillet",
            "août",
            "septembre",
            "octobre",
            "novembre",
            "décembre",
            "",
          ],
          monthNamesShort: [
            "janv.",
            "févr.",
            "mars",
            "avr.",
            "mai",
            "juin",
            "juil.",
            "août",
            "sept.",
            "oct.",
            "nov.",
            "déc.",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd.MM.yyyy",
          dateTimePattern: "dd.MM.yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("fr-fr", {
          dayNames: [
            "dimanche",
            "lundi",
            "mardi",
            "mercredi",
            "jeudi",
            "vendredi",
            "samedi",
          ],
          dayNamesShort: ["di", "lu", "ma", "me", "je", "ve", "sa"],
          monthNames: [
            "janvier",
            "février",
            "mars",
            "avril",
            "mai",
            "juin",
            "juillet",
            "août",
            "septembre",
            "octobre",
            "novembre",
            "décembre",
            "",
          ],
          monthNamesShort: [
            "janv.",
            "févr.",
            "mars",
            "avr.",
            "mai",
            "juin",
            "juil.",
            "août",
            "sept.",
            "oct.",
            "nov.",
            "déc.",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd/MM/yyyy",
          dateTimePattern: "dd/MM/yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("fr-lu", {
          dayNames: [
            "dimanche",
            "lundi",
            "mardi",
            "mercredi",
            "jeudi",
            "vendredi",
            "samedi",
          ],
          dayNamesShort: ["di", "lu", "ma", "me", "je", "ve", "sa"],
          monthNames: [
            "janvier",
            "février",
            "mars",
            "avril",
            "mai",
            "juin",
            "juillet",
            "août",
            "septembre",
            "octobre",
            "novembre",
            "décembre",
            "",
          ],
          monthNamesShort: [
            "janv.",
            "févr.",
            "mars",
            "avr.",
            "mai",
            "juin",
            "juil.",
            "août",
            "sept.",
            "oct.",
            "nov.",
            "déc.",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd/MM/yyyy",
          dateTimePattern: "dd/MM/yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("gl-es", {
          dayNames: [
            "domingo",
            "luns",
            "martes",
            "mércores",
            "xoves",
            "venres",
            "sábado",
          ],
          dayNamesShort: ["do", "lu", "ma", "mé", "xo", "ve", "sá"],
          monthNames: [
            "xaneiro",
            "febreiro",
            "marzo",
            "abril",
            "maio",
            "xuño",
            "xullo",
            "agosto",
            "setembro",
            "outubro",
            "novembro",
            "decembro",
            "",
          ],
          monthNamesShort: [
            "xan",
            "feb",
            "mar",
            "abr",
            "maio",
            "xuño",
            "xul",
            "ago",
            "set",
            "out",
            "nov",
            "dec",
            "",
          ],
          timePattern: "H:mm",
          datePattern: "dd/MM/yyyy",
          dateTimePattern: "dd/MM/yyyy H:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("it-it", {
          dayNames: [
            "domenica",
            "lunedì",
            "martedì",
            "mercoledì",
            "giovedì",
            "venerdì",
            "sabato",
          ],
          dayNamesShort: ["do", "lu", "ma", "me", "gi", "ve", "sa"],
          monthNames: [
            "gennaio",
            "febbraio",
            "marzo",
            "aprile",
            "maggio",
            "giugno",
            "luglio",
            "agosto",
            "settembre",
            "ottobre",
            "novembre",
            "dicembre",
            "",
          ],
          monthNamesShort: [
            "gen",
            "feb",
            "mar",
            "apr",
            "mag",
            "giu",
            "lug",
            "ago",
            "set",
            "ott",
            "nov",
            "dic",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd/MM/yyyy",
          dateTimePattern: "dd/MM/yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("it-ch", {
          dayNames: [
            "domenica",
            "lunedì",
            "martedì",
            "mercoledì",
            "giovedì",
            "venerdì",
            "sabato",
          ],
          dayNamesShort: ["do", "lu", "ma", "me", "gi", "ve", "sa"],
          monthNames: [
            "gennaio",
            "febbraio",
            "marzo",
            "aprile",
            "maggio",
            "giugno",
            "luglio",
            "agosto",
            "settembre",
            "ottobre",
            "novembre",
            "dicembre",
            "",
          ],
          monthNamesShort: [
            "gen",
            "feb",
            "mar",
            "apr",
            "mag",
            "giu",
            "lug",
            "ago",
            "set",
            "ott",
            "nov",
            "dic",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd.MM.yyyy",
          dateTimePattern: "dd.MM.yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("ja-jp", {
          dayNames: [
            "日曜日",
            "月曜日",
            "火曜日",
            "水曜日",
            "木曜日",
            "金曜日",
            "土曜日",
          ],
          dayNamesShort: ["日", "月", "火", "水", "木", "金", "土"],
          monthNames: [
            "1月",
            "2月",
            "3月",
            "4月",
            "5月",
            "6月",
            "7月",
            "8月",
            "9月",
            "10月",
            "11月",
            "12月",
            "",
          ],
          monthNamesShort: [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "10",
            "11",
            "12",
            "",
          ],
          timePattern: "H:mm",
          datePattern: "yyyy/MM/dd",
          dateTimePattern: "yyyy/MM/dd H:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 0,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("ko-kr", {
          dayNames: [
            "일요일",
            "월요일",
            "화요일",
            "수요일",
            "목요일",
            "금요일",
            "토요일",
          ],
          dayNamesShort: ["일", "월", "화", "수", "목", "금", "토"],
          monthNames: [
            "1월",
            "2월",
            "3월",
            "4월",
            "5월",
            "6월",
            "7월",
            "8월",
            "9월",
            "10월",
            "11월",
            "12월",
            "",
          ],
          monthNamesShort: [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "10",
            "11",
            "12",
            "",
          ],
          timePattern: "tt h:mm",
          datePattern: "yyyy-MM-dd",
          dateTimePattern: "yyyy-MM-dd tt h:mm",
          timeFormat: "Clock12Hours",
          weekStarts: 0,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("nb-no", {
          dayNames: [
            "søndag",
            "mandag",
            "tirsdag",
            "onsdag",
            "torsdag",
            "fredag",
            "lørdag",
          ],
          dayNamesShort: ["sø", "ma", "ti", "on", "to", "fr", "lø"],
          monthNames: [
            "januar",
            "februar",
            "mars",
            "april",
            "mai",
            "juni",
            "juli",
            "august",
            "september",
            "oktober",
            "november",
            "desember",
            "",
          ],
          monthNamesShort: [
            "jan",
            "feb",
            "mar",
            "apr",
            "mai",
            "jun",
            "jul",
            "aug",
            "sep",
            "okt",
            "nov",
            "des",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd.MM.yyyy",
          dateTimePattern: "dd.MM.yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("nl-nl", {
          dayNames: [
            "zondag",
            "maandag",
            "dinsdag",
            "woensdag",
            "donderdag",
            "vrijdag",
            "zaterdag",
          ],
          dayNamesShort: ["zo", "ma", "di", "wo", "do", "vr", "za"],
          monthNames: [
            "januari",
            "februari",
            "maart",
            "april",
            "mei",
            "juni",
            "juli",
            "augustus",
            "september",
            "oktober",
            "november",
            "december",
            "",
          ],
          monthNamesShort: [
            "jan",
            "feb",
            "mrt",
            "apr",
            "mei",
            "jun",
            "jul",
            "aug",
            "sep",
            "okt",
            "nov",
            "dec",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "d-M-yyyy",
          dateTimePattern: "d-M-yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("nl-be", {
          dayNames: [
            "zondag",
            "maandag",
            "dinsdag",
            "woensdag",
            "donderdag",
            "vrijdag",
            "zaterdag",
          ],
          dayNamesShort: ["zo", "ma", "di", "wo", "do", "vr", "za"],
          monthNames: [
            "januari",
            "februari",
            "maart",
            "april",
            "mei",
            "juni",
            "juli",
            "augustus",
            "september",
            "oktober",
            "november",
            "december",
            "",
          ],
          monthNamesShort: [
            "jan",
            "feb",
            "mrt",
            "apr",
            "mei",
            "jun",
            "jul",
            "aug",
            "sep",
            "okt",
            "nov",
            "dec",
            "",
          ],
          timePattern: "H:mm",
          datePattern: "d/MM/yyyy",
          dateTimePattern: "d/MM/yyyy H:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("nn-no", {
          dayNames: [
            "søndag",
            "måndag",
            "tysdag",
            "onsdag",
            "torsdag",
            "fredag",
            "laurdag",
          ],
          dayNamesShort: ["sø", "må", "ty", "on", "to", "fr", "la"],
          monthNames: [
            "januar",
            "februar",
            "mars",
            "april",
            "mai",
            "juni",
            "juli",
            "august",
            "september",
            "oktober",
            "november",
            "desember",
            "",
          ],
          monthNamesShort: [
            "jan",
            "feb",
            "mar",
            "apr",
            "mai",
            "jun",
            "jul",
            "aug",
            "sep",
            "okt",
            "nov",
            "des",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd.MM.yyyy",
          dateTimePattern: "dd.MM.yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("pt-br", {
          dayNames: [
            "domingo",
            "segunda-feira",
            "terça-feira",
            "quarta-feira",
            "quinta-feira",
            "sexta-feira",
            "sábado",
          ],
          dayNamesShort: ["D", "S", "T", "Q", "Q", "S", "S"],
          monthNames: [
            "janeiro",
            "fevereiro",
            "março",
            "abril",
            "maio",
            "junho",
            "julho",
            "agosto",
            "setembro",
            "outubro",
            "novembro",
            "dezembro",
            "",
          ],
          monthNamesShort: [
            "jan",
            "fev",
            "mar",
            "abr",
            "mai",
            "jun",
            "jul",
            "ago",
            "set",
            "out",
            "nov",
            "dez",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd/MM/yyyy",
          dateTimePattern: "dd/MM/yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 0,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("pl-pl", {
          dayNames: [
            "niedziela",
            "poniedziałek",
            "wtorek",
            "środa",
            "czwartek",
            "piątek",
            "sobota",
          ],
          dayNamesShort: ["N", "Pn", "Wt", "Śr", "Cz", "Pt", "So"],
          monthNames: [
            "styczeń",
            "luty",
            "marzec",
            "kwiecień",
            "maj",
            "czerwiec",
            "lipiec",
            "sierpień",
            "wrzesień",
            "październik",
            "listopad",
            "grudzień",
            "",
          ],
          monthNamesShort: [
            "sty",
            "lut",
            "mar",
            "kwi",
            "maj",
            "cze",
            "lip",
            "sie",
            "wrz",
            "paź",
            "lis",
            "gru",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "yyyy-MM-dd",
          dateTimePattern: "yyyy-MM-dd HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("pt-pt", {
          dayNames: [
            "domingo",
            "segunda-feira",
            "terça-feira",
            "quarta-feira",
            "quinta-feira",
            "sexta-feira",
            "sábado",
          ],
          dayNamesShort: ["D", "S", "T", "Q", "Q", "S", "S"],
          monthNames: [
            "janeiro",
            "fevereiro",
            "março",
            "abril",
            "maio",
            "junho",
            "julho",
            "agosto",
            "setembro",
            "outubro",
            "novembro",
            "dezembro",
            "",
          ],
          monthNamesShort: [
            "jan",
            "fev",
            "mar",
            "abr",
            "mai",
            "jun",
            "jul",
            "ago",
            "set",
            "out",
            "nov",
            "dez",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "dd/MM/yyyy",
          dateTimePattern: "dd/MM/yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 0,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("ro-ro", {
          dayNames: [
            "duminică",
            "luni",
            "marți",
            "miercuri",
            "joi",
            "vineri",
            "sâmbătă",
          ],
          dayNamesShort: ["D", "L", "Ma", "Mi", "J", "V", "S"],
          monthNames: [
            "ianuarie",
            "februarie",
            "martie",
            "aprilie",
            "mai",
            "iunie",
            "iulie",
            "august",
            "septembrie",
            "octombrie",
            "noiembrie",
            "decembrie",
            "",
          ],
          monthNamesShort: [
            "ian.",
            "feb.",
            "mar.",
            "apr.",
            "mai.",
            "iun.",
            "iul.",
            "aug.",
            "sep.",
            "oct.",
            "nov.",
            "dec.",
            "",
          ],
          timePattern: "H:mm",
          datePattern: "dd.MM.yyyy",
          dateTimePattern: "dd.MM.yyyy H:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("ru-ru", {
          dayNames: [
            "воскресенье",
            "понедельник",
            "вторник",
            "среда",
            "четверг",
            "пятница",
            "суббота",
          ],
          dayNamesShort: ["Вс", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"],
          monthNames: [
            "Январь",
            "Февраль",
            "Март",
            "Апрель",
            "Май",
            "Июнь",
            "Июль",
            "Август",
            "Сентябрь",
            "Октябрь",
            "Ноябрь",
            "Декабрь",
            "",
          ],
          monthNamesShort: [
            "янв",
            "фев",
            "мар",
            "апр",
            "май",
            "июн",
            "июл",
            "авг",
            "сен",
            "окт",
            "ноя",
            "дек",
            "",
          ],
          timePattern: "H:mm",
          datePattern: "dd.MM.yyyy",
          dateTimePattern: "dd.MM.yyyy H:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("sk-sk", {
          dayNames: [
            "nedeľa",
            "pondelok",
            "utorok",
            "streda",
            "štvrtok",
            "piatok",
            "sobota",
          ],
          dayNamesShort: ["ne", "po", "ut", "st", "št", "pi", "so"],
          monthNames: [
            "január",
            "február",
            "marec",
            "apríl",
            "máj",
            "jún",
            "júl",
            "august",
            "september",
            "október",
            "november",
            "december",
            "",
          ],
          monthNamesShort: [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "10",
            "11",
            "12",
            "",
          ],
          timePattern: "H:mm",
          datePattern: "d.M.yyyy",
          dateTimePattern: "d.M.yyyy H:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("sv-se", {
          dayNames: [
            "söndag",
            "måndag",
            "tisdag",
            "onsdag",
            "torsdag",
            "fredag",
            "lördag",
          ],
          dayNamesShort: ["sö", "må", "ti", "on", "to", "fr", "lö"],
          monthNames: [
            "januari",
            "februari",
            "mars",
            "april",
            "maj",
            "juni",
            "juli",
            "augusti",
            "september",
            "oktober",
            "november",
            "december",
            "",
          ],
          monthNamesShort: [
            "jan",
            "feb",
            "mar",
            "apr",
            "maj",
            "jun",
            "jul",
            "aug",
            "sep",
            "okt",
            "nov",
            "dec",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "yyyy-MM-dd",
          dateTimePattern: "yyyy-MM-dd HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("tr-tr", {
          dayNames: [
            "Pazar",
            "Pazartesi",
            "Salı",
            "Çarşamba",
            "Perşembe",
            "Cuma",
            "Cumartesi",
          ],
          dayNamesShort: ["Pz", "Pt", "Sa", "Ça", "Pe", "Cu", "Ct"],
          monthNames: [
            "Ocak",
            "Şubat",
            "Mart",
            "Nisan",
            "Mayıs",
            "Haziran",
            "Temmuz",
            "Ağustos",
            "Eylül",
            "Ekim",
            "Kasım",
            "Aralık",
            "",
          ],
          monthNamesShort: [
            "Oca",
            "Şub",
            "Mar",
            "Nis",
            "May",
            "Haz",
            "Tem",
            "Ağu",
            "Eyl",
            "Eki",
            "Kas",
            "Ara",
            "",
          ],
          timePattern: "HH:mm",
          datePattern: "d.M.yyyy",
          dateTimePattern: "d.M.yyyy HH:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("uk-ua", {
          dayNames: [
            "неділя",
            "понеділок",
            "вівторок",
            "середа",
            "четвер",
            "п'ятниця",
            "субота",
          ],
          dayNamesShort: ["Нд", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"],
          monthNames: [
            "січень",
            "лютий",
            "березень",
            "квітень",
            "травень",
            "червень",
            "липень",
            "серпень",
            "вересень",
            "жовтень",
            "листопад",
            "грудень",
            "",
          ],
          monthNamesShort: [
            "Січ",
            "Лют",
            "Бер",
            "Кві",
            "Тра",
            "Чер",
            "Лип",
            "Сер",
            "Вер",
            "Жов",
            "Лис",
            "Гру",
            "",
          ],
          timePattern: "H:mm",
          datePattern: "dd.MM.yyyy",
          dateTimePattern: "dd.MM.yyyy H:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("zh-cn", {
          dayNames: [
            "星期日",
            "星期一",
            "星期二",
            "星期三",
            "星期四",
            "星期五",
            "星期六",
          ],
          dayNamesShort: ["日", "一", "二", "三", "四", "五", "六"],
          monthNames: [
            "一月",
            "二月",
            "三月",
            "四月",
            "五月",
            "六月",
            "七月",
            "八月",
            "九月",
            "十月",
            "十一月",
            "十二月",
            "",
          ],
          monthNamesShort: [
            "1月",
            "2月",
            "3月",
            "4月",
            "5月",
            "6月",
            "7月",
            "8月",
            "9月",
            "10月",
            "11月",
            "12月",
            "",
          ],
          timePattern: "H:mm",
          datePattern: "yyyy/M/d",
          dateTimePattern: "yyyy/M/d H:mm",
          timeFormat: "Clock24Hours",
          weekStarts: 1,
        })
      ),
      DayPilot.Locale.register(
        new DayPilot.Locale("zh-tw", {
          dayNames: [
            "星期日",
            "星期一",
            "星期二",
            "星期三",
            "星期四",
            "星期五",
            "星期六",
          ],
          dayNamesShort: ["日", "一", "二", "三", "四", "五", "六"],
          monthNames: [
            "一月",
            "二月",
            "三月",
            "四月",
            "五月",
            "六月",
            "七月",
            "八月",
            "九月",
            "十月",
            "十一月",
            "十二月",
            "",
          ],
          monthNamesShort: [
            "一月",
            "二月",
            "三月",
            "四月",
            "五月",
            "六月",
            "七月",
            "八月",
            "九月",
            "十月",
            "十一月",
            "十二月",
            "",
          ],
          timePattern: "tt hh:mm",
          datePattern: "yyyy/M/d",
          dateTimePattern: "yyyy/M/d tt hh:mm",
          timeFormat: "Clock12Hours",
          weekStarts: 0,
        })
      ),
      (DayPilot.Locale.US = DayPilot.Locale.find("en-us")),
      (DayPilot.Switcher = function (e) {
        function t(e, t, i) {
          var a = {};
          (a.start = e),
            (a.end = t),
            (a.day = i),
            (a.target = n.s.control),
            (a.preventDefault = function () {
              this.preventDefault.value = !0;
            });
          var r = n.N;
          (r &&
            r.start === a.start &&
            r.end === a.end &&
            r.day === a.day &&
            r.target === a.target) ||
            ((n.N = a),
            ("function" == typeof n.onChange &&
              (n.onChange(a), a.preventDefault.value)) ||
              ("function" == typeof n.onTimeRangeSelect &&
                (n.onTimeRangeSelect(a), a.preventDefault.value)) ||
              (n.s.C(n.t),
              "function" == typeof n.onChanged && n.onChanged(a),
              "function" == typeof n.onTimeRangeSelected &&
                n.onTimeRangeSelected(a)));
        }
        var n = this;
        (this.o = []),
          (this.p = []),
          (this.q = {}),
          (this.selectedClass = null),
          (this.s = null),
          (this.t = DayPilot.Date.today()),
          (this.onChange = null),
          (this.onChanged = null),
          (this.onSelect = null),
          (this.q.updateMode = function (e) {
            var t = n.q.control;
            t && ((t.selectMode = e), t.select(n.t));
          }),
          (this.addView = function (e, t) {
            var i;
            if ("string" == typeof e) {
              if (((i = document.getElementById(e)), !i))
                throw "Element not found: " + e;
            } else i = e;
            var a = i,
              r = {};
            return (
              (r.u = !0),
              (r.z = a.id),
              (r.control = a),
              (r.A = t || {}),
              (r.B = function () {
                a.hide
                  ? a.hide()
                  : a.nav && a.nav.top
                  ? (a.nav.top.style.display = "none")
                  : (a.style.display = "none");
              }),
              (r.C = function (e) {
                (function () {
                  return (
                    !!a.backendUrl ||
                    !("function" != typeof WebForm_DoCallback || !a.uniqueID)
                  );
                })()
                  ? a.commandCallBack &&
                    a.commandCallBack("navigate", { day: e })
                  : ((a.startDate = e), a.update());
              }),
              (r.D = function () {
                n.E(),
                  a.show
                    ? a.show()
                    : a.nav && a.nav.top
                    ? (a.nav.top.style.display = "")
                    : (a.style.display = "");
              }),
              (r.F = function () {
                if (r.A.navigatorSelectMode) return r.A.navigatorSelectMode;
                if (a.isCalendar)
                  switch (a.viewType) {
                    case "Day":
                      return "day";
                    case "Week":
                      return "week";
                    case "WorkWeek":
                      return "week";
                    default:
                      return "day";
                  }
                else if (a.isMonth)
                  switch (a.viewType) {
                    case "Month":
                      return "month";
                    case "Weeks":
                      return "week";
                    default:
                      return "day";
                  }
                return "day";
              }),
              this.o.push(r),
              r
            );
          }),
          (this.addTrigger = function (e, t) {
            var i;
            if ("string" == typeof e) {
              if (((i = document.getElementById(e)), !i))
                throw "Element not found: " + e;
            } else i = e;
            var a = this.G(t);
            a || (a = this.addView(t));
            var r = {};
            return (
              (r.H = !0),
              (r.I = i),
              (r.z = i.id),
              (r.J = a),
              (r.K = function (e) {
                n.show(r), n.L(r), e && e.preventDefault();
              }),
              DayPilot.re(i, "click", r.K),
              this.p.push(r),
              r
            );
          }),
          (this.addButton = this.addTrigger),
          (this.select = function (e) {
            var t = this.M(e);
            t ? t.K() : this.p.length > 0 && this.p[0].K();
          }),
          (this.M = function (e) {
            for (var t = 0; t < this.p.length; t++) {
              var n = this.p[t];
              if (n.z === e) return n;
            }
            return null;
          }),
          (this.L = function (e) {
            if (this.selectedClass) {
              for (var t = 0; t < this.p.length; t++) {
                var n = this.p[t];
                DayPilot.Util.removeClass(n.I, this.selectedClass);
              }
              DayPilot.Util.addClass(e.I, this.selectedClass);
            }
          }),
          (this.addNavigator = function (e) {
            (n.q.control = e),
              (e.timeRangeSelectedHandling = "JavaScript"),
              (e.onTimeRangeSelected = function () {
                var i, a, r;
                if (1 === e.api)
                  (i = arguments[0]), (a = arguments[1]), (r = arguments[2]);
                else {
                  var o = arguments[0];
                  (i = o.start), (a = o.end), (r = o.day);
                }
                (n.t = r), t(i, a, r);
              });
          }),
          (this.show = function (e) {
            var i, a;
            if (e.H) (a = e), (i = a.J);
            else if (((i = e.u ? e : this.G(e)), this.s === i)) return;
            if (n.onSelect) {
              var r = {};
              (r.source = a ? a.I : null),
                (r.target = i.control),
                n.onSelect(r);
            }
            (this.s = i), i.D();
            var o = i.F();
            n.q.updateMode(o),
              t(
                n.q.control.selectionStart,
                n.q.control.selectionEnd.addDays(1),
                n.q.control.selectionDay
              );
          }),
          (this.G = function (e) {
            for (var t = 0; t < this.o.length; t++)
              if (this.o[t].control === e) return this.o[t];
            return null;
          }),
          (this.E = function () {
            for (var e = 0; e < this.o.length; e++) this.o[e].B();
          }),
          Object.defineProperty(this, "active", {
            get: function () {
              return n.s;
            },
          }),
          (this.events = {}),
          (this.events.load = function (e, t, i) {
            if (!n.s || !n.s.control)
              throw "DayPilot.Switcher.events.load(): Active view not found";
            n.s.control.events.load(e, t, i);
          }),
          (this.N = null),
          (this.O = function () {
            if (e)
              for (var t in e)
                if ("triggers" === t) {
                  var i = e.triggers || [];
                  i.forEach(function (e) {
                    n.addTrigger(e.id, e.view);
                  });
                } else
                  "navigator" === t
                    ? n.addNavigator(e.navigator)
                    : (n[t] = e[t]);
          }),
          this.O();
      }),
      (function () {
        if (!DayPilot.Global.defaultCss) {
          var e = DayPilot.sheet();
          e.add(
            ".bubble_default_main",
            "cursor: default; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
          ),
            e.add(
              ".bubble_default_main_inner",
              'border-radius: 5px; padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'
            ),
            e.add(
              ".bubble_default_arrow_top",
              "fill: #ffffff; stroke: #cccccc; stroke-width: 1;"
            ),
            e.add(
              ".bubble_default_arrow_bottom",
              "fill: #eeeeee; stroke: #cccccc; stroke-width: 2;"
            ),
            e.add(
              ".bubble_default_arrow_left",
              "fill: #ffffff; stroke: #cccccc; stroke-width: 1;"
            ),
            e.add(
              ".bubble_default_arrow_right",
              "fill: #ffffff; stroke: #cccccc; stroke-width: 1;"
            ),
            e.add(
              ".menu_default_main",
              "user-select:none; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;font-size: 13px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"
            ),
            e.add(
              ".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after",
              "box-sizing: content-box;"
            ),
            e.add(
              ".menu_default_title",
              "background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"
            ),
            e.add(
              ".menu_default_main a",
              "padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"
            ),
            e.add(
              ".menu_default_main.menu_default_withchildren a",
              "padding: 2px 35px 2px 35px;"
            ),
            e.add(
              ".menu_default_main a img",
              "margin-left: 6px;margin-top: 2px;"
            ),
            e.add(
              ".menu_default_item_text",
              "display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px; white-space: nowrap;"
            ),
            e.add(".menu_default_main a:hover", "background-color: #f3f3f3;"),
            e.add(
              ".menu_default_main div div",
              "border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"
            ),
            e.add(
              ".menu_default_main a.menu_default_item_disabled",
              "color: #ccc"
            ),
            e.add(
              ".menu_default_item_haschildren.menu_default_item_haschildren_active",
              "background-color: #f3f3f3;"
            ),
            e.add(
              ".menu_default_item_haschildren a:before",
              "content: ''; border-width: 5px; border-color: transparent transparent transparent #666; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 5px;"
            ),
            e.add(
              ".menu_default_item_icon",
              "position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"
            ),
            e.add(".menu_default_item a i", "height: 20px;line-height: 20px;"),
            e.add(
              ".menu_default_item .menu_default_item_symbol",
              "width: 18px; height: 18px; color: #999; margin-left: 6px;margin-top: 2px;"
            ),
            e.add(
              ".menubar_default_main",
              "border-bottom: 1px solid #ccc; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px; user-select:none;"
            ),
            e.add(
              ".menubar_default_item",
              "display: inline-block;  padding: 6px 10px; cursor: default;"
            ),
            e.add(".menubar_default_item:hover", "background-color: #f2f2f2;"),
            e.add(".menubar_default_item_active", "background-color: #f2f2f2;"),
            e.add(
              ".queue_default_main",
              "min-width: 100px; border: 1px solid #ccc; padding: 5px; min-height: 200px; overflow-y: auto; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
            ),
            e.add(
              ".queue_default_event_bar",
              "left: 0px; top: 0px; bottom: 0px; width: 5px; background-color: #1066a8;"
            ),
            e.add(
              ".queue_default_event_inner",
              "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 10px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"
            ),
            e.add(
              ".queue_default_event_inner",
              "background:#fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);"
            ),
            e.add(
              ".queue_default_selected .queue_default_event_inner",
              "background: #ddd;"
            ),
            e.add(".queue_default_shadow", "background-color: #ccc;"),
            e.add(
              ".calendar_default_main",
              "--dp-calendar-border-color: #c0c0c0;--dp-calendar-font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;--dp-calendar-font-size: 13px;--dp-calendar-header-bg-color: #f3f3f3;--dp-calendar-header-color: #333;--dp-calendar-colheader-padding: 0px;--dp-calendar-rowheader-font-size: 16pt;--dp-calendar-rowheader-padding: 3px;--dp-calendar-cell-bg-color: #f9f9f9;--dp-calendar-cell-business-bg-color: #ffffff;--dp-calendar-cell-border-color: #ddd;--dp-calendar-colheader-horizontal-align: center;--dp-calendar-colheader-vertical-align: center;--dp-calendar-allday-event-color: #333;--dp-calendar-allday-event-border-color: #999;--dp-calendar-allday-event-border: 1px solid var(--dp-calendar-allday-event-border-color);--dp-calendar-allday-event-border-radius: 0px;--dp-calendar-allday-event-bg-top-color: #ffffff;--dp-calendar-allday-event-bg-bottom-color: #eeeeee;--dp-calendar-allday-event-background: linear-gradient(to bottom, var(--dp-calendar-allday-event-bg-top-color) 0%, var(--dp-calendar-allday-event-bg-bottom-color) 100%);--dp-calendar-allday-event-box-shadow: none;--dp-calendar-allday-event-padding: 4px;--dp-calendar-allday-event-horizontal-align: flex-start;--dp-calendar-event-color: #333;--dp-calendar-event-border-color: #999;--dp-calendar-event-border: 1px solid var(--dp-calendar-event-border-color);--dp-calendar-event-border-radius: 0px;--dp-calendar-event-box-shadow: none;--dp-calendar-event-bg-top-color: #ffffff;--dp-calendar-event-bg-bottom-color: #eeeeee;--dp-calendar-event-background: linear-gradient(to bottom, var(--dp-calendar-event-bg-top-color) 0%, var(--dp-calendar-event-bg-bottom-color) 100%);--dp-calendar-event-bar-bg-color: #9dc8e8;--dp-calendar-event-bar-color: #1066a8;--dp-calendar-event-bar-width: 6px;--dp-calendar-event-bar-left: 0px;--dp-calendar-event-bar-bottom: 0px;--dp-calendar-event-bar-top: 0px;--dp-calendar-event-bar-display: block;--dp-calendar-event-padding: 2px;--dp-calendar-event-padding-left: 8px;--dp-calendar-message-bg-color: #ffa216;--dp-calendar-message-color: #ffffff;--dp-calendar-message-padding: 10px;--dp-calendar-message-opacity: 0.9;--dp-calendar-selected-event-bg-color: #ddd;--dp-calendar-shadow-color: #bbbbbb;--dp-calendar-shadow-border-color: #888888;--dp-calendar-forbidden-shadow-border-color: #cc0000;--dp-calendar-forbidden-shadow-bg-color: #cc4125;--dp-calendar-now-indicator-color: red;--dp-calendar-scroll-bg-color: #f3f3f3;"
            ),
            e.add(
              ".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after",
              "box-sizing: content-box;"
            ),
            e.add(
              ".calendar_default_main",
              "border:1px solid var(--dp-calendar-border-color); font-family:var(--dp-calendar-font-family); font-size:var(--dp-calendar-font-size);"
            ),
            e.add(
              ".calendar_default_rowheader_inner, .calendar_default_cornerright_inner, .calendar_default_corner_inner, .calendar_default_colheader_inner, .calendar_default_alldayheader_inner",
              "color: var(--dp-calendar-header-color); background: var(--dp-calendar-header-bg-color);"
            ),
            e.add(
              ".calendar_default_colheader_back",
              "background: var(--dp-calendar-header-bg-color); border-bottom: 1px solid red;"
            ),
            e.add(
              ".calendar_default_colheader_back_inner",
              "position: absolute; inset: 0; border-bottom: 1px solid var(--dp-calendar-border-color);"
            ),
            e.add(
              ".calendar_default_cornerright_inner",
              "position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-bottom: 1px solid var(--dp-calendar-border-color);"
            ),
            e.add(
              ".calendar_default_direction_rtl .calendar_default_cornerright_inner",
              "border-right: 1px solid var(--dp-calendar-border-color);"
            ),
            e.add(
              ".calendar_default_rowheader_inner",
              "font-size: var(--dp-calendar-rowheader-font-size); text-align: right; position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color); padding: var(--dp-calendar-rowheader-padding);"
            ),
            e.add(
              ".calendar_default_rowheader_simple .calendar_default_rowheader_inner",
              "font-size: inherit; display: flex; align-items: center; justify-content: center; white-space: nowrap;"
            ),
            e.add(
              ".calendar_default_direction_rtl .calendar_default_rowheader_inner",
              "border-right: none;"
            ),
            e.add(
              ".calendar_default_corner_inner",
              "position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color);"
            ),
            e.add(
              ".calendar_default_direction_rtl .calendar_default_corner_inner",
              "border-right: none;"
            ),
            e.add(
              ".calendar_default_rowheader_minutes",
              "font-size: 10px; vertical-align: super; padding-left: 2px; padding-right: 2px;"
            ),
            e.add(
              ".calendar_default_colheader_inner",
              "position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; padding: var(--dp-calendar-colheader-padding);border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color); display: flex; align-items: var(--dp-calendar-colheader-vertical-align); justify-content: var(--dp-calendar-colheader-horizontal-align);"
            ),
            e.add(
              ".calendar_default_cell_inner",
              "position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-cell-border-color); border-bottom: 1px solid var(--dp-calendar-cell-border-color); background: var(--dp-calendar-cell-bg-color);"
            ),
            e.add(
              ".calendar_default_cell_business .calendar_default_cell_inner",
              "background: var(--dp-calendar-cell-business-bg-color);"
            ),
            e.add(
              ".calendar_default_alldayheader_inner",
              "text-align: center; position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color);"
            ),
            e.add(
              ".calendar_default_message",
              "opacity: var(--dp-calendar-message-opacity); padding: var(--dp-calendar-message-padding); color: var(--dp-calendar-message-color); background: var(--dp-calendar-message-bg-color);"
            ),
            e.add(
              ".calendar_default_event_inner",
              "color: var(--dp-calendar-event-color); border: var(--dp-calendar-event-border); border-radius: var(--dp-calendar-event-border-radius); background: var(--dp-calendar-event-background);"
            ),
            e.add(
              ".calendar_default_alldayevent",
              "box-shadow: var(--dp-calendar-allday-event-box-shadow); border-radius: var(--dp-calendar-allday-event-border-radius);"
            ),
            e.add(
              ".calendar_default_alldayevent_inner",
              "color: var(--dp-calendar-allday-event-color); border: var(--dp-calendar-allday-event-border); border-radius: var(--dp-calendar-allday-event-border-radius); background: var(--dp-calendar-allday-event-background);"
            ),
            e.add(
              ".calendar_default_event_bar",
              "display: var(--dp-calendar-event-bar-display); top: var(--dp-calendar-event-bar-top); bottom: var(--dp-calendar-event-bar-bottom); left: var(--dp-calendar-event-bar-left); width: var(--dp-calendar-event-bar-width); background-color: var(--dp-calendar-event-bar-bg-color);"
            ),
            e.add(
              ".calendar_default_direction_rtl .calendar_default_event_bar",
              "top: 0px; bottom: 0px; right: 0px; width: var(--dp-calendar-event-bar-width); background-color: var(--dp-calendar-event-bar-bg-color);"
            ),
            e.add(
              ".calendar_default_event_bar_inner",
              "position: absolute; width: var(--dp-calendar-event-bar-width); background-color: var(--dp-calendar-event-bar-color);"
            ),
            e.add(
              ".calendar_default_selected .calendar_default_event_inner",
              "background: var(--dp-calendar-selected-event-bg-color);"
            ),
            e.add(
              ".calendar_default_alldayevent_inner",
              "position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; overflow: hidden; padding: var(--dp-calendar-allday-event-padding); margin-right: 0px; display: flex; align-items: center; justify-content: var(--dp-calendar-allday-event-horizontal-align);"
            ),
            e.add(
              ".calendar_default_event_withheader .calendar_default_event_inner",
              "padding-top: 15px;"
            ),
            e.add(
              ".calendar_default_event",
              "box-shadow: var(--dp-calendar-event-box-shadow); border-radius: var(--dp-calendar-event-border-radius); cursor: default;"
            ),
            e.add(
              ".calendar_default_event_inner",
              "position: absolute; overflow: hidden; top: 0px; bottom: 0px; left: 0px; right: 0px; padding: var(--dp-calendar-event-padding) var(--dp-calendar-event-padding) var(--dp-calendar-event-padding) var(--dp-calendar-event-padding-left);"
            ),
            e.add(
              ".calendar_default_direction_rtl .calendar_default_event_inner",
              "padding: 2px 8px 2px 2px;"
            ),
            e.add(
              ".calendar_default_shadow_inner",
              "box-sizing: border-box; background-color: var(--dp-calendar-shadow-color); border: 1px solid var(--dp-calendar-shadow-border-color); opacity: 0.5; height: 100%;"
            ),
            e.add(
              ".calendar_default_shadow",
              "box-shadow: 0 2px 5px rgba(0,0,0,0.2);"
            ),
            e.add(
              ".calendar_default_shadow_forbidden:after",
              "content: ''; position: absolute; top: 5px; left: calc(50% - 10px); border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"
            ),
            e.add(
              ".calendar_default_shadow_forbidden .calendar_default_shadow_inner",
              "border: 1px solid var(--dp-calendar-forbidden-shadow-border-color); background: var(--dp-calendar-forbidden-shadow-bg-color);"
            ),
            e.add(
              ".calendar_default_event_delete",
              "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"
            ),
            e.add(
              ".calendar_default_event_delete:hover",
              "opacity: 1; -ms-filter: none;"
            ),
            e.add(
              ".calendar_default_scroll_up",
              "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"
            ),
            e.add(
              ".calendar_default_scroll_down",
              "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"
            ),
            e.add(
              ".calendar_default_now",
              "background-color: var(--dp-calendar-now-indicator-color);"
            ),
            e.add(
              ".calendar_default_now:before",
              "content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent var(--dp-calendar-now-indicator-color); border-style: solid; width: 0px; height: 0px; position: absolute; -moz-transform: scale(.9999);"
            ),
            e.add(
              ".calendar_default_shadow_top",
              "box-sizing: border-box; padding: 2px; border: 1px solid var(--dp-calendar-border-color); background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); pointer-events: none;"
            ),
            e.add(
              ".calendar_default_shadow_bottom",
              "box-sizing: border-box; padding: 2px; border: 1px solid var(--dp-calendar-border-color); background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); pointer-events: none;"
            ),
            e.add(
              ".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top",
              "background-color: gray; opacity: 0.2;"
            ),
            e.add(
              ".calendar_default_loading",
              "background-color: orange; color: white; padding: 2px;"
            ),
            e.add(
              ".calendar_default_scroll",
              "background-color: var(--dp-calendar-header-bg-color);"
            ),
            e.add(".calendar_default_event_moving_source", "opacity: 0.5;"),
            e.add(
              ".calendar_default_colmove_handle",
              "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
            ),
            e.add(
              ".calendar_default_colheader:hover .calendar_default_colheader_splitter",
              "background-color: #c0c0c0;"
            ),
            e.add(
              ".calendar_default_colmove_source",
              "background-color: black; opacity: 0.5;"
            ),
            e.add(
              ".calendar_default_colmove_position_before",
              "box-sizing: border-box; border-left: 2px solid #999999;"
            ),
            e.add(
              ".calendar_default_colmove_position_before:before",
              "content: ''; border-width: 6px; border-color: transparent #999999 transparent transparent; border-style: solid; width: 0px; height: 0px; position: absolute;"
            ),
            e.add(
              ".calendar_default_colmove_position_after",
              "box-sizing: border-box; border-right: 2px solid #999999;"
            ),
            e.add(
              ".calendar_default_colmove_position_after:before",
              "content: ''; border-width: 6px; border-color: transparent transparent transparent #999999; border-style: solid; width: 0px; height: 0px; position: absolute;"
            ),
            e.add(
              ".calendar_default_colmove_position_child",
              "box-sizing: border-box; border-bottom: 2px solid #999999;"
            ),
            e.add(
              ".calendar_default_colmove_position_child:before",
              "content: ''; border-width: 6px; border-color: #999999 transparent transparent transparent; border-style: solid; width: 0px; height: 0px; position: absolute;"
            ),
            e.add(
              ".calendar_default_colmove_position_forbidden",
              "border-top: 2px solid red;"
            ),
            e.add(
              ".calendar_default_colheader .calendar_default_colheader_splitter:hover",
              "background-color: #999999;"
            ),
            e.add(
              ".calendar_default_block",
              "background-color: #808080; opacity: 0.5;"
            ),
            e.add(
              ".month_default_main",
              "--dp-month-border-color: #c0c0c0;--dp-month-font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;--dp-month-font-size: 13px;--dp-month-cell-border-color: #ddd;--dp-month-cell-bg-color: #f9f9f9;--dp-month-cell-business-bg-color: #ffffff;--dp-month-event-color: #333;--dp-month-event-border-color: #999;--dp-month-event-border: 1px solid var(--dp-month-event-border-color);--dp-month-event-bg-top-color: #ffffff;--dp-month-event-bg-bottom-color: #eeeeee;--dp-month-event-background: linear-gradient(to bottom, var(--dp-month-event-bg-top-color) 0%, var(--dp-month-event-bg-bottom-color) 100%);--dp-month-event-horizontal-align: flex-start;--dp-month-event-vertical-align: center;--dp-month-event-padding: 2px;--dp-month-event-padding-left: 10px;--dp-month-event-padding-rtl: 2px 10px 2px 1px;--dp-month-event-border-radius: 0px;--dp-month-event-box-shadow: none;--dp-month-event-bar-top: 1px;--dp-month-event-bar-left: 2px;--dp-month-event-bar-bottom: 1px;--dp-month-event-bar-width: 6px;--dp-month-event-bar-color: #1066a8;--dp-month-event-bar-display: block;--dp-month-header-bg-color: #f3f3f3;--dp-month-header-color: #333;--dp-month-header-horizontal-align: center;--dp-month-header-vertical-align: center;--dp-month-header-padding: 0px;--dp-month-message-bg-color: #ffa216;--dp-month-message-color: #ffffff;--dp-month-message-padding: 10px;--dp-month-selected-event-bg-color: #ddd;--dp-month-shadow-color: #bbbbbb;--dp-month-shadow-border-color: #888888;"
            ),
            e.add(
              ".month_default_main *, .month_default_main *:before, .month_default_main *:after",
              "box-sizing: content-box; "
            ),
            e.add(
              ".month_default_main",
              "border: 1px solid var(--dp-month-border-color); font-family: var(--dp-month-font-family); font-size: var(--dp-month-font-size); color: #333; "
            ),
            e.add(
              ".month_default_cell_inner",
              "border-right: 1px solid var(--dp-month-cell-border-color); border-bottom: 1px solid var(--dp-month-cell-border-color); position: absolute; top: 0; left: 0; bottom: 0; right: 0; background-color: var(--dp-month-cell-bg-color); "
            ),
            e.add(
              ".month_default_cell_business .month_default_cell_inner",
              "background-color: var(--dp-month-cell-business-bg-color); "
            ),
            e.add(
              ".month_default_cell_header",
              "text-align: right; padding: 4px; box-sizing: border-box; "
            ),
            e.add(
              ".month_default_header_inner",
              "position: absolute; inset: 0; border-right: 1px solid var(--dp-month-border-color); border-bottom: 1px solid var(--dp-month-border-color); cursor: default; color: var(--dp-month-header-color); background: var(--dp-month-header-bg-color); overflow: hidden; display: flex; align-items: var(--dp-month-header-vertical-align); justify-content: var(--dp-month-header-horizontal-align); padding: var(--dp-month-header-padding);"
            ),
            e.add(
              ".month_default_message",
              "opacity: 0.9; color: var(--dp-month-message-color); background: var(--dp-month-message-bg-color); padding: var(--dp-month-message-padding); "
            ),
            e.add(
              ".month_default_event",
              "border-radius: var(--dp-month-event-border-radius); box-shadow: var(--dp-month-event-box-shadow); "
            ),
            e.add(
              ".month_default_event_inner",
              "position: absolute; top: 0; bottom: 0; left: 1px; right: 1px; overflow: hidden; padding: var(--dp-month-event-padding) var(--dp-month-event-padding) var(--dp-month-event-padding) var(--dp-month-event-padding-left); color: var(--dp-month-event-color); background: var(--dp-month-event-background); border: var(--dp-month-event-border); border-radius: var(--dp-month-event-border-radius); display: flex; align-items: var(--dp-month-event-vertical-align); justify-content: var(--dp-month-event-horizontal-align); "
            ),
            e.add(
              ".month_default_direction_rtl .month_default_event_inner",
              "right: 2px; padding: var(--dp-month-event-padding-rtl); "
            ),
            e.add(
              ".month_default_event_continueright .month_default_event_inner",
              "border-top-right-radius: 0; border-bottom-right-radius: 0; border-right-style: dotted; "
            ),
            e.add(
              ".month_default_event_continueleft .month_default_event_inner",
              "border-top-left-radius: 0; border-bottom-left-radius: 0; border-left-style: dotted; "
            ),
            e.add(
              ".month_default_event_bar",
              "display: var(--dp-month-event-bar-display); top: var(--dp-month-event-bar-top); bottom: var(--dp-month-event-bar-bottom); left: var(--dp-month-event-bar-left); width: var(--dp-month-event-bar-width); "
            ),
            e.add(
              ".month_default_direction_rtl .month_default_event_bar",
              "top: 1px; bottom: 1px; right: 3px; width: var(--dp-month-event-bar-width); "
            ),
            e.add(
              ".month_default_event_bar_inner",
              "position: absolute; width: var(--dp-month-event-bar-width); background-color: var(--dp-month-event-bar-color); "
            ),
            e.add(
              ".month_default_event_continueleft .month_default_event_bar",
              "display: none; "
            ),
            e.add(
              ".month_default_selected .month_default_event_inner",
              "background: var(--dp-month-selected-event-bg-color); "
            ),
            e.add(
              ".month_default_shadow_inner",
              "box-sizing: border-box; background-color: var(--dp-month-shadow-color); border: 1px solid var(--dp-month-shadow-border-color); opacity: 0.5; height: 100%; "
            ),
            e.add(
              ".month_default_shadow",
              "box-shadow: 0 2px 5px rgba(0, 0, 0, .2); "
            ),
            e.add(
              ".month_default_event_delete",
              "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer; "
            ),
            e.add(".month_default_event_delete:hover", "opacity: 1; "),
            e.add(
              ".month_default_event_timeleft",
              "color: #ccc; font-size: 11px; display: flex; align-items: center; "
            ),
            e.add(
              ".month_default_event_timeright",
              "color: #ccc; font-size: 11px; display: flex; align-items: center; justify-content: end; "
            ),
            e.add(
              ".month_default_loading",
              "background-color: orange; color: white; padding: 2px; "
            ),
            e.add(
              ".month_default_shadow_forbidden:after",
              "content: ''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain; "
            ),
            e.add(
              ".month_default_shadow_forbidden .month_default_shadow_inner",
              "border: 1px solid #cc0000; background: #cc4125; "
            ),
            e.add(
              ".navigator_default_main",
              "--dp-nav-border-color: #c0c0c0;--dp-nav-font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;--dp-nav-font-size: 12px;--dp-nav-title-color: #333;--dp-nav-title-bg-color: #f3f3f3;--dp-nav-dayheader-color: #333;--dp-nav-dayheader-bg-color: #ffffff;--dp-nav-weeknumber-color: #999;--dp-nav-weeknumber-bg-color: #ffffff;--dp-nav-day-color: #000;--dp-nav-day-bg-color: #ffffff;--dp-nav-dayother-color: gray;--dp-nav-dayother-bg-color: #ffffff;--dp-nav-weekend-bg-color: #f0f0f0;--dp-nav-select-bg-color: #FFE794;--dp-nav-text-align: center;"
            ),
            e.add(
              ".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after",
              "box-sizing: content-box;"
            ),
            e.add(
              ".navigator_default_main",
              "border-left: 1px solid var(--dp-nav-border-color);border-right: 1px solid var(--dp-nav-border-color);border-bottom: 1px solid var(--dp-nav-border-color);background-color: white;color: var(--dp-nav-day-color);box-sizing: content-box;"
            ),
            e.add(
              ".navigator_default_month",
              "font-family: var(--dp-nav-font-family);font-size: var(--dp-nav-font-size);"
            ),
            e.add(
              ".navigator_default_day",
              "color: var(--dp-nav-day-color); background-color: var(--dp-nav-day-bg-color);"
            ),
            e.add(
              ".navigator_default_weekend",
              "background-color: var(--dp-nav-weekend-bg-color);"
            ),
            e.add(
              ".navigator_default_dayheader",
              "color: var(--dp-nav-dayheader-color);background-color: var(--dp-nav-dayheader-bg-color);text-align: var(--dp-nav-text-align);padding: 0px;"
            ),
            e.add(
              ".navigator_default_line",
              "border-bottom: 1px solid var(--dp-nav-border-color);"
            ),
            e.add(
              ".navigator_default_dayother",
              "color: var(--dp-nav-dayother-color); background-color: var(--dp-nav-dayother-bg-color);"
            ),
            e.add(".navigator_default_todaybox", "border: 1px solid red;"),
            e.add(
              ".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright",
              "box-sizing: border-box; border-top: 1px solid var(--dp-nav-border-color);border-bottom: 1px solid var(--dp-nav-border-color);color: var(--dp-nav-title-color);background: var(--dp-nav-title-bg-color);text-align: var(--dp-nav-text-align);"
            ),
            e.add(".navigator_default_busy", "font-weight: bold;"),
            e.add(
              ".navigator_default_cell",
              "text-align: var(--dp-nav-text-align);"
            ),
            e.add(
              ".navigator_default_select .navigator_default_cell_box",
              "background-color: var(--dp-nav-select-bg-color);opacity: 0.5;"
            ),
            e.add(
              ".navigator_default_weeknumber",
              "text-align: var(--dp-nav-text-align);color: var(--dp-nav-weeknumber-color);background: var(--dp-nav-weeknumber-bg-color);"
            ),
            e.add(".navigator_default_cell_text", "cursor: pointer;"),
            e.add(
              ".navigator_default_todaysection",
              "box-sizing: border-box; display: flex; align-items: center; justify-content: center; border-top: 1px solid var(--dp-nav-border-color);"
            ),
            e.add(
              ".navigator_default_todaysection_button",
              "cursor: pointer; color: #333; background-color: #f0f0f0; border: 1px solid var(--dp-nav-border-color); padding: 5px 10px; border-radius: 0px; "
            ),
            e.add(
              ".scheduler_default_main",
              '--dp-scheduler-border-color: #c0c0c0;--dp-scheduler-border-inner-color: #e0e0e0;--dp-scheduler-cell-bg-color: #f9f9f9;--dp-scheduler-cell-business-bg-color: #ffffff;--dp-scheduler-event-background: linear-gradient(to bottom, var(--dp-scheduler-event-bg-top-color) 0%, var(--dp-scheduler-event-bg-bottom-color) 100%);--dp-scheduler-event-bg-bottom-color: #eeeeee;--dp-scheduler-event-bg-top-color: #ffffff;--dp-scheduler-event-bar-bg-color: #9dc8e8;--dp-scheduler-event-bar-color: #1066a8;--dp-scheduler-event-bar-display: block;--dp-scheduler-event-bar-height: 4px;--dp-scheduler-event-bar-left: 0px;--dp-scheduler-event-bar-right: 0px;--dp-scheduler-event-bar-top: 0px;--dp-scheduler-event-border: 1px solid var(--dp-scheduler-event-border-color);--dp-scheduler-event-border-color: #ccc;--dp-scheduler-event-border-radius: 0px;--dp-scheduler-event-box-shadow: none;--dp-scheduler-event-color: #333;--dp-scheduler-event-horizontal-align: flex-start;--dp-scheduler-event-milestone-color: #38761d;--dp-scheduler-event-padding: 2px;--dp-scheduler-event-selected-bg-color: #ddd;--dp-scheduler-event-vertical-align: center;--dp-scheduler-focus-outline-color: red;--dp-scheduler-font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--dp-scheduler-font-size: 13px;--dp-scheduler-grid-line-break-color: #999;--dp-scheduler-grid-line-color: #eee;--dp-scheduler-header-bg-color: #f3f3f3;--dp-scheduler-header-color: #333;--dp-scheduler-link-color: #cc0000;--dp-scheduler-message-bg-color: #ffa216;--dp-scheduler-message-color: #ffffff;--dp-scheduler-message-padding: 10px;--dp-scheduler-rowheader-padding: 7px;--dp-scheduler-rowheader-vertical-align: center;--dp-scheduler-selectionrectangle-color: #1066a8;--dp-scheduler-shadow-border-color: #888888;--dp-scheduler-shadow-color: #bbbbbb;--dp-scheduler-timeheader-horizontal-align: center;--dp-scheduler-timeheader-padding: 0px;--dp-scheduler-timeheader-vertical-align: center;'
            ),
            e.add(
              ".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after",
              "box-sizing: content-box;"
            ),
            e.add(
              ".scheduler_default_main, .scheduler_default_main svg text",
              "box-sizing: content-box; border: 1px solid var(--dp-scheduler-border-color); font-family: var(--dp-scheduler-font-family); font-size: var(--dp-scheduler-font-size);"
            ),
            e.add(
              ".scheduler_default_selected .scheduler_default_event_inner",
              "background: var(--dp-scheduler-event-selected-bg-color);"
            ),
            e.add(
              ".scheduler_default_timeheader_scroll",
              "background: var(--dp-scheduler-header-bg-color);"
            ),
            e.add(
              ".scheduler_default_message",
              "opacity: 0.9; padding: var(--dp-scheduler-message-padding); color: var(--dp-scheduler-message-color); background: var(--dp-scheduler-message-bg-color);"
            ),
            e.add(
              ".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol",
              "color: var(--dp-scheduler-header-color); background: var(--dp-scheduler-header-bg-color);"
            ),
            e.add(
              ".scheduler_default_rowheader,.scheduler_default_corner",
              "color: var(--dp-scheduler-header-color); background: var(--dp-scheduler-header-bg-color);"
            ),
            e.add(
              ".scheduler_default_rowheader.scheduler_default_rowheader_selected",
              "background-color: #aaa; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"
            ),
            e.add(
              ".scheduler_default_rowheader_inner",
              "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; border-right: 1px solid var(--dp-scheduler-border-inner-color); padding: var(--dp-scheduler-rowheader-padding); display: flex; align-items: var(--dp-scheduler-rowheader-vertical-align);"
            ),
            e.add(
              ".scheduler_default_timeheadergroup_inner, .scheduler_default_timeheadercol_inner",
              "position: absolute; left: 0; right: 0; top: 0; bottom: 0;  border-right: 1px solid var(--dp-scheduler-border-color);"
            ),
            e.add(
              ".scheduler_default_timeheadergroup_inner",
              "border-bottom: 1px solid var(--dp-scheduler-border-color);"
            ),
            e.add(
              ".scheduler_default_timeheadergroup_inner, .scheduler_default_timeheadercol_inner, .scheduler_default_timeheader_float",
              "display: flex; align-items: var(--dp-scheduler-timeheader-vertical-align); justify-content: var(--dp-scheduler-timeheader-horizontal-align); padding: var(--dp-scheduler-timeheader-padding);"
            ),
            e.add(
              ".scheduler_default_divider, .scheduler_default_splitter",
              "background-color: var(--dp-scheduler-border-color);"
            ),
            e.add(
              ".scheduler_default_divider_horizontal",
              "background-color: var(--dp-scheduler-border-color);"
            ),
            e.add(
              ".scheduler_default_matrix_vertical_line",
              "background-color: var(--dp-scheduler-grid-line-color);"
            ),
            e.add(
              ".scheduler_default_matrix_vertical_break",
              "background-color: var(--dp-scheduler-grid-line-break-color);"
            ),
            e.add(
              ".scheduler_default_matrix_horizontal_line",
              "background-color: var(--dp-scheduler-grid-line-color);"
            ),
            e.add(
              ".scheduler_default_resourcedivider",
              "background-color: var(--dp-scheduler-border-color);"
            ),
            e.add(
              ".scheduler_default_shadow_inner",
              "box-sizing: border-box; background-color: var(--dp-scheduler-shadow-color); border: 1px solid var(--dp-scheduler-shadow-border-color); border-radius: var(--dp-scheduler-event-border-radius); opacity: 0.5; height: 100%;"
            ),
            e.add(
              ".scheduler_default_shadow",
              "box-shadow: 0 2px 5px rgba(0,0,0,.2); border-radius: var(--dp-scheduler-event-border-radius);"
            ),
            e.add(
              ".scheduler_default_event",
              "font-size: var(--dp-scheduler-font-size); color: var(--dp-scheduler-event-color); border-radius: var(--dp-scheduler-event-border-radius); box-shadow: var(--dp-scheduler-event-box-shadow);"
            ),
            e.add(
              ".scheduler_default_event_inner",
              "position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; border-radius: var(--dp-scheduler-event-border-radius); padding: var(--dp-scheduler-event-padding); overflow: hidden; border: var(--dp-scheduler-event-border); display: flex; align-items: var(--dp-scheduler-event-vertical-align); justify-content: var(--dp-scheduler-event-horizontal-align); background: var(--dp-scheduler-event-background);"
            ),
            e.add(
              ".scheduler_default_event_bar",
              "display: var(--dp-scheduler-event-bar-display);top: var(--dp-scheduler-event-bar-top); left: var(--dp-scheduler-event-bar-left); right: var(--dp-scheduler-event-bar-right); height: var(--dp-scheduler-event-bar-height); background-color: var(--dp-scheduler-event-bar-bg-color);"
            ),
            e.add(
              ".scheduler_default_event_bar_inner",
              "position:absolute; height: var(--dp-scheduler-event-bar-height); background-color: var(--dp-scheduler-event-bar-color);"
            ),
            e.add(
              ".scheduler_default_event_float",
              "display: flex; align-items: center;"
            ),
            e.add(
              ".scheduler_default_event_float_inner",
              "padding: var(--dp-scheduler-event-padding) var(--dp-scheduler-event-padding) var(--dp-scheduler-event-padding) 8px; position: relative;"
            ),
            e.add(
              ".scheduler_default_event_float_inner:after",
              'content:""; border-color: transparent #666 transparent transparent; border-style:solid; border-width:5px; width:0; height:0; position:absolute; top: calc(50% - 5px); left:-4px;'
            ),
            e.add(
              ".scheduler_default_event_focus",
              "outline: var(--dp-scheduler-focus-outline-color) 2px solid; z-index: 100; opacity: 0.5;"
            ),
            e.add(
              ".scheduler_default_columnheader_inner",
              "font-weight: bold;"
            ),
            e.add(
              ".scheduler_default_columnheader_splitter",
              "box-sizing: border-box; border-right: 1px solid var(--dp-scheduler-border-color);"
            ),
            e.add(
              ".scheduler_default_columnheader_splitter:hover",
              "background-color: var(--dp-scheduler-border-color);"
            ),
            e.add(
              ".scheduler_default_columnheader_cell_inner",
              "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"
            ),
            e.add(
              ".scheduler_default_cell",
              "background-color: var(--dp-scheduler-cell-bg-color);"
            ),
            e.add(
              ".scheduler_default_cell.scheduler_default_cell_business",
              "background-color: var(--dp-scheduler-cell-business-bg-color);"
            ),
            e.add(
              ".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected, .scheduler_default_cell.scheduler_default_cell_selected",
              "background-color: #ccc; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"
            ),
            e.add(".scheduler_default_tree_image_no_children", ""),
            e.add(
              ".scheduler_default_tree_image_expand",
              "background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"
            ),
            e.add(
              ".scheduler_default_tree_image_collapse",
              "background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"
            ),
            e.add(
              ".scheduler_default_event_delete",
              "background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center; opacity: 0.6; cursor: pointer;"
            ),
            e.add(".scheduler_default_event_delete:hover", "opacity: 1;"),
            e.add(
              ".scheduler_default_rowmove_handle",
              "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
            ),
            e.add(
              ".scheduler_default_rowmove_source",
              "background-color: black; opacity: 0.2;"
            ),
            e.add(
              ".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after",
              "background-color: #999; height: 2px;"
            ),
            e.add(
              ".scheduler_default_rowmove_position_child",
              "margin-left: 20px; background-color: #999; height: 2px;"
            ),
            e.add(
              ".scheduler_default_rowmove_position_forbidden",
              "background-color: #cc0000; height: 2px; margin-left: 20px;"
            ),
            e.add(
              ".scheduler_default_link_horizontal",
              "border-bottom-style: solid; border-bottom-color: var(--dp-scheduler-link-color);"
            ),
            e.add(
              ".scheduler_default_link_vertical",
              "border-right-style: solid; border-right-color: var(--dp-scheduler-link-color);"
            ),
            e.add(
              ".scheduler_default_link_arrow_right:before",
              "content: ''; border-width: 6px; border-color: transparent transparent transparent var(--dp-scheduler-link-color); border-style: solid; width: 0; height:0; position: absolute;"
            ),
            e.add(
              ".scheduler_default_link_arrow_left:before",
              "content: ''; border-width: 6px; border-color: transparent var(--dp-scheduler-link-color) transparent transparent; border-style: solid; width: 0; height:0; position: absolute;"
            ),
            e.add(
              ".scheduler_default_link_arrow_down:before",
              "content: ''; border-width: 6px; border-color: var(--dp-scheduler-link-color) transparent transparent transparent; border-style: solid; width: 0; height:0; position: absolute;"
            ),
            e.add(
              ".scheduler_default_link_arrow_up:before",
              "content: ''; border-width: 6px; border-color: transparent transparent var(--dp-scheduler-link-color) transparent; border-style: solid; width: 0; height:0; position: absolute;"
            ),
            e.add(
              ".scheduler_default_link_mshadow.scheduler_default_link_horizontal",
              "border-bottom-color: #aaaaaa;"
            ),
            e.add(
              ".scheduler_default_link_mshadow.scheduler_default_link_vertical",
              "border-right-color: #aaaaaa;"
            ),
            e.add(
              ".scheduler_default_link_mshadow.scheduler_default_link_arrow_right:before",
              "border-color: transparent transparent transparent #aaaaaa;"
            ),
            e.add(
              ".scheduler_default_link_mshadow.scheduler_default_link_arrow_left:before",
              "border-color: transparent #aaaaaa transparent transparent;"
            ),
            e.add(
              ".scheduler_default_link_mshadow.scheduler_default_link_arrow_down:before",
              "border-color: #aaaaaa transparent transparent transparent;"
            ),
            e.add(
              ".scheduler_default_link_mshadow.scheduler_default_link_arrow_up:before",
              "border-color: transparent transparent #aaaaaa transparent;"
            ),
            e.add(
              ".scheduler_default_block",
              "background-color: #808080; opacity: 0.5;"
            ),
            e.add(
              ".scheduler_default_main .scheduler_default_event_group",
              "box-sizing: border-box; font-size: 13px; color: #666; padding: 2px; overflow:hidden; border:1px solid var(--dp-scheduler-event-border-color); background-color: #fff; display: flex; align-items: center; white-space: nowrap;"
            ),
            e.add(
              ".scheduler_default_main .scheduler_default_header_icon",
              "box-sizing: border-box; border: 1px solid var(--dp-scheduler-border-color); background-color: var(--dp-scheduler-header-bg-color); color: var(--dp-scheduler-header-color);"
            ),
            e.add(
              ".scheduler_default_header_icon:hover",
              "background-color: #ccc;"
            ),
            e.add(
              ".scheduler_default_header_icon_hide:before",
              "content: '\\00AB';"
            ),
            e.add(
              ".scheduler_default_header_icon_show:before",
              "content: '\\00BB';"
            ),
            e.add(
              ".scheduler_default_row_new .scheduler_default_rowheader_inner",
              "padding-left: 10px; color: #666; cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"
            );
          e.add(
            ".scheduler_default_row_new .scheduler_default_rowheader_inner:hover",
            "background: white; color: white;"
          );
          e.add(".scheduler_default_rowheader textarea", "padding: 3px;"),
            e.add(
              ".scheduler_default_rowheader_scroll",
              "cursor: default; background: var(--dp-scheduler-header-bg-color);"
            ),
            e.add(
              ".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner, .scheduler_default_shadow_overlap .scheduler_default_shadow_inner",
              "border: 1px solid #cc0000; background: #cc4125;"
            ),
            e.add(".scheduler_default_event_moving_source", "opacity: 0.5;"),
            e.add(
              ".scheduler_default_linkpoint",
              "background-color: white; border: 1px solid gray; border-radius: 5px;"
            ),
            e.add(
              ".scheduler_default_linkpoint.scheduler_default_linkpoint_hover",
              "background-color: black;"
            ),
            e.add(
              ".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner",
              "overflow:hidden; background-color: #cfdde8; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"
            ),
            e.add(
              ".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top",
              "background-color: gray; opacity: 0.2;"
            ),
            e.add(
              ".scheduler_default_link_dot",
              "border-radius: 10px; background-color: var(--dp-scheduler-link-color);"
            ),
            e.add(
              ".scheduler_default_task_milestone .scheduler_default_event_inner",
              "position:absolute; top:16%; left:16%; right:16%; bottom:16%; background: var(--dp-scheduler-event-milestone-color); border: 0px none; transform: rotate(45deg); filter: none;"
            ),
            e.add(
              ".scheduler_default_event_left, .scheduler_default_event_right",
              "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"
            ),
            e.add(".scheduler_default_main:focus", "outline: none;"),
            e.add(
              ".scheduler_default_cell_focus",
              "outline: var(--dp-scheduler-focus-outline-color) 2px solid; outline-offset: -2px; z-index: 100; opacity: 0.5;"
            ),
            e.add(
              ".scheduler_default_cell_focus.scheduler_default_cell_focus_top",
              "border-top: 4px solid var(--dp-scheduler-focus-outline-color);"
            ),
            e.add(
              ".scheduler_default_cell_focus.scheduler_default_cell_focus_bottom",
              "border-bottom: 4px solid var(--dp-scheduler-focus-outline-color);"
            ),
            e.add(
              ".scheduler_default_selectionrectangle",
              "background-color: var(--dp-scheduler-selectionrectangle-color); border: 1px solid #000033; opacity: 0.4;"
            ),
            e.add(".scheduler_default_link_shadow", "border:1px solid black;"),
            e.add(
              ".scheduler_default_link_shadow_circle",
              "background-color:black;"
            ),
            e.add(
              ".scheduler_default_event_move_left",
              "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"
            ),
            e.add(
              ".scheduler_default_event_move_right",
              "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"
            ),
            e.add(
              ".scheduler_default_link_hover",
              "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"
            ),
            e.add(
              ".scheduler_default_sorticon",
              "opacity: 0.2;background-position: center center; background-repeat: no-repeat; cursor: pointer;"
            ),
            e.add(
              ".scheduler_default_sorticon.scheduler_default_sorticon_asc",
              "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDEuNSwgMTAgMTAsIDAgMTAiLz48L3N2Zz4=');"
            ),
            e.add(
              ".scheduler_default_sorticon.scheduler_default_sorticon_desc",
              "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDguNSwgMCAwLCAxMCAwIi8+PC9zdmc+');"
            ),
            e.add(
              ".scheduler_default_sorticon.scheduler_default_sorticon_active",
              "opacity: 1;"
            ),
            e.add(
              ".scheduler_default_loading",
              "background-color: orange; color: white; padding: 2px;"
            ),
            e.add(
              ".scheduler_default_link_curve",
              "stroke: var(--dp-scheduler-link-color); fill: none; stroke-width: 2;"
            ),
            e.add(
              ".scheduler_default_link_curve:hover",
              "stroke-opacity: 0.5;"
            ),
            e.add(
              ".scheduler_default_link_curve_dot",
              "fill: var(--dp-scheduler-link-color);"
            ),
            e.add(
              ".scheduler_default_link_curve_marker",
              "fill: var(--dp-scheduler-link-color);"
            ),
            e.add(
              ".scheduler_default_link_curve_text",
              "fill: var(--dp-scheduler-link-color);"
            ),
            e.add(
              ".scheduler_default_link_curve_mshadow.scheduler_default_link_curve",
              "stroke: #aaaaaa;"
            ),
            e.add(
              ".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_dot",
              "fill: #aaaaaa;"
            ),
            e.add(
              ".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_marker",
              "fill: #aaaaaa;"
            ),
            e.add(
              ".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_text",
              "fill: #aaaaaa;"
            ),
            e.add(
              ".gantt_default_main",
              "--dp-gantt-border-color: #c0c0c0;--dp-gantt-border-inner-color: #e0e0e0;--dp-gantt-cell-bg-color: #f9f9f9;--dp-gantt-cell-business-bg-color: #ffffff;--dp-gantt-event-background: linear-gradient(to bottom, var(--dp-gantt-event-bg-top-color) 0%, var(--dp-gantt-event-bg-bottom-color) 100%);--dp-gantt-event-bg-bottom-color: #eeeeee;--dp-gantt-event-bg-top-color: #ffffff;--dp-gantt-event-bar-bg-color: #9dc8e8;--dp-gantt-event-bar-color: #1066a8;--dp-gantt-event-bar-display: block;--dp-gantt-event-bar-height: 4px;--dp-gantt-event-bar-left: 0px;--dp-gantt-event-bar-right: 0px;--dp-gantt-event-bar-top: 0px;--dp-gantt-event-border: 1px solid var(--dp-gantt-event-border-color);--dp-gantt-event-border-color: #ccc;--dp-gantt-event-border-radius: 0px;--dp-gantt-event-box-shadow: none;--dp-gantt-event-color: #666;--dp-gantt-event-horizontal-align: flex-start;--dp-gantt-event-milestone-color: #38761d;--dp-gantt-event-padding: 2px;--dp-gantt-event-selected-bg-color: #DAE8FC;--dp-gantt-event-selected-outline-color: #4A90E2;--dp-gantt-event-vertical-align: center;--dp-gantt-font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;--dp-gantt-font-size: 13px;--dp-gantt-grid-line-break-color: #999;--dp-gantt-grid-line-color: #eee;--dp-gantt-header-bg-color: #f3f3f3;--dp-gantt-header-color: #333;--dp-gantt-link-color: #cc0000;--dp-gantt-message-bg-color: #ffa216;--dp-gantt-message-color: #fff;--dp-gantt-message-padding: 10px;--dp-gantt-rowheader-padding: 7px;--dp-gantt-rowheader-vertical-align: center;--dp-gantt-selectionrectangle-color: #1066a8;--dp-gantt-shadow-border-color: #888888;--dp-gantt-shadow-color: #bbbbbb;--dp-gantt-timeheader-horizontal-align: center;--dp-gantt-timeheader-padding: 0px;--dp-gantt-timeheader-vertical-align: center;"
            ),
            e.add(
              ".gantt_default_selected",
              "outline: 2px solid var(--dp-gantt-event-selected-outline-color); border-radius: 4px; box-shadow: 0 0 8px rgba(74,144,226,0.5);"
            ),
            e.add(
              ".gantt_default_selected .gantt_default_event_inner",
              "background: var(--dp-gantt-event-selected-bg-color);"
            ),
            e.add(
              ".gantt_default_main",
              "border: 1px solid var(--dp-gantt-border-color); font-family: var(--dp-gantt-font-family); font-size: var(--dp-gantt-font-size);"
            ),
            e.add(
              ".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after",
              "box-sizing: content-box;"
            ),
            e.add(".gantt_default_timeheader", "cursor: default; color: #666;"),
            e.add(
              ".gantt_default_timeheader_scroll",
              "background: var(--dp-gantt-header-bg-color);"
            ),
            e.add(
              ".gantt_default_message",
              "opacity: 0.9; padding: var(--dp-gantt-message-padding); color: var(--dp-gantt-message-color); background: var(--dp-gantt-message-bg-color);"
            ),
            e.add(
              ".gantt_default_timeheadergroup,.gantt_default_timeheadercol",
              "color: var(--dp-gantt-header-color); background: var(--dp-gantt-header-bg-color);"
            ),
            e.add(
              ".gantt_default_rowheader,.gantt_default_corner",
              "color: var(--dp-gantt-header-color); background: var(--dp-gantt-header-bg-color);"
            ),
            e.add(
              ".gantt_default_rowheader.gantt_default_rowheader_selected",
              "background-color: #aaa; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"
            ),
            e.add(
              ".gantt_default_rowheader_inner",
              "position: absolute; left: 0; right: 0; top: 0; bottom: 0; border-right: 1px solid var(--dp-gantt-border-inner-color); padding: var(--dp-gantt-rowheader-padding); display: flex; align-items: var(--dp-gantt-rowheader-vertical-align);"
            ),
            e.add(
              ".gantt_default_timeheadergroup_inner, .gantt_default_timeheadercol_inner",
              "position: absolute; left: 0; right: 0; top: 0; bottom: 0;  border-right: 1px solid var(--dp-gantt-border-color);"
            ),
            e.add(
              ".gantt_default_timeheadergroup_inner",
              "border-bottom: 1px solid var(--dp-gantt-border-color);"
            ),
            e.add(
              ".gantt_default_timeheadergroup_inner, .gantt_default_timeheadercol_inner, .gantt_default_timeheader_float",
              "display: flex; align-items: var(--dp-gantt-timeheader-vertical-align); justify-content: var(--dp-gantt-timeheader-horizontal-align); padding: var(--dp-gantt-timeheader-padding);"
            ),
            e.add(
              ".gantt_default_divider, .gantt_default_splitter",
              "background-color: var(--dp-gantt-border-color);"
            ),
            e.add(
              ".gantt_default_divider_horizontal",
              "background-color: var(--dp-gantt-border-color);"
            ),
            e.add(
              ".gantt_default_matrix_vertical_line",
              "background-color: var(--dp-gantt-grid-line-color);"
            ),
            e.add(
              ".gantt_default_matrix_vertical_break",
              "background-color: var(--dp-gantt-grid-line-break-color);"
            ),
            e.add(
              ".gantt_default_matrix_horizontal_line",
              "background-color: var(--dp-gantt-grid-line-color);"
            ),
            e.add(
              ".gantt_default_resourcedivider",
              "background-color: var(--dp-gantt-border-color);"
            ),
            e.add(
              ".gantt_default_shadow_inner",
              "box-sizing: border-box; background-color: var(--dp-gantt-shadow-color); border: 1px solid var(--dp-gantt-shadow-border-color); opacity: 0.5; height: 100%;"
            ),
            e.add(
              ".gantt_default_shadow",
              "box-shadow: 0 2px 5px rgba(0,0,0,.2);"
            ),
            e.add(
              ".gantt_default_event",
              "color: var(--dp-gantt-event-color); box-shadow: var(--dp-gantt-event-box-shadow); border-radius: var(--dp-gantt-event-border-radius);"
            ),
            e.add(
              ".gantt_default_event_inner",
              "position: absolute; top: 0; left: 0; right: 0; bottom: 0; border-radius: var(--dp-gantt-event-border-radius); padding: var(--dp-gantt-event-padding); overflow: hidden; border: var(--dp-gantt-event-border); display: flex; align-items: var(--dp-gantt-event-vertical-align); justify-content: var(--dp-gantt-event-horizontal-align); background: var(--dp-gantt-event-background);"
            ),
            e.add(
              ".gantt_default_event_bar",
              "display: var(--dp-gantt-event-bar-display); top: var(--dp-gantt-event-bar-top); left: var(--dp-gantt-event-bar-left); right: var(--dp-gantt-event-bar-right); height: var(--dp-gantt-event-bar-height); background-color: var(--dp-gantt-event-bar-bg-color);"
            ),
            e.add(
              ".gantt_default_event_bar_inner",
              "position:absolute; height: var(--dp-gantt-event-bar-height); background-color: var(--dp-gantt-event-bar-color);"
            ),
            e.add(
              ".gantt_default_event_float",
              "display: flex; align-items: center;"
            ),
            e.add(
              ".gantt_default_event_float_inner",
              "padding: 6px 2px 2px 8px;"
            ),
            e.add(
              ".gantt_default_event_float_inner:after",
              'content:""; border-color: transparent var(--dp-gantt-event-color) transparent transparent; border-style: solid; border-width: 5px; width: 0; height: 0; position: absolute; top: calc(50% - 5px); left: -4px;'
            ),
            e.add(".gantt_default_columnheader_inner", "font-weight: bold;"),
            e.add(
              ".gantt_default_columnheader_splitter",
              "background-color: #666; opacity: 0.5;"
            ),
            e.add(
              ".gantt_default_columnheader_cell_inner",
              "position: absolute; left: 0; right: 0; top: 0; bottom: 0; padding: 2px; display: flex; align-items: center;"
            ),
            e.add(
              ".gantt_default_cell",
              "background-color: var(--dp-gantt-cell-bg-color);"
            ),
            e.add(
              ".gantt_default_cell.gantt_default_cell_business",
              "background-color: var(--dp-gantt-cell-business-bg-color);"
            ),
            e.add(
              ".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected",
              "background-color: #ccc; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"
            ),
            e.add(".gantt_default_tree_image_no_children", ""),
            e.add(
              ".gantt_default_tree_image_expand",
              "background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"
            ),
            e.add(
              ".gantt_default_tree_image_collapse",
              "background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"
            ),
            e.add(
              ".gantt_default_event_move_left",
              "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#eee)); background: linear-gradient(to bottom, #fff 0%, #eee);"
            ),
            e.add(
              ".gantt_default_event_move_right",
              "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#eee)); background: linear-gradient(to bottom, #fff 0%, #eee);"
            ),
            e.add(
              ".gantt_default_event_delete",
              "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"
            ),
            e.add(
              ".gantt_default_event_delete:hover",
              "opacity: 1; -ms-filter: none;"
            ),
            e.add(
              ".gantt_default_rowmove_handle",
              "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
            ),
            e.add(
              ".gantt_default_rowmove_source",
              "background-color: black; opacity: 0.2;"
            ),
            e.add(
              ".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after",
              "background-color: #999; height: 2px;"
            ),
            e.add(
              ".gantt_default_rowmove_position_child",
              "margin-left: 10px; background-color: #999; height: 2px;"
            ),
            e.add(
              ".gantt_default_rowmove_position_child:before",
              "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"
            ),
            e.add(
              ".gantt_default_rowmove_position_forbidden",
              "background-color: red; height: 2px; margin-left: 10px;"
            ),
            e.add(
              ".gantt_default_rowmove_position_forbidden:before",
              "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"
            ),
            e.add(
              ".gantt_default_rowmove_position_child",
              "margin-left: 20px; background-color: #999999; height: 2px;"
            ),
            e.add(
              ".gantt_default_rowmove_position_child:before",
              "position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Ccircle stroke='%23999999' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3Cline x1='12' y1='7' x2='12' y2='17' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='7' y1='12' x2='17' y2='12' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3C/g%3E%3C/svg%3E\");"
            ),
            e.add(
              ".gantt_default_rowmove_position_forbidden",
              "background-color: #cc0000; height: 2px; margin-left: 20px;"
            ),
            e.add(
              ".gantt_default_rowmove_position_forbidden:before",
              "position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cline x1='8' y1='8' x2='16' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='16' y1='8' x2='8' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Ccircle stroke='%23cc0000' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\");"
            ),
            e.add(
              ".gantt_default_task_group .gantt_default_event_inner",
              "position: absolute; top: 5px; left: 0; right: 0; bottom: 6px; overflow: hidden; background: #0b5394; filter: none; border: 0 none;"
            ),
            e.add(
              ".gantt_default_task_group.gantt_default_event:before",
              "content: ''; border-color: transparent transparent transparent #0b5394; border-style: solid; border-width: 6px; position: absolute; bottom: 0;"
            ),
            e.add(
              ".gantt_default_task_group.gantt_default_event:after",
              "content: ''; border-color: transparent #0b5394 transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0; right: 0;"
            ),
            e.add(
              ".gantt_default_task_milestone .gantt_default_event_inner",
              "position: absolute; top: 16%; left: 16%; right: 16%; bottom: 16%; background: var(--dp-gantt-event-milestone-color); border: 0 none; transform: rotate(45deg); filter: none;"
            ),
            e.add(
              ".gantt_default_event_left",
              "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"
            ),
            e.add(
              ".gantt_default_event_right",
              "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"
            ),
            e.add(
              ".gantt_default_link_horizontal",
              "border-bottom-style: solid; border-bottom-color: var(--dp-gantt-link-color);"
            ),
            e.add(
              ".gantt_default_link_vertical",
              "border-right-style: solid; border-right-color: var(--dp-gantt-link-color);"
            ),
            e.add(
              ".gantt_default_link_arrow_right:before",
              "content: ''; border-width: 6px; border-color: transparent transparent transparent var(--dp-gantt-link-color); border-style: solid; width: 0; height: 0; position: absolute;"
            ),
            e.add(
              ".gantt_default_link_arrow_left:before",
              "content: ''; border-width: 6px; border-color: transparent var(--dp-gantt-link-color) transparent transparent; border-style: solid; width: 0; height: 0; position: absolute;"
            ),
            e.add(
              ".gantt_default_link_arrow_down:before",
              "content: ''; border-width: 6px; border-color: var(--dp-gantt-link-color) transparent transparent transparent; border-style: solid; width: 0; height: 0; position: absolute;"
            ),
            e.add(
              ".gantt_default_link_arrow_up:before",
              "content: ''; border-width: 6px; border-color: transparent transparent var(--dp-gantt-link-color) transparent; border-style: solid; width: 0; height: 0; position: absolute;"
            ),
            e.add(
              ".gantt_default_link_mshadow.gantt_default_link_horizontal",
              "border-bottom-color: #aaaaaa;"
            ),
            e.add(
              ".gantt_default_link_mshadow.gantt_default_link_vertical",
              "border-right-color: #aaaaaa;"
            ),
            e.add(
              ".gantt_default_link_mshadow.gantt_default_link_arrow_right:before",
              "border-color: transparent transparent transparent #aaaaaa;"
            ),
            e.add(
              ".gantt_default_link_mshadow.gantt_default_link_arrow_left:before",
              "border-color: transparent #aaaaaa transparent transparent;"
            ),
            e.add(
              ".gantt_default_link_mshadow.gantt_default_link_arrow_down:before",
              "border-color: #aaaaaa transparent transparent transparent;"
            ),
            e.add(
              ".gantt_default_link_mshadow.gantt_default_link_arrow_up:before",
              "border-color: transparent transparent #aaaaaa transparent;"
            ),
            e.add(
              ".gantt_default_shadow_overlap .gantt_default_shadow_inner",
              "background-color: #cc4125;"
            ),
            e.add(
              ".gantt_default_block",
              "background-color: #808080; opacity: 0.5;"
            ),
            e.add(
              ".gantt_default_link_hover",
              "box-shadow: 0px 0px 2px 2px rgba(255,0,0,0.3);"
            ),
            e.add(
              ".gantt_default_main .gantt_default_header_icon",
              "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"
            ),
            e.add(
              ".gantt_default_header_icon:hover",
              "background-color: #ccc;"
            ),
            e.add(
              ".gantt_default_header_icon_hide:before",
              "content: '\\00AB';"
            ),
            e.add(
              ".gantt_default_header_icon_show:before",
              "content: '\\00BB';"
            ),
            e.add(
              ".gantt_default_row_new .gantt_default_rowheader_inner",
              "cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"
            ),
            e.add(
              ".gantt_default_row_new .gantt_default_rowheader_inner:hover",
              "background: white;"
            ),
            e.add(".gantt_default_rowheader textarea", "padding: 5px;"),
            e.add(
              ".gantt_default_rowheader_scroll",
              "cursor: default; background: var(--dp-gantt-header-bg-color);"
            ),
            e.add(
              ".gantt_default_shadow_forbidden:after",
              "content: ''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"
            ),
            e.add(
              ".gantt_default_shadow_forbidden .gantt_default_shadow_inner",
              "border: 1px solid #cc0000; background: #cc4125"
            ),
            e.add(".gantt_default_event_moving_source", "opacity: 0.5;"),
            e.add(
              ".gantt_default_event.gantt_default_event_version .gantt_default_event_inner",
              "background-color: #cfdde8; background-image: -webkit-gradient(linear,0 100%,100% 0,color-stop(.25,rgba(255,255,255,.2)),color-stop(.25,transparent),color-stop(.5,transparent),color-stop(.5,rgba(255,255,255,.2)),color-stop(.75,rgba(255,255,255,.2)),color-stop(.75,transparent),to(transparent)); background-image: -webkit-linear-gradient(45deg,rgba(255,255,255,.2) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.2) 50%,rgba(255,255,255,.2) 75%,transparent 75%,transparent); background-image: -moz-linear-gradient(45deg,rgba(255,255,255,.2) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.2) 50%,rgba(255,255,255,.2) 75%,transparent 75%,transparent); background-image: -ms-linear-gradient(45deg,rgba(255,255,255,.2) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.2) 50%,rgba(255,255,255,.2) 75%,transparent 75%,transparent); background-image: -o-linear-gradient(45deg,rgba(255,255,255,.2) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.2) 50%,rgba(255,255,255,.2) 75%,transparent 75%,transparent); background-image: linear-gradient(45deg,rgba(255,255,255,.2) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.2) 50%,rgba(255,255,255,.2) 75%,transparent 75%,transparent); -webkit-background-size: 20px 20px; -moz-background-size: 20px 20px; background-size: 20px 20px;"
            ),
            e.add(
              ".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before",
              "border: 0;"
            ),
            e.add(
              ".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",
              'content:""; border-color: transparent #fff transparent transparent; border-style: solid; border-width: 5px; width: 0; height: 0; position: absolute; left: -4px;'
            ),
            e.add(
              ".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner",
              "padding-left: 8px;"
            ),
            e.add(
              ".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",
              'content:""; border-color: transparent #000 transparent transparent; border-style: solid; border-width: 5px; width: 0; height: 0; position: absolute; left: -4px;'
            ),
            e.add(
              ".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after",
              "border: 0;"
            ),
            e.add(
              ".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",
              'content:""; border-color: transparent transparent transparent #fff; border-style: solid; border-width: 5px; width: 0; height: 0; position: absolute; right: -2px;'
            ),
            e.add(
              ".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner",
              "padding-right: 8px;"
            ),
            e.add(
              ".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",
              'content:""; border-color: transparent transparent transparent #000; border-style: solid; border-width: 5px; width: 0; height: 0; position: absolute; right: -2px;'
            ),
            e.add(
              ".gantt_default_linkpoint",
              "background-color: white; border: 1px solid gray; border-radius: 5px;"
            ),
            e.add(
              ".gantt_default_linkpoint.gantt_default_linkpoint_hover",
              "background-color: black;"
            ),
            e.add(
              ".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top",
              "background-color: gray; opacity: 0.2;"
            ),
            e.add(
              ".gantt_default_selectionrectangle",
              "background-color: var(--dp-gantt-selectionrectangle-color); border: 1px solid #000033; opacity: 0.4;"
            ),
            e.add(".gantt_default_link_shadow", "border: 1px solid black;"),
            e.add(
              ".gantt_default_link_shadow_circle",
              "background-color: black;"
            ),
            e.add(
              ".gantt_default_link_curve",
              "stroke: var(--dp-gantt-link-color); fill: none; stroke-width: 2;"
            ),
            e.add(".gantt_default_link_curve:hover", "stroke-opacity: 0.5;"),
            e.add(
              ".gantt_default_link_curve_dot",
              "fill: var(--dp-gantt-link-color);"
            ),
            e.add(
              ".gantt_default_link_curve_marker",
              "fill: var(--dp-gantt-link-color);"
            ),
            e.add(
              ".gantt_default_link_curve_mshadow.gantt_default_link_curve",
              "stroke: #aaaaaa;"
            ),
            e.add(
              ".gantt_default_link_curve_mshadow.gantt_default_link_curve_dot",
              "fill: #aaaaaa;"
            ),
            e.add(
              ".gantt_default_link_curve_mshadow.gantt_default_link_curve_marker",
              "fill: #aaaaaa;"
            ),
            e.add(
              ".gantt_default_link_curve_mshadow.gantt_default_link_curve_text",
              "fill: #aaaaaa;"
            ),
            e.add(
              ".kanban_default_main",
              '--dp-kanban-border-color: #c0c0c0;--dp-kanban-border-inner-color: #e0e0e0;--dp-kanban-cell-bg-color: #f9f9f9;--dp-kanban-cell-business-bg-color: #ffffff;--dp-kanban-card-background: linear-gradient(to bottom, var(--dp-kanban-card-bg-top-color) 0%, var(--dp-kanban-card-bg-bottom-color) 100%);--dp-kanban-card-bg-bottom-color: #eeeeee;--dp-kanban-card-bg-top-color: #ffffff;--dp-kanban-card-bar-color: #1066a8;--dp-kanban-card-bar-display: block;--dp-kanban-card-bar-width: 5px;--dp-kanban-card-bar-left: 0px;--dp-kanban-card-bar-right: 0px;--dp-kanban-card-bar-top: 0px;--dp-kanban-card-bar-bottom: 0px;--dp-kanban-card-border: 1px solid var(--dp-kanban-card-border-color);--dp-kanban-card-border-color: #ccc;--dp-kanban-card-border-radius: 0px;--dp-kanban-card-box-shadow: none;--dp-kanban-card-color: #333;--dp-kanban-card-horizontal-align: flex-start;--dp-kanban-card-milestone-color: #38761d;--dp-kanban-card-padding: 5px;--dp-kanban-card-padding-left: 10px;--dp-kanban-card-selected-bg-color: #ddd;--dp-kanban-card-vertical-align: center;--dp-kanban-focus-outline-color: red;--dp-kanban-font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--dp-kanban-font-size: 13px;--dp-kanban-grid-line-break-color: #999;--dp-kanban-grid-line-color: #eee;--dp-kanban-header-bg-color: #f3f3f3;--dp-kanban-header-color: #333;--dp-kanban-link-color: #cc0000;--dp-kanban-message-bg-color: #ffa216;--dp-kanban-message-color: #ffffff;--dp-kanban-message-padding: 10px;--dp-kanban-rowheader-padding: 7px;--dp-kanban-rowheader-vertical-align: center;--dp-kanban-selectionrectangle-color: #1066a8;--dp-kanban-shadow-border-color: #888888;--dp-kanban-shadow-color: #bbbbbb;--dp-kanban-colheader-horizontal-align: center;--dp-kanban-colheader-padding: 0px;--dp-kanban-colheader-vertical-align: center;'
            ),
            e.add(
              ".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after",
              "box-sizing: content-box;"
            ),
            e.add(
              ".kanban_default_main, .kanban_default_main svg text",
              "box-sizing: content-box; border: 1px solid var(--dp-kanban-border-color); font-family: var(--dp-kanban-font-family); font-size: var(--dp-kanban-font-size);"
            ),
            e.add(
              ".kanban_default_selected .kanban_default_event_inner",
              "background: var(--dp-kanban-card-selected-bg-color);"
            ),
            e.add(
              ".kanban_default_timeheader_scroll",
              "background: var(--dp-kanban-header-bg-color);"
            ),
            e.add(
              ".kanban_default_message",
              "opacity: 0.9; padding: var(--dp-kanban-message-padding); color: var(--dp-kanban-message-color); background: var(--dp-kanban-message-bg-color);"
            ),
            e.add(
              ".kanban_default_timeheadergroup,.kanban_default_timeheadercol",
              "color: var(--dp-kanban-header-color); background: var(--dp-kanban-header-bg-color);"
            ),
            e.add(
              ".kanban_default_rowheader,.kanban_default_corner",
              "color: var(--dp-kanban-header-color); background: var(--dp-kanban-header-bg-color);"
            ),
            e.add(
              ".kanban_default_rowheader.kanban_default_rowheader_selected",
              "background-color: #aaa; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"
            ),
            e.add(
              ".kanban_default_rowheader_inner",
              "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; border-right: 1px solid var(--dp-kanban-border-inner-color); padding: var(--dp-kanban-rowheader-padding); display: flex; align-items: var(--dp-kanban-rowheader-vertical-align);"
            ),
            e.add(
              ".kanban_default_timeheadergroup_inner",
              "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; border-right: 1px solid var(--dp-kanban-border-color); border-bottom: 1px solid var(--dp-kanban-border-color); display: flex; align-items: center; justify-content: center;"
            ),
            e.add(
              ".kanban_default_timeheadercol_inner",
              "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: var(--dp-kanban-colheader-padding); border-right: 1px solid var(--dp-kanban-border-color); display: flex; align-items: var(--dp-kanban-colheader-vertical-align); justify-content: var(--dp-kanban-colheader-horizontal-align);"
            ),
            e.add(
              ".kanban_default_timeheader_float",
              "display: flex; align-items: var(--dp-kanban-colheader-vertical-align); justify-content: var(--dp-kanban-colheader-horizontal-align);"
            ),
            e.add(
              ".kanban_default_divider, .kanban_default_splitter",
              "background-color: var(--dp-kanban-border-color);"
            ),
            e.add(
              ".kanban_default_divider_horizontal",
              "background-color: var(--dp-kanban-border-color);"
            ),
            e.add(
              ".kanban_default_matrix_vertical_line",
              "background-color: var(--dp-kanban-grid-line-color);"
            ),
            e.add(
              ".kanban_default_matrix_vertical_break",
              "background-color: var(--dp-kanban-grid-line-break-color);"
            ),
            e.add(
              ".kanban_default_matrix_horizontal_line",
              "background-color: var(--dp-kanban-grid-line-color);"
            ),
            e.add(
              ".kanban_default_resourcedivider",
              "background-color: var(--dp-kanban-border-color);"
            ),
            e.add(
              ".kanban_default_shadow_inner",
              "box-sizing: border-box; background-color: var(--dp-kanban-shadow-color); border: 1px solid var(--dp-kanban-shadow-border-color); opacity: 0.5; height: 100%;"
            ),
            e.add(
              ".kanban_default_shadow",
              "box-shadow: 0 2px 5px rgba(0,0,0,.2);"
            ),
            e.add(
              ".kanban_default_event",
              "font-size: var(--dp-kanban-font-size); color: var(--dp-kanban-card-color); border-radius: var(--dp-kanban-card-border-radius); box-shadow: var(--dp-kanban-card-box-shadow);"
            ),
            e.add(
              ".kanban_default_event_inner",
              "position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; border-radius: var(--dp-kanban-card-border-radius); padding: var(--dp-kanban-card-padding); overflow: hidden; border: var(--dp-kanban-card-border); display: flex; align-items: var(--dp-kanban-card-vertical-align); justify-content: var(--dp-kanban-card-horizontal-align); background: var(--dp-kanban-card-background);"
            ),
            e.add(
              ".kanban_default_event_bar",
              "display: var(--dp-kanban-card-bar-display);top: var(--dp-kanban-card-bar-top); left: var(--dp-kanban-card-bar-left); right: var(--dp-kanban-card-bar-right); height: var(--dp-kanban-card-bar-width); background-color: var(--dp-kanban-card-bar-bg-color);"
            ),
            e.add(
              ".kanban_default_event_bar_inner",
              "position:absolute; height: var(--dp-kanban-card-bar-width); background-color: var(--dp-kanban-card-bar-color);"
            ),
            e.add(
              ".kanban_default_event_float",
              "display: flex; align-items: center;"
            ),
            e.add(
              ".kanban_default_event_float_inner",
              "padding: var(--dp-kanban-card-padding) var(--dp-kanban-card-padding) var(--dp-kanban-card-padding) 8px; position: relative;"
            ),
            e.add(
              ".kanban_default_event_float_inner:after",
              'content:""; border-color: transparent #666 transparent transparent; border-style:solid; border-width:5px; width:0; height:0; position:absolute; top: calc(50% - 5px); left:-4px;'
            ),
            e.add(
              ".kanban_default_event_focus",
              "outline: var(--dp-kanban-focus-outline-color) 2px solid; z-index: 100; opacity: 0.5;"
            ),
            e.add(".kanban_default_columnheader_inner", "font-weight: bold;"),
            e.add(
              ".kanban_default_columnheader_splitter",
              "box-sizing: border-box; border-right: 1px solid var(--dp-kanban-border-color);"
            ),
            e.add(
              ".kanban_default_columnheader_splitter:hover",
              "background-color: var(--dp-kanban-border-color);"
            ),
            e.add(
              ".kanban_default_columnheader_cell_inner",
              "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"
            ),
            e.add(
              ".kanban_default_cell",
              "background-color: var(--dp-kanban-cell-bg-color);"
            ),
            e.add(
              ".kanban_default_cell.kanban_default_cell_business",
              "background-color: var(--dp-kanban-cell-business-bg-color);"
            ),
            e.add(
              ".kanban_default_cell.kanban_default_cell_business.kanban_default_cell_selected, .kanban_default_cell.kanban_default_cell_selected",
              "background-color: #ccc; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"
            ),
            e.add(".kanban_default_tree_image_no_children", ""),
            e.add(
              ".kanban_default_tree_image_expand",
              "background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"
            ),
            e.add(
              ".kanban_default_tree_image_collapse",
              "background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"
            ),
            e.add(
              ".kanban_default_event_delete",
              "background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center; opacity: 0.6; cursor: pointer;"
            ),
            e.add(".kanban_default_event_delete:hover", "opacity: 1;"),
            e.add(
              ".kanban_default_rowmove_handle",
              "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
            ),
            e.add(
              ".kanban_default_rowmove_source",
              "background-color: black; opacity: 0.2;"
            ),
            e.add(
              ".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after",
              "background-color: #999; height: 2px;"
            ),
            e.add(
              ".kanban_default_rowmove_position_child",
              "margin-left: 20px; background-color: #999; height: 2px;"
            ),
            e.add(
              ".kanban_default_rowmove_position_forbidden",
              "background-color: #cc0000; height: 2px; margin-left: 20px;"
            ),
            e.add(
              ".kanban_default_link_horizontal",
              "border-bottom-style: solid; border-bottom-color: var(--dp-kanban-link-color);"
            ),
            e.add(
              ".kanban_default_link_vertical",
              "border-right-style: solid; border-right-color: var(--dp-kanban-link-color);"
            ),
            e.add(
              ".kanban_default_link_arrow_right:before",
              "content: ''; border-width: 6px; border-color: transparent transparent transparent var(--dp-kanban-link-color); border-style: solid; width: 0; height:0; position: absolute;"
            ),
            e.add(
              ".kanban_default_link_arrow_left:before",
              "content: ''; border-width: 6px; border-color: transparent var(--dp-kanban-link-color) transparent transparent; border-style: solid; width: 0; height:0; position: absolute;"
            ),
            e.add(
              ".kanban_default_link_arrow_down:before",
              "content: ''; border-width: 6px; border-color: var(--dp-kanban-link-color) transparent transparent transparent; border-style: solid; width: 0; height:0; position: absolute;"
            ),
            e.add(
              ".kanban_default_link_arrow_up:before",
              "content: ''; border-width: 6px; border-color: transparent transparent var(--dp-kanban-link-color) transparent; border-style: solid; width: 0; height:0; position: absolute;"
            ),
            e.add(
              ".kanban_default_link_mshadow.kanban_default_link_horizontal",
              "border-bottom-color: #aaaaaa;"
            ),
            e.add(
              ".kanban_default_link_mshadow.kanban_default_link_vertical",
              "border-right-color: #aaaaaa;"
            ),
            e.add(
              ".kanban_default_link_mshadow.kanban_default_link_arrow_right:before",
              "border-color: transparent transparent transparent #aaaaaa;"
            ),
            e.add(
              ".kanban_default_link_mshadow.kanban_default_link_arrow_left:before",
              "border-color: transparent #aaaaaa transparent transparent;"
            );
          e.add(
            ".kanban_default_link_mshadow.kanban_default_link_arrow_down:before",
            "border-color: #aaaaaa transparent transparent transparent;"
          );
          e.add(
            ".kanban_default_link_mshadow.kanban_default_link_arrow_up:before",
            "border-color: transparent transparent #aaaaaa transparent;"
          ),
            e.add(
              ".kanban_default_block",
              "background-color: #808080; opacity: 0.5;"
            ),
            e.add(
              ".kanban_default_main .kanban_default_event_group",
              "box-sizing: border-box; font-size: 13px; color: #666; padding: 2px; overflow:hidden; border:1px solid var(--dp-kanban-card-border-color); background-color: #fff; display: flex; align-items: center; white-space: nowrap;"
            ),
            e.add(
              ".kanban_default_main .kanban_default_header_icon",
              "box-sizing: border-box; border: 1px solid var(--dp-kanban-border-color); background-color: var(--dp-kanban-header-bg-color); color: var(--dp-kanban-header-color);"
            ),
            e.add(
              ".kanban_default_header_icon:hover",
              "background-color: #ccc;"
            ),
            e.add(
              ".kanban_default_header_icon_hide:before",
              "content: '\\00AB';"
            ),
            e.add(
              ".kanban_default_header_icon_show:before",
              "content: '\\00BB';"
            ),
            e.add(
              ".kanban_default_row_new .kanban_default_rowheader_inner",
              "padding-left: 10px; color: #666; cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"
            ),
            e.add(
              ".kanban_default_row_new .kanban_default_rowheader_inner:hover",
              "background: white; color: white;"
            ),
            e.add(".kanban_default_rowheader textarea", "padding: 3px;"),
            e.add(
              ".kanban_default_rowheader_scroll",
              "cursor: default; background: var(--dp-kanban-header-bg-color);"
            ),
            e.add(
              ".kanban_default_shadow_forbidden .kanban_default_shadow_inner, .kanban_default_shadow_overlap .kanban_default_shadow_inner",
              "border: 1px solid #cc0000; background: #cc4125;"
            ),
            e.add(".kanban_default_event_moving_source", "opacity: 0.5;"),
            e.add(
              ".kanban_default_linkpoint",
              "background-color: white; border: 1px solid gray; border-radius: 5px;"
            ),
            e.add(
              ".kanban_default_linkpoint.kanban_default_linkpoint_hover",
              "background-color: black;"
            ),
            e.add(
              ".kanban_default_event.kanban_default_event_version .kanban_default_event_inner",
              "overflow:hidden; background-color: #cfdde8; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"
            ),
            e.add(
              ".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top",
              "background-color: gray; opacity: 0.2;"
            ),
            e.add(
              ".kanban_default_link_dot",
              "border-radius: 10px; background-color: var(--dp-kanban-link-color);"
            ),
            e.add(
              ".kanban_default_task_milestone .kanban_default_event_inner",
              "position:absolute; top:16%; left:16%; right:16%; bottom:16%; background: var(--dp-kanban-card-milestone-color); border: 0px none; transform: rotate(45deg); filter: none;"
            ),
            e.add(
              ".kanban_default_event_left, .kanban_default_event_right",
              "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"
            ),
            e.add(".kanban_default_main:focus", "outline: none;"),
            e.add(
              ".kanban_default_cell_focus",
              "outline: var(--dp-kanban-focus-outline-color) 2px solid; outline-offset: -2px; z-index: 100; opacity: 0.5;"
            ),
            e.add(
              ".kanban_default_cell_focus.kanban_default_cell_focus_top",
              "border-top: 4px solid var(--dp-kanban-focus-outline-color);"
            ),
            e.add(
              ".kanban_default_cell_focus.kanban_default_cell_focus_bottom",
              "border-bottom: 4px solid var(--dp-kanban-focus-outline-color);"
            ),
            e.add(
              ".kanban_default_selectionrectangle",
              "background-color: var(--dp-kanban-selectionrectangle-color); border: 1px solid #000033; opacity: 0.4;"
            ),
            e.add(".kanban_default_link_shadow", "border:1px solid black;"),
            e.add(
              ".kanban_default_link_shadow_circle",
              "background-color:black;"
            ),
            e.add(
              ".kanban_default_event_move_left",
              "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"
            ),
            e.add(
              ".kanban_default_event_move_right",
              "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"
            ),
            e.add(
              ".kanban_default_link_hover",
              "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"
            ),
            e.add(
              ".kanban_default_sorticon",
              "opacity: 0.2;background-position: center center; background-repeat: no-repeat; cursor: pointer;"
            ),
            e.add(
              ".kanban_default_sorticon.kanban_default_sorticon_asc",
              "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDEuNSwgMTAgMTAsIDAgMTAiLz48L3N2Zz4=');"
            ),
            e.add(
              ".kanban_default_sorticon.kanban_default_sorticon_desc",
              "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDguNSwgMCAwLCAxMCAwIi8+PC9zdmc+');"
            ),
            e.add(
              ".kanban_default_sorticon.kanban_default_sorticon_active",
              "opacity: 1;"
            ),
            e.add(
              ".kanban_default_loading",
              "background-color: orange; color: white; padding: 2px;"
            ),
            e.add(
              ".kanban_default_link_curve",
              "stroke: var(--dp-kanban-link-color); fill: none; stroke-width: 2;"
            ),
            e.add(".kanban_default_link_curve:hover", "stroke-opacity: 0.5;"),
            e.add(
              ".kanban_default_link_curve_dot",
              "fill: var(--dp-kanban-link-color);"
            ),
            e.add(
              ".kanban_default_link_curve_marker",
              "fill: var(--dp-kanban-link-color);"
            ),
            e.add(
              ".kanban_default_link_curve_text",
              "fill: var(--dp-kanban-link-color);"
            ),
            e.add(
              ".kanban_default_link_curve_mshadow.kanban_default_link_curve",
              "stroke: #aaaaaa;"
            ),
            e.add(
              ".kanban_default_link_curve_mshadow.kanban_default_link_curve_dot",
              "fill: #aaaaaa;"
            ),
            e.add(
              ".kanban_default_link_curve_mshadow.kanban_default_link_curve_marker",
              "fill: #aaaaaa;"
            ),
            e.add(
              ".kanban_default_link_curve_mshadow.kanban_default_link_curve_text",
              "fill: #aaaaaa;"
            ),
            e.add(
              ".kanban_default_card",
              "font-size: var(--dp-kanban-font-size); color: var(--dp-kanban-card-color); border-radius: var(--dp-kanban-card-border-radius); box-shadow: var(--dp-kanban-card-box-shadow);"
            ),
            e.add(
              ".kanban_default_card_inner",
              "position:absolute;top:0;left:0;right:0;bottom:0; border-radius:var(--dp-kanban-card-border-radius); padding: var(--dp-kanban-card-padding) var(--dp-kanban-card-padding) var(--dp-kanban-card-padding) var(--dp-kanban-card-padding-left); overflow:hidden;border:var(--dp-kanban-card-border); background:var(--dp-kanban-card-background);"
            ),
            e.add(
              ".kanban_default_card_bar",
              "display:var(--dp-kanban-card-bar-display); top:var(--dp-kanban-card-bar-top); bottom:var(--dp-kanban-card-bar-bottom); left:var(--dp-kanban-card-bar-left); width:var(--dp-kanban-card-bar-width); background-color:var(--dp-kanban-card-bar-color);"
            ),
            e.add(
              ".kanban_default_card_delete",
              "background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center;opacity:.6;cursor:pointer;"
            ),
            e.add(".kanban_default_card_delete:hover", "opacity:1;"),
            e.add(".kanban_default_card_moving_source", "opacity:.5;"),
            e.add(
              ".kanban_default_colheadercell",
              "color:var(--dp-kanban-header-color); background:var(--dp-kanban-header-bg-color); text-align:center;"
            ),
            e.add(
              ".kanban_default_colheadercell_inner",
              "position:absolute;left:0;right:0;top:0;bottom:0; border-right:1px solid var(--dp-kanban-border-color); padding: var(--dp-kanban-colheader-padding); display:flex;align-items:var(--dp-kanban-colheader-vertical-align); justify-content:var(--dp-kanban-colheader-horizontal-align);"
            ),
            e.add(
              ".kanban_default_swimlane_collapse",
              "cursor:pointer;border:1px solid #ccc;text-align:center;"
            ),
            e.add(".kanban_default_swimlane_collapse:before", "content:'^';"),
            e.add(
              ".kanban_default_swimlane_expand",
              "cursor:pointer;border:1px solid #ccc;text-align:center;"
            ),
            e.add(".kanban_default_swimlane_expand:before", "content:'>';"),
            e.add(
              ".kanban_default_columnmove_handle",
              "opacity:.5;background-repeat:no-repeat;background-position:center center; background-color:#ccc; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC);cursor:move;"
            ),
            e.add(
              ".kanban_default_columnmove_position",
              "background:#333;height:2px;"
            ),
            e.add(
              ".kanban_default_rowheaderdivider",
              "background-color:var(--dp-kanban-border-color);"
            ),
            e.add(
              ".kanban_default_card_header",
              "font-size:120%;font-weight:bold;"
            ),
            e.commit(),
            (DayPilot.Global.defaultCss = e);
        }
      })();
    var o = function (e) {
      var t = this;
      (this.id = e),
        (this.widths = []),
        (this.titles = []),
        (this.data = []),
        (this.nonresizable = []),
        (this.height = null),
        (this.bubble = null),
        (this.splitterWidth = 3),
        (this.splitterWidthLast = null),
        (this.css = {}),
        (this.css.title = null),
        (this.css.titleInner = null),
        (this.css.splitter = null),
        (this.enabled = !0),
        (this.blocks = []),
        (this.drag = {}),
        (this.updated = function () {}),
        (this.updating = function () {}),
        (this.started = function () {});
      var n = {};
      (n.splitterWidth = function (e) {
        var n = e === t.widths.length - 1,
          i =
            n && "number" == typeof t.splitterWidthLast
              ? t.splitterWidthLast
              : t.splitterWidth,
          a = t.nonresizable[e];
        return t.enabled && !a ? i : 1;
      }),
        (this.init = function () {
          var i;
          if (!e) throw "error: id not provided";
          if ("string" == typeof e) i = document.getElementById(e);
          else {
            if (!e.appendChild) throw "error: invalid object provided";
            i = e;
          }
          (this.div = i), (this.blocks = []);
          for (var a = 0; a < this.widths.length; a++) {
            var r = n.splitterWidth(a),
              o = document.createElement("div");
            (o.style.display = "inline-block"),
              null !== t.height
                ? (o.style.height = t.height + "px")
                : (o.style.height = "100%"),
              (o.style.width = this.widths[a] - r + "px"),
              (o.style.overflow = "hidden"),
              (o.style.position = "relative"),
              (o.className = this.css.title),
              i.appendChild(o);
            var l = this.titles[a],
              s = null,
              d = [],
              c = null,
              u = null;
            "object" == typeof l &&
              ((s = l.html), (d = l.areas), (c = l.cssClass), (u = l.toolTip)),
              c && DayPilot.Util.addClass(o, c),
              u && (o.title = u),
              (function (e, n) {
                (n.onmousemove = function () {
                  if (t.bubble) {
                    var i = {};
                    (i.calendar = t.calendar),
                      (i.type = "RowHeaderColumn"),
                      (i.object = e.data),
                      (i.staticHTML = e.bubbleHtml),
                      (i.div = n),
                      (i.toJSON = function () {
                        var e = {};
                        return (
                          (e.uid = t.calendar.uniqueID),
                          (e.type = "RowHeaderColumn"),
                          (e.object = i.object),
                          e
                        );
                      }),
                      t.bubble.showRowHeaderColumn(i);
                  }
                }),
                  (n.onmouseout = function () {
                    t.bubble && t.bubble.hideOnMouseOut();
                  });
              })(l, o);
            var h = document.createElement("div");
            (h.innerHTML = s),
              (h.className = this.css.titleInner),
              o.appendChild(h),
              DayPilot.Areas.attach(o, t.data[a], { areas: d });
            var f = document.createElement("div");
            (f.style.display = "inline-block"),
              null !== t.height
                ? (f.style.height = t.height + "px")
                : (f.style.height = "100%"),
              (f.style.width = r + "px"),
              (f.style.position = "relative"),
              f.appendChild(document.createElement("div")),
              t.enabled &&
                !t.nonresizable[a] &&
                (f.style.cursor = "col-resize"),
              (f.className = this.css.splitter);
            var v = {};
            (v.index = a),
              (v.width = this.widths[a]),
              (f.data = v),
              (f.onmousedown = function (e) {
                if ((e.preventDefault(), t.enabled)) {
                  var n = this.index;
                  if (!t.nonresizable[n]) {
                    var i = DayPilot.page(e);
                    i &&
                      ((t.drag.start = i),
                      (t.drag.data = this.data),
                      (t.div.style.cursor = "col-resize"),
                      t.started());
                  }
                }
              }),
              i.appendChild(f);
            var p = {};
            (p.section = o), (p.handle = f), this.blocks.push(p);
          }
          this.registerGlobalHandlers();
        }),
        (this.updateWidths = function () {
          for (var e = 0; e < this.blocks.length; e++) {
            var t = this.blocks[e],
              n = this.widths[e];
            (t.handle.data.width = n), this.Q(e);
          }
        }),
        (this.Q = function (e) {
          var t = this.blocks[e],
            i = this.widths[e];
          t.section.style.width = i - n.splitterWidth(e) + "px";
        }),
        (this.totalWidth = function () {
          for (var e = 0, t = 0; t < this.widths.length; t++)
            e += this.widths[t];
          return e;
        }),
        (this.gMouseMove = function (e) {
          if (t.drag.start) {
            var n = t.drag.data,
              i = DayPilot.page(e);
            if (i) {
              var a = i.x - t.drag.start.x,
                r = n.index;
              (t.widths[r] = Math.max(5, n.width + a)), t.Q(r);
              var o = {};
              (o.widths = this.widths), (o.index = n.index), t.updating(o);
            }
          }
        }),
        (this.gMouseUp = function () {
          if (t.drag.start) {
            (t.drag.start = null),
              (document.body.style.cursor = ""),
              (t.div.style.cursor = "");
            var e = t.drag.data;
            e.width = t.widths[e.index];
            var n = {};
            (n.widths = this.widths), (n.index = e.index), t.updated(n);
          }
        }),
        (this.dispose = function () {
          DayPilot.list(this.blocks).forEach(function (e) {
            (e.handle.onmousedown = null),
              DayPilot.de(e.section),
              DayPilot.de(e.handle);
          }),
            this.unregisterGlobalHandlers();
        }),
        (this.registerGlobalHandlers = function () {
          DayPilot.re(document, "mousemove", this.gMouseMove),
            DayPilot.re(document, "mouseup", this.gMouseUp);
        }),
        (this.unregisterGlobalHandlers = function () {
          DayPilot.ue(document, "mousemove", this.gMouseMove),
            DayPilot.ue(document, "mouseup", this.gMouseUp);
        });
    };
    DayPilot.Splitter = o;
  }
})(DayPilot),
  (function () {
    "undefined" != typeof Sys &&
      Sys.Application &&
      Sys.Application.notifyScriptLoaded &&
      Sys.Application.notifyScriptLoaded();
  })(),
  (function (DayPilot) {
    if ("undefined" == typeof DayPilot.Bubble || !DayPilot.Bubble.def) {
      var e = {};
      (e.mouseMove = function (t) {
        if ("undefined" != typeof e) {
          var n = e.mousePosition(t);
          if (n) {
            e.mouse = n;
            var i = e.active;
            if (i && i.R.showPosition) {
              var a = i.R.showPosition,
                r = e.mouse;
              a.clientX !== r.clientX || a.clientY !== r.clientY;
            }
          }
        }
      }),
        (e.touchPosition = function (e) {
          if (!e || !e.touches) return null;
          var t = e.touches[0],
            n = {};
          return (
            (n.x = t.pageX),
            (n.y = t.pageY),
            (n.clientX = t.clientX),
            (n.clientY = t.clientY),
            n
          );
        }),
        (e.mousePosition = function (e) {
          var t = DayPilot.mo3(null, e);
          return (
            e && t && ((t.clientY = e.clientY), (t.clientX = e.clientX)), t
          );
        }),
        (DayPilot.Bubble = function (t) {
          this.v = "2025.3.6631";
          var n = this,
            i = {};
          if (
            ((this.arrowTopIndent = 6),
            (this.arrowLeftIndent = 6),
            (this.hideAfter = 500),
            (this.loadingText = "Loading..."),
            (this.animated = !0),
            (this.animation = "fast"),
            (this.position = "Above"),
            (this.hideOnClick = !0),
            (this.hideOnHover = !1),
            (this.showAfter = 500),
            (this.showLoadingLabel = !0),
            (this.showArrow = !0),
            (this.zIndex = 10),
            (this.theme = "bubble_default"),
            (this.onLoad = null),
            (this.onBeforeDomAdd = null),
            (this.onBeforeDomRemove = null),
            (this.R = function () {}),
            (this.callBack = function (e) {
              this.aspnet()
                ? WebForm_DoCallback(
                    this.uniqueID,
                    JSON.stringify(e),
                    this.updateView,
                    this,
                    this.callbackError,
                    !0
                  )
                : e.calendar.internal.bubbleCallBack
                ? e.calendar.internal.bubbleCallBack(e, this)
                : e.calendar.bubbleCallBack(e, this);
            }),
            (this.callbackError = function (e) {
              alert(e);
            }),
            (this.updateView = function (t, a) {
              if (n !== a) throw "Callback object mismatch (internal error)";
              if (!t) return void n.S();
              var r = null,
                o = null,
                l = null;
              if (
                ("string" == typeof t
                  ? (o = t)
                  : "object" == typeof t &&
                    ((r = t), (o = t.html), (l = t.element)),
                (e.active = n),
                n)
              ) {
                var s = !1,
                  d = !1;
                if (i.div) {
                  if (l) {
                    i.T.innerHTML = "";
                    var c = DayPilot.Util.isReactComponent(l),
                      u = DayPilot.Util.isVueComponent(l);
                    if (c) {
                      if (
                        !(
                          n.U.calendar &&
                          n.U.calendar.internal.reactRefs().reactDOM
                        )
                      )
                        throw new DayPilot.Exception("Can't reach ReactDOM");
                      n.W.V(l, i.T), (d = n.W.X());
                    } else if (u) {
                      var h = n.Y.U();
                      if (!h) throw new DayPilot.Exception("Can't reach Vue");
                      n.Y.Z(l, i.T, r.props);
                    } else i.T.appendChild(l);
                    s = !0;
                  } else o && ((i.T.innerHTML = o), (s = !0));
                  i.div.domArgs = r;
                }
                s &&
                  (d
                    ? setTimeout(function () {
                        n._();
                      })
                    : n._());
              }
            }),
            (this.init = function () {}),
            (this.dispose = function () {}),
            (this.update = function (e) {
              DayPilot.Util.copyProps(e, this);
            }),
            (this.aspnet = function () {
              return "undefined" != typeof WebForm_DoCallback;
            }),
            (this.showEvent = function (t, n, i) {
              var a,
                r,
                o,
                l =
                  null !==
                    (r =
                      null === (a = t.bubbleHtml) || void 0 === a
                        ? void 0
                        : a.call(t)) && void 0 !== r
                    ? r
                    : null === (o = t.data) || void 0 === o
                    ? void 0
                    : o.bubbleHtml,
                s = new e.CallBackArgs(t.calendar || t.root, "Event", t, l);
              (s.div = i), n ? this.show(s) : this.showOnMouseOver(s);
            }),
            (this.showGroup = function (e) {
              this.showOnMouseOver(e);
            }),
            (this.showCell = function (t, n) {
              e.cancelShowing();
              var i = new e.CallBackArgs(
                t.calendar || t.root,
                "Cell",
                t,
                t.staticBubbleHTML ? t.staticBubbleHTML() : null
              );
              (i.div = n), this.showOnMouseOver(i);
            }),
            (this.showLink = function (t) {
              e.cancelShowing();
              var n = new e.CallBackArgs(
                t.calendar || t.root,
                "Cell",
                t,
                t.data && t.data.bubbleHtml
              );
              this.showOnMouseOver(n);
            }),
            (this.showTime = function (t) {
              var n = new e.CallBackArgs(
                t.calendar || t.root,
                "Time",
                t,
                t.staticBubbleHTML ? t.staticBubbleHTML() : null
              );
              this.showOnMouseOver(n);
            }),
            (this.showTimeHeader = function (t, n, i) {
              var a = new e.CallBackArgs(
                t.calendar,
                "TimeHeader",
                t,
                t.bubbleHtml
              );
              (a.div = i),
                n ? (e.cancelHiding(), this.show(a)) : this.showOnMouseOver(a);
            }),
            (this.showResource = function (t, n, i) {
              var a = {};
              (a.calendar = t.calendar),
                (a.id = t.id),
                (a.name = t.name),
                (a.start = t.start),
                t.bubbleHtml
                  ? (a.bubbleHtml = function () {
                      return t.bubbleHtml;
                    })
                  : t.data &&
                    t.data.bubbleHtml &&
                    (a.bubbleHtml = function () {
                      return t.data.bubbleHtml;
                    }),
                (a.toJSON = function () {
                  var e = {};
                  return (e.id = this.id), e;
                });
              var r = new e.CallBackArgs(
                a.calendar || a.root,
                "Resource",
                a,
                a.bubbleHtml ? a.bubbleHtml() : null
              );
              i ? (r.div = i) : (r.div = t.div),
                n ? (e.cancelHiding(), this.show(r)) : this.showOnMouseOver(r);
            }),
            (this.showHtml = function (t, n) {
              var i = new e.CallBackArgs(null, "Html", null, t);
              (i.div = n), this.showOnMouseOver(i);
            }),
            (this.showRowHeaderColumn = function (e) {
              this.showOnMouseOver(e);
            }),
            (this.hide = function () {
              e.active === this && DayPilot.Bubble.hide();
            }),
            (this.toJSON = function () {
              return null;
            }),
            (this.show = function (t) {
              if (n.aa(t)) {
                var a = this.animated;
                if (
                  ((this.R.showPosition = e.mouse),
                  (e.showing = null),
                  !e.mouse)
                )
                  return void setTimeout(function () {
                    n.show(t);
                  }, 100);
                var r = e.mouse;
                (r.h = 0), (r.w = 0);
                var o = this.getDiv(t),
                  l = n.ba(o),
                  s = "Above" === l,
                  d = "Right" === l;
                if ((s || d) && o) {
                  var c = 2,
                    u = DayPilot.abs(o, !0);
                  if (!u) return;
                  (r.x = u.x), (r.y = u.y), (r.h = u.h + c), (r.w = u.w);
                }
                this.R.mouse = r;
                var h;
                try {
                  h = JSON.stringify(t.object);
                } catch (e) {
                  return;
                }
                if (
                  !(
                    (e.active === this && this.R.sourceId === h) ||
                    ("undefined" != typeof DayPilot.Menu &&
                      DayPilot.Menu.active)
                  )
                ) {
                  e.hideActive(), (e.active = this), (this.R.sourceId = h);
                  var f = document.createElement("div");
                  (f.style.position = "absolute"),
                    this.showLoadingLabel || (f.style.display = "none"),
                    (f.className = this.ca("_main")),
                    (f.style.top = "-3000px"),
                    (f.style.left = "-3000px"),
                    (f.style.zIndex = this.zIndex + 1),
                    a && (f.style.visibility = "hidden"),
                    this.hideOnClick &&
                      (f.onclick = function () {
                        e.hideActive();
                      }),
                    (f.onmousemove = function (t) {
                      n.hideOnHover && e.hideActive(),
                        e.cancelShowing(),
                        e.cancelHiding(),
                        (t.cancelBubble = !0);
                    }),
                    (f.oncontextmenu = function () {
                      return !1;
                    }),
                    (f.onmouseleave = function () {
                      n.delayedHide();
                    });
                  var v = this.arrowLeftIndent,
                    p = this.arrowTopIndent,
                    m = "http://www.w3.org/2000/svg",
                    g = document.createElementNS(m, "svg");
                  g.setAttribute("viewBox", "0 0 12 10"),
                    g.setAttribute("class", this.ca("_arrow_top")),
                    (g.style.width = "12px"),
                    (g.style.height = "10px"),
                    (g.style.position = "absolute"),
                    (g.style.top = "0px"),
                    (g.style.left = v + "px"),
                    (g.style.display = "none"),
                    (g.innerHTML =
                      '<polyline points="0 10 6 0 12 10"></polyline>');
                  var b = document.createElementNS(m, "svg");
                  b.setAttribute("viewBox", "0 0 12 10"),
                    b.setAttribute("class", this.ca("_arrow_bottom")),
                    (b.style.width = "12px"),
                    (b.style.height = "10px"),
                    (b.style.position = "absolute"),
                    (b.style.bottom = "0px"),
                    (b.style.left = v + "px"),
                    (b.style.display = "none"),
                    (b.innerHTML =
                      '<polyline points="0 0 6 10 12 0"></polyline>');
                  var y = document.createElementNS(m, "svg");
                  y.setAttribute("viewBox", "0 0 10 12"),
                    y.setAttribute("class", this.ca("_arrow_left")),
                    (y.style.width = "10px"),
                    (y.style.height = "12px"),
                    (y.style.position = "absolute"),
                    (y.style.top = p + "px"),
                    (y.style.left = "0px"),
                    (y.style.display = "none"),
                    (y.innerHTML =
                      '<polyline points="10 0 0 6 10 12"></polyline>');
                  var w = document.createElementNS(m, "svg");
                  w.setAttribute("viewBox", "0 0 10 12"),
                    w.setAttribute("class", this.ca("_arrow_right")),
                    (w.style.width = "10px"),
                    (w.style.height = "12px"),
                    (w.style.position = "absolute"),
                    (w.style.top = p + "px"),
                    (w.style.right = "0px"),
                    (w.style.display = "none"),
                    (w.innerHTML =
                      '<polyline points="0 0 10 6 0 12"></polyline>');
                  var x = document.createElement("div");
                  f.appendChild(x),
                    f.appendChild(g),
                    f.appendChild(b),
                    f.appendChild(y),
                    f.appendChild(w),
                    (x.className = this.ca("_main_inner")),
                    (x.innerHTML = this.loadingText),
                    document.body.appendChild(f),
                    (i.div = f),
                    (i.T = x),
                    (i.da = g),
                    (i.ea = b),
                    (i.fa = y),
                    (i.ga = w),
                    (n.U = function () {}),
                    (n.U.calendar = t.calendar),
                    (n.U.ha = o);
                  var k = {};
                  (k.source = t.object),
                    (k.async = !1),
                    (k.html = t.staticHTML),
                    (k.loaded = function () {
                      this.async && n.ia(k);
                    }),
                    this.showLoadingLabel && !a && this._(),
                    t.staticHTML && "function" != typeof this.onLoad
                      ? n.ia(k)
                      : "function" == typeof this.onLoad
                      ? (this.onLoad(k), k.async || n.ia(k))
                      : "function" == typeof n.onDomAdd ||
                        "function" == typeof n.onBeforeDomAdd
                      ? n.ia(k)
                      : this.ja(t) && this.callBack(t);
                }
              }
            }),
            (this.aa = function (e) {
              return (
                !!e.staticHTML ||
                "function" == typeof this.onLoad ||
                "function" == typeof n.onDomAdd ||
                "function" == typeof n.onBeforeDomAdd ||
                !!this.ja(e)
              );
            }),
            (this.ia = function (e) {
              var t = {};
              (t.source = e.source),
                (t.html = e.html),
                (t.element = null),
                "function" == typeof n.onDomAdd && n.onDomAdd(t),
                "function" == typeof n.onBeforeDomAdd && n.onBeforeDomAdd(t),
                n.updateView(t, n);
            }),
            (this.getDiv = function (e) {
              var t,
                n,
                i,
                a,
                r = e;
              if (r.div) return r.div;
              if ("Event" === r.type) {
                var o =
                  null ===
                    (n =
                      null === (t = r.calendar) || void 0 === t
                        ? void 0
                        : t.internal) || void 0 === n
                    ? void 0
                    : n.findEventDiv;
                if ("function" == typeof o) return o(r.object);
                var l =
                  null ===
                    (a =
                      null === (i = r.calendar) || void 0 === i
                        ? void 0
                        : i.internal) || void 0 === a
                    ? void 0
                    : a.findCardDiv;
                if ("function" == typeof l) return l(r.object);
              }
              return null;
            }),
            (this.ca = function (e) {
              var t = this.theme || this.cssClassPrefix;
              return t ? t + e : "";
            }),
            (this.ba = function (e) {
              var t = n.position;
              if (!e) return "Mouse";
              if (!t) return "Above";
              if ("eventtop" === t.toLowerCase()) return "Above";
              if ("above" === t.toLowerCase()) return "Above";
              if ("mouse" === t.toLowerCase()) return "Mouse";
              if ("right" === t.toLowerCase()) return "Right";
              throw new DayPilot.Exception(
                "Unrecognized DayPilot.Bubble.position value: " + t
              );
            }),
            (this._ = function () {
              var t = this.animated,
                a = this.R.mouse,
                r = n.ba(this.U.ha),
                o = 10,
                l = 0;
              if (i.div && a) {
                if (!a.x || !a.y) return void e.hideActive();
                var s = i.div,
                  d = i.T;
                s.style.display = "";
                var c = s.offsetHeight;
                this.showArrow && (c += 9);
                var u = s.offsetWidth;
                this.showArrow && (u += 9), (s.style.display = "none");
                var h = DayPilot.wd(),
                  f = h.width,
                  v = h.height,
                  p = "bottom",
                  m = "left",
                  g = 0,
                  b = this.showArrow;
                if ("Mouse" === r) {
                  var y = 0;
                  if (a.clientY < c + o) {
                    var w = c + o - a.clientY;
                    (w = 0), (y = a.y + w + 22), (p = "top");
                  } else y = a.y - c - 5;
                  "number" == typeof y && (s.style.top = Math.max(y, 0) + "px");
                  var x = void 0;
                  if (a.clientX > f - u + o) {
                    var k = a.clientX - (f - u) + o;
                    (x = a.x - k), (b = !1);
                  } else (x = a.x), this.showArrow && (x -= 16);
                  s.style.left = x + "px";
                } else if ("Above" === r) {
                  var C = 2,
                    _ = a.y - c - C,
                    T = h.scrollTop;
                  _ < T && ((_ = a.y + a.h), (p = "top")),
                    "number" == typeof _ &&
                      (s.style.top = Math.max(_, 0) + "px");
                  var x = a.x;
                  a.x + u + o > f &&
                    ((x = f - u - o), (m = "right"), (g = a.x + u + o - f)),
                    (s.style.left = x + "px");
                } else if ("Right" === r) {
                  p = "top";
                  var S = a.y,
                    x = a.x + a.w;
                  x + u + o > f &&
                    u < a.x &&
                    ((x = x - u - a.w), (m = "right"));
                  var D = S + c + o - v;
                  D > 0 && ((S -= D), (l = D), S < 0 && ((l += S), (S = 0))),
                    (s.style.top = S + "px"),
                    (s.style.left = x + "px");
                }
                if (
                  ((s.style.display = ""),
                  b &&
                    ("Above" === r || "Mouse" === r
                      ? "bottom" === p
                        ? ((i.da.style.display = "none"),
                          (i.ea.style.display = ""),
                          (d.style.marginTop = "0px"),
                          (d.style.marginBottom = "9px"),
                          "right" === m &&
                            (i.ea.style.left = this.arrowLeftIndent + g + "px"))
                        : ((i.da.style.display = ""),
                          (i.ea.style.display = "none"),
                          (d.style.marginTop = "9px"),
                          (d.style.marginBottom = "0px"),
                          "right" === m &&
                            (i.da.style.left = this.arrowLeftIndent + g + "px"))
                      : "left" === m
                      ? ((i.ga.style.display = "none"),
                        (i.fa.style.display = ""),
                        (i.fa.style.top = this.arrowTopIndent + l + "px"),
                        (d.style.marginRight = "0px"),
                        (d.style.marginLeft = "9px"))
                      : ((i.ga.style.display = ""),
                        (i.fa.style.display = "none"),
                        (i.ga.style.top = this.arrowTopIndent + l + "px"),
                        (d.style.marginRight = "9px"),
                        (d.style.marginLeft = "0px"))),
                  t)
                ) {
                  s.style.display = "";
                  var E = {};
                  (E.color = d.style.color),
                    (E.overflow = s.style.overflow),
                    (d.style.color = "transparent"),
                    (s.style.overflow = "hidden"),
                    DayPilot.pop(s, {
                      finished: function () {
                        (d.style.color = E.color),
                          (s.style.overflow = E.overflow);
                      },
                      vertical: p,
                      horizontal: m,
                      animation: n.animation,
                    });
                }
              }
            }),
            (this.delayedHide = function () {
              e.showing === this && e.cancelShowing();
              var t = e.active;
              if (t === this && (e.cancelHiding(), t.hideAfter > 0)) {
                var n = t.hideAfter;
                e.timeoutHide = window.setTimeout(e.hideActive, n);
              }
            }),
            (this.showOnMouseOver = function (t) {
              e.active === this && e.cancelHiding();
              var i = function (e) {
                return function () {
                  n.show(e);
                };
              };
              clearTimeout(e.timeoutShow),
                (e.timeoutShow = window.setTimeout(i(t), this.showAfter)),
                (e.showing = this);
            }),
            (this.hideOnMouseOut = function () {
              this.delayedHide();
            }),
            (this.ja = function (e) {
              return (
                !!e.calendar.backendUrl ||
                !("function" != typeof WebForm_DoCallback || !this.uniqueID)
              );
            }),
            (this.S = function () {
              if (i.div) {
                var e = i.div.domArgs;
                if (
                  ((i.div.domArgs = null),
                  e &&
                    ("function" == typeof n.onDomRemove && n.onDomRemove(e),
                    "function" == typeof n.onBeforeDomRemove &&
                      n.onBeforeDomRemove(e),
                    "function" == typeof n.onDomAdd ||
                      "function" == typeof n.onBeforeDomAdd))
                ) {
                  var t = i.T;
                  if (t) {
                    var a = DayPilot.Util.isReactComponent(e.element),
                      r = DayPilot.Util.isVueComponent(e.element);
                    if (a) {
                      if (
                        !(
                          n.U.calendar &&
                          n.U.calendar.internal.reactRefs().reactDOM
                        )
                      )
                        throw new DayPilot.Exception("Can't reach ReactDOM");
                      n.W.ka(t);
                    } else r && n.Y.la(t);
                  }
                }
                document.body.removeChild(i.div), (i.div = null);
              }
            }),
            (this.W = {}),
            (this.W.V = function (e, t) {
              var i =
                n.U.calendar && n.U.calendar.internal.reactRefs().reactDOM;
              if ("function" == typeof i.createRoot) {
                var a = t.ma;
                a || ((a = i.createRoot(t)), (t.ma = a)), a.render(e);
              } else i.render(e, t);
            }),
            (this.W.X = function () {
              var e =
                n.U.calendar && n.U.calendar.internal.reactRefs().reactDOM;
              return e && "function" == typeof e.createRoot;
            }),
            (this.W.ka = function (e) {
              var t =
                n.U.calendar && n.U.calendar.internal.reactRefs().reactDOM;
              if ("function" == typeof t.createRoot) {
                var i = e.ma;
                setTimeout(function () {
                  i.unmount();
                }, 0);
              } else t.unmountComponentAtNode(e);
            }),
            (this.Y = {}),
            (this.Y.U = function () {
              var e = n.U.calendar,
                t = e && e.internal.vueRef;
              return t && t();
            }),
            (this.Y.Z = function (e, t, i) {
              var a = n.Y.U();
              if (
                a &&
                "function" == typeof a.createVNode &&
                "function" == typeof a.render
              ) {
                var r = a.createVNode(e, i);
                a.render(r, t);
              }
            }),
            (this.Y.la = function (e) {
              var t = n.Y.U();
              "function" == typeof t.render && t.render(null, e);
            }),
            t)
          )
            for (var a in t) this[a] = t[a];
          this.init();
        }),
        (DayPilot.Bubble.touchPosition = function (t) {
          t.touches && (e.mouse = e.touchPosition(t));
        }),
        (DayPilot.Bubble.mousePosition = function (t) {
          e.mouse = e.mousePosition(t);
        }),
        (e.cancelShowing = function () {
          (e.showing = null),
            e.timeoutShow &&
              (window.clearTimeout(e.timeoutShow), (e.timeoutShow = null));
        }),
        (e.cancelHiding = function () {
          e.timeoutHide && window.clearTimeout(e.timeoutHide);
        }),
        (e.hideActive = function () {
          e.cancelHiding();
          var t = e.active;
          t && t.S(), (e.active = null);
        }),
        (e.CallBackArgs = function (e, t, n, i) {
          (this.calendar = e),
            (this.type = t),
            (this.object = n),
            (this.staticHTML = i),
            (this.toJSON = function () {
              var e = {};
              return (
                (e.uid = this.calendar.uniqueID),
                (e.type = this.type),
                (e.object = n),
                e
              );
            });
        }),
        "undefined" != typeof document &&
          DayPilot.re(document, "mousemove", e.mouseMove),
        (DayPilot.Bubble.hideActive = e.hideActive),
        (DayPilot.Bubble.cancelShowing = e.cancelShowing),
        (DayPilot.Bubble.hide = function (t) {
          if (((t = t || {}), t.calendar)) {
            var n = e.active;
            n && n.U.calendar === t.calendar && DayPilot.Bubble.hide();
          } else e.hideActive();
        }),
        (DayPilot.Bubble.getActive = function () {
          return e.active;
        }),
        (DayPilot.Bubble.def = {}),
        "undefined" != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(DayPilot),
  (function (DayPilot) {
    if ("undefined" == typeof DayPilot.Calendar || !DayPilot.Calendar.def) {
      var e = 10,
        t = function () {
          return document.createElement("div");
        },
        n = DayPilot.rePassive,
        i = DayPilot.reNonPassive,
        a = DayPilot.re,
        r = DayPilot.Util.addClass,
        o = DayPilot.Util.removeClass,
        l = DayPilot.Util.isMouseEvent,
        s = DayPilot.Util.copyProps,
        d = DayPilot.Util.isReactComponent,
        c = DayPilot.Util.isVueComponent,
        u = DayPilot.Util.isVueVNode,
        h = DayPilot.Util.overlaps,
        f = DayPilot.list,
        v = DayPilot.Global,
        p = DayPilot.de,
        m = {};
      (DayPilot.Calendar = function (g, b) {
        this.v = "2025.3.6631";
        var y = !1;
        if (
          (this instanceof DayPilot.Calendar &&
            !this.na &&
            ((y = !0), (this.na = !0)),
          !y)
        )
          throw new DayPilot.Exception(
            "DayPilot.Calendar() is a constructor and must be called as 'const c = new DayPilot.Calendar(id);'"
          );
        var w = this;
        (this.uniqueID = null),
          (this.clientName = g),
          (this.id = g),
          (this.isCalendar = !0),
          (this.allDayEnd = "DateTime"),
          (this.allDayEventHeight = 34),
          (this.allDayEventTextWrappingEnabled = !1),
          (this.allowEventOverlap = !0),
          (this.allowMultiSelect = !0),
          (this.api = 2),
          (this.autoRefreshCommand = "refresh"),
          (this.autoRefreshEnabled = !1),
          (this.autoRefreshInterval = 60),
          (this.autoRefreshMaxCount = 20),
          (this.autoScroll = "Drag"),
          (this.backendUrl = null),
          (this.blockOnCallBack = !1),
          "function" == typeof DayPilot.Bubble
            ? (this.bubble = new DayPilot.Bubble())
            : (this.bubble = null),
          (this.cellBubble = null),
          (this.columnBubble = null),
          (this.businessBeginsHour = 9),
          (this.businessEndsHour = 18),
          (this.cellHeight = 30),
          (this.cellDuration = 30),
          (this.clientState = {}),
          (this.columnMarginLeft = 0),
          (this.columnMarginRight = 5),
          (this.columnMoveSameLevelOnly = !1),
          (this.columnWidth = 200),
          (this.columnWidthMin = 10),
          (this.columnWidthSpec = "Auto"),
          (this.columnsLoadMethod = "GET"),
          (this.contextMenu = null),
          (this.contextMenuSelection = null),
          (this.cornerText = ""),
          (this.cornerHtml = null),
          (this.crosshairType = "Header"),
          (this.cssClass = null),
          (this.cssClassPrefix = "calendar_default"),
          (this.dayBeginsHour = 0),
          (this.dayEndsHour = 24),
          (this.days = 1),
          (this.doubleClickTimeout = 300),
          (this.dragOutAllowed = !1),
          (this.durationBarVisible = !0),
          (this.dynamicEventRendering = "Disabled"),
          (this.dynamicEventRenderingMarginX = 0),
          (this.dynamicEventRenderingMarginY = 0),
          (this.eventArrangement = "Cascade"),
          (this.eventBorderRadius = null),
          (this.eventsLoadMethod = "GET"),
          (this.headerHeight = 30),
          (this.headerTextWrappingEnabled = !1),
          (this.headerHeightAutoFit = !1),
          (this.headerLevels = "Auto"),
          (this.headerLevelHeights = null),
          (this.height = 300),
          (this.heightSpec = "BusinessHours"),
          (this.hideFreeCells = !1),
          (this.hideUntilInit = !0),
          (this.headerDateFormat = null),
          (this.hourWidth = 60),
          (this.initEventEnabled = !1),
          (this.initScrollPos = null),
          (this.loadingLabelText = "Loading..."),
          (this.loadingLabelHtml = null),
          (this.loadingLabelVisible = !0),
          (this.locale = "en-us"),
          (this.messageHideAfter = 5e3),
          (this.moveBy = "Full"),
          (this.notifyCommit = "Immediate"),
          (this.rtl = !1),
          (this.scale = "CellDuration"),
          (this.scrollDelayCells = 0),
          (this.scrollDelayEvents = 10),
          (this.scrollLabelsVisible = !1),
          (this.showToolTip = !0),
          (this.showAllDayEvents = !1),
          (this.showEventStartEnd = !1),
          (this.showHeader = !0),
          (this.showHours = !0),
          (this.showCurrentTime = !1),
          (this.showCurrentTimeMode = "Day"),
          (this.showCurrentTimeOffset = 0),
          (this.snapToGrid = !0),
          (this.snapToGridTimeRangeSelecting = !0),
          (this.snapToGridEventMoving = !0),
          (this.snapToGridEventResizing = !0),
          (this.startDate = DayPilot.Date.today()),
          (this.tapAndHoldTimeout = 300),
          (this.theme = null),
          (this.timeFormat = "Auto"),
          (this.timeHeaderCellDuration = "Auto"),
          (this.timeRangeSelectingStartEndEnabled = !1),
          (this.timeRangeSelectingStartEndFormat = "Auto"),
          (this.eventMovingStartEndEnabled = !1),
          (this.eventMovingStartEndFormat = "Auto"),
          (this.eventResizingStartEndEnabled = !1),
          (this.eventResizingStartEndFormat = "Auto"),
          (this.useEventBoxes = "Always"),
          (this.viewType = "Days"),
          (this.visible = !0),
          (this.watchWidthChanges = !0),
          (this.weekStarts = "Auto"),
          (this.width = null),
          (this.xssProtection = "Enabled"),
          (this.columnMoveHandling = "Disabled"),
          (this.columnResizeHandling = "Disabled"),
          (this.eventClickHandling = "Enabled"),
          (this.eventDoubleClickHandling = "Disabled"),
          (this.eventRightClickHandling = "ContextMenu"),
          (this.eventDeleteHandling = "Disabled"),
          (this.eventEditHandling = "Update"),
          (this.eventHoverHandling = "Bubble"),
          (this.eventResizeHandling = "Update"),
          (this.eventMoveHandling = "Update"),
          (this.eventSelectHandling = "Update"),
          (this.eventTapAndHoldHandling = "Move"),
          (this.headerClickHandling = "Enabled"),
          (this.timeRangeTapAndHoldHandling = "Select"),
          (this.timeRangeSelectedHandling = "Enabled"),
          (this.timeRangeClickHandling = "Enabled"),
          (this.timeRangeDoubleClickHandling = "Disabled"),
          (this.timeRangeRightClickHandling = "ContextMenu"),
          (this.onAutoRefresh = null),
          (this.onColumnFilter = null),
          (this.onColumnResize = null),
          (this.onColumnResized = null),
          (this.onEventFilter = null),
          (this.onEventClick = null),
          (this.onEventClicked = null),
          (this.onEventDelete = null),
          (this.onEventDeleted = null),
          (this.onEventEdit = null),
          (this.onEventEdited = null),
          (this.onEventMove = null),
          (this.onEventMoved = null),
          (this.onEventMoving = null),
          (this.onEventResize = null),
          (this.onEventResized = null),
          (this.onEventResizing = null),
          (this.onEventSelect = null),
          (this.onEventSelected = null),
          (this.onEventRightClick = null),
          (this.onEventRightClicked = null),
          (this.onEventDoubleClick = null),
          (this.onEventDoubleClicked = null),
          (this.onHeaderClick = null),
          (this.onHeaderClicked = null),
          (this.onTimeRangeClick = null),
          (this.onTimeRangeClicked = null),
          (this.onTimeRangeRightClick = null),
          (this.onTimeRangeRightClicked = null),
          (this.onTimeRangeDoubleClick = null),
          (this.onTimeRangeDoubleClicked = null),
          (this.onTimeRangeSelect = null),
          (this.onTimeRangeSelected = null),
          (this.onTimeRangeSelecting = null),
          (this.onAfterRender = null),
          (this.onAfterEventRender = null),
          (this.onAfterCellRender = null),
          (this.onBeforeEventRender = null),
          (this.onBeforeEventExport = null),
          (this.onBeforeEventDomAdd = null),
          (this.onBeforeEventDomRemove = null),
          (this.onBeforeCellRender = null),
          (this.onBeforeCellExport = null),
          (this.onBeforeCornerDomAdd = null),
          (this.onBeforeCornerDomRemove = null),
          (this.onBeforeCornerRender = null),
          (this.onBeforeHeaderRender = null),
          (this.onBeforeHeaderExport = null),
          (this.onBeforeTimeHeaderRender = null),
          (this.oa = !0),
          (this.pa = e),
          (this.qa = !0),
          (this.ra = !0),
          (this.sa = !0),
          (this.ta = !0),
          (this.va = {}),
          (this.va.pixels = {}),
          (this.va.events = []),
          (this.va.wa = null),
          (this.va.xa = null),
          (this.elements = {}),
          (this.elements.events = []),
          (this.elements.separators = []),
          (this.elements.selection = []),
          (this.elements.cells = {}),
          (this.elements.crosshair = []),
          (this.elements.timeHeaders = []),
          (this.events = {}),
          (this.events.list = []),
          (this.nav = {}),
          (this.ya = 0),
          (this.za = !1),
          (this.Aa = !1),
          (this.Ba = {});
        var x = this.Ba;
        this.Ca = {};
        var k = w.Ca;
        this.Da = {};
        var C = this.Da;
        this.Ea = {};
        var _ = this.Ea;
        this.Fa = {};
        var T = this.Fa;
        (this.Ga = "javasc"),
          (this.clearSelection = function () {
            (v.selecting = null), w.Ha(), (w.Ia = null);
          }),
          (this.Ha = function () {
            if (w.Ia) {
              p(w.elements.selection),
                (w.elements.selection = []),
                (w.nav.activeSelection = null);
              var e = (w.Ja || []).map(function (e) {
                return e.div;
              });
              DayPilot.de(e), (w.Ja = []);
            }
          }),
          (this.cleanSelection = this.clearSelection),
          (this.Ka = function () {
            (w.va.wa = null), (w.va.xa = null);
          }),
          (this.La = function (e, t) {
            return w.Ba.Ma()
              ? DayPilot.Util.escapeTextHtml(e, t)
              : DayPilot.Util.isNullOrUndefined(t)
              ? DayPilot.Util.isNullOrUndefined(e)
                ? ""
                : e
              : t;
          }),
          (this.Na = function (e, t, n) {
            var i = {};
            (i.action = e),
              (i.parameters = n),
              (i.data = t),
              (i.header = this.Oa());
            var a = "JSON" + JSON.stringify(i);
            __doPostBack(w.uniqueID, a);
          }),
          (this.Pa = function (e, t, n, i) {
            if (!this.ja())
              return void w.debug.message(
                "Callback invoked without the server-side backend specified. Callback canceled.",
                "warning"
              );
            "undefined" == typeof i && (i = "CallBack"), w.Qa({ delay: 100 });
            var a = {};
            (a.action = e),
              (a.type = i),
              (a.parameters = t),
              (a.data = n),
              (a.header = this.Oa());
            var r = "JSON" + JSON.stringify(a);
            this.backendUrl
              ? DayPilot.request(this.backendUrl, this.Ra, r, this.Sa)
              : "function" == typeof WebForm_DoCallback &&
                WebForm_DoCallback(
                  this.uniqueID,
                  r,
                  this.Ta,
                  this.clientName,
                  this.onCallbackError,
                  !0
                );
          }),
          (this.ja = function () {
            return (
              ("javasc" !== w.Ga && w.Ga.indexOf("DCODE") === -1) || w.devsb
            );
          }),
          (this.Ua = function () {
            return !("function" != typeof WebForm_DoCallback || !this.uniqueID);
          }),
          (this.Sa = function (e) {
            if ("function" == typeof w.onAjaxError) {
              var t = {};
              (t.request = e), w.onAjaxError(t);
            } else "function" == typeof w.ajaxError && w.ajaxError(e);
          }),
          (this.dispose = function () {
            var e = w;
            clearInterval(e.Va),
              e.za &&
                (e.Aa ||
                  ((e.Aa = !0),
                  e.Wa && e.Wa.disconnect(),
                  e.Xa(),
                  e.Ya(),
                  e.nav.messageClose && (e.nav.messageClose.onclick = null),
                  e.nav.hourTable &&
                    ((e.nav.hourTable.oncontextmenu = null),
                    (e.nav.hourTable.onmousemove = null)),
                  e.nav.header && (e.nav.header.oncontextmenu = null),
                  e.nav.corner && (e.nav.corner.oncontextmenu = null),
                  e.nav.zoom &&
                    ((e.nav.zoom.onmousemove = null),
                    (e.nav.zoom.oncontextmenu = null)),
                  e.nav.scroll &&
                    ((e.nav.scroll.onscroll = null),
                    (e.nav.scroll.root = null)),
                  DayPilot.pu(e.nav.loading),
                  e.Za(),
                  e.$a(),
                  e._a(),
                  e.ab(),
                  (e.nav.select = null),
                  (e.nav.cornerRight = null),
                  (e.nav.scrollable = null),
                  (e.nav.bottomLeft = null),
                  (e.nav.bottomRight = null),
                  (e.nav.allday = null),
                  (e.nav.zoom = null),
                  (e.nav.loading = null),
                  (e.nav.events = null),
                  (e.nav.header = null),
                  (e.nav.hourTable = null),
                  (e.nav.scrolltop = null),
                  (e.nav.scroll = null),
                  (e.nav.vsph = null),
                  (e.nav.main = null),
                  (e.nav.message = null),
                  (e.nav.messageClose = null),
                  e.nav.top.removeAttribute("style"),
                  e.nav.top.removeAttribute("class"),
                  e.nav.top.removeEventListener("mouseleave", w.bb),
                  (e.nav.top.innerHTML = ""),
                  (e.nav.top.dp = null),
                  (e.nav.top = null),
                  DayPilot.ue(window, "resize", e.cb),
                  m.db(e),
                  "undefined" != typeof DayPilot.Bubble &&
                    (DayPilot.Bubble.cancelShowing(),
                    DayPilot.Bubble.hide({ calendar: e })),
                  "undefined" != typeof DayPilot.Menu &&
                    DayPilot.Menu.hide({ calendar: e })));
          }),
          (this.disposed = function () {
            return this.Aa;
          }),
          (this.eb = function () {
            this.nav.top.dispose = this.dispose;
          }),
          (this.Ra = function (e) {
            w.Ta(e.responseText);
          }),
          (this.Oa = function () {
            var e = {};
            return (
              (e.v = this.v),
              (e.control = "dpc"),
              (e.id = this.id),
              (e.clientState = w.clientState),
              (e.columns = this.fb()),
              (e.days = w.days),
              (e.startDate = w.startDate),
              (e.cellDuration = w.cellDuration),
              (e.cssClassPrefix = w.cssClassPrefix),
              (e.heightSpec = w.heightSpec),
              (e.businessBeginsHour = w.businessBeginsHour),
              (e.businessEndsHour = w.businessEndsHour),
              (e.viewType = w.viewType),
              (e.dayBeginsHour = w.dayBeginsHour),
              (e.dayEndsHour = w.dayEndsHour),
              (e.headerLevels = w.headerLevels),
              (e.eventHeaderVisible = w.eventHeaderVisible),
              (e.timeFormat = w.timeFormat),
              (e.timeHeaderCellDuration = w.timeHeaderCellDuration),
              (e.locale = w.locale),
              (e.scrollY = w.scrollPos),
              (e.showAllDayEvents = w.showAllDayEvents),
              (e.tagFields = w.tagFields),
              (e.weekStarts = w.weekStarts),
              (e.selected = w.multiselect.events()),
              (e.hashes = w.hashes),
              e
            );
          }),
          (this.gb = function () {
            w.hb(), w.ib(), (w.jb = null);
          }),
          (this.fb = function () {
            var e = [];
            if (((e.ignoreToJSON = !0), !this.kb)) return e;
            for (var t = 0; t < this.kb.length; t++) {
              var n = this.kb[t],
                i = this.lb(n);
              e.push(i);
            }
            return e;
          }),
          (this.lb = function (e) {
            var t = {};
            return (
              (t.Value = e.id),
              (t.Name = e.name),
              (t.ToolTip = e.toolTip),
              (t.Date = e.start),
              (t.Children = this.mb(e.children)),
              t
            );
          }),
          (this.mb = function (e) {
            var t = [];
            if (((t.ignoreToJSON = !0), !e)) return t;
            for (var n = 0; n < e.length; n++) t.push(this.lb(e[n]));
            return t;
          }),
          (this.Ta = function (e) {
            var t = JSON.parse(e);
            if (t.BubbleGuid) {
              var n = t.BubbleGuid,
                i = this.bubbles[n];
              return (
                delete this.bubbles[n],
                w.nb(),
                void (
                  "undefined" != typeof t.Result.BubbleHTML &&
                  i.updateView(t.Result.BubbleHTML, i)
                )
              );
            }
            if (t.CallBackRedirect)
              return void (document.location.href = t.CallBackRedirect);
            if (
              ("undefined" != typeof t.ClientState &&
                (w.clientState = t.ClientState),
              "None" === t.UpdateType)
            )
              return (
                w.nb(),
                w.ob(t.CallBackData, !0),
                void (t.Message && w.message(t.Message))
              );
            if ((w.Ka(), t.VsUpdate)) {
              var a = document.createElement("input");
              (a.type = "hidden"),
                (a.name = w.id + "_vsupdate"),
                (a.id = a.name),
                (a.value = t.VsUpdate),
                (w.nav.vsph.innerHTML = ""),
                w.nav.vsph.appendChild(a);
            }
            if (
              (w.Ya(),
              w.multiselect.clear(!0),
              (w.multiselect.pb = t.SelectedEvents),
              "undefined" != typeof t.TagFields && (w.tagFields = t.TagFields),
              "undefined" != typeof t.SortDirections &&
                (w.sortDirections = t.SortDirections),
              "Full" === t.UpdateType &&
                ((w.colors = t.Colors),
                (w.palette = t.Palette),
                (w.dirtyColors = t.DirtyColors),
                (w.cellProperties = t.CellProperties),
                (w.cellConfig = t.CellConfig),
                w.qb() === w.columns
                  ? (w.columns = t.Columns)
                  : (w.columns.list = t.Columns),
                (w.days = t.Days),
                (w.startDate = new DayPilot.Date(t.StartDate).getDatePart()),
                (w.cellDuration = t.CellDuration),
                (w.heightSpec = t.HeightSpec ? t.HeightSpec : w.heightSpec),
                (w.businessBeginsHour = t.BusinessBeginsHour
                  ? t.BusinessBeginsHour
                  : w.businessBeginsHour),
                (w.businessEndsHour = t.BusinessEndsHour
                  ? t.BusinessEndsHour
                  : w.businessEndsHour),
                (w.viewType = t.ViewType),
                (w.headerLevels = t.HeaderLevels),
                (w.backColor = t.BackColor ? t.BackColor : w.backColor),
                (w.nonBusinessBackColor = t.NonBusinessBackColor
                  ? t.NonBusinessBackColor
                  : w.nonBusinessBackColor),
                (w.eventHeaderVisible = t.EventHeaderVisible
                  ? t.EventHeaderVisible
                  : w.eventHeaderVisible),
                (w.timeFormat = t.TimeFormat ? t.TimeFormat : w.timeFormat),
                (w.timeHeaderCellDuration =
                  "undefined" != typeof t.TimeHeaderCellDuration
                    ? t.TimeHeaderCellDuration
                    : w.timeHeaderCellDuration),
                (w.locale = t.Locale ? t.Locale : w.locale),
                (w.dayBeginsHour =
                  "undefined" != typeof t.DayBeginsHour
                    ? t.DayBeginsHour
                    : w.dayBeginsHour),
                (w.dayEndsHour =
                  "undefined" != typeof t.DayEndsHour
                    ? t.DayEndsHour
                    : w.dayEndsHour),
                (w.cornerHtml = t.CornerHTML),
                (w.hours = t.Hours),
                w.rb(),
                w.sb()),
              t.Hashes)
            )
              for (var r in t.Hashes) w.hashes[r] = t.Hashes[r];
            if (
              (w.tb(t.Events),
              w.ub(),
              ("Full" === t.UpdateType || w.hideFreeCells) &&
                (w.vb(),
                w.wb(),
                w.xb(),
                w.yb(),
                w.zb(),
                w.Ab(),
                w.Bb(),
                w.Cb(),
                w.clearSelection(),
                w.Db(),
                "undefined" != typeof t.ScrollY
                  ? w.scrollToY(t.ScrollY)
                  : w.scrollToY(w.initScrollPos)),
              w.Eb(),
              w.D(),
              w.Fb(),
              w.Gb(),
              "Parent100Pct" === w.heightSpec && w.Hb(),
              "HoldForever" !== w.timeRangeSelectedHandling &&
                w.clearSelection(),
              w.Ib(),
              w.todo && w.todo.del)
            ) {
              var o = w.todo.del;
              o.parentNode.removeChild(o), (w.todo.del = null);
            }
            w.ob(t.CallBackData, !0),
              w.nb(),
              w.Jb(),
              t.Message && w.message(t.Message);
          }),
          (this.ob = function (e, t) {
            var n = function (e, t) {
              return function () {
                if (w.Kb()) {
                  if ("function" == typeof w.onAfterRender) {
                    var n = {};
                    (n.isCallBack = t), (n.data = e), w.onAfterRender(n);
                  }
                } else w.afterRender && w.afterRender(e, t);
              };
            };
            window.setTimeout(n(e, t), 0);
          }),
          (this.Lb = function (e) {
            var n = w.nav.events,
              i = n.rows[0].cells.length,
              a = w.Mb(w.coords.x);
            a < 0 && (a = 0),
              a >= i && (a = i - 1),
              w.rtl && (a = w.Nb.length - a - 1);
            var r = n.rows[0].cells[a],
              o = 0,
              l = 0,
              s = 0;
            if ("undefined" != typeof e.duration) {
              var d = e.duration;
              (s =
                Math.floor((w.coords.y - o + w.cellHeight / 2) / w.cellHeight) *
                  w.cellHeight +
                o),
                (l = (d * w.cellHeight) / (60 * x.Ob())),
                (l = Math.max(l, w.cellHeight));
            } else {
              var c = e.event;
              (l = c.part.height), (s = c.part.top);
            }
            var u = !v.selecting,
              h = w.eventBorderRadius;
            "number" == typeof h && (h += "px");
            var f = t();
            (f.style.position = "absolute"),
              (f.style.width = "100%"),
              (f.style.height = l + "px"),
              (f.style.left = "0px"),
              (f.style.top = s + "px"),
              (f.style.zIndex = w.pa),
              (f.exclude = !0),
              u &&
                ((f.style.marginLeft = w.columnMarginLeft + "px"),
                (f.style.marginRight = w.columnMarginRight + "px"));
            var p = t();
            return (
              f.appendChild(p),
              (f.className = w.ca("_shadow")),
              (p.className = this.ca("_shadow_inner")),
              h && ((p.style.borderRadius = h), (f.style.borderRadius = h)),
              r.events.appendChild(f),
              f
            );
          }),
          (this.Pb = function () {
            return this.Qb() / 36e5;
          }),
          (this.Rb = function () {
            return this.businessBeginsHour > this.businessEndsHour
              ? 24 - this.businessBeginsHour + this.businessEndsHour
              : this.businessEndsHour - this.businessBeginsHour;
          }),
          (this.Sb = function () {
            return "Resources" === w.viewType && !w.hours && w.days > 1
              ? 24 * w.days
              : this.dayBeginsHour >= this.dayEndsHour
              ? 24 - this.dayBeginsHour + this.dayEndsHour
              : this.dayEndsHour - this.dayBeginsHour;
          }),
          (this.Qb = function (e) {
            var t = 0;
            if ("BusinessHoursNoScroll" === this.heightSpec) t = this.Rb();
            else if (this.hideFreeCells && !e) {
              var n = ((this.Tb - 1) * x.Ob()) / this.cellHeight,
                i = Math.ceil(n / 60),
                a =
                  this.businessBeginsHour > this.businessEndsHour
                    ? this.businessEndsHour + 24
                    : this.businessEndsHour;
              t = Math.max(this.dayBeginsHour + i, a) - this.Ub();
            } else t = this.Sb();
            return 60 * t * 60 * 1e3;
          }),
          (this.message = function (e, n) {
            if (null !== e && w.za) {
              var i,
                a = {};
              "object" == typeof arguments[1]
                ? ((a = arguments[1]), (i = a.delay))
                : (i = n);
              var o = "";
              (o = a.rawHtml ? e : DayPilot.Util.escapeHtml(e)),
                (i = i || this.messageHideAfter || 2e3);
              var l,
                s = this.Vb(),
                d = this.showHours ? this.hourWidth : 0,
                c = DayPilot.sw(w.Wb());
              if (w.rtl) {
                var u = d;
                (d = c), (c = u);
              }
              if (this.nav.message)
                (l = w.nav.message), (this.nav.message.style.top = s + "px");
              else {
                (l = t()),
                  (l.style.position = "absolute"),
                  (l.style.left = d + "px"),
                  (l.style.top = s + "px"),
                  (l.style.right = "0px"),
                  (l.style.display = "none"),
                  (l.onmousemove = function () {
                    l.messageTimeout &&
                      !l.status &&
                      clearTimeout(l.messageTimeout);
                  }),
                  (l.onmouseout = function () {
                    "none" !== w.nav.message.style.display &&
                      (l.messageTimeout = setTimeout(w.Xb, 500));
                  });
                var h = t();
                (h.onclick = function () {
                  w.nav.message.style.display = "none";
                }),
                  (h.className = this.ca("_message")),
                  l.appendChild(h);
                var f = t();
                (f.style.position = "absolute"),
                  (f.className = this.ca("_message_close")),
                  (f.onclick = function () {
                    w.nav.message.style.display = "none";
                  }),
                  l.appendChild(f),
                  this.nav.top.insertBefore(l, this.nav.loading),
                  (this.nav.message = l),
                  (this.nav.messageClose = f);
              }
              this.nav.cornerRight
                ? (this.nav.message.style.right = c + "px")
                : (this.nav.message.style.right = "0px");
              var v = function () {
                if (w.nav.message) {
                  var e = w.nav.message.firstChild;
                  (e.className = w.ca("_message")),
                    a.cssClass && r(e, a.cssClass),
                    (e.innerHTML = o);
                  var t = function () {
                    l.messageTimeout = setTimeout(w.Xb, i);
                  };
                  DayPilot.fade(w.nav.message, 0.2, t);
                }
              };
              clearTimeout(l.messageTimeout),
                "none" !== this.nav.message.style.display
                  ? DayPilot.fade(w.nav.message, -0.2, v)
                  : v();
            }
          }),
          (this.message.show = function (e) {
            w.message(e);
          }),
          (this.message.hide = function () {
            w.Xb();
          }),
          (this.Xb = function () {
            var e = function () {
              w.nav.message.style.display = "none";
            };
            DayPilot.fade(w.nav.message, -0.2, e);
          }),
          (this.yb = function () {
            this.nav.message && (this.nav.message.style.top = this.Vb() + "px");
          }),
          (this.Yb = function () {
            return this.Qb() / (6e4 * x.Ob());
          }),
          (this.eventClickPostBack = function (e, t) {
            this.Na("EventClick", t, e);
          }),
          (this.eventClickCallBack = function (e, t) {
            this.Pa("EventClick", e, t);
          }),
          (this.Zb = function (e) {
            var t = e.currentTarget,
              n = e.ctrlKey,
              i = e.metaKey;
            if (
              ("undefined" != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              "Disabled" === w.eventDoubleClickHandling)
            )
              return void w.$b(t, e);
            if (w.timeouts) {
              for (var a in w.timeouts) window.clearTimeout(w.timeouts[a]);
              w.timeouts = [];
            } else w.timeouts = [];
            var r = function (e, t, n, i) {
              return function () {
                w.$b(e, i);
              };
            };
            w.timeouts.push(
              window.setTimeout(r(this, n, i, e), w.doubleClickTimeout)
            );
          }),
          (this.$b = function (e, t) {
            var n = e.event;
            if (n.client.clickEnabled()) {
              var i = t.ctrlKey,
                a = t.metaKey,
                r = t.shiftKey;
              if (w.Kb()) {
                var o = {};
                if (
                  ((o.e = n),
                  (o.control = w),
                  (o.ctrl = i),
                  (o.meta = a),
                  (o.shift = r),
                  (o.originalEvent = t),
                  (o.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof w.onEventClick &&
                    (w.onEventClick(o), o.preventDefault.value))
                )
                  return;
                switch (w.eventClickHandling) {
                  case "PostBack":
                    w.eventClickPostBack(n);
                    break;
                  case "CallBack":
                    w.eventClickCallBack(n);
                    break;
                  case "Edit":
                    w._b(e);
                    break;
                  case "Select":
                    w.bc(e, n, i, a);
                    break;
                  case "Bubble":
                    w.bubble && w.bubble.showEvent(n);
                    break;
                  case "ContextMenu":
                    var l = n.client.contextMenu();
                    l ? l.show(n) : w.contextMenu && w.contextMenu.show(n);
                }
                "function" == typeof w.onEventClicked && w.onEventClicked(o);
              } else
                switch (w.eventClickHandling) {
                  case "PostBack":
                    w.eventClickPostBack(n);
                    break;
                  case "CallBack":
                    w.eventClickCallBack(n);
                    break;
                  case "JavaScript":
                    w.onEventClick(n);
                    break;
                  case "Edit":
                    w._b(e);
                    break;
                  case "Select":
                    w.bc(e, n, i, a);
                    break;
                  case "Bubble":
                    w.bubble && w.bubble.showEvent(n);
                    break;
                  case "ContextMenu":
                    var l = n.client.contextMenu();
                    l ? l.show(n) : w.contextMenu && w.contextMenu.show(n);
                }
            }
          }),
          (this.eventDoubleClickPostBack = function (e, t) {
            this.Na("EventDoubleClick", t, e);
          }),
          (this.eventDoubleClickCallBack = function (e, t) {
            this.Pa("EventDoubleClick", e, t);
          }),
          (this.cc = function (e) {
            if (
              ("undefined" != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              w.timeouts)
            ) {
              for (var t in w.timeouts) window.clearTimeout(w.timeouts[t]);
              w.timeouts = null;
            }
            var n = e.currentTarget,
              i = n.event;
            if (w.Kb()) {
              var a = {};
              if (
                ((a.e = i),
                (a.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof w.onEventDoubleClick &&
                  (w.onEventDoubleClick(a), a.preventDefault.value))
              )
                return;
              switch (w.eventDoubleClickHandling) {
                case "PostBack":
                  w.eventDoubleClickPostBack(i);
                  break;
                case "CallBack":
                  w.eventDoubleClickCallBack(i);
                  break;
                case "Edit":
                  i.allday() || w._b(this);
                  break;
                case "Select":
                  i.allday() || w.bc(this, i, e.ctrlKey);
                  break;
                case "Bubble":
                  w.bubble && w.bubble.showEvent(i);
              }
              "function" == typeof w.onEventDoubleClicked &&
                w.onEventDoubleClicked(a);
            } else
              switch (w.eventDoubleClickHandling) {
                case "PostBack":
                  w.eventDoubleClickPostBack(i);
                  break;
                case "CallBack":
                  w.eventDoubleClickCallBack(i);
                  break;
                case "JavaScript":
                  w.onEventDoubleClick(i);
                  break;
                case "Edit":
                  i.allday() || w._b(this);
                  break;
                case "Select":
                  i.allday() || w.bc(this, i, e.ctrlKey);
                  break;
                case "Bubble":
                  w.bubble && w.bubble.showEvent(i);
              }
          }),
          (this.eventRightClickPostBack = function (e, t) {
            this.Na("EventRightClick", t, e);
          }),
          (this.eventRightClickCallBack = function (e, t) {
            this.Pa("EventRightClick", e, t);
          }),
          (this.dc = function (e) {
            var t = e.currentTarget,
              n = t.event;
            if ((e.stopPropagation(), !n.client.rightClickEnabled())) return !1;
            if (w.Kb()) {
              var i = {};
              if (
                ((i.e = n),
                (i.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof w.onEventRightClick &&
                  (w.onEventRightClick(i), i.preventDefault.value))
              )
                return !1;
              switch (w.eventRightClickHandling) {
                case "PostBack":
                  w.eventRightClickPostBack(n);
                  break;
                case "CallBack":
                  w.eventRightClickCallBack(n);
                  break;
                case "ContextMenu":
                  var a = n.client.contextMenu();
                  a
                    ? a.show(n)
                    : w.contextMenu && w.contextMenu.show(this.event);
                  break;
                case "Bubble":
                  w.bubble && w.bubble.showEvent(n);
              }
              "function" == typeof w.onEventRightClicked &&
                w.onEventRightClicked(i);
            } else
              switch (w.eventRightClickHandling) {
                case "PostBack":
                  w.eventRightClickPostBack(n);
                  break;
                case "CallBack":
                  w.eventRightClickCallBack(n);
                  break;
                case "JavaScript":
                  w.onEventRightClick(n);
                  break;
                case "ContextMenu":
                  var a = n.client.contextMenu();
                  a
                    ? a.show(n)
                    : w.contextMenu && w.contextMenu.show(this.event);
                  break;
                case "Bubble":
                  w.bubble && w.bubble.showEvent(n);
              }
            return e.preventDefault && e.preventDefault(), !1;
          }),
          (this.ec = function (e) {
            return new DayPilot.Column(e, w);
          }),
          (this.headerClickPostBack = function (e, t) {
            this.Na("HeaderClick", t, e);
          }),
          (this.headerClickCallBack = function (e, t) {
            this.Pa("HeaderClick", e, t);
          }),
          (this.fc = function (e) {
            var t = this.data,
              n = w.ec(t, w);
            if (w.Kb()) {
              var i = {};
              if (
                ((i.header = {}),
                (i.header.id = t.id),
                (i.header.name = t.name),
                (i.header.start = t.start),
                (i.column = n),
                (i.originalEvent = e),
                (i.shift = e.shiftKey),
                (i.ctrl = e.ctrlKey),
                (i.meta = e.metaKey),
                (i.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof w.onHeaderClick &&
                  (w.onHeaderClick(i), i.preventDefault.value))
              )
                return;
              switch (w.headerClickHandling) {
                case "PostBack":
                  w.headerClickPostBack(n);
                  break;
                case "CallBack":
                  w.headerClickCallBack(n);
              }
              "function" == typeof w.onHeaderClicked && w.onHeaderClicked(i);
            } else
              switch (w.headerClickHandling) {
                case "PostBack":
                  w.headerClickPostBack(n);
                  break;
                case "CallBack":
                  w.headerClickCallBack(n);
                  break;
                case "JavaScript":
                  w.onHeaderClick(n);
              }
          }),
          (this.gc = function (e) {
            var t = e.currentTarget,
              n = t.firstChild;
            if ("undefined" != typeof DayPilot.Bubble && w.columnBubble)
              if ("Resources" === w.viewType) {
                var i = {};
                (i.calendar = w),
                  (i.start = this.data.start),
                  (i.name = this.data.name),
                  (i.id = this.data.id),
                  (i.toJSON = function () {
                    var e = {};
                    return (
                      (e.id = this.id),
                      (e.start = this.start),
                      (e.name = this.name),
                      e
                    );
                  }),
                  w.columnBubble.showResource(i, !1, t);
              } else {
                var a = new DayPilot.Date(this.data.start),
                  r = a.addDays(1),
                  o = {};
                (o.calendar = w),
                  (o.start = a),
                  (o.end = r),
                  (o.toJSON = function () {
                    var e = {};
                    return (e.start = this.start), (e.end = this.end), e;
                  }),
                  w.columnBubble.showTime(o, !1, t);
              }
            if (!n.active) {
              var l = t.data,
                s = w.ec(l);
              (s.areas = t.data.areas), DayPilot.Areas.showAreas(n, s);
            }
            "undefined" != typeof C && C.s && C.hc(e, t);
          }),
          (this.ic = function (e) {
            "undefined" != typeof DayPilot.Bubble &&
              w.columnBubble &&
              w.columnBubble.hideOnMouseOut(),
              DayPilot.Areas.hideAreas(this.firstChild, e);
          }),
          (this.eventDeletePostBack = function (e, t) {
            this.Na("EventDelete", t, e);
          }),
          (this.eventDeleteCallBack = function (e, t) {
            this.Pa("EventDelete", e, t);
          }),
          (this.jc = function (e) {
            var t;
            if (
              ((t = e && e.isEvent ? e : e.parentNode.parentNode.event),
              "undefined" != typeof DayPilot.Bubble &&
                (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()),
              w.Kb())
            ) {
              var n = {};
              if (
                ((n.e = t),
                (n.control = w),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof w.onEventDelete &&
                  (w.onEventDelete(n), n.preventDefault.value))
              )
                return;
              switch (w.eventDeleteHandling) {
                case "PostBack":
                  w.eventDeletePostBack(t);
                  break;
                case "CallBack":
                  w.eventDeleteCallBack(t);
                  break;
                case "Update":
                  w.events.remove(t);
              }
              "function" == typeof w.onEventDeleted && w.onEventDeleted(n);
            } else
              switch (w.eventDeleteHandling) {
                case "PostBack":
                  w.eventDeletePostBack(t);
                  break;
                case "CallBack":
                  w.eventDeleteCallBack(t);
                  break;
                case "JavaScript":
                  w.onEventDelete(t);
              }
          }),
          (this.eventResizePostBack = function (e, t, n, i) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var a = {};
            (a.e = e),
              (a.newStart = t),
              (a.newEnd = n),
              this.Na("EventResize", i, a);
          }),
          (this.eventResizeCallBack = function (e, t, n, i) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var a = {};
            (a.e = e),
              (a.newStart = t),
              (a.newEnd = n),
              this.Pa("EventResize", a, i);
          }),
          (this.kc = function (e, t, n, i) {
            if ("PostBack" === e) w.postBack2(t, n, i);
            else if ("CallBack" === e) w.Pa(t, n, i, "CallBack");
            else if ("Immediate" === e) w.Pa(t, n, i, "Notify");
            else if ("Queue" === e)
              w.queue.add(new DayPilot.Action(this, t, n, i));
            else {
              if ("Notify" !== e)
                throw new DayPilot.Exception("Invalid event invocation type");
              "Notify" === x.lc()
                ? w.Pa(t, n, i, "Notify")
                : w.queue.add(new DayPilot.Action(w, t, n, i));
            }
          }),
          (this.Ub = function (e) {
            if ("Resources" === w.viewType && w.days > 1 && !w.hours) return 0;
            if ("BusinessHoursNoScroll" === this.heightSpec)
              return this.businessBeginsHour;
            if (this.hideFreeCells && !e) {
              var t = (this.nc * x.Ob()) / this.cellHeight,
                n = Math.floor(t / 60);
              return (
                (n = Math.max(0, n)),
                Math.min(this.dayBeginsHour + n, this.businessBeginsHour)
              );
            }
            return this.dayBeginsHour;
          }),
          (this.visibleStart = function () {
            if ("Resources" === w.viewType) {
              if (w.Nb.isEmpty()) return DayPilot.Date.today();
              var e = f(w.Nb).map(function (e) {
                  return e.start.getTime();
                }),
                t = Math.min.apply(null, e);
              return new DayPilot.Date(t);
            }
            return this.Nb[0].start;
          }),
          (this.visibleEnd = function () {
            if ("Resources" === w.viewType) {
              if (w.Nb.isEmpty()) return DayPilot.Date.today().addDays(w.days);
              var e = f(w.Nb).map(function (e) {
                  return e.start.getTime();
                }),
                t = Math.max.apply(null, e);
              return new DayPilot.Date(t).addDays(w.days);
            }
            var n = this.Nb;
            return n[n.length - 1].start.addDays(1);
          }),
          (this.Kb = function () {
            return 2 === w.api;
          }),
          (this.oc = function (e, t) {
            var n = w.Nb[e.part.dayIndex].start,
              i = Math.floor(t / w.cellHeight);
            (w.snapToGrid && w.snapToGridEventResizing) ||
              (i = t / w.cellHeight);
            var a = Math.floor(i * x.Ob()),
              r = 60 * a * 1e3,
              o = 60 * w.Ub() * 60 * 1e3;
            return n.addTime(r + o);
          }),
          (this.pc = function (e, t) {
            var n = Math.floor(t / w.cellHeight);
            (w.snapToGrid && w.snapToGridEventResizing) ||
              (n = t / w.cellHeight);
            var i = Math.floor(n * x.Ob()),
              a = 60 * i * 1e3,
              r = 60 * w.Ub() * 60 * 1e3;
            return w.Nb[e.part.dayIndex].start.addTime(a + r);
          }),
          (this.qc = function (e, t, n, i) {
            if ("Disabled" !== this.eventResizeHandling) {
              var a, r;
              if (
                ("top" === i
                  ? ((a = w.oc(e, n)), (r = e.end()))
                  : "bottom" === i && ((a = e.start()), (r = w.pc(e, n + t))),
                w.ta)
              ) {
                var o = w.rc;
                (a = o.start), (r = o.end);
              }
              if (w.Kb()) {
                var l = {},
                  s = function () {
                    if (
                      ((l.loaded = function () {}),
                      w.sc(),
                      !l.preventDefault.value)
                    ) {
                      switch (w.eventResizeHandling) {
                        case "PostBack":
                          w.eventResizePostBack(e, a, r);
                          break;
                        case "CallBack":
                          w.eventResizeCallBack(e, a, r);
                          break;
                        case "Notify":
                          w.eventResizeNotify(e, a, r);
                          break;
                        case "Update":
                          e.start(a), e.end(r), w.events.update(e);
                      }
                      "function" == typeof w.onEventResized &&
                        w.onEventResized(l);
                    }
                  };
                if (
                  ((l.e = e),
                  (l.control = w),
                  (l.newStart = a),
                  (l.newEnd = r),
                  (l.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  (l.async = !1),
                  (l.hideShadow = function () {
                    w.sc();
                  }),
                  (l.loaded = function () {
                    s();
                  }),
                  "function" == typeof w.onEventResize &&
                    (w.onEventResize(l), l.preventDefault.value))
                )
                  return void w.sc();
                l.async || s();
              } else
                switch ((w.sc(), w.eventResizeHandling)) {
                  case "PostBack":
                    w.eventResizePostBack(e, a, r);
                    break;
                  case "CallBack":
                    w.eventResizeCallBack(e, a, r);
                    break;
                  case "JavaScript":
                    w.onEventResize(e, a, r);
                    break;
                  case "Notify":
                    w.eventResizeNotify(e, a, r);
                }
            }
          }),
          (this.eventResizeNotify = function (e, t, n, i) {
            var a = new DayPilot.Event(e.copy(), this);
            e.start(t),
              e.end(n),
              e.commit(),
              w.update(),
              this.tc("Notify", a, t, n, i);
          }),
          (this.tc = function (e, t, n, i, a) {
            var r = {};
            (r.e = t),
              (r.newStart = n),
              (r.newEnd = i),
              this.kc(e, "EventResize", r, a);
          }),
          (this.eventMovePostBack = function (e, t, n, i, a) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var r = {};
            (r.e = e),
              (r.newStart = t),
              (r.newEnd = n),
              (r.newResource = i),
              this.Na("EventMove", a, r);
          }),
          (this.eventMoveCallBack = function (e, t, n, i, a) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var r = {};
            (r.e = e),
              (r.newStart = t),
              (r.newEnd = n),
              (r.newResource = i),
              this.Pa("EventMove", r, a);
          }),
          (this.uc = function (e, t, n) {
            var i = w.Mb(t.x);
            i < 0 && (i = 0), i >= w.Nb.length && (i = w.Nb.length - 1);
            var a = w.Nb[i],
              r = a.start,
              o = a.id,
              l = w.snapToGrid && w.snapToGridEventMoving,
              s = 0;
            if (e.part.box) {
              var d = w.Nb[e.part.dayIndex],
                c = w.vc(e.start(), d.start);
              s = e.start().getTime() - c.boxStart.getTime();
            }
            var u = w.wc(t.x, t.y),
              h = u.addTime(-n);
            if (l) {
              var f = h.addTime(-s);
              h = w.xc(f, r).addTime(s);
            }
            return {
              start: h,
              end: h.addTime(e.end().getTime() - e.start().getTime()),
              resource: o,
            };
          }),
          (this.yc = function (e, t, n) {
            var i = 0,
              a = Math.floor((n - i) / w.cellHeight),
              r = w.snapToGrid && w.snapToGridEventMoving;
            r || (a = n / w.cellHeight);
            var o = x.Ob(),
              l = a * o * 60 * 1e3,
              s = e.start(),
              d = e.end(),
              c = new Date();
            s instanceof DayPilot.Date && (s = s.toDate()),
              c.setTime(
                Date.UTC(s.getUTCFullYear(), s.getUTCMonth(), s.getUTCDate())
              );
            var u =
              "Never" !== w.useEventBoxes
                ? s.getTime() -
                  (c.getTime() +
                    3600 * s.getUTCHours() * 1e3 +
                    Math.floor(s.getUTCMinutes() / o) * o * 60 * 1e3)
                : 0;
            r || (u = 0);
            var h = d.getTime() - s.getTime(),
              f = 3600 * w.Ub() * 1e3;
            "undefined" == typeof t && (t = e.part.dayIndex);
            var v = this.Nb[t],
              p = v.start.getTime(),
              m = new Date();
            m.setTime(p + l + u + f);
            var g = new DayPilot.Date(m);
            return { start: g, end: g.addTime(h), resource: v.id };
          }),
          (this.zc = function (e, t, n, i, a) {
            if ("Disabled" !== w.eventMoveHandling) {
              var r;
              w.Ac ? ((r = w.Ac), (w.Ac = null)) : (r = w.yc(e, t, n));
              var o = r.start,
                l = r.end,
                s = r.resource,
                d = !1;
              if ((a && !a.Bc && (d = !0), w.Kb())) {
                var c = {},
                  u = function () {
                    if (
                      ((c.loaded = function () {}),
                      w.Cc(),
                      !c.preventDefault.value)
                    ) {
                      switch (w.eventMoveHandling) {
                        case "PostBack":
                          w.eventMovePostBack(e, o, l, s);
                          break;
                        case "CallBack":
                          w.eventMoveCallBack(e, o, l, s);
                          break;
                        case "Notify":
                          w.eventMoveNotify(e, o, l, s);
                          break;
                        case "Update":
                          e.start(o),
                            e.end(l),
                            e.resource(s),
                            d
                              ? (e.commit(), w.events.add(e))
                              : w.events.update(e),
                            w.Dc();
                      }
                      "function" == typeof w.onEventMoved && w.onEventMoved(c);
                    }
                  };
                if (
                  ((c.e = e),
                  (c.control = w),
                  (c.newStart = r.start),
                  (c.newEnd = r.end),
                  (c.newResource = r.resource),
                  (c.external = d),
                  (c.areaData = v.movingAreaData),
                  (c.ctrl = !1),
                  i && (c.ctrl = i.ctrlKey),
                  (c.shift = !1),
                  i && (c.shift = i.shiftKey),
                  (c.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  (c.async = !1),
                  (c.hideShadow = function () {
                    w.Cc();
                  }),
                  (c.loaded = function () {
                    u();
                  }),
                  "function" == typeof w.onEventMove &&
                    (w.onEventMove(c), c.preventDefault.value))
                )
                  return void w.Cc();
                c.async || u();
              } else
                switch ((w.Cc(), w.eventMoveHandling)) {
                  case "PostBack":
                    w.eventMovePostBack(e, o, l, s);
                    break;
                  case "CallBack":
                    w.eventMoveCallBack(e, o, l, s);
                    break;
                  case "JavaScript":
                    w.onEventMove(
                      e,
                      o,
                      l,
                      s,
                      d,
                      !!i && i.ctrlKey,
                      !!i && i.shiftKey
                    );
                    break;
                  case "Notify":
                    w.eventMoveNotify(e, o, l, s, null);
                }
            }
          }),
          (this.eventMoveNotify = function (e, t, n, i, a) {
            var r = new DayPilot.Event(e.copy(), this);
            e.start(t),
              e.end(n),
              e.resource(i),
              e.commit(),
              w.update(),
              this.Ec("Notify", r, t, n, i, a);
          }),
          (this.Ec = function (e, t, n, i, a, r) {
            var o = {};
            (o.e = t),
              (o.newStart = n),
              (o.newEnd = i),
              (o.newResource = a),
              this.kc(e, "EventMove", o, r);
          }),
          (this.Dc = function () {
            if (w.todo && w.todo.del) {
              var e = w.todo.del;
              e.parentNode.removeChild(e), (w.todo.del = null);
            }
          }),
          (this.Fc = function (e, t) {
            var n = w.Gc(t),
              i = {};
            (i.args = e), (i.guid = n), w.Pa("Bubble", i);
          }),
          (this.Gc = function (e) {
            var t = DayPilot.guid();
            return (
              this.bubbles || (this.bubbles = []), (this.bubbles[t] = e), t
            );
          }),
          (this.eventMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.command = t), this.Na("EventMenuClick", n, i);
          }),
          (this.eventMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.command = t), this.Pa("EventMenuClick", i, n);
          }),
          (this.Hc = function (e, t, n) {
            switch (n) {
              case "PostBack":
                w.eventMenuClickPostBack(t, e);
                break;
              case "CallBack":
                w.eventMenuClickCallBack(t, e);
            }
          }),
          (this.timeRangeMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.selection = e),
              (i.command = t),
              this.Na("TimeRangeMenuClick", n, i);
          }),
          (this.timeRangeMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.selection = e),
              (i.command = t),
              this.Pa("TimeRangeMenuClick", i, n);
          }),
          (this.Ic = function (e, t, n) {
            switch (n) {
              case "PostBack":
                w.timeRangeMenuClickPostBack(t, e);
                break;
              case "CallBack":
                w.timeRangeMenuClickCallBack(t, e);
            }
          }),
          (this.timeRangeSelectedPostBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Na("TimeRangeSelected", i, a);
          }),
          (this.timeRangeSelectedCallBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Pa("TimeRangeSelected", a, i);
          }),
          (this.Jc = function (e, t, n, i) {
            (e = new DayPilot.Date(e)),
              (t = new DayPilot.Date(t)),
              (i = i || "click");
            var a = n;
            if (w.Kb()) {
              var r = {};
              if (
                ((r.start = e),
                (r.end = t),
                (r.resource = a),
                (r.control = w),
                (r.origin = i),
                (r.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                (r.toJSON = function () {
                  return s(r, {}, ["start", "end", "resource"]);
                }),
                "function" == typeof w.onTimeRangeSelect &&
                  (w.onTimeRangeSelect(r), r.preventDefault.value))
              )
                return;
              switch (w.timeRangeSelectedHandling) {
                case "PostBack":
                  w.timeRangeSelectedPostBack(e, t, a);
                  break;
                case "CallBack":
                  w.timeRangeSelectedCallBack(e, t, a);
              }
              "function" == typeof w.onTimeRangeSelected &&
                w.onTimeRangeSelected(r);
            } else
              switch (w.timeRangeSelectedHandling) {
                case "PostBack":
                  w.timeRangeSelectedPostBack(e, t, n);
                  break;
                case "CallBack":
                  w.timeRangeSelectedCallBack(e, t, n);
                  break;
                case "JavaScript":
                  w.onTimeRangeSelected(e, t, n);
              }
          }),
          (this.timeRangeDoubleClickPostBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Na("TimeRangeDoubleClick", i, a);
          }),
          (this.timeRangeDoubleClickCallBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Pa("TimeRangeDoubleClick", a, i);
          }),
          (this.Kc = function (e, t, n) {
            if (w.Kb()) {
              var i = n,
                a = {};
              (a.start = e),
                (a.end = t),
                (a.resource = i),
                (a.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                ("function" == typeof w.onTimeRangeClick &&
                  (w.onTimeRangeClick(a), a.preventDefault.value)) ||
                  ("function" == typeof w.onTimeRangeClicked &&
                    w.onTimeRangeClicked(a));
            }
          }),
          (this.Lc = function (e, t, n) {
            if (w.Kb()) {
              var i = n,
                a = {};
              if (
                ((a.start = e),
                (a.end = t),
                (a.resource = i),
                (a.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof w.onTimeRangeDoubleClick &&
                  (w.onTimeRangeDoubleClick(a), a.preventDefault.value))
              )
                return;
              switch (w.timeRangeDoubleClickHandling) {
                case "PostBack":
                  w.timeRangeDoubleClickPostBack(e, t, i);
                  break;
                case "CallBack":
                  w.timeRangeDoubleClickCallBack(e, t, i);
              }
              "function" == typeof w.onTimeRangeDoubleClicked &&
                w.onTimeRangeDoubleClicked(a);
            } else
              switch (w.timeRangeDoubleClickHandling) {
                case "PostBack":
                  w.timeRangeDoubleClickPostBack(e, t, n);
                  break;
                case "CallBack":
                  w.timeRangeDoubleClickCallBack(e, t, n);
                  break;
                case "JavaScript":
                  w.onTimeRangeDoubleClick(e, t, n);
              }
          }),
          (this.eventEditPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.newText = t), this.Na("EventEdit", n, i);
          }),
          (this.eventEditCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.newText = t), this.Pa("EventEdit", i, n);
          }),
          (this.Mc = function (e, t) {
            if (w.Kb()) {
              var n = {};
              if (
                ((n.control = w),
                (n.e = e),
                (n.newText = t),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof w.onEventEdit &&
                  (w.onEventEdit(n), n.preventDefault.value))
              )
                return;
              switch (w.eventEditHandling) {
                case "PostBack":
                  w.eventEditPostBack(e, n.newText);
                  break;
                case "CallBack":
                  w.eventEditCallBack(e, n.newText);
                  break;
                case "Update":
                  e.text(n.newText), w.events.update(e);
              }
              if (
                "function" == typeof w.onEventEdited &&
                (w.onEventEdited(n), n.preventDefault.value)
              )
                return;
            } else
              switch (w.eventEditHandling) {
                case "PostBack":
                  w.eventEditPostBack(e, t);
                  break;
                case "CallBack":
                  w.eventEditCallBack(e, t);
                  break;
                case "JavaScript":
                  w.onEventEdit(e, t);
              }
          }),
          (this.eventSelectPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.change = t), this.Na("EventSelect", n, i);
          }),
          (this.eventSelectCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.change = t), this.Pa("EventSelect", i, n);
          }),
          (this.Nc = function (e, t, n, i) {
            var a = w.multiselect,
              r = a.isSelected(t),
              o = r ? "deselected" : "selected";
            if (n || i || !r || 1 !== a.Oc.length)
              if (w.Kb()) {
                a.previous = a.events();
                var l = {};
                if (
                  ((l.e = t),
                  (l.selected = a.isSelected(t)),
                  (l.ctrl = n),
                  (l.meta = i),
                  (l.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof w.onEventSelect &&
                    (w.onEventSelect(l), l.preventDefault.value))
                )
                  return;
                switch (w.eventSelectHandling) {
                  case "PostBack":
                    w.eventSelectPostBack(t, o);
                    break;
                  case "CallBack":
                    "undefined" != typeof WebForm_InitCallback &&
                      ((window.Pc = ""),
                      (window.Qc = []),
                      WebForm_InitCallback()),
                      w.eventSelectCallBack(t, o);
                    break;
                  case "Update":
                    a.Rc(e, n);
                }
                "function" == typeof w.onEventSelected &&
                  ((l.change = a.isSelected(t) ? "selected" : "deselected"),
                  (l.selected = a.isSelected(t)),
                  w.onEventSelected(l));
              } else
                switch (
                  ((a.previous = a.events()), a.Rc(e, n), w.eventSelectHandling)
                ) {
                  case "PostBack":
                    w.eventSelectPostBack(t, o);
                    break;
                  case "CallBack":
                    "undefined" != typeof WebForm_InitCallback &&
                      ((window.Pc = ""),
                      (window.Qc = []),
                      WebForm_InitCallback()),
                      w.eventSelectCallBack(t, o);
                    break;
                  case "JavaScript":
                    w.onEventSelect(t, o);
                }
          }),
          (this.commandCallBack = function (e, t) {
            this.Xa();
            var n = {};
            (n.command = e), this.Pa("Command", n, t);
          }),
          (this.Sc = function (e) {
            if (
              !k.active &&
              !k.using &&
              (clearTimeout(m.selectedTimeout), !v.selecting)
            ) {
              if (m.editing) return void m.editing.blur();
              if (
                !(
                  (w.Ia &&
                    "Disabled" !== w.timeRangeDoubleClickHandling &&
                    w.Tc(w.coords)) ||
                  "Disabled" === w.timeRangeSelectedHandling
                )
              ) {
                if (DayPilot.Util.mouseButton(e).left) {
                  v.selecting = { calendar: w, start: w.coords };
                  var t = v.selecting;
                  (t.start.time = w.wc(w.coords.x, w.coords.y)),
                    (t.start.columnIndex = w.Mb(w.coords.x)),
                    (t.start.column = w.Nb[t.start.columnIndex]),
                    w.Uc(),
                    w.Vc();
                }
              }
            }
          }),
          (this.Vc = function (e) {
            var n = e || v.selecting;
            n &&
              !(function () {
                var e = w.timeRangeSelectingStartEndFormat;
                "Auto" === e &&
                  (e = "Clock24Hours" === x.Wc() ? "H:mm" : "h:mm tt");
                var i = n.start.column,
                  a = n.start.columnIndex,
                  o = {};
                (o.anchor = n.anchor),
                  (o.start = n.startTime),
                  (o.end = n.endTime),
                  (o.duration = new DayPilot.Duration(o.start, o.end)),
                  (o.resource = i.id),
                  (o.allowed = !0),
                  (o.html = null),
                  (o.cssClass = null),
                  (o.top = {}),
                  (o.top.width = null),
                  (o.top.space = 5),
                  (o.top.html = o.start.toString(e, x.Xc())),
                  (o.top.enabled = w.timeRangeSelectingStartEndEnabled),
                  (o.bottom = {}),
                  (o.bottom.width = null),
                  (o.bottom.space = 5),
                  (o.bottom.html = o.end.toString(e, x.Xc())),
                  (o.bottom.enabled = w.timeRangeSelectingStartEndEnabled);
                var l = v.selecting && v.selecting.args;
                if (
                  !l ||
                  l.start !== o.start ||
                  l.end !== o.end ||
                  l.resource !== o.resource
                ) {
                  if (!w.allowEventOverlap) {
                    var s = {
                      id: null,
                      start: o.start,
                      end: o.end,
                      resource: o.resource,
                    };
                    w.events.Yc(s) && (o.allowed = !1);
                  }
                  w.Zc(o.start, o.end, o.resource) && (o.allowed = !1),
                    "function" == typeof w.onTimeRangeSelecting &&
                      o.allowed &&
                      w.onTimeRangeSelecting(o),
                    v.selecting && (v.selecting.args = o);
                  var d = t(),
                    c = [{ div: d, columnIndex: a }];
                  if (w.ta) {
                    d.style.display = "none";
                    var u = { start: o.start, end: o.end, resource: i.id };
                    w.$c(null, u), (c = w.Ja);
                  }
                  w._c(),
                    c.forEach(function (e) {
                      var t = e.div,
                        n = e.columnIndex;
                      (t.className = w.ca("_shadow")),
                        (t.firstChild.innerHTML = "");
                      var i = t.firstChild;
                      o.html && (i.innerHTML = o.html),
                        o.cssClass && r(t, o.cssClass),
                        o.allowed || r(t, w.ca("_shadow_forbidden")),
                        w.ad(t, n, o);
                    });
                }
              })();
          }),
          (this.Cc = function () {
            w.cd(m.movingShadow), (m.movingShadow = null);
            var e = (w.Ja || []).map(function (e) {
              return e.div;
            });
            DayPilot.de(e), (w.Ja = []);
          }),
          (this.sc = function () {
            w.cd(m.resizingShadow), (m.resizingShadow = null);
            var e = (w.Ja || []).map(function (e) {
              return e.div;
            });
            DayPilot.de(e), (w.Ja = []);
          }),
          (this.cd = function (e) {
            p(e), p(w.nav.indicatorTop), p(w.nav.indicatorBottom);
          }),
          (this._c = function () {
            p(w.nav.indicatorTop),
              p(w.nav.indicatorBottom),
              (w.nav.indicatorTop = []),
              (w.nav.indicatorBottom = []);
          }),
          (this.ad = function (e, n, i) {
            var a = w.nav.events.rows[0].cells,
              r = a[n].events,
              o = n === a.length - 1;
            if (i.top.enabled) {
              var l = t();
              (l.style.zIndex = w.pa),
                (l.style.position = "absolute"),
                (l.style.top = e.offsetTop + "px"),
                o
                  ? (l.style.right = "0px")
                  : (l.style.left = e.offsetWidth + i.top.space + "px"),
                i.top.width
                  ? (l.style.width = i.top.width + "px")
                  : (l.style.whiteSpace = "nowrap"),
                i.top.html && (l.innerHTML = i.top.html),
                (l.className = w.ca("_shadow_top")),
                r.appendChild(l),
                w.elements.selection.push(l),
                w.nav.indicatorTop.push(l);
            }
            if (i.bottom.enabled) {
              var s = t();
              (s.style.zIndex = w.pa),
                (s.style.position = "absolute"),
                (s.style.top = e.offsetTop + e.offsetHeight + "px"),
                o
                  ? (s.style.right = "0px")
                  : (s.style.left = e.offsetWidth + i.bottom.space + "px"),
                i.bottom.width
                  ? (s.style.width = i.bottom.width + "px")
                  : (s.style.whiteSpace = "nowrap"),
                i.bottom.html && (s.innerHTML = i.bottom.html),
                (s.className = w.ca("_shadow_bottom")),
                r.appendChild(s);
              var d = s.offsetHeight;
              (s.style.top = e.offsetTop + e.offsetHeight - d + "px"),
                w.elements.selection.push(s),
                w.nav.indicatorBottom.push(s);
            }
          }),
          (this.dd = function () {
            "undefined" != typeof DayPilot.Bubble &&
              w.cellBubble &&
              w.cellBubble.hideOnMouseOut();
          }),
          (this.ed = function (e) {
            if ("undefined" != typeof m && !k.active && !k.using) {
              if ("undefined" != typeof DayPilot.Bubble && w.cellBubble) {
                var t = {};
                (t.calendar = w),
                  (t.start = this.start),
                  (t.end = this.end),
                  (t.resource = this.resource),
                  (t.toJSON = function () {
                    var e = {};
                    return (
                      (e.start = this.start),
                      (e.end = this.end),
                      (e.resource = this.resource),
                      e
                    );
                  }),
                  w.cellBubble.showCell(t, this);
              }
              "undefined" != typeof _ && _.s && _.fd(e);
            }
          }),
          (this.getSelection = function () {
            if (!w.Ia) return null;
            var e = w.Ia;
            return new DayPilot.Selection(
              e.startTime,
              e.endTime,
              e.start.column.id,
              w
            );
          }),
          (this.gd = function () {}),
          (this.hd = function () {
            if ("Fixed" === x.jd() || w.qa) {
              if (!w.nav.bottomLeft) return;
              (w.nav.bottomLeft.scrollTop = w.nav.bottomRight.scrollTop),
                w.nav.upperRight &&
                  (w.nav.upperRight.scrollLeft = w.nav.bottomRight.scrollLeft),
                (w.nav.scrollLayer.scrollLeft = w.nav.bottomRight.scrollLeft);
            }
            var e = w.kd();
            (w.scrollPos = e.scrollTop),
              (w.ld = e.clientHeight),
              (w.nav.scrollpos.value = w.scrollPos),
              w.Ib(),
              w.Ka(),
              "Progressive" === w.dynamicEventRendering &&
                (clearTimeout(w.md),
                0 === w.scrollDelayEvents
                  ? w.nd()
                  : (w.md = setTimeout(function () {
                      w.nd();
                    }, w.scrollDelayEvents))),
              "Fixed" === x.jd() &&
                (clearTimeout(w.od),
                0 === w.scrollDelayCells
                  ? w.pd()
                  : (w.od = setTimeout(function () {
                      w.pd();
                    }, w.scrollDelayCells)));
          }),
          (this.Ib = function () {
            if (this.scrollLabelsVisible && this.qd) {
              if (
                this.nav &&
                this.nav.main &&
                this.nav.main.rows &&
                this.nav.main.rows.length > 0 &&
                this.nav.main.rows[0].cells.length > 0
              ) {
                var e = this.Nb,
                  t = this.showHours ? this.hourWidth : 0,
                  n = (this.nav.scroll.clientWidth - t) / e.length;
                "Fixed" === x.jd() && (n = w.columnWidth);
                for (var i = 1, a = 0; a < this.nav.scrollUp.length; a++) {
                  var r = this.nav.scrollUp[a],
                    o = this.nav.scrollDown[a],
                    l = Math.floor(t + a * n + n / 2 - 5 + i);
                  l < 0 && (l = 0),
                    (l -= w.nav.bottomRight.scrollLeft),
                    r && r.style && (r.style.left = l + "px"),
                    o && o.style && (o.style.left = l + "px");
                }
                for (
                  var s = this.rd(), a = 0;
                  a < this.nav.scrollUp.length;
                  a++
                ) {
                  var d = this.nav.scrollUp[a],
                    c = this.nav.scrollDown[a],
                    u = this.qd[a].minEnd - s,
                    h = this.qd[a].maxStart - s;
                  d &&
                    c &&
                    (u <= w.scrollPos && parseInt(d.style.left) >= w.hourWidth
                      ? ((d.style.top = this.Vb() + "px"),
                        (d.style.display = ""))
                      : (d.style.display = "none"),
                    h >= w.scrollPos + w.ld &&
                    parseInt(c.style.left) >= w.hourWidth
                      ? ((c.style.top = this.Vb() + this.ld - 10 + "px"),
                        (c.style.display = ""))
                      : (c.style.display = "none"));
                }
              }
            }
          }),
          (this.sd = function (e) {
            var t = e.parentNode,
              n = 0,
              i = e.offsetTop,
              a = e.parentNode.offsetWidth,
              r = e.offsetHeight;
            e.event.allday() && ((n = e.offsetLeft), (a = e.offsetWidth));
            var o = document.createElement("textarea");
            (o.style.boxSizing = "border-box"),
              (o.style.position = "absolute"),
              (o.style.width = a + "px"),
              (o.style.height = r + "px");
            var l = DayPilot.gs(e, "fontFamily");
            l || (l = DayPilot.gs(e, "font-family")), (o.style.fontFamily = l);
            var s = DayPilot.gs(e, "fontSize");
            return (
              s || (s = DayPilot.gs(e, "font-size")),
              (o.style.fontSize = s),
              (o.style.left = n + "px"),
              (o.style.top = i + "px"),
              (o.style.border = "1px solid black"),
              (o.style.padding = "0px"),
              (o.style.marginTop = "0px"),
              (o.style.backgroundColor = "white"),
              (o.value = (e.event.text() || "").trim()),
              (o.event = e.event),
              t.appendChild(o),
              o
            );
          }),
          (this.bc = function (e, t, n, i) {
            w.Nc(e, t, n, i);
          }),
          (this.zoom = {}),
          (this.zoom.active = -1),
          (this.zoom.setActive = function (e) {
            var t;
            if ("number" == typeof e) t = w.zoomLevels[e];
            else {
              if ("string" != typeof e)
                throw new DayPilot.Exception(
                  "Unexpected parameter type (string or number required): " +
                    typeof e
                );
              var n = w.zoom.td(e);
              t = w.zoomLevels[n];
            }
            if (!t)
              throw new DayPilot.Exception(
                "Zoom level not found: " + e + " (" + typeof e + ")"
              );
            if (e !== w.zoom.active) {
              var i = w.zoom.ud();
              w.zoom.vd(e), w.za && w.update(), i && w.scrollToHour(i);
            }
          }),
          (this.zoom.td = function (e) {
            return f(w.zoomLevels).findIndex(function (t) {
              return t.id === e;
            });
          }),
          (this.zoom.ud = function () {
            var e = w.xd();
            if (!e) return null;
            var t = e.pixels.top;
            return w.yd(t);
          }),
          (this.zoom.vd = function (e) {
            var t = w.zoomLevels.length - 1;
            e > t && (e = t), e < 0 && (e = 0), (w.zoom.active = e);
            var n = w.zoomLevels[e],
              i = {};
            return (
              (i.level = n),
              DayPilot.Util.ownPropsAsArray(n.properties).forEach(function (e) {
                if (0 !== e.key.indexOf("on"))
                  return "function" == typeof e.val
                    ? void (w[e.key] = e.val(i))
                    : void (w[e.key] = e.val);
              }),
              i
            );
          }),
          (this.multiselect = {}),
          (this.multiselect.pb = []),
          (this.multiselect.Oc = []),
          (this.multiselect.zd = []),
          (this.multiselect.Ad = []),
          (this.multiselect.Bd = function () {
            var e = w.multiselect;
            return JSON.stringify(e.events());
          }),
          (this.multiselect.events = function () {
            var e = w.multiselect,
              t = [];
            t.ignoreToJSON = !0;
            for (var n = 0; n < e.Oc.length; n++) t.push(e.Oc[n]);
            return t;
          }),
          (this.multiselect.Cd = function () {
            w.nav.select.value = w.multiselect.Bd();
          }),
          (this.multiselect.Rc = function (e, t) {
            var n = w.multiselect;
            if (n.isSelected(e.event))
              if (w.allowMultiSelect)
                if (t) n.remove(e.event, !0);
                else {
                  var i = n.Oc.length;
                  n.clear(!0), i > 1 && n.add(e.event, !0);
                }
              else n.clear(!0);
            else
              w.allowMultiSelect && t
                ? n.add(e.event, !0)
                : (n.clear(!0), n.add(e.event, !0));
            n.redraw(), n.Cd();
          }),
          (this.multiselect.Dd = function (e) {
            var t = w.multiselect;
            return t.Ed(e, t.pb);
          }),
          (this.multiselect.Fd = function () {
            for (var e = w.multiselect, t = [], n = 0; n < e.Oc.length; n++) {
              var i = e.Oc[n];
              t.push(i.value());
            }
            alert(t.join("\n"));
          }),
          (this.multiselect.add = function (e, t) {
            var n = w.multiselect;
            n.Gd(e) === -1 && n.Oc.push(e), n.Cd(), t || n.redraw();
          }),
          (this.multiselect.remove = function (e, t) {
            var n = w.multiselect,
              i = n.Gd(e);
            i !== -1 && n.Oc.splice(i, 1), n.Cd(), t || n.redraw();
          }),
          (this.multiselect.clear = function (e) {
            var t = w.multiselect;
            (t.Oc = []), t.Cd(), e || t.redraw();
          }),
          (this.multiselect.redraw = function () {
            for (
              var e = w.multiselect, t = 0;
              t < w.elements.events.length;
              t++
            ) {
              var n = w.elements.events[t];
              e.isSelected(n.event) ? e.Hd(n) : e.Id(n);
            }
          }),
          (this.multiselect.Hd = function (e) {
            var t = w.multiselect,
              n = w.ca("_selected");
            r(t.Jd(e), n), t.zd.push(e);
          }),
          (this.multiselect.Jd = function (e) {
            return e;
          }),
          (this.multiselect.Kd = function () {
            for (var e = w.multiselect, t = 0; t < e.zd.length; t++) {
              var n = e.zd[t];
              e.Id(n, !0);
            }
            e.zd = [];
          }),
          (this.multiselect.Id = function (e, t) {
            var n = w.multiselect,
              i = w.ca("_selected");
            if ((o(n.Jd(e), i), !t)) {
              var a = DayPilot.indexOf(n.zd, e);
              a !== -1 && n.zd.splice(a, 1);
            }
          }),
          (this.multiselect.isSelected = function (e) {
            return w.multiselect.Ed(e, w.multiselect.Oc);
          }),
          (this.multiselect.Gd = function (e) {
            for (var t = e.data, n = 0; n < w.multiselect.Oc.length; n++) {
              var i = w.multiselect.Oc[n];
              if (w.Ld(i.data, t)) return n;
            }
            return -1;
          }),
          (this.multiselect.Ed = function (e, t) {
            if (!t) return !1;
            for (var n = 0; n < t.length; n++) {
              var i = t[n];
              if (w.Ld(e, i)) return !0;
            }
            return !1;
          }),
          (this._b = function (e) {
            if (m.editing) return void m.editing.blur();
            var t = this.sd(e);
            (m.editing = t),
              a(t, DayPilot.touch.start, function (e) {
                e.stopPropagation();
              }),
              (t.onblur = function () {
                if (e.event) {
                  var n = e.event.text(),
                    i = t.value;
                  (m.editing = null),
                    (t.onblur = null),
                    p(t),
                    n !== i && ((e.style.display = "none"), w.Mc(e.event, i));
                }
              }),
              (t.onkeypress = function (e) {
                if (13 === (window.event ? event.keyCode : e.keyCode))
                  return this.onblur(), e.preventDefault(), !1;
              }),
              (t.onkeyup = function (e) {
                var n;
                return (
                  27 === e.keyCode &&
                    ((t.onblur = null),
                    null === (n = t.parentNode) || void 0 === n
                      ? void 0
                      : n.removeChild(t),
                    (m.editing = !1)),
                  !0
                );
              }),
              t.select(),
              t.focus();
          }),
          (this.Md = function () {
            return "Resources" !== w.viewType && (!w.qb() || !w.ja());
          }),
          (this.qb = function () {
            return DayPilot.isArray(w.columns) ? w.columns : w.columns.list;
          }),
          (this.columns = {}),
          (this.columns.list = []),
          (this.columns.filter = function (e) {
            (w.Nd.params = e), w.za && w.Od();
          }),
          (this.columns.find = function (e, t) {
            var n = "Resources" === w.viewType;
            e = new DayPilot.Date(e);
            var i = w.Nb.find(function (i) {
              var a = !n || i.id === t,
                r = "Resources" === w.viewType ? w.days : 1,
                o = i.start.addDays(r);
              return !!(a && i.start <= e && e < o);
            });
            return i ? w.ec(i, w) : null;
          }),
          (this.columns.load = function (e, t, n) {
            if (!e)
              throw new DayPilot.Exception(
                "columns.load(): 'url' parameter required"
              );
            var i = function (e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  "function" == typeof n && n(t);
              },
              a = function (e) {
                var n,
                  a = e.request;
                try {
                  n = JSON.parse(a.responseText);
                } catch (e) {
                  var r = {};
                  return (r.exception = e), void i(r);
                }
                if (DayPilot.isArray(n)) {
                  var o = {};
                  if (
                    ((o.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (o.data = n),
                    "function" == typeof t && t(o),
                    o.preventDefault.value)
                  )
                    return;
                  (w.columns.list = n), w.za && w.update();
                }
              };
            w.columnsLoadMethod && "POST" === w.columnsLoadMethod.toUpperCase()
              ? DayPilot.ajax({ method: "POST", url: e, success: a, error: i })
              : DayPilot.ajax({ method: "GET", url: e, success: a, error: i });
          }),
          (this.rb = function () {
            var e = w.Md();
            if (((w.Pd = 0), e)) {
              var t = this.Qd();
              this.Nb = this.Rd(t);
            } else
              (this.kb = this.Rd(this.qb() || [])),
                (this.Nb = this.Sd(x.Td(), !0));
          }),
          (this.Ud = function () {
            return w.Nb.find(function (e) {
              return "number" == typeof e.width;
            });
          }),
          (this.Vd = function () {
            var e = this.startDate.getDatePart(),
              t = this.days;
            switch (this.viewType) {
              case "Day":
                t = 1;
                break;
              case "Week":
                (t = 7), (e = e.firstDayOfWeek(x.Wd()));
                break;
              case "WorkWeek":
                for (t = 5, e = e.firstDayOfWeek(x.Wd()); 1 !== e.dayOfWeek(); )
                  e = e.addDays(1);
            }
            var n = e.addDays(t),
              i = {};
            return (i.start = e), (i.end = n), (i.days = t), i;
          }),
          (this.Qd = function () {
            for (
              var e = [], t = this.Vd(), n = t.start, i = t.days, a = 0;
              a < i;
              a++
            ) {
              var r = {};
              r.start = n.addDays(a);
              var o = x.Xc().datePattern;
              w.headerDateFormat && (o = w.headerDateFormat),
                (r.name = r.start.toString(o, x.Xc())),
                (r.html = r.name),
                e.push(r);
            }
            return e;
          }),
          (this.Nd = {}),
          (this.Pd = 0),
          (this.Xd = function () {
            if (!w.Md()) {
              "function" == typeof w.onColumnFilter &&
                (w.tb(null, { preLoadOnly: !0 }),
                this.Yd(w.Nb),
                (this.Nb = this.Sd(x.Td(), !0)));
              w.Ud() && w.Zd();
            }
          }),
          (this.Yd = function (e) {
            e &&
              e.forEach(function (e) {
                w.$d(e);
              });
          }),
          (this.$d = function (e) {
            var t = e.data,
              n = !t.children || 0 === t.children.length;
            if ("function" == typeof w.onColumnFilter && w.Nd.params)
              if (n) {
                var i = e.parent,
                  a = {};
                (a.visible = !0),
                  (a.column = w.ec(e, w)),
                  (a.filter = w.Nd.params),
                  (a.filterParam = a.filter),
                  w.onColumnFilter(a),
                  a.visible
                    ? null === i || void 0 === i
                      ? void 0
                      : i._d()
                    : (e.hidden = !0);
              } else e.hidden = !0;
            w.Yd(e.children);
          }),
          (this.ae = function (e, t) {
            var n = {};
            return (
              (n.id = e.id),
              (n.start = new DayPilot.Date(
                e.start || w.startDate
              ).getDatePart()),
              e.end && (n.end = new DayPilot.Date(e.end)),
              (n.name = e.name),
              (n.html = e.html || e.name),
              (n.toolTip = e.toolTip),
              (n.backColor = e.backColor),
              (n.areas = e.areas),
              (n.level = t ? t.level + 1 : 0),
              (n.parent = t),
              (n.data = e),
              (n.width = e.width),
              (w.Pd = Math.max(w.Pd, n.level)),
              (n._d = function () {
                (n.hidden = !1), n.parent && n.parent._d();
              }),
              (n.be = function (e, t) {
                var n = [];
                if (e <= 1) return this.hidden || n.push(this), n;
                if (!this.children || 0 === this.children.length)
                  return t ? this.hidden || n.push(this) : n.push("empty"), n;
                for (var i = 0; i < this.children.length; i++)
                  for (
                    var a = this.children[i], r = a.be(e - 1, t), o = 0;
                    o < r.length;
                    o++
                  )
                    n.push(r[o]);
                return n;
              }),
              (n.ce = function (e) {
                var t = 0;
                if (!this.children || this.children.length <= 0 || e <= 1) {
                  return !this.hidden ? 1 : 0;
                }
                for (var n = 0; n < this.children.length; n++)
                  t += this.children[n].ce(e - 1);
                return t;
              }),
              (n.ee = function (e) {
                for (var t = 0; t < this.blocks.length; t++) {
                  var n = this.blocks[t];
                  if (n.fe(e.part.top, e.part.height))
                    return (
                      n.events.push(e),
                      (n.min = Math.min(n.min, e.part.top)),
                      (n.max = Math.max(n.max, e.part.top + e.part.height)),
                      t
                    );
                }
                var i = [];
                return (
                  (i.lines = []),
                  (i.events = []),
                  (i.fe = function (e, t) {
                    return !(e + t - 1 < this.min || e > this.max - 1);
                  }),
                  (i.ge = function (e) {
                    for (var t = 0; t < this.lines.length; t++) {
                      var n = this.lines[t];
                      if (n.ie(e.part.top, e.part.height)) return n.push(e), t;
                    }
                    var i = [];
                    return (
                      (i.ie = function (e, t) {
                        for (
                          var n = e + t - 1, i = this.length, a = 0;
                          a < i;
                          a++
                        ) {
                          var r = this[a];
                          if (
                            !(
                              n < r.part.top ||
                              e > r.part.top + r.part.height - 1
                            )
                          )
                            return !1;
                        }
                        return !0;
                      }),
                      i.push(e),
                      this.lines.push(i),
                      this.lines.length - 1
                    );
                  }),
                  i.events.push(e),
                  (i.min = e.part.top),
                  (i.max = e.part.top + e.part.height),
                  this.blocks.push(i),
                  this.blocks.length - 1
                );
              }),
              (n.ge = function (e) {
                for (var t = 0; t < this.lines.length; t++) {
                  var n = this.lines[t];
                  if (n.ie(e.part.top, e.part.height)) return n.push(e), t;
                }
                var i = [];
                return (
                  (i.ie = function (e, t) {
                    for (
                      var n = e + t - 1, i = this.length, a = 0;
                      a < i;
                      a++
                    ) {
                      var r = this[a];
                      if (
                        !(n < r.part.top || e > r.part.top + r.part.height - 1)
                      )
                        return !1;
                    }
                    return !0;
                  }),
                  i.push(e),
                  this.lines.push(i),
                  this.lines.length - 1
                );
              }),
              (n.Ub = function () {
                return n.start.addHours(w.Ub(!0));
              }),
              (n.je = function () {
                var e = w.Qb(!0);
                return n.Ub().addTime(e);
              }),
              e.children && (n.children = this.Rd(e.children, n)),
              n
            );
          }),
          (this.Rd = function (e, t) {
            var n = f();
            return (
              f(e).forEach(function (e) {
                var i = w.ae(e, t);
                n.push(i);
              }),
              n
            );
          }),
          (this.Sd = function (e, t) {
            for (
              var n = this.Md() ? this.Nb : this.kb, i = f(), a = 0;
              a < n.length;
              a++
            )
              for (var r = n[a].be(e, t), o = 0; o < r.length; o++)
                i.push(r[o]);
            return i;
          }),
          (this.selectTimeRange = function (e, t, n, i) {
            if (e && t) {
              (e = new DayPilot.Date(e)), (t = new DayPilot.Date(t));
              var a = w.ke(e, n, !0),
                r = w.ke(t, n);
              if (a && r && a.data.x === r.data.x) {
                var o = {};
                (o.start = {}),
                  (o.start.columnIndex = a.data.x),
                  (o.start.column = w.Nb[a.data.x]),
                  (o.start.time = e),
                  (o.end = {}),
                  (o.end.time = t),
                  (w.Ia = o),
                  w.le(o),
                  w.Vc(o),
                  i ||
                    setTimeout(function () {
                      w.Jc(e, t, n, "api");
                    }, 0);
              }
            }
          }),
          (w.ke = function (e, t, n) {
            var i = w.Nb,
              a = w.nav.main,
              r = "Resources" === w.viewType,
              o = i.find(function (n) {
                var i = !r || n.id === t,
                  a = n.Ub() <= e && e < n.je();
                return i && a;
              });
            if (o) {
              var l = i.indexOf(o),
                s = (function () {
                  for (var t = 0; t < w.Yb(); t++) {
                    var i = a.rows[t].cells[l];
                    if (i) {
                      var r = i.data,
                        o = r.start <= e && e <= r.end;
                      if ((n && (o = r.start <= e && e < r.end), o)) return i;
                    }
                  }
                  return null;
                })();
              return s ? s : void 0;
            }
          }),
          (C.me = function (e) {
            var i = e.div.firstChild,
              a = t(),
              r = a.style;
            (r.position = "absolute"),
              (r.left = "2px"),
              (r.top = "2px"),
              (r.bottom = "2px"),
              (r.width = "15px"),
              (r.opacity = "0.5"),
              (r.cursor = "move"),
              (r.display = "none"),
              (a.className = w.ca("_colmove_handle")),
              n(i, "mouseenter", function () {
                C.s || _.s || (r.display = "");
              }),
              n(i, "mouseleave", function () {
                r.display = "none";
              }),
              (a.onmousedown = function (t) {
                C.ne(t, e);
              }),
              i.$ || (i.$ = {}),
              (i.$.oe = function () {
                r.display = "none";
              }),
              (i.$.pe = function () {
                r.display = "";
              }),
              i.appendChild(a);
          }),
          (C.ne = function (e, t) {
            var n,
              i,
              a = w.nav.header,
              o = {};
            (o.qe = t), (o.se = a.style.cursor);
            var l = t.div;
            (C.s = o),
              (v.colMoving = C),
              null ===
                (i = null === (n = l.$) || void 0 === n ? void 0 : n.te) ||
              void 0 === i
                ? void 0
                : i.call(n),
              r(l, w.ca("_colmove_source")),
              (a.style.cursor = "move");
          }),
          (C.ve = function (e) {
            var t = [],
              n = e.parent;
            return n && (t.push(n.data), (t = t.concat(C.ve(n)))), t;
          }),
          (C.we = function () {
            function e() {
              o(C.s.qe.div, w.ca("_colmove_source")),
                t && (t.style.cursor = n.se),
                a && a.remove(),
                (C.s = null);
            }
            if (!C.s.target) return void e();
            var t = w.nav.header,
              n = C.s,
              i = n.position,
              a = n.div,
              r = C.s.qe.column,
              l = r.data,
              s = r.parent,
              d = n.target,
              c = d.data,
              u = d.parent,
              h = u ? u.data.children : w.qb(),
              f = s ? s.data.children : w.qb();
            if (C.ve(d).includes(l)) return void e();
            if (c === l) return void e();
            if ("forbidden" === i) return void e();
            var v = {};
            if (
              ((v.source = w.ec(r)),
              (v.target = w.ec(d)),
              (v.position = i),
              (v.preventDefault = function () {
                v.preventDefault.value = !0;
              }),
              "function" == typeof w.onColumnMove &&
                (w.onColumnMove(v), v.preventDefault.value))
            )
              return void e();
            if (x.xe("Update")) {
              DayPilot.rfa(f, l);
              var p = h.indexOf(c);
              if ("child" === i) {
                var m = c.children || [];
                m.push(l), (c.children = m);
              } else
                "before" === i
                  ? h.splice(p, 0, l)
                  : "after" === i && h.splice(p + 1, 0, l);
              w.Od();
            }
            "function" == typeof w.onColumnMoved && w.onColumnMoved(v), e();
          }),
          (C.hc = function (e, n) {
            var i,
              a = 12,
              r = 12,
              o = n.data,
              l = w.columnMoveSameLevelOnly,
              s = C.s.div,
              d = C.s.qe.column;
            s
              ? (i = s.style)
              : ((s = t()),
                (i = s.style),
                (i.position = "absolute"),
                (i.width = "12px"),
                (i.height = "12px"),
                (i.top = "0px"),
                (C.s.div = s));
            var c = n.getBoundingClientRect(),
              u = c.width,
              h = c.height,
              f = DayPilot.mo3(n, e),
              v = o.children || [],
              p = v.length,
              m = 0 === p ? 0.25 : 0.5,
              g = null,
              b = C.ve(n.data);
            s.className = "";
            var y = !1;
            d === o && (y = !0),
              l && (m = 0.5),
              b.includes(d.data)
                ? (g = "forbidden")
                : y
                ? (g = "forbidden")
                : f.x < u * m
                ? (g = "before")
                : f.x > u * (1 - m)
                ? (g = "after")
                : 0 == p && (g = "child"),
              l && d.level !== o.level && (g = "forbidden");
            var x = {};
            (x.position = g),
              (x.source = w.ec(d)),
              (x.target = w.ec(n.data)),
              "function" == typeof w.onColumnMoving && w.onColumnMoving(x),
              (g = x.position),
              "forbidden" === g
                ? ((i.left = 0.5 * u - 6 + "px"),
                  (i.top = h / 2 - 2 + "px"),
                  (s.className = w.ca("_colmove_position_forbidden")))
                : "before" === g
                ? ((i.left = "0px"),
                  (i.top = 0.5 * h - 6 + "px"),
                  (s.className = w.ca("_colmove_position_before")))
                : "after" === g
                ? ((i.left = u - a - 1 + "px"),
                  (i.top = 0.5 * h - 6 + "px"),
                  (s.className = w.ca("_colmove_position_after")))
                : "child" === g &&
                  ((i.left = 0.5 * u - 6 + "px"),
                  (i.top = h - r - 1 + "px"),
                  (s.className = w.ca("_colmove_position_child"))),
              s.parentNode !== n && (s.remove(), n.appendChild(s)),
              (C.s.target = o),
              (C.s.position = g);
          }),
          (_.ye = function (e) {
            var i = e.div.firstChild,
              a = t(),
              r = a.style;
            (r.position = "absolute"),
              (r.right = "0px"),
              (r.top = "0px"),
              (r.bottom = "0px"),
              (r.width = "4px"),
              (r.cursor = "e-resize"),
              (r.display = "none"),
              (a.className = w.ca("_colheader_splitter")),
              n(i, "mouseenter", function () {
                C.s || _.s || (r.display = "");
              }),
              n(i, "mouseleave", function () {
                _.s || (r.display = "none");
              }),
              (a.onmousedown = function (t) {
                _.ze(t, e);
              }),
              i.$ || (i.$ = {}),
              (i.$.te = function () {
                r.display = "none";
              }),
              i.appendChild(a);
          }),
          (_.ze = function (e, t) {
            var n,
              i,
              a = DayPilot.mo3(w.nav.header, e),
              r = t.column,
              o = t.div.firstChild,
              l = {};
            if (
              ((l.Ae = a.x),
              (l.qe = t),
              (l.Be = t.x),
              (l.Ce = t.column),
              null ===
                (i = null === (n = o.$) || void 0 === n ? void 0 : n.oe) ||
              void 0 === i
                ? void 0
                : i.call(n),
              t.y !== x.Td() - 1)
            ) {
              var s = r.be(x.Td() - t.y, !0),
                d = s[s.length - 1];
              d && (l.Be = w.Nb.indexOf(d));
            }
            (_.s = l), (v.colResizing = _);
          }),
          (_.fd = function (e) {
            function t() {
              for (var e = 0, t = u + 1; t < i.length; t++)
                e += i[t].width || y;
              return e;
            }
            function n() {
              for (var e = t(), n = 0, a = u + 1; a < i.length; a++) {
                var r = i[a],
                  o = r.width || y,
                  l = o / e;
                (r.width = o - m * l),
                  r.width < 1 && ((n += 1 - r.width), (r.width = 1));
              }
              (b -= n), (g += n), (h = g * v);
            }
            var i = w.Nb,
              a = DayPilot.mo3(w.nav.header, e),
              r = _.s.Ce,
              o = a.x - _.s.Ae,
              l = _.s.qe.y,
              s = l !== x.Td() - 1,
              d = "Fixed" === x.jd(),
              c = w.columnWidthMin,
              u = _.s.Be,
              h = 0,
              f = w.nav.main.clientWidth,
              v = f / 100,
              p = c / v,
              m = o / v,
              g = 0,
              b = 0,
              y = d ? w.columnWidth : 100 / i.length;
            if (s) {
              var k = r.be(x.Td() - l, !0),
                C = k.reduce(function (e, t) {
                  return e + (t.width || y);
                }, 0),
                T = d ? C + o : C + m,
                S = T / C,
                D = 0;
              if (
                (k.forEach(function (e, t) {
                  var n = t === k.length - 1,
                    i = e.width || y,
                    a = i * S,
                    r = Math.round(a);
                  d && ((D += a - r), (a = r)),
                    a < c && ((h += a - c), (a = c)),
                    (e.width = a),
                    n && (e.width += D);
                }),
                !d)
              ) {
                n();
                var E = b,
                  H = k.reduce(function (e, t) {
                    return e + t.width || y;
                  }, 0);
                k.forEach(function (e) {
                  var t = e.width || y,
                    n = t / H;
                  e.width = t + E * n;
                });
              }
            } else {
              var M = w.De()[u].width,
                A = i[u];
              d
                ? ((b = M + o), b < c && ((h = b - c), (b = c)))
                : ((b = A.width + m),
                  b < p && ((g = b - p), (m = p - A.width), (b = p)),
                  (b = Math.max(b, 1)),
                  n()),
                (A.width = b);
            }
            (_.s.Ae = a.x - h), w.Zd(), w.Ka(), _.Ee();
          }),
          (_.Fe = function () {
            var e,
              t,
              n = w.Nb,
              i = _.s.qe.div.firstChild,
              a = _.s.Ce;
            null === (t = null === (e = i.$) || void 0 === e ? void 0 : e.pe) ||
            void 0 === t
              ? void 0
              : t.call(e),
              (_.s = null);
            var r = {};
            return (
              (r.column = w.ec(a)),
              (r.newWidth = a.width),
              (r.preventDefault = function () {
                r.preventDefault.value = !0;
              }),
              "function" == typeof w.onColumnResize && w.onColumnResize(r),
              r.preventDefault.value
                ? void w.update()
                : (x.Ge("Update") &&
                    n.forEach(function (e) {
                      e.data.width = e.width;
                    }),
                  void (
                    "function" == typeof w.onColumnResized &&
                    w.onColumnResized(r)
                  ))
            );
          }),
          (_.Ee = function () {
            var e = w.De(),
              t = "Fixed" === x.jd(),
              n = w.nav.header,
              i = w.nav.main,
              a = w.nav.events,
              r = w.nav.unifiedCornerRight;
            n.rows.forEach(function (e, t) {
              if (t !== x.Td() - 1) {
                var n = w.He(t);
                e.cells.forEach(function (e, t) {
                  var i = n[t];
                  (e.style.left = i.left + i.unit),
                    (e.style.width = i.width + i.unit);
                });
              }
            });
            for (var o = x.Td() - 1, l = 0; l < w.Nb.length; l++) {
              var s = e[l],
                d = n.rows[o].cells[l];
              (d.style.left = s.left + s.unit),
                (d.style.width = s.width + s.unit),
                t && (d.firstChild.style.width = s.width + s.unit);
            }
            if (
              (i.rows.forEach(function (n) {
                n.cells.forEach(function (n, i) {
                  var a = e[i].width + e[i].unit,
                    r = e[i].left + e[i].unit;
                  n.style.width !== a &&
                    ((n.style.width = a), t && (n.firstChild.style.width = a)),
                    n.style.left !== r && (n.style.left = r);
                });
              }),
              a.rows[0].cells.forEach(function (n, i) {
                var a = e[i].width + e[i].unit,
                  r = e[i].left + e[i].unit;
                n.style.width !== a &&
                  ((n.style.width = a), t && (n.firstChild.style.width = a)),
                  n.style.left !== r && (n.style.left = r);
              }),
              t)
            ) {
              var c = e[e.length - 1],
                u = c.left + c.width;
              (r.style.left = u + "px"), (i.style.width = u + "px");
            }
          }),
          (this.Zd = function () {
            if ("Fixed" !== x.jd()) {
              var e = w.Nb,
                t = 100 / e.length,
                n = e.reduce(function (e, n) {
                  return e + (n.width || t);
                }, 0),
                i = n / 100;
              e.forEach(function (e) {
                var n = e.width || t;
                e.width = n / i;
              });
            }
          }),
          (this.Gb = function () {
            if (this.showAllDayEvents) {
              var e = this.nav.header;
              if (e) {
                e.style.display = "none";
                for (
                  var n = this.Nb.length, i = 0;
                  i < this.Ie.lines.length;
                  i++
                )
                  for (
                    var l = this.Ie.lines[i],
                      s = function (e) {
                        var s = l[e],
                          f = s.cache || s.data,
                          v = t();
                        (v.style.position = "absolute"),
                          w.rtl
                            ? (v.style.right =
                                (100 * s.part.colStart) / n + "%")
                            : (v.style.left =
                                (100 * s.part.colStart) / n + "%"),
                          (v.style.width = (100 * s.part.colWidth) / n + "%"),
                          (v.style.height = x.Je() + "px"),
                          (v.style.top = w.Ke() + i * x.Je() + "px");
                        var p = t();
                        (p.event = s),
                          (p.style.position = "absolute"),
                          (p.style.inset = "2px"),
                          (p.className = h.ca("_alldayevent")),
                          w.allDayEventTextWrappingEnabled ||
                            (p.style.whiteSpace = "nowrap"),
                          f.cssClass && r(p, f.cssClass),
                          (p.style.textAlign = "left"),
                          (p.style.lineHeight = "1.2"),
                          s.client.clickEnabled() && (p.onclick = h.Zb),
                          s.client.doubleClickEnabled() &&
                            (p.ondblclick = h.cc),
                          s.client.clickEnabled() ||
                          s.client.doubleClickEnabled()
                            ? (p.style.cursor = "pointer")
                            : (p.style.cursor = "default"),
                          a(p, "contextmenu", h.dc),
                          (p.onmousemove = function (e) {
                            var t = e.currentTarget,
                              n = t.event,
                              i = n.cache || n.data;
                            if (!t.active) {
                              var a = [];
                              n.client.deleteEnabled() &&
                                a.push({
                                  action: "JavaScript",
                                  v: "Hover",
                                  w: 17,
                                  h: 17,
                                  top: 3,
                                  right: 3,
                                  css: w.ca("_event_delete"),
                                  js: function (e) {
                                    w.jc(e);
                                  },
                                });
                              var o = i.areas;
                              o && o.length > 0 && (a = a.concat(o)),
                                DayPilot.Areas.showAreas(t, n, null, a),
                                r(t, w.ca("_alldayevent_hover"));
                            }
                            "undefined" != typeof DayPilot.Bubble &&
                              w.bubble &&
                              "Disabled" !== w.eventHoverHandling &&
                              w.bubble.showEvent(this.event);
                          }),
                          (p.onmouseout = function (e) {
                            o(e.currentTarget, w.ca("_alldayevent_hover")),
                              DayPilot.Areas.hideAreas(this, e),
                              w.bubble && w.bubble.hideOnMouseOut();
                          }),
                          h.showToolTip &&
                            !h.bubble &&
                            p.setAttribute("title", s.client.toolTip());
                        var m = s.start().getTime() === s.part.start.getTime(),
                          g = s.end().getTime() === s.part.end.getTime(),
                          b = f.backColor,
                          y = t();
                        if (
                          ((y.className = h.ca("_alldayevent_inner")),
                          b && (y.style.background = b),
                          f.fontColor && (y.style.color = f.fontColor),
                          "darker" === f.borderColor && f.backColor
                            ? (y.style.borderColor = DayPilot.ColorUtil.darker(
                                f.backColor,
                                2
                              ))
                            : (y.style.borderColor = f.borderColor),
                          w.rtl
                            ? (m || r(p, h.ca("_alldayevent_continueright")),
                              g || r(p, h.ca("_alldayevent_continueleft")))
                            : (m || r(p, h.ca("_alldayevent_continueleft")),
                              g || r(p, h.ca("_alldayevent_continueright"))),
                          p.appendChild(y),
                          DayPilot.isArray(f.areas) &&
                            f.areas
                              .filter(function (e) {
                                return DayPilot.Areas.isVisible(e);
                              })
                              .forEach(function (e) {
                                var t = DayPilot.Areas.createArea(p, s, e);
                                p.appendChild(t);
                              }),
                          (function () {
                            var e = {};
                            if (
                              ((e.control = w),
                              (e.e = s),
                              (e.element = null),
                              (p.domArgs = e),
                              "function" == typeof w.onBeforeEventDomAdd &&
                                w.onBeforeEventDomAdd(e),
                              e.element)
                            ) {
                              var t = y;
                              if (t) {
                                e.Le = t;
                                var n = d(e.element),
                                  i = c(e.element),
                                  a = u(e.element);
                                if (n) w.W.Me(), w.W.V(e.element, t);
                                else if (i) {
                                  if (!w.Y.Ne)
                                    throw new DayPilot.Exception(
                                      "Can't reach Vue"
                                    );
                                  (w.Y.Oe = !0),
                                    w.Y.Z(e.element, t, e.props),
                                    (w.Y.Oe = !1);
                                } else if (a) {
                                  if (!w.Y.Ne)
                                    throw new DayPilot.Exception(
                                      "Can't reach Vue"
                                    );
                                  (w.Y.Oe = !0),
                                    w.Y.Pe(e.element, t),
                                    (w.Y.Oe = !1);
                                } else t.appendChild(e.element);
                              }
                            } else y.innerHTML = s.client.innerHTML();
                          })(),
                          w.Kb())
                        ) {
                          if ("function" == typeof w.onAfterEventRender) {
                            var k = {};
                            (k.e = p.event),
                              (k.div = p),
                              w.onAfterEventRender(k);
                          }
                        } else
                          w.afterEventRender && w.afterEventRender(p.event, p);
                        v.appendChild(p),
                          h.nav.allday.appendChild(v),
                          h.elements.events.push(p);
                      },
                      h = this,
                      f = 0;
                    f < l.length;
                    f++
                  )
                    s(f);
                e.style.display = "";
              }
            }
          }),
          (this.Ya = function (e) {
            if ((w.multiselect.Kd(), this.elements.events))
              for (var t = 0; t < this.elements.events.length; t++) {
                var n = this.elements.events[t],
                  i = n.event;
                (i && e && !i.allday()) || w.Qe(n);
              }
            this.elements.events = [];
          }),
          (this.Qe = function (e) {
            var t = e.event,
              n = e.domArgs;
            if (
              ((e.domArgs = null),
              n &&
                "function" == typeof w.onBeforeEventDomRemove &&
                w.onBeforeEventDomRemove(n),
              n && "function" == typeof w.onBeforeEventDomAdd)
            ) {
              var i = n && n.Le;
              if (i) {
                var a = w.W.reactDOM && d(n.element),
                  r = w.Y.Ne && (c(n.element) || u(n.element));
                a ? w.W.ka(i) : r && ((w.Y.Oe = !0), w.Y.la(i), (w.Y.Oe = !1));
              }
            }
            if (
              (t && ((t.div = null), (t.root = null), (t.rendered = !1)),
              (e.onclick = null),
              (e.onclickSave = null),
              (e.ondblclick = null),
              (e.oncontextmenu = null),
              (e.onmouseover = null),
              (e.onmouseout = null),
              (e.onmousemove = null),
              (e.onmousedown = null),
              e.firstChild &&
                e.firstChild.firstChild &&
                e.firstChild.firstChild.tagName &&
                "IMG" === e.firstChild.firstChild.tagName.toUpperCase())
            ) {
              var o = e.firstChild.firstChild;
              (o.onmousedown = null),
                (o.onmousemove = null),
                (o.onclick = null);
            }
            e !== v.moving && ((e.helper = null), (e.event = null)), p(e);
          }),
          (this.Re = function (e) {
            if (e.isAllDay()) return !0;
            var t = w.Se(e.part.dayIndex),
              n = this.xd(),
              i = n.pixels.left,
              a = n.pixels.right,
              r = n.pixels.top,
              o = n.pixels.bottom,
              l = (e.part.width / 100) * t.width,
              s = (t.width * e.part.left) / 100 + t.left,
              d = s + l,
              c = e.part.top - this.rd(),
              u = c + e.part.height,
              h = a <= s || i >= d,
              f = o <= c || r >= u;
            return !h && !f;
          }),
          (this.xd = function () {
            if (w.va.wa) return w.va.wa;
            var e = w.kd();
            if (!e) return null;
            var t = {},
              n = w.rtl ? -e.scrollLeft : e.scrollLeft,
              i = e.scrollTop,
              a = {};
            (a.left = n),
              (a.right = n + e.clientWidth),
              (a.top = i),
              (a.bottom = i + e.clientHeight),
              (a.width = e.scrollWidth);
            var r = w.dynamicEventRenderingMarginX;
            r &&
              ((a.left -= r),
              (a.right += r),
              a.left < 0 && (a.left = 0),
              a.right > a.width && (a.right = a.width));
            var o = w.dynamicEventRenderingMarginY;
            if (o) {
              (a.top -= o), (a.bottom += o);
              var l = w.Te();
              a.top < 0 && (a.top = 0), a.bottom > l && (a.bottom = l);
            }
            for (var s = w.De(), d = null, c = null, u = 0; u < s.length; u++) {
              var h = s[u],
                f = h.left + h.width;
              if (
                (null === d && f > a.left && (d = u),
                null !== d &&
                  null === c &&
                  (f >= a.right || u === s.length - 1))
              ) {
                c = u;
                break;
              }
            }
            var v = Math.floor(a.top / w.cellHeight);
            v = DayPilot.Util.atLeast(0, v);
            var p = Math.ceil(a.bottom / w.cellHeight);
            return (
              (p = DayPilot.Util.atMost(w.Yb() - 1, p)),
              (t.xStart = d),
              (t.xEnd = c),
              (t.yStart = v),
              (t.yEnd = p),
              (t.pixels = a),
              (w.va.wa = t),
              t
            );
          }),
          (this.Se = function (e) {
            return w.va.xa || (w.va.xa = w.De()), w.va.xa[e];
          }),
          (this.Ue = function (e) {
            var o = this.nav.events,
              l = e.cache || e.data;
            if (!e.rendered) {
              var s = l.borderRadius || w.eventBorderRadius;
              "number" == typeof s && (s += "px");
              var h = w.multiselect.Dd(e),
                f = w.Re(e),
                v =
                  "Progressive" === w.dynamicEventRendering &&
                  "Fixed" === x.jd();
              if (h || !v || f) {
                var p = t();
                (p.style.userSelect = "none"),
                  (p.style.webkitUserSelect = "none"),
                  (p.style.position = "absolute"),
                  (p.className = this.ca("_event")),
                  (p.style.left = e.part.left + "%"),
                  (p.style.top = e.part.top - this.rd() + "px"),
                  (p.style.width = e.part.width + "%"),
                  (p.style.height = Math.max(e.part.height, 2) + "px"),
                  (p.style.overflow = "hidden"),
                  (p.isFirst = e.part.start.getTime() === e.start().getTime()),
                  (p.isLast = e.part.end.getTime() === e.end().getTime()),
                  e.client.clickEnabled() && (p.onclick = this.Zb),
                  e.client.doubleClickEnabled() && (p.ondblclick = this.cc),
                  a(p, "contextmenu", this.dc),
                  (p.onmousemove = this.Ve),
                  (p.onmouseout = this.We),
                  (p.onmousedown = this.Xe),
                  i(p, DayPilot.touch.start, this.Ca.onEventTouchStart),
                  n(p, DayPilot.touch.move, this.Ca.onEventTouchMove),
                  i(p, DayPilot.touch.end, this.Ca.onEventTouchEnd),
                  p.addEventListener("mouseenter", this.Ye),
                  p.addEventListener("mouseleave", this.Ze),
                  l.cssClass && r(p, l.cssClass),
                  this.showToolTip &&
                    !this.bubble &&
                    p.setAttribute("title", e.client.toolTip());
                var m = t();
                if (
                  ((m.className = w.ca("_event_inner")),
                  l.fontColor && (m.style.color = l.fontColor),
                  l.backColor && (m.style.background = l.backColor),
                  l.borderColor &&
                    ("darker" === l.borderColor && l.backColor
                      ? (m.style.borderColor = DayPilot.ColorUtil.darker(
                          l.backColor,
                          2
                        ))
                      : (m.style.borderColor = l.borderColor)),
                  l.backgroundImage &&
                    ((m.style.backgroundImage =
                      "url(" + l.backgroundImage + ")"),
                    l.backgroundRepeat &&
                      (m.style.backgroundRepeat = l.backgroundRepeat)),
                  s && ((p.style.borderRadius = s), (m.style.borderRadius = s)),
                  p.appendChild(m),
                  e.client.barVisible())
                ) {
                  var g = e.part.height - 2,
                    b = (100 * e.part.barTop) / g,
                    y = Math.ceil((100 * e.part.barHeight) / g),
                    k = t();
                  (k.className = this.ca("_event_bar")),
                    (k.style.position = "absolute"),
                    l.barBackColor &&
                      (k.style.backgroundColor = l.barBackColor);
                  var C = t();
                  (C.className = this.ca("_event_bar_inner")),
                    (C.style.top = b + "%"),
                    0 < y && y <= 1
                      ? (C.style.height = "1px")
                      : (C.style.height = y + "%"),
                    l.barColor && (C.style.backgroundColor = l.barColor),
                    k.appendChild(C),
                    p.appendChild(k);
                }
                var _ = l.areas ? DayPilot.Areas.copy(l.areas) : [],
                  T = w.Nb[e.part.dayIndex];
                if (
                  (_.forEach(function (t) {
                    t.start &&
                      (t.top =
                        w.vc(new DayPilot.Date(t.start), T.start).top -
                        e.part.top -
                        w.rd()),
                      t.end &&
                        (t.bottom =
                          e.part.top +
                          e.part.height -
                          w.vc(new DayPilot.Date(t.end), T.start).top -
                          w.rd());
                  }),
                  e.client.deleteEnabled() &&
                    (w.rtl
                      ? _.push({
                          action: "JavaScript",
                          v: "Hover",
                          w: 17,
                          h: 17,
                          top: 2,
                          left: 2,
                          css: w.ca("_event_delete"),
                          js: function (e) {
                            w.jc(e);
                          },
                        })
                      : _.push({
                          action: "JavaScript",
                          v: "Hover",
                          w: 17,
                          h: 17,
                          top: 2,
                          right: 2,
                          css: w.ca("_event_delete"),
                          js: function (e) {
                            w.jc(e);
                          },
                        })),
                  DayPilot.Areas.attach(p, e, { areas: _ }),
                  (function () {
                    var t = {};
                    if (
                      ((t.control = w),
                      (t.e = e),
                      (t.element = null),
                      (p.domArgs = t),
                      "function" == typeof w.onBeforeEventDomAdd &&
                        w.onBeforeEventDomAdd(t),
                      t.element)
                    ) {
                      var n = m;
                      if (n) {
                        t.Le = n;
                        var i = d(t.element),
                          a = c(t.element),
                          r = u(t.element);
                        if (i) w.W.Me(), w.W.V(t.element, n);
                        else if (a) {
                          if (!w.Y.Ne)
                            throw new DayPilot.Exception("Can't reach Vue");
                          (w.Y.Oe = !0),
                            w.Y.Z(t.element, n, t.props),
                            (w.Y.Oe = !1);
                        } else if (r) {
                          if (!w.Y.Ne)
                            throw new DayPilot.Exception("Can't reach Vue");
                          (w.Y.Oe = !0), w.Y.Pe(t.element, n), (w.Y.Oe = !1);
                        } else n.appendChild(t.element);
                      }
                    } else m.innerHTML = e.client.innerHTML();
                  })(),
                  o.rows[0].cells[e.part.dayIndex])
                ) {
                  if (
                    (o.rows[0].cells[e.part.dayIndex].events.appendChild(p),
                    (p.event = e),
                    w.multiselect.Dd(e) && w.multiselect.add(p.event, !0),
                    (e.rendered = !0),
                    w.Kb())
                  ) {
                    if ("function" == typeof w.onAfterEventRender) {
                      var S = {};
                      (S.e = p.event), (S.div = p), w.onAfterEventRender(S);
                    }
                  } else w.afterEventRender && w.afterEventRender(p.event, p);
                  w.elements.events.push(p);
                }
              }
            }
          }),
          (this.Fb = function () {
            for (var e = 0; e < this.Nb.length; e++) {
              var t = this.Nb[e];
              if (t.blocks)
                for (var n = 0; n < t.blocks.length; n++)
                  for (var i = t.blocks[n], a = 0; a < i.lines.length; a++)
                    for (var r = i.lines[a], o = 0; o < r.length; o++) {
                      var l = r[o];
                      if (
                        ((l.part.width = 100 / i.lines.length),
                        (l.part.left = l.part.width * a),
                        "Cascade" === this.eventArrangement)
                      ) {
                        var s = a === i.lines.length - 1;
                        s || (l.part.width = 1.5 * l.part.width);
                      }
                      "Full" === this.eventArrangement &&
                        ((l.part.left = l.part.left / 2),
                        (l.part.width = 100 - l.part.left)),
                        l.allday() || this.Ue(l);
                    }
            }
            this.multiselect.redraw();
          }),
          (this.nd = function () {
            w.elements.events.forEach(function (e) {
              e.event && !w.Re(e.event) && w.Qe(e);
            }),
              w.va.$e.forEach(function (e) {
                w.Ue(e);
              }),
              (w.elements.events = w.elements.events.filter(function (e) {
                return !!e.event;
              }));
          }),
          (this.pd = function () {
            if (w.Nb && 0 !== w.Nb.length) {
              for (var e = w.xd(), t = e.xStart; t <= e.xEnd; t++)
                for (var n = e.yStart; n <= e.yEnd; n++) w._e(t, n);
              w.af();
            }
          }),
          (w.af = function () {
            for (
              var e = w.xd(), t = this.Yb(), n = w.Nb.length, i = 0;
              i < n;
              i++
            ) {
              var a = !0;
              e.xStart <= i && i <= e.xEnd && (a = !1);
              for (var r = 0; r < t; r++) {
                var o = !0;
                e.yStart <= r && r <= e.yEnd && (o = !1);
                var l = w.elements.cells[i + "_" + r];
                l &&
                  (o || a) &&
                  (l.remove(), (w.elements.cells[i + "_" + r] = null));
              }
            }
          }),
          (this.ca = function (e) {
            var t = this.theme || this.cssClassPrefix;
            return t ? t + e : "";
          }),
          (this.bf = function () {
            switch (w.Ga) {
              case "aspnet":
                if (!this.Ua())
                  throw new DayPilot.Exception(
                    "ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/"
                  );
                break;
              case "netmvc":
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    "DayPilot.Calendar.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/"
                  );
                break;
              case "javaxx":
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    "DayPilot.Calendar.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/"
                  );
            }
          }),
          (this.D = function () {
            "hidden" === this.nav.top.style.visibility &&
              (this.nav.top.style.visibility = "visible");
          }),
          (this.cf = function () {
            var e = this.Vb() + this.df();
            return (
              w.debug.message(
                "Getting totalHeight, headerHeight: " +
                  this.Vb() +
                  " scrollable: " +
                  this.df()
              ),
              e < 0 ? 0 : e
            );
          }),
          (this.bb = function () {
            w.gb();
          }),
          (this.ef = function () {
            var e = this.nav.top;
            (e.dp = this),
              (e.innerHTML = ""),
              (e.style.userSelect = "none"),
              (e.style.webkitUserSelect = "none"),
              (e.style.WebkitTapHighlightColor = "rgba(0,0,0,0)"),
              (e.style.WebkitTouchCallout = "none"),
              (e.style.position = "relative"),
              this.width && (e.style.width = this.width),
              this.rtl && (e.style.direction = "rtl"),
              "Parent100Pct" === this.heightSpec
                ? (e.style.height = "100%")
                : (e.style.height = this.cf() + "px"),
              this.hideUntilInit && (e.style.visibility = "hidden"),
              this.visible || (e.style.display = "none"),
              e.addEventListener("mouseleave", w.bb);
            var n = t();
            if (
              ((this.nav.scroll = n),
              (n.style.height = this.df() + "px"),
              (n.style.position = "relative"),
              this.showHeader)
            ) {
              var i = this.ff();
              e.appendChild(i);
            }
            (n.style.zoom = 1),
              (n.style.position = "absolute"),
              (n.style.left = "0px"),
              (n.style.right = "0px"),
              (n.style.top = this.Vb() + "px"),
              (n.className = w.ca("_scroll"));
            var a = this.gf();
            (this.nav.scrollable = a.firstChild),
              n.appendChild(a),
              e.appendChild(this.nav.scroll),
              (this.nav.vsph = t()),
              (this.nav.vsph.style.display = "none"),
              this.nav.top.appendChild(this.nav.vsph),
              (this.nav.scrollpos = document.createElement("input")),
              (this.nav.scrollpos.type = "hidden"),
              (this.nav.scrollpos.id = w.id + "_scrollpos"),
              (this.nav.scrollpos.name = this.nav.scrollpos.id),
              e.appendChild(this.nav.scrollpos),
              (this.nav.select = document.createElement("input")),
              (this.nav.select.type = "hidden"),
              (this.nav.select.id = w.id + "_select"),
              (this.nav.select.name = this.nav.select.id),
              (this.nav.select.value = null),
              e.appendChild(this.nav.select),
              (this.nav.scrollLayer = t()),
              (this.nav.scrollLayer.style.position = "absolute"),
              (this.nav.scrollLayer.style.top = "0px"),
              (this.nav.scrollLayer.style.left = "0px"),
              e.appendChild(this.nav.scrollLayer),
              (this.nav.scrollUp = []),
              (this.nav.scrollDown = []);
            var r = t();
            (r.style.position = "absolute"),
              (r.style.top = "0px"),
              (r.style.left = this.hourWidth + 5 + "px"),
              (r.className = w.ca("_loading")),
              (r.innerHTML = w.La(
                this.loadingLabelText,
                this.loadingLabelHtml
              )),
              (r.style.display = "none"),
              (this.nav.loading = r),
              e.appendChild(r);
          }),
          (this.hf = function () {
            for (
              var e = "Fixed" === x.jd(),
                t =
                  this.nav.header &&
                  this.nav.header.rows[this.nav.header.rows.length - 1],
                n = this.nav.events.rows[0],
                i = 0;
              i < w.Nb.length;
              i++
            ) {
              var a = t && t.cells[i],
                r = n.cells[i],
                o = a && a.firstChild,
                l = w.Nb[i];
              if (e) {
                var s = l.width ? l.width : w.columnWidth;
                o && (o.style.width = s + "px"),
                  r && (r.style.width = s + "px");
              } else
                w.ra ||
                  (o && (o.style.width = null), r && (r.style.width = null));
            }
          }),
          (this.Wb = function () {
            return this.qa ? w.nav.bottomRight : w.nav.scroll;
          }),
          (this.Db = function () {
            var e = "Fixed" === x.jd();
            if (!e) {
              var t = w.Wb();
              "Fixed" === this.heightSpec
                ? (t.style.overflowY = "scroll")
                : "BusinessHours" === this.heightSpec &&
                  this.Pb() <= this.businessEndsHour - this.businessBeginsHour
                ? (t.style.overflow = "hidden")
                : "Full" !== this.heightSpec &&
                  "BusinessHoursNoScroll" !== this.heightSpec
                ? (t.style.overflow = "auto")
                : (t.style.overflow = "hidden");
            }
            var n = w.nav.headerParent;
            if (e) {
              var i = 0,
                a = w.if();
              a > w.kd().clientWidth && (i = DayPilot.sw(w.nav.bottomRight)),
                n && (w.nav.headerParent.style.width = a + i + "px"),
                (w.nav.main.style.width = a + "px"),
                (w.nav.events.style.width = a + "px"),
                (w.nav.crosshair.style.width = a + "px");
            } else
              n && (n.style.width = "100%"),
                (w.nav.main.style.width = "100%"),
                (w.nav.events.style.width = "100%"),
                (w.nav.crosshair.style.width = "100%");
            this.hf();
          }),
          (this.Ab = function () {
            this.Za(),
              this.nav.hoursPlaceholder &&
                ((this.nav.hoursPlaceholder.innerHTML = ""),
                (this.nav.hourTable = this.jf()),
                this.nav.hoursPlaceholder.appendChild(this.nav.hourTable));
          }),
          (this.Za = function () {
            if (this.nav.hourTable) {
              w.elements.timeHeaders.forEach(function (e) {
                var t = e.domArgs;
                if (
                  ((e.domArgs = null),
                  "function" == typeof w.onBeforeTimeHeaderDomRemove &&
                    w.onBeforeTimeHeaderDomRemove(t),
                  "function" == typeof w.onBeforeTimeHeaderDomAdd)
                ) {
                  var n = t && t.Le;
                  if (n) {
                    var i = w.W.reactDOM && d(t.element),
                      a = w.Y.Ne && (c(t.element) || u(t.element));
                    i
                      ? w.W.ka(n)
                      : a && ((w.Y.Oe = !0), w.Y.la(n), (w.Y.Oe = !1));
                  }
                }
              });
              for (var e = 0; e < this.nav.hourTable.rows.length; e++) {
                var t = this.nav.hourTable.rows[e],
                  n = t.cells[0].firstChild;
                (n.data = null), (n.onmousemove = null), (n.onmouseout = null);
              }
              w.elements.timeHeaders = [];
            }
          }),
          (this.gf = function () {
            var e = t();
            (e.style.zoom = 1),
              (e.style.position = "relative"),
              (e.onmousemove = this.kf),
              (e.oncontextmenu = this.lf),
              i(e, DayPilot.touch.start, this.Ca.mf),
              i(e, DayPilot.touch.move, this.Ca.nf),
              i(e, DayPilot.touch.end, this.Ca.of),
              a(e, "contextmenu", function (e) {
                e.preventDefault();
              }),
              navigator.msPointerEnabled &&
                ((e.style.msTouchAction = "none"),
                (e.style.touchAction = "none")),
              (e.daypilotMainD = !0),
              (e.calendar = this);
            var n = null,
              r = null;
            if (this.showHours) {
              var o = t();
              (o.style.cssFloat = "left"),
                w.rtl && (o.style.cssFloat = "right"),
                (o.style.width = this.hourWidth + "px"),
                (o.style.height = this.df() + "px"),
                (o.style.overflow = "hidden"),
                (o.style.position = "relative"),
                e.appendChild(o),
                (n = o);
              var l = 30,
                s = w.Te() + l;
              (r = t()), (r.style.height = s + "px"), o.appendChild(r);
            }
            var d = t();
            (d.style.height = this.df() + "px"),
              this.showHours &&
                (w.rtl
                  ? (d.style.marginRight = this.hourWidth + "px")
                  : (d.style.marginLeft = this.hourWidth + "px")),
              (d.style.position = "relative"),
              (d.style.overflow = "auto"),
              e.appendChild(d),
              r &&
                ((this.nav.hourTable = this.jf()),
                r.appendChild(this.nav.hourTable));
            var c = t();
            (c.style.height = "0px"),
              (c.style.position = "relative"),
              c.appendChild(this.pf());
            var u = t();
            return (
              (u.style.position = "absolute"),
              (u.style.top = "0px"),
              (u.style.left = "0px"),
              (u.style.width = "100%"),
              (u.style.height = "0px"),
              c.appendChild(u),
              (this.nav.crosshair = u),
              c.appendChild(this.qf()),
              d.appendChild(c),
              (this.nav.grid = c),
              (this.nav.zoom = e),
              (this.nav.bottomLeft = n),
              (this.nav.bottomRight = d),
              (this.nav.hoursPlaceholder = r),
              e
            );
          }),
          (this.rf = function () {
            var e = w.nav.bottomLeft;
            e && (e.style.width = w.hourWidth + "px");
            var t = w.nav.bottomRight;
            w.showHours &&
              (w.rtl
                ? (t.style.marginRight = w.hourWidth + "px")
                : (t.style.marginLeft = w.hourWidth + "px"));
            var n = w.nav.loading;
            n && (n.style.left = w.hourWidth + 5 + "px");
            var i = w.nav.upperLeft;
            i && (i.style.width = w.hourWidth + "px");
            var a = w.nav.corner;
            a && (a.style.width = w.hourWidth + "px");
          }),
          (this.pf = function () {
            if (w.ra) {
              var e = t();
              return (w.nav.main = e), e;
            }
            var n = document.createElement("table");
            return (
              (n.cellPadding = "0"),
              (n.cellSpacing = "0"),
              (n.border = "0"),
              "Fixed" === x.jd() || (n.style.width = "100%"),
              (n.style.border = "0px none"),
              (n.style.margin = "0px"),
              (n.style.tableLayout = "fixed"),
              (this.nav.main = n),
              n
            );
          }),
          (this.sf = function () {
            return "Fixed" === x.jd() ? w.if() + "px" : "100%";
          }),
          (this.if = function () {
            for (var e = 0, t = 0; t < w.Nb.length; t++) {
              var n = w.Nb[t];
              e += n.width ? n.width : w.columnWidth;
            }
            return e;
          }),
          (this.qf = function () {
            if (w.ra) {
              var e = t();
              return (
                (e.style.userSelect = "none"),
                (e.style.position = "absolute"),
                (e.style.left = "0px"),
                (e.style.right = "0px"),
                (e.style.top = "0px"),
                (e.style.height = "0px"),
                (w.nav.events = e),
                e
              );
            }
            var n = document.createElement("table");
            (n.style.position = "absolute"),
              (n.style.top = "0px"),
              (n.cellPadding = "0"),
              (n.cellSpacing = "0"),
              (n.border = "0"),
              (n.style.width = w.sf()),
              (n.style.border = "0px none"),
              (n.style.margin = "0px"),
              (n.style.tableLayout = "fixed"),
              (this.nav.events = n);
            for (
              var i = this.Nb, a = i.length, r = n.insertRow(-1), o = 0;
              o < a;
              o++
            ) {
              var l = r.insertCell(-1);
              (l.style.padding = "0px"),
                (l.style.border = "0px none"),
                (l.style.height = "0px"),
                (l.style.overflow = "visible"),
                w.rtl || (l.style.textAlign = "left"),
                w.tf(l);
            }
            return n;
          }),
          (this.jf = function () {
            var e = t();
            (e.style.width = this.hourWidth + "px"),
              (e.style.position = "relative"),
              (e.oncontextmenu = function () {
                return !1;
              }),
              (e.onmousemove = function () {
                w.hb();
              }),
              (e.rows = []);
            for (var n = w.uf(), i = 0; i < n; i++) this.vf(e, i);
            return e;
          }),
          (this.uf = function () {
            return this.hours
              ? this.hours.length
              : this.Qb() / (60 * x.wf() * 1e3);
          });
        this.xf = function () {
          var e = x.Ob();
          return (60 * this.cellHeight) / e / (60 / x.wf());
        };
        (this.yf = function () {
          return (this.Ub() - this.Ub(!0)) * (60 / x.Ob());
        }),
          (this.zf = function () {
            return this.Ub() - this.Ub(!0);
          }),
          (this.rd = function () {
            return this.yf() * this.cellHeight;
          }),
          (this.vf = function (e, n) {
            var i = w.xf(),
              a = t();
            (a.style.position = "absolute"),
              (a.style.top = n * i + "px"),
              (a.style.height = i + "px"),
              (e.rows[n] = a);
            var r = t();
            a.appendChild(r), (a.cells = [r]);
            var o = t();
            (o.className = this.ca("_rowheader")),
              (o.style.position = "relative"),
              (o.style.width = this.hourWidth + "px"),
              (o.style.height = i + "px"),
              (o.style.overflow = "hidden"),
              60 !== x.wf() && o.classList.add(this.ca("_rowheader_simple"));
            var l = t();
            l.className = this.ca("_rowheader_inner");
            var s = w.Af(n),
              h = s.html,
              f = s.data;
            f &&
              ((o.data = f),
              (o.onmousemove = w.Bf),
              (o.onmouseout = w.Cf),
              f.cssClass && DayPilot.Util.addClass(o, f.cssClass));
            var v = null,
              p = {};
            if (
              ((p.header = f),
              "function" == typeof w.onBeforeTimeHeaderDomAdd &&
                ((p.element = null),
                w.onBeforeTimeHeaderDomAdd(p),
                (v = p.element)),
              (o.domArgs = p),
              v)
            ) {
              var m = l;
              p.Le = m;
              var g = d(v),
                b = c(p.element),
                y = u(p.element);
              if (g) w.W.Me(), w.W.V(v, m);
              else if (b) {
                if (!w.Y.Ne) throw new DayPilot.Exception("Can't reach Vue");
                (w.Y.Oe = !0), w.Y.Z(p.element, m, p.props), (w.Y.Oe = !1);
              } else if (y) {
                if (!w.Y.Ne) throw new DayPilot.Exception("Can't reach Vue");
                (w.Y.Oe = !0), w.Y.Pe(p.element, m), (w.Y.Oe = !1);
              } else m.appendChild(v);
            } else l.innerHTML = h;
            if ((o.appendChild(l), f && f.areas)) {
              var k = {};
              (k.time = f.time),
                (k.date = f.date),
                DayPilot.Areas.attach(o, k, { areas: f.areas });
            }
            w.elements.timeHeaders.push(o), r.appendChild(o), e.appendChild(a);
          }),
          (this.Af = function (e) {
            var n, i;
            if (this.hours) {
              var a = e + this.zf();
              (i = this.hours[a]), i && (n = i.html);
            }
            var r,
              o = x.wf(),
              l = this.startDate.addMinutes(o * e + 60 * this.Ub()),
              s = l.getHours(),
              d = s < 12;
            if (
              ((r = "Clock12Hours" === this.Ba.Wc() ? (d ? "AM" : "PM") : "00"),
              !n)
            ) {
              var c = t();
              "Clock12Hours" === this.Ba.Wc() &&
                ((s %= 12), 0 === s && (s = 12));
              var u = x.wf();
              if (
                (60 !== u &&
                  (u <= 120
                    ? (s += ":" + l.toString("mm"))
                    : (s =
                        u < 1440
                          ? l.toString("ddd M/d h:mm tt")
                          : l.toString("ddd M/d"))),
                (c.innerHTML = s),
                60 === u)
              ) {
                var h = document.createElement("span");
                (h.className = this.ca("_rowheader_minutes")),
                  (h.innerHTML = r),
                  c.appendChild(h);
              }
              n = c.outerHTML;
            }
            var f = {};
            (f.header = {}),
              (f.header.hours = l.getHours()),
              (f.header.minutes = l.getMinutes()),
              (f.header.start = l.toString("HH:mm")),
              (f.header.text = null),
              (f.header.html = n),
              (f.header.areas = i ? i.areas : null),
              (f.header.time = new DayPilot.Duration(l.getTimePart())),
              (f.header.cssClass = null),
              (f.header.date = null),
              "Resources" === w.viewType && (f.header.date = l),
              "function" == typeof w.onBeforeTimeHeaderRender &&
                (w.onBeforeTimeHeaderRender(f),
                null !== f.header.html && (n = f.header.html)),
              (i = f.header);
            var v = {};
            return (
              (v.start = l),
              (v.hour = s),
              (v.html = n),
              (v.data = i),
              (v.sup = r),
              f.header.text && (v.text = f.header.text),
              v
            );
          }),
          (this.Bf = function (e) {
            w.hb();
            var t = e.currentTarget;
            t.active || DayPilot.Areas.showAreas(t, t.data);
          }),
          (this.Cf = function (e) {
            DayPilot.Areas.hideAreas(this, e);
          }),
          (this.df = function () {
            switch (this.heightSpec) {
              case "Fixed":
                return this.height;
              case "Parent100Pct":
                return this.height;
              case "Full":
                return this.Te();
              case "BusinessHours":
              case "BusinessHoursNoScroll":
                if ("Resources" === w.viewType && w.days > 1 && !w.hours)
                  return w.Te();
                return (this.Rb() * this.cellHeight * 60) / x.Ob();
              default:
                throw new DayPilot.Exception(
                  "DayPilot.Calendar: Unexpected 'heightSpec' value."
                );
            }
          }),
          (this.Te = function () {
            return (w.Qb() * this.cellHeight) / (6e4 * x.Ob());
          }),
          (this.Vb = function () {
            if (!this.showHeader) return 0;
            var e = w.Ke();
            return this.showAllDayEvents && x.Df() ? e + x.Df() : e;
          }),
          (this.Ke = function () {
            var e = x.Td();
            return x.Ef(e);
          }),
          (this.wb = function () {
            if (this.headerHeightAutoFit) {
              for (var e = 0, t = 0; t < this.nav.header.rows.length; t++)
                for (
                  var n = this.nav.header.rows[t], i = 0;
                  i < n.cells.length;
                  i++
                ) {
                  var a = n.cells[i],
                    r = a.firstChild,
                    o = r.firstChild,
                    l = r.style.height;
                  (r.style.height = "auto"), (o.style.position = "static");
                  var s = r.offsetHeight;
                  (r.style.height = l),
                    (o.style.position = ""),
                    (e = Math.max(e, s));
                }
              e > this.headerHeight &&
                ((this.va.headerHeight = e), this.ub(), this.vb());
            }
          }),
          (this.Ff = function () {
            var e = this.qa ? w.nav.bottomRight : w.nav.scroll;
            return DayPilot.sw(e) > 0;
          }),
          (this.ff = function () {
            var e = t(),
              n = "Fixed" === x.jd();
            n || (e.style.overflow = "auto"),
              (e.style.position = "absolute"),
              (e.style.left = "0px"),
              (e.style.right = "0px");
            var i = t();
            (i.style.position = "relative"), (i.style.zoom = "1");
            var a = null;
            if (n || this.qa) {
              var r = t();
              if (
                ((r.style.cssFloat = "left"),
                w.rtl && (r.style.cssFloat = "right"),
                (r.style.width = this.hourWidth + "px"),
                this.showHours)
              ) {
                var o = this.Gf();
                (this.nav.corner = o),
                  r.appendChild(o),
                  i.appendChild(r),
                  (this.nav.upperLeft = r);
              }
              var l = t();
              this.showHours &&
                (w.rtl
                  ? (l.style.marginRight = this.hourWidth + "px")
                  : (l.style.marginLeft = this.hourWidth + "px")),
                (l.style.position = "relative"),
                (l.style.overflow = "hidden"),
                (l.style.height = this.Vb() + "px"),
                (l.className = w.ca("_colheader_back")),
                (l.onmousemove = function (e) {
                  "undefined" != typeof _ && _.s && _.fd(e);
                }),
                i.appendChild(l),
                (this.nav.upperRight = l);
              var s = t();
              (s.className = w.ca("_colheader_back_inner")),
                l.appendChild(s),
                (a = t()),
                (a.style.position = "relative"),
                l.appendChild(a);
            } else {
              var d = document.createElement("table");
              (d.cellPadding = "0"),
                (d.cellSpacing = "0"),
                (d.border = "0"),
                (d.style.margin = "0px"),
                (d.style.width = "100%"),
                (d.style.borderCollapse = "separate"),
                (d.style.border = "0px none");
              var c = d.insertRow(-1);
              if (((this.nav.fullHeader = d), this.showHours)) {
                var u = c.insertCell(-1);
                (u.style.padding = "0px"), (u.style.border = "0px none");
                var o = this.Gf();
                u.appendChild(o), (this.nav.corner = o);
              }
              var h = c.insertCell(-1);
              (h.style.width = "100%"),
                (h.valign = "top"),
                (h.style.position = "relative"),
                (h.style.padding = "0px"),
                (h.style.border = "0px none"),
                (a = t()),
                (a.style.position = "relative"),
                (a.style.height = this.Vb() + "px"),
                (a.style.overflow = "hidden"),
                h.appendChild(a),
                (this.nav.mid = a),
                i.appendChild(d);
            }
            return (
              (this.nav.headerParent = a),
              (this.nav.headerParent.onmousemove = function (e) {
                e.insideMainD = !0;
              }),
              this.Hf(),
              this.Ff() && !n && this.If(),
              e.appendChild(i),
              e
            );
          }),
          (this.Hf = function () {
            if (((this.nav.unifiedCornerRight = null), w.ra))
              (this.nav.header = t()),
                (this.nav.header.style.position = "relative");
            else {
              (this.nav.header = document.createElement("table")),
                (this.nav.header.style.margin = "0px"),
                (this.nav.header.cellPadding = "0"),
                (this.nav.header.cellSpacing = "0");
              "Fixed" === x.jd() || (this.nav.header.width = "100%"),
                (this.nav.header.style.tableLayout = "fixed"),
                (this.nav.header.oncontextmenu = function () {
                  return !1;
                });
            }
            this.nav.header.setAttribute("dp-id", "header"),
              this.nav.headerParent.appendChild(this.nav.header),
              (this.nav.header.onmousemove = function () {
                w.hb();
              }),
              this.nav.allday && p(this.nav.allday);
            var e = t();
            (e.style.position = "absolute"),
              (e.style.top = "0px"),
              (e.style.height = "0px"),
              e.setAttribute("dp-id", "allday"),
              "Fixed" === x.jd()
                ? (e.style.width = this.Nb.length * this.columnWidth + "px")
                : ((e.style.left = "0px"), (e.style.right = "0px")),
              (this.nav.allday = e),
              this.nav.headerParent.appendChild(e);
          }),
          (this.If = function () {
            if (this.nav.fullHeader) {
              var e = this.nav.fullHeader.rows[0],
                n = e.insertCell(-1);
              (n.style.padding = "0px"), (n.style.verticalAlign = "top");
              var i = t();
              (i.className = this.ca("_cornerright")),
                (i.style.overflow = "hidden"),
                (i.style.position = "relative"),
                (i.style.width = "16px"),
                (i.style.height = this.Vb() + "px");
              var a = t();
              (a.className = this.ca("_cornerright_inner")),
                i.appendChild(a),
                n.appendChild(i),
                (this.nav.cornerRight = i);
            }
          }),
          (this.Gf = function () {
            var e = t();
            (e.style.position = "relative"),
              (e.className = this.ca("_corner")),
              (e.style.width = this.hourWidth + "px"),
              (e.style.height = this.Vb() + "px"),
              (e.style.overflow = "hidden"),
              (e.oncontextmenu = function () {
                return !1;
              });
            var n = t();
            (n.className = this.ca("_corner_inner")), e.appendChild(n);
            var i = t();
            return (
              (i.style.position = "absolute"),
              (i.style.padding = "2px"),
              (i.style.top = "0px"),
              (i.style.left = "1px"),
              (i.style.backgroundColor = "#FF6600"),
              (i.style.color = "white"),
              (i.innerHTML = "\u0044\u0045" + "\u004D\u004F"),
              DayPilot.Util.isNullOrUndefined(undefined) && e.appendChild(i),
              e
            );
          }),
          (this.ab = function () {
            if (w.nav.corner && w.nav.corner.firstChild) {
              var e = w.nav.corner.firstChild,
                t = e.domArgs;
              if (
                ((e.domArgs = null),
                t &&
                  ("function" == typeof w.onBeforeCornerDomRemove &&
                    w.onBeforeCornerDomRemove(t),
                  "function" == typeof w.onBeforeCornerDomAdd && e))
              ) {
                var n = w.W.reactDOM && d(t.element),
                  i = w.Y.Ne && (c(t.element) || u(t.element));
                n ? w.W.ka(e) : i && ((w.Y.Oe = !0), w.Y.la(e), (w.Y.Oe = !1));
              }
            }
          }),
          (this.$a = function () {
            var e = this.nav.main;
            (e.root = null), (e.onmouseup = null);
            for (var t = 0; t < e.rows.length; t++) {
              var n = e.rows[t];
              if (n)
                for (var i = 0; i < n.cells.length; i++) {
                  var a = n.cells[i];
                  w.Jf(a);
                }
            }
            this.sa || DayPilot.pu(e);
          }),
          (this.Jf = function (e) {
            e &&
              (!(function () {
                var t = e,
                  n = t.domArgs;
                if (
                  ((t.domArgs = null),
                  n &&
                    "function" == typeof w.onBeforeCellDomRemove &&
                    w.onBeforeCellDomRemove(n),
                  n && "function" == typeof w.onBeforeCellDomAdd)
                ) {
                  var i = n && n.Le;
                  if (i) {
                    var a = w.W.reactDOM && d(n.element),
                      r = w.Y.Ne && (c(n.element) || u(n.element));
                    a
                      ? w.W.ka(i)
                      : r && ((w.Y.Oe = !0), w.Y.la(i), (w.Y.Oe = !1));
                  }
                }
              })(),
              (e.root = null),
              (e.onmousedown = null),
              (e.onmousemove = null),
              (e.onmouseout = null),
              (e.onmouseup = null),
              (e.onclick = null),
              (e.ondblclick = null),
              (e.oncontextmenu = null));
          }),
          (this.xb = function () {
            for (
              var e = 0;
              this.nav.scrollUp && e < this.nav.scrollUp.length;
              e++
            )
              this.nav.scrollLayer.removeChild(this.nav.scrollUp[e]);
            for (
              var e = 0;
              this.nav.scrollDown && e < this.nav.scrollDown.length;
              e++
            )
              this.nav.scrollLayer.removeChild(this.nav.scrollDown[e]);
            (this.nav.scrollUp = []), (this.nav.scrollDown = []);
          }),
          (this.tf = function (e) {
            var n = t();
            (n.style.marginRight = w.columnMarginRight + "px"),
              (n.style.marginLeft = w.columnMarginLeft + "px"),
              (n.style.position = "relative"),
              (n.style.height = "1px"),
              (n.style.marginTop = "-1px"),
              (e.events = n);
            var i = t();
            (i.style.position = "relative"),
              (i.style.height = "1px"),
              (i.style.marginTop = "-1px"),
              (e.separators = i);
            var a = t();
            (a.style.position = "relative"),
              (a.style.height = "1px"),
              (a.style.marginTop = "-1px"),
              (e.selection = a),
              e.appendChild(i),
              e.appendChild(a),
              e.appendChild(n);
          }),
          (this.zb = function () {
            w.ra ? w.Kf() : w.Lf();
          }),
          (this.Mf = function () {
            if (this.scrollLabelsVisible) {
              var e = this.Nb,
                n = this.showHours ? this.hourWidth : 0,
                i = (this.nav.scroll.clientWidth - n) / e.length;
              "Fixed" === x.jd() && (i = w.columnWidth);
              for (var a = 0; a < e.length; a++) {
                var r = t();
                (r.style.position = "absolute"),
                  (r.style.top = "0px"),
                  (r.style.left = n + 2 + a * i + i / 2 + "px"),
                  (r.style.display = "none");
                var o = t();
                (o.style.height = "10px"),
                  (o.style.width = "10px"),
                  (o.className = this.ca("_scroll_up")),
                  r.appendChild(o),
                  this.nav.scrollLayer.appendChild(r),
                  this.nav.scrollUp.push(r);
                var l = t();
                (l.style.position = "absolute"),
                  (l.style.top = "0px"),
                  (l.style.left = n + 2 + a * i + i / 2 + "px"),
                  (l.style.display = "none");
                var s = t();
                (s.style.height = "10px"),
                  (s.style.width = "10px"),
                  (s.className = this.ca("_scroll_down")),
                  l.appendChild(s),
                  this.nav.scrollLayer.appendChild(l),
                  this.nav.scrollDown.push(l);
              }
            }
          }),
          (this.Nf = function () {
            var e = this.nav.events;
            (e.innerHTML = ""),
              (e.rows = [{ cells: [] }]),
              w.De().forEach(function (n) {
                var i = t();
                (i.style.height = "1px"),
                  (i.style.overflow = "visible"),
                  (i.style.position = "absolute"),
                  (i.style.left = n.left + n.unit),
                  (i.style.right = n.left + n.unit),
                  (i.style.width = n.width + n.unit),
                  w.tf(i),
                  e.appendChild(i),
                  e.rows[0].cells.push(i);
              });
          }),
          (this.De = function () {
            function e(e) {
              return e;
            }
            var t = w.Ud(),
              n = w.Nb,
              i = "Fixed" === x.jd(),
              a = 0;
            return DayPilot.list.for(n.length, function (r) {
              var o = {},
                l = 0,
                s = "";
              return (
                i
                  ? ((s = "px"), (l = n[r].width ? n[r].width : w.columnWidth))
                  : ((s = "%"), (l = t ? n[r].width : e(100 / n.length))),
                (o.left = a),
                (o.width = l),
                (o.unit = s),
                (a += l),
                o
              );
            });
          }),
          (this.Kf = function () {
            var e = this.nav.main,
              t = this.nav.scrollable,
              n = this.Yb(),
              i = w.Nb;
            !(function () {
              (w.elements.cells = {}), (e.innerHTML = ""), (e.rows = []);
            })(),
              (t.daypilotMainD = !0),
              (t.calendar = this),
              w.Mf(),
              w.Nf();
            for (var a = 0; a < n; a++) {
              e.rows.push({ cells: [] });
              for (var r = 0; r < i.length; r++) w._e(r, a);
            }
            e.style.height = n * w.cellHeight + "px";
          }),
          (w.Of = function (e, t) {
            var n = {},
              i = w.Se(e),
              a = t * w.cellHeight;
            return (
              (n.left = i.left),
              (n.width = i.width),
              (n.right = n.left + n.width),
              (n.top = a),
              (n.height = w.cellHeight),
              (n.bottom = n.top + n.height),
              n
            );
          }),
          (w._e = function (e, n) {
            var i = "Fixed" === x.jd();
            if (!w.elements.cells[e + "_" + n]) {
              if (i) {
                var o = w.Of(e, n),
                  l = w.xd(),
                  h = l.pixels.right <= o.left || l.pixels.left >= o.right,
                  p = l.pixels.bottom <= o.top || l.pixels.top >= o.bottom;
                if (!(!h && !p)) return;
              }
              var m = w.Se(e),
                g = 60 * x.Ob() * 1e3,
                b = n * w.cellHeight,
                y = w.Nb[e],
                k = t();
              (k.style.position = "absolute"),
                (k.style.left = m.left + m.unit),
                (k.style.right = m.left + m.unit),
                (k.style.width = m.width + m.unit),
                (k.style.top = b + "px"),
                (k.start = y.start.addTime(n * g).addHours(w.Ub())),
                (k.end = k.start.addTime(g)),
                (k.resource = y.id),
                (k.data = {}),
                (k.data.x = e),
                (k.data.y = n),
                (k.data.start = k.start),
                (k.data.end = k.end),
                (k.data.resource = k.resource),
                (k.data.calendar = w),
                w.cellProperties || (w.cellProperties = {});
              var C = {};
              (C.resource = k.resource),
                (C.start = k.start),
                (C.end = k.end),
                (C.x = e),
                (C.y = n),
                Object.defineProperty(C, "column", {
                  get: function () {
                    return w.ec(w.Nb[this.x]);
                  },
                });
              var _ = e + "_" + n,
                T = [
                  "cssClass",
                  "html",
                  "backImage",
                  "backRepeat",
                  "backColor",
                  "business",
                  "areas",
                  "disabled",
                ];
              if (
                ((C.properties = w.cellProperties[_]), !w.cellProperties[_])
              ) {
                var S = (C.properties = {});
                (S.cssClass = null),
                  (S.html = null),
                  (S.text = null),
                  (S.backImage = null),
                  (S.backRepeat = null),
                  (S.backColor = null),
                  (S.business = w.Pf(k.start, k.end)),
                  (S.fontColor = null),
                  (w.cellProperties[_] = S);
              }
              if ("function" == typeof w.onBeforeCellRender) {
                var D = {};
                (D.cell = C),
                  w.onBeforeCellRender(D),
                  s(D.cell, D.cell.properties, T);
              }
              var E,
                H = w.Qf(e, n);
              (k.root = w),
                (E = t()),
                (E.className = w.ca("_cell")),
                (E.style.position = "relative"),
                (E.style.height = w.cellHeight + "px"),
                (E.style.overflow = "hidden");
              var M = t();
              (M.className = w.ca("_cell_inner")),
                E.appendChild(M),
                k.appendChild(E),
                (k.onmousedown = w.Sc),
                (k.onmousemove = w.ed),
                (k.onmouseout = w.dd),
                a(k, DayPilot.touch.end, w.Ca.Rf),
                (k.oncontextmenu = function () {
                  if (!w.Tc(w.coords)) {
                    var e = (v.selecting = {});
                    (e.start = w.coords),
                      (e.start.time = w.wc(w.coords.x, w.coords.y)),
                      (e.start.columnIndex = w.Mb(w.coords.x)),
                      (e.start.column = w.Nb[e.start.columnIndex]),
                      w.Uc(),
                      (w.Ia = e),
                      (v.selecting = null),
                      w.Vc(e);
                  }
                  return "Disabled" === w.timeRangeRightClickHandling, !1;
                });
              var A = w.Sf(e, n);
              E = k.firstChild;
              "Fixed" === x.jd() &&
                (y.width
                  ? (E.style.width = y.width + "px")
                  : (E.style.width = w.columnWidth + "px")),
                A && (E.firstChild.style.background = A);
              (H ? H.business : w.Pf(k.start, k.end)) &&
                r(E, w.ca("_cell_business"));
              var R = E.firstChild;
              if (
                (R && (R.innerHTML = ""),
                (E.style.backgroundImage = ""),
                (E.style.backgroundRepeat = ""),
                H &&
                  (H.html
                    ? (R.innerHTML = H.html)
                    : H.text &&
                      (w.Ba.Ma()
                        ? (R.innerText = H.text)
                        : (R.innerHTML = H.text)),
                  H.cssClass && r(E, H.cssClass),
                  H.backImage &&
                    (E.style.backgroundImage = "url('" + H.backImage + "')"),
                  H.backRepeat && (E.style.backgroundRepeat = H.backRepeat),
                  H.fontColor && (E.style.color = H.fontColor),
                  H.areas))
              ) {
                var B = {};
                (B.start = k.start), (B.end = k.end), (B.resource = k.resource);
                var N = f(H.areas).filter(function (e) {
                  return (
                    !(e.end && new DayPilot.Date(e.end) <= k.start) &&
                    !(e.start && new DayPilot.Date(e.start) >= k.end)
                  );
                });
                N.forEach(function (e) {
                  if (e.start || e.end) {
                    if (e.start) {
                      var t =
                        new DayPilot.Date(e.start).getTime() -
                        k.start.getTime();
                      e.top = w.Tf(t);
                    }
                    if (e.end) {
                      var n =
                        new DayPilot.Date(e.end).getTime() - k.start.getTime();
                      e.height = w.Tf(n) - e.top;
                    }
                  }
                }),
                  DayPilot.Areas.attach(E, B, { areas: N });
              }
              if (
                ((function () {
                  if (
                    "function" == typeof w.onBeforeCellDomAdd ||
                    "function" == typeof w.onBeforeCellDomRemove
                  ) {
                    var e = {};
                    if (
                      ((e.control = w),
                      (e.cell = C),
                      (e.element = null),
                      (k.domArgs = e),
                      "function" == typeof w.onBeforeCellDomAdd &&
                        w.onBeforeCellDomAdd(e),
                      e.element)
                    ) {
                      var t = M;
                      if (t) {
                        e.Le = t;
                        var n = d(e.element),
                          i = c(e.element),
                          a = u(e.element);
                        if (n) {
                          if (!w.W.reactDOM)
                            throw new DayPilot.Exception(
                              "Can't reach ReactDOM"
                            );
                          w.W.V(e.element, t);
                        } else if (i) {
                          if (!w.Y.Ne)
                            throw new DayPilot.Exception("Can't reach Vue");
                          (w.Y.Oe = !0),
                            w.Y.Z(e.element, t, e.props),
                            (w.Y.Oe = !1);
                        } else if (a) {
                          if (!w.Y.Ne)
                            throw new DayPilot.Exception("Can't reach Vue");
                          (w.Y.Oe = !0), w.Y.Pe(e.element, t), (w.Y.Oe = !1);
                        } else t.appendChild(e.element);
                      }
                    }
                  }
                })(),
                w.nav.main.appendChild(k),
                (w.nav.main.rows[n].cells[e] = k),
                (w.elements.cells[e + "_" + n] = k),
                "function" == typeof w.onAfterCellRender)
              ) {
                var D = {};
                (D.cell = s(C, {}, ["start", "end", "resource"])),
                  (D.div = E),
                  w.onAfterCellRender(D);
              }
            }
          }),
          (this.Lf = function () {
            var e = x.Ob(),
              n = this.nav.main,
              i = 60 * e * 1e3,
              o = this.Yb(),
              l = w.Nb,
              d = 0;
            for (
              n && ((d = w.kd().scrollTop), this.$a()),
                this.nav.scrollable.daypilotMainD = !0,
                this.nav.scrollable.calendar = this;
              n && n.rows && n.rows.length > 0;

            )
              this.sa || DayPilot.pu(n.rows[0]), n.deleteRow(0);
            if (((this.Uf = !0), this.scrollLabelsVisible))
              for (
                var c = this.Nb,
                  u = this.showHours ? this.hourWidth : 0,
                  h = (this.nav.scroll.clientWidth - u) / c.length,
                  p = 0;
                p < c.length;
                p++
              ) {
                var m = t();
                (m.style.position = "absolute"),
                  (m.style.top = "0px"),
                  (m.style.left = u + 2 + p * h + h / 2 + "px"),
                  (m.style.display = "none");
                var g = t();
                (g.style.height = "10px"),
                  (g.style.width = "10px"),
                  (g.className = this.ca("_scroll_up")),
                  m.appendChild(g),
                  this.nav.scrollLayer.appendChild(m),
                  this.nav.scrollUp.push(m);
                var b = t();
                (b.style.position = "absolute"),
                  (b.style.top = "0px"),
                  (b.style.left = u + 2 + p * h + h / 2 + "px"),
                  (b.style.display = "none");
                var y = t();
                (y.style.height = "10px"),
                  (y.style.width = "10px"),
                  (y.className = this.ca("_scroll_down")),
                  b.appendChild(y),
                  this.nav.scrollLayer.appendChild(b),
                  this.nav.scrollDown.push(b);
              }
            var k = l.length;
            if (this.oa) {
              for (var C = this.nav.events; C && C.rows && C.rows.length > 0; )
                this.sa || DayPilot.pu(C.rows[0]), C.deleteRow(0);
              for (var _ = C.insertRow(-1), T = 0; T < k; T++) {
                var S = _.insertCell(-1);
                (S.style.padding = "0px"),
                  (S.style.border = "0px none"),
                  (S.style.height = "1px"),
                  (S.style.overflow = "visible");
                "Fixed" === x.jd() &&
                  (l[T].width
                    ? (S.style.width = l[T].width + "px")
                    : (S.style.width = this.columnWidth + "px")),
                  w.rtl || (S.style.textAlign = "left"),
                  w.tf(S);
              }
            }
            for (var p = 0; p < o; p++) {
              var _ = n.insertRow(-1),
                D = p;
              (_.style.userSelect = "none"),
                (_.style.webkitUserSelect = "none");
              for (
                var E = function (e) {
                    var n = H.Nb[e],
                      o = _.insertCell(-1);
                    (o.start = n.start.addTime(D * i).addHours(H.Ub())),
                      (o.end = o.start.addTime(i)),
                      (o.resource = n.id),
                      H.cellProperties || (H.cellProperties = {});
                    var l = {};
                    (l.resource = o.resource),
                      (l.start = o.start),
                      (l.end = o.end);
                    var d = e + "_" + D;
                    if (
                      ((l.cssClass = null),
                      (l.html = null),
                      (l.backImage = null),
                      (l.backRepeat = null),
                      (l.backColor = null),
                      (l.business = H.Pf(o.start, o.end)),
                      H.cellProperties[d] &&
                        s(H.cellProperties[d], l, [
                          "cssClass",
                          "html",
                          "backImage",
                          "backRepeat",
                          "backColor",
                          "business",
                          "areas",
                          "disabled",
                        ]),
                      "function" == typeof H.onBeforeCellRender)
                    ) {
                      var c = {};
                      (c.cell = l), H.onBeforeCellRender(c);
                    }
                    H.cellProperties[d] = l;
                    var u = w.Qf(e, D),
                      h = void 0;
                    (o.root = H),
                      (h = t()),
                      (h.className = w.ca("_cell")),
                      (h.style.position = "relative"),
                      (h.style.height = w.cellHeight + "px"),
                      (h.style.overflow = "hidden");
                    var p = t();
                    (p.className = w.ca("_cell_inner")),
                      h.appendChild(p),
                      o.appendChild(h),
                      (o.onmousedown = H.Sc),
                      (o.onmousemove = H.ed),
                      (o.onmouseout = H.dd),
                      a(o, DayPilot.touch.end, H.Ca.Rf),
                      (o.oncontextmenu = function () {
                        if (!w.Tc(w.coords)) {
                          var e = (v.selecting = {});
                          (e.start = w.coords),
                            (e.start.time = w.wc(w.coords.x, w.coords.y)),
                            (e.start.columnIndex = w.Mb(w.coords.x)),
                            (e.start.column = w.Nb[e.start.columnIndex]),
                            w.Uc(),
                            (w.Ia = e),
                            (v.selecting = null),
                            w.Vc(e);
                        }
                        return "Disabled" === w.timeRangeRightClickHandling, !1;
                      });
                    var m = w.Sf(e, D);
                    (h = o.firstChild),
                      "Fixed" === x.jd() &&
                        (n.width
                          ? (h.style.width = n.width + "px")
                          : (h.style.width = H.columnWidth + "px")),
                      m && (h.firstChild.style.background = m),
                      (u ? u.business : H.Pf(o.start, o.end)) &&
                        r(h, w.ca("_cell_business"));
                    var g = h.firstChild;
                    if (
                      (g && (g.innerHTML = ""),
                      (h.style.backgroundImage = ""),
                      (h.style.backgroundRepeat = ""),
                      u &&
                        (u.html && (g.innerHTML = u.html),
                        u.cssClass && r(h, u.cssClass),
                        u.backImage &&
                          (h.style.backgroundImage =
                            "url('" + u.backImage + "')"),
                        u.backRepeat &&
                          (h.style.backgroundRepeat = u.backRepeat),
                        u.areas))
                    ) {
                      var b = {};
                      (b.start = o.start),
                        (b.end = o.end),
                        (b.resource = o.resource);
                      var y = f(u.areas).filter(function (e) {
                        return (
                          !(e.end && new DayPilot.Date(e.end) <= o.start) &&
                          !(e.start && new DayPilot.Date(e.start) >= o.end)
                        );
                      });
                      y.forEach(function (e) {
                        if (e.start || e.end) {
                          if (e.start) {
                            var t =
                              new DayPilot.Date(e.start).getTime() -
                              o.start.getTime();
                            e.top = w.Tf(t);
                          }
                          if (e.end) {
                            var n =
                              new DayPilot.Date(e.end).getTime() -
                              o.start.getTime();
                            e.height = w.Tf(n) - e.top;
                          }
                        }
                      }),
                        DayPilot.Areas.attach(h, b, { areas: y });
                    }
                  },
                  H = this,
                  T = 0;
                T < k;
                T++
              )
                E(T);
            }
            (n.onmouseup = this.gd),
              (n.root = this),
              (n.style.height = o * w.cellHeight + "px"),
              (w.nav.scrollable.style.display = ""),
              (w.kd().scrollTop = d);
          }),
          (this.lf = function () {
            if (!k.detected) {
              var e = w.getSelection();
              if (e) {
                var t = {};
                if (
                  ((t.start = e.start),
                  (t.end = e.end),
                  (t.resource = e.resource),
                  (t.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof w.onTimeRangeRightClick &&
                    (w.onTimeRangeRightClick(t), t.preventDefault.value))
                )
                  return !1;
                "ContextMenu" === w.timeRangeRightClickHandling &&
                  w.contextMenuSelection &&
                  w.contextMenuSelection.show(w.getSelection()),
                  "function" == typeof w.onTimeRangeRightClicked &&
                    w.onTimeRangeRightClicked(t);
              }
            }
          }),
          (this.Pf = function (e) {
            var t = x.Ob();
            if (
              t <= 1440 &&
              !w.businessWeekends &&
              (0 === e.dayOfWeek() || 6 === e.dayOfWeek())
            )
              return !1;
            if (t < 720) {
              var n = e.getHours();
              (n += e.getMinutes() / 60),
                (n += e.getSeconds() / 3600),
                (n += e.getMilliseconds() / 36e5);
              var i = this.businessBeginsHour,
                a = this.businessEndsHour;
              if ((0 === a && (a = 24), i === a)) return !1;
              if (!(i < a)) return n < a || n >= i;
              if (n < i) return !1;
              if (a >= 24) return !0;
              if (n >= a) return !1;
            }
            return !0;
          }),
          (this.kf = function (e) {
            e.insideMainD = !0;
            for (var t = 0; t < m.Vf.length; t++) {
              var n = m.Vf[t];
              n !== w && n.gb && n.gb();
            }
            m.activeCalendar = this;
            var i = w.nav.main;
            w.coords = DayPilot.mo3(i, e);
            var a = DayPilot.mc(e),
              l = w.crosshairType && "Disabled" !== w.crosshairType;
            if (
              (v.moving || v.resizing || v.selecting ? w.hb() : l && w.Wf(),
              v.resizing)
            )
              w.Xf(a);
            else if (v.moving) {
              if (!v.moving.helper)
                return p(m.movingShadow), void (m.movingShadow = null);
              if (!m.movingShadow) {
                var s = 3;
                if (!(DayPilot.distance(a, m.Yf) > s)) return;
                (m.movingShadow = w.Lb(v.moving, !0)),
                  (m.movingShadow.style.width =
                    m.movingShadow.parentNode.offsetWidth + 1 + "px");
              }
              var d = m.movingShadow;
              if (!w.coords) return;
              r(v.moving, w.ca("_event_moving_source"));
              var c = w.cellHeight,
                u = w.snapToGrid && w.snapToGridEventMoving,
                h = 0,
                f = m.moveOffsetY;
              f || (f = c / 2), "Top" === this.moveBy && (f = 0);
              var g = v.moving.event,
                b = Math.floor((w.coords.y - f - h + c / 2) / c) * c + h;
              u || (b = w.coords.y - f);
              var y = !w.ta;
              b < h && y && (b = h);
              var k = w.nav.main,
                C = w.ra ? w.Yb() * w.cellHeight : k.clientHeight,
                _ = parseInt(d.style.height);
              b + _ > C && y && (b = C - _);
              var T = w.Mb(w.coords.x);
              T < 0 && (T = 0), T >= w.Nb.length && (T = w.Nb.length - 1);
              var S = w.yc(g, T, b);
              if (w.ta) {
                var D = v.moving.helper.Zf;
                (S = w.uc(g, w.coords, D)),
                  (m.movingShadow.style.display = "none");
              }
              var E = w.eventMovingStartEndFormat;
              "Auto" === E &&
                (E = "Clock24Hours" === x.Wc() ? "H:mm" : "h:mm tt");
              var H = {};
              (H.e = g),
                (H.start = S.start),
                (H.end = S.end),
                (H.resource = S.resource),
                (H.html = null),
                (H.cssClass = null),
                (H.allowed = !0),
                (H.areaData = v.movingAreaData),
                (H.top = {}),
                (H.top.width = null),
                (H.top.space = 5),
                (H.top.html = H.start.toString(E, x.Xc())),
                (H.top.enabled = w.eventMovingStartEndEnabled),
                (H.bottom = {}),
                (H.bottom.width = null),
                (H.bottom.space = 5),
                (H.bottom.html = H.end.toString(E, x.Xc())),
                (H.bottom.enabled = w.eventMovingStartEndEnabled),
                (H.external = !!v.drag),
                (function () {
                  var e = w.jb;
                  if (
                    !(
                      e &&
                      e.start.getTime() === S.start.getTime() &&
                      e.end.getTime() === S.end.getTime() &&
                      e.resource === S.resource
                    )
                  ) {
                    if (
                      ((w.jb = H), (d.args = H), (d.style.top = b + "px"), !u)
                    ) {
                      var t = S.end.getTime() - S.start.getTime(),
                        n = w.Tf(t);
                      d.style.height = n + "px";
                    }
                    var i = w.nav.events;
                    if (
                      (T < i.rows[0].cells.length &&
                        T >= 0 &&
                        d.column !== T &&
                        ((d.column = T), m.moveShadow(i.rows[0].cells[T])),
                      !w.allowEventOverlap)
                    ) {
                      var a = {
                        id: g.id(),
                        start: H.start,
                        end: H.end,
                        resource: H.resource,
                      };
                      w.events.Yc(a) && (H.allowed = !1);
                    }
                    if (
                      (w.Zc(H.start, H.end, H.resource) && (H.allowed = !1),
                      "function" == typeof w.onEventMoving &&
                        H.allowed &&
                        w.onEventMoving(H),
                      v.moving)
                    ) {
                      var l = [{ div: d, columnIndex: T }];
                      if (w.ta) {
                        var s = {
                          start: H.start,
                          end: H.end,
                          resource: H.resource,
                        };
                        w.$c(g, s),
                          (w.Ac = s),
                          (l = w.Ja),
                          (d.style.display = "none");
                      }
                      l.forEach(function (e) {
                        o(e.div, w.ca("_shadow_forbidden"));
                      }),
                        w._c(),
                        l.forEach(function (e) {
                          var t = e.div,
                            n = e.columnIndex;
                          (t.className = w.ca("_shadow")),
                            (t.firstChild.innerHTML = ""),
                            H.html && (t.firstChild.innerHTML = H.html),
                            H.cssClass && r(t, H.cssClass),
                            H.allowed || r(t, w.ca("_shadow_forbidden")),
                            w.ad(t, n, H);
                        });
                    }
                  }
                })();
            } else if (v.selecting) {
              var M = v.selecting;
              if (
                ((M.origin = "drag"),
                w.Uc(),
                M.last &&
                  M.last.startTime === M.startTime &&
                  M.last.endTime === M.endTime)
              )
                return;
              (M.last = { startTime: M.startTime, endTime: M.endTime }), w.Vc();
            }
            var A = v.drag;
            if (A) {
              if (
                (m.gShadow && document.body.removeChild(m.gShadow),
                (m.gShadow = null),
                !m.movingShadow && w.coords)
              ) {
                var R = w.Lb(A, !1);
                if (R) {
                  (A.$f = w), (m.movingShadow = R);
                  var B = DayPilot.Date.today(),
                    N = {
                      id: A.id,
                      start: B,
                      end: B.addSeconds(A.duration),
                      text: A.text,
                    },
                    P = A._f,
                    L = A.ag,
                    z = L || P;
                  if (z) {
                    var I = ["duration", "element", "remove", "id", "text"];
                    z === P && I.push("data");
                    for (var O in z) DayPilot.contains(I, O) || (N[O] = z[O]);
                  }
                  var j = new DayPilot.Event(N, w);
                  A.Bc && (j = A.Bc),
                    (j.external = !0),
                    (v.moving = {}),
                    (v.moving.event = j),
                    (v.moving.helper = {});
                }
              }
              e.cancelBubble = !0;
            }
            w.bg(w.coords);
          }),
          (this.$c = function (e, t) {
            var n = t.start,
              i = t.end,
              a = t.resource,
              r = w.Qb(!0),
              o = w.Nb.map(function (e, t) {
                var o,
                  l = !e.id || a === e.id,
                  s = e.start.addHours(w.Ub(!0)),
                  d = null !== (o = e.end) && void 0 !== o ? o : s.addTime(r),
                  c = DayPilot.Util.overlaps(n, i, s, d);
                return { matches: l && c, data: e, start: s, end: d, index: t };
              }).filter(function (e) {
                return e.matches;
              }),
              l = o.map(function (t) {
                var a = document.createElement("div");
                (a.className = w.ca("_shadow")),
                  (a.style.position = "absolute"),
                  v.selecting
                    ? ((a.style.left = "0px"), (a.style.right = "0px"))
                    : ((a.style.left = w.columnMarginLeft + "px"),
                      (a.style.right = w.columnMarginRight + "px"));
                var r = w.Ub(!0),
                  o = t.start > n ? t.start : n,
                  l = t.end < i ? t.end : i,
                  s = w.vc(o, t.start.addHours(-r)).top,
                  d = w.vc(l, t.start.addHours(-r)).top,
                  c = d - s,
                  u = w.snapToGrid && w.snapToGridTimeRangeSelecting;
                (e ? e.part.box : u) &&
                  ((s = w.vc(o, t.start.addHours(-r)).boxTop),
                  (c = w.vc(l, t.start.addHours(-r)).boxBottom - s)),
                  (a.style.top = s + "px"),
                  (a.style.height = c + "px"),
                  (a.onclick = function () {
                    if ("Disabled" !== w.timeRangeClickHandling) {
                      var e = w.getSelection();
                      e && w.Kc(e.start, e.end, e.resource);
                    }
                  }),
                  (a.ondblclick = function () {
                    if ("Disabled" !== w.timeRangeDoubleClickHandling) {
                      clearTimeout(w.cg);
                      var e = w.getSelection();
                      e && w.Lc(e.start, e.end, e.resource);
                    }
                  });
                var h = document.createElement("div");
                (h.className = w.ca("_shadow_inner")), a.appendChild(h);
                var f = w.eventBorderRadius;
                return (
                  "number" == typeof f && (f += "px"),
                  f && ((h.style.borderRadius = f), (a.style.borderRadius = f)),
                  { div: a, column: t, columnIndex: t.index }
                );
              }),
              s = (w.Ja || []).map(function (e) {
                return e.div;
              });
            DayPilot.de(s),
              (w.Ja = l),
              l.forEach(function (e) {
                w.nav.events.rows[0].cells[e.column.index].appendChild(e.div);
              });
          }),
          (this.getCoords = function () {
            if (!w.coords) return null;
            var e = w.coords,
              t = {};
            (t.x = Math.floor(e.x)), (t.y = Math.floor(e.y));
            var n = w.Mb(e.x);
            n < 0 && (n = 0), n >= w.Nb.length && (n = w.Nb.length - 1);
            var i = w.Nb[n];
            t.column = w.ec(i);
            var a = w.yd(t.y),
              r = i.start.addHours(a);
            return (t.time = r), t;
          }),
          (this.Zc = function (e, t, n) {
            return w.dg(e, t, n).some(function (e) {
              return e.disabled;
            });
          }),
          (this.Uc = function () {
            var e = v.selecting;
            (e.end = w.coords),
              (e.end.time = w.wc(e.start.x, e.end.y)),
              (e.end.column = w.Nb[w.Mb(e.end.x)]),
              w.ta && (e.end.time = w.wc(e.end.x, e.end.y)),
              w.le(e);
          }),
          (this.le = function (e) {
            var t, n, i;
            w.snapToGrid && w.snapToGridTimeRangeSelecting
              ? e.end.time < e.start.time
                ? ((t = w.xc(e.end.time, e.start.column.start)),
                  (n = w.eg(e.start.time, e.start.column.start)),
                  (i = e.endTime))
                : ((t = w.xc(e.start.time, e.start.column.start)),
                  (n = w.eg(e.end.time, e.start.column.start)),
                  (i = e.startTime))
              : e.end.time < e.start.time
              ? ((t = e.end.time), (n = e.start.time), (i = e.endTime))
              : ((t = e.start.time), (n = e.end.time), (i = e.startTime)),
              (e.startTime = t),
              (e.endTime = n),
              (e.anchor = i);
          }),
          (this.Tc = function (e) {
            var t = w.Ia;
            if (!t) return !1;
            var n = t.start,
              i = t.end,
              a = w.wc(e.x, e.y),
              r = w.Nb[w.Mb(e.x)];
            return a >= n.time && a < i.time && r === n.column;
          }),
          (this.dg = function (e, t, n) {
            for (var i = [], a = 60 * x.Ob() * 1e3, r = 0; r < w.Nb.length; r++)
              for (var o = w.Nb[r], l = 0; l < w.Yb(); l++) {
                var s = r + "_" + l,
                  d = w.cellProperties[s],
                  c = o.start.addTime(l * a).addHours(w.Ub()),
                  u = c.addTime(a),
                  f = !n || n === o.id;
                f && h(e, t, c, u) && d && i.push(d);
              }
            return i;
          }),
          (this.Xf = function (e) {
            if (!v.resizing.event)
              return (
                (v.resizing = null),
                p(m.resizingShadow),
                void (m.resizingShadow = null)
              );
            m.resizingShadow || (m.resizingShadow = w.Lb(v.resizing, !1));
            var t = v.resizing.event.calendar.cellHeight,
              n = 0,
              i = e.y - m.Yf.y,
              a = v.resizing.event,
              o = a.start(),
              l = a.end(),
              s = null,
              d = w.snapToGrid && w.snapToGridEventResizing;
            if ("bottom" === v.resizing.dpBorder) {
              var c = Math.floor((m.fg + m.gg + i + t / 2) / t) * t - m.gg + n;
              d || (c = m.fg + i), c < t && (c = t);
              var u = w.ra ? w.Yb() * w.cellHeight : w.nav.main.clientHeight;
              m.gg + c > u && (c = u - m.gg),
                (m.resizingShadow.style.height = c + "px"),
                (l = w.pc(a, m.gg + c)),
                (s = o);
              var h = w.ta;
              if (h) {
                m.resizingShadow.style.display = "none";
                var f = w.coords,
                  g = w.wc(f.x, f.y),
                  b = this.Mb(f.x),
                  y = this.Nb[b];
                l =
                  w.snapToGrid && w.snapToGridEventResizing
                    ? w.vc(g, y.start).boxEnd
                    : g;
                var k = o.addTime(60 * x.Ob() * 1e3);
                l.getTime() < k.getTime() && (l = k);
              }
            } else if ("top" === v.resizing.dpBorder) {
              var C = Math.floor((m.gg + i - n + t / 2) / t) * t + n;
              d || (C = m.gg + i),
                C < n && (C = n),
                C > m.gg + m.fg - t && (C = m.gg + m.fg - t);
              var c = m.fg - (C - m.gg);
              c < t ? (c = t) : (m.resizingShadow.style.top = C + "px"),
                (m.resizingShadow.style.height = c + "px"),
                (o = w.oc(a, C)),
                (s = l);
              var h = w.ta;
              if (h) {
                m.resizingShadow.style.display = "none";
                var f = w.coords,
                  g = w.wc(f.x, f.y),
                  b = this.Mb(f.x),
                  y = this.Nb[b];
                o =
                  w.snapToGrid && w.snapToGridEventResizing
                    ? w.vc(g, y.start).boxStart
                    : g;
                var _ = l.addTime(60 * -x.Ob() * 1e3);
                o.getTime() > _.getTime() && (o = _);
              }
            }
            var T = m.resizingShadow,
              S = w.eventResizingStartEndFormat;
            "Auto" === S &&
              (S = "Clock24Hours" === x.Wc() ? "H:mm" : "h:mm tt");
            var D = {};
            if (
              ((D.e = a),
              (D.start = o),
              (D.end = l),
              (D.resource = a.resource()),
              (D.allowed = !0),
              (D.html = null),
              (D.cssClass = null),
              (D.anchor = s),
              (D.top = {}),
              (D.top.width = null),
              (D.top.space = 5),
              (D.top.html = D.start.toString(S, x.Xc())),
              (D.top.enabled = w.eventResizingStartEndEnabled),
              (D.bottom = {}),
              (D.bottom.width = null),
              (D.bottom.space = 5),
              (D.bottom.html = D.end.toString(S, x.Xc())),
              (D.bottom.enabled = w.eventResizingStartEndEnabled),
              (T.args = D),
              !w.allowEventOverlap)
            ) {
              var E = {
                id: a.id(),
                start: D.start,
                end: D.end,
                resource: D.resource,
              };
              w.events.Yc(E) && (D.allowed = !1);
            }
            w.Zc(D.start, D.end, D.resource) && (D.allowed = !1),
              "function" == typeof w.onEventResizing &&
                D.allowed &&
                w.onEventResizing(D);
            var H = { start: D.start, end: D.end, resource: a.resource() };
            w.$c(a, H), (w.rc = H);
            var M = w.ta ? w.Ja : [{ div: T, columnIndex: a.part.dayIndex }];
            w._c(),
              M.forEach(function (e) {
                var t = e.div,
                  n = e.columnIndex;
                (t.firstChild.innerHTML = ""),
                  (t.className = w.ca("_shadow")),
                  D.html && (t.firstChild.innerHTML = D.html),
                  D.cssClass && r(t, D.cssClass),
                  D.allowed || r(t, w.ca("_shadow_forbidden")),
                  w.ad(t, n, D);
              });
          }),
          (this.temp = {}),
          (this.temp.getPosition = function () {
            var e = w.ig.hg();
            if (!e) return null;
            var t = w.Nb[e.x],
              n = {};
            return (
              (n.resource = t.id),
              (n.start = new DayPilot.Date(t.start)
                .addHours(w.Ub(!0))
                .addMinutes(e.y * x.Ob())),
              (n.end = n.start.addMinutes(x.Ob())),
              n
            );
          }),
          (this.ig = {}),
          (this.ig.hg = function () {
            var e = {};
            if (((e.x = 0), (e.y = 0), !w.coords)) return null;
            e.x = w.Mb(w.coords.x);
            var t = 0,
              n = Math.floor((w.coords.y - t) / w.cellHeight);
            return (e.y = DayPilot.Util.atLeast(0, n)), e.x < 0 ? null : e;
          }),
          (this.ig.col = function (e, t) {
            var n = {};
            if (((n.left = 0), (n.width = 0), !e)) return null;
            if (!e.rows) return null;
            if (0 === e.rows.length) return null;
            if (0 == e.rows[0].cells.length) return null;
            var i = e.rows[0].cells[t];
            if (!i) return null;
            var a = DayPilot.abs(e),
              r = DayPilot.abs(i);
            return (n.left = r.x - a.x), (n.width = i.offsetWidth), n;
          }),
          (this.Wf = function () {
            var e = w.nav.hourTable;
            this.hb(),
              this.elements.crosshair || (this.elements.crosshair = []);
            var n = this.ig.hg();
            if (n) {
              var i = n.x;
              if (null !== i) {
                var a = Math.floor((n.y / (60 / x.Ob())) * (60 / x.wf()));
                if (!(a < 0)) {
                  if (e) {
                    if (a >= e.rows.length) return;
                    var r = t();
                    (r.style.position = "absolute"),
                      (r.style.left = "0px"),
                      (r.style.right = "0px"),
                      (r.style.top = "0px"),
                      (r.style.bottom = "0px"),
                      (r.className = w.ca("_crosshair_left")),
                      e.rows[a].cells[0].firstChild.appendChild(r),
                      this.elements.crosshair.push(r);
                  }
                  if (this.nav.header) {
                    var o = t();
                    (o.style.position = "absolute"),
                      (o.style.left = "0px"),
                      (o.style.right = "0px"),
                      (o.style.top = "0px"),
                      (o.style.bottom = "0px"),
                      (o.className = w.ca("_crosshair_top"));
                    var l = this.nav.header.rows[x.Td() - 1];
                    l.cells[i] &&
                      (l.cells[i].firstChild.appendChild(o),
                      this.elements.crosshair.push(o));
                  }
                  if ("Header" !== this.crosshairType) {
                    var s = this.nav.crosshair,
                      d = 0,
                      c =
                        Math.floor((w.coords.y - d) / w.cellHeight) *
                          w.cellHeight +
                        d,
                      u = w.cellHeight,
                      h = t();
                    (h.style.position = "absolute"),
                      (h.style.left = "0px"),
                      (h.style.right = "0px"),
                      (h.style.top = c + "px"),
                      (h.style.height = u + "px"),
                      (h.style.pointerEvents = "none"),
                      (h.className = w.ca("_crosshair_horizontal")),
                      (h.onmousedown = this.jg),
                      s.appendChild(h),
                      this.elements.crosshair.push(h);
                    var f = i,
                      v = this.ig.col(this.nav.main, f);
                    if (((u = w.Te()), v)) {
                      var p = t();
                      (p.style.position = "absolute"),
                        (p.style.left = v.left + "px"),
                        (p.style.width = v.width + "px"),
                        (p.style.top = "0px"),
                        (p.style.height = u + "px"),
                        (p.style.pointerEvents = "none"),
                        (p.className = w.ca("_crosshair_vertical")),
                        (p.onmousedown = this.jg),
                        s.appendChild(p),
                        this.elements.crosshair.push(p);
                    }
                  }
                }
              }
            }
          }),
          (this.jg = function (e) {
            var t = w.nav.main;
            w.hb(), (w.coords = DayPilot.mo3(t, e));
            var n = w.ig.hg(),
              i = 0,
              a = n.x,
              r = t.rows[n.y + i].cells[a];
            w.Sc.apply(r, [e]);
          }),
          (this.hb = function () {
            if (
              this.elements.crosshair &&
              0 !== this.elements.crosshair.length
            ) {
              for (var e = 0; e < this.elements.crosshair.length; e++) {
                var t = this.elements.crosshair[e];
                t && t.parentNode && t.parentNode.removeChild(t);
              }
              this.elements.crosshair = [];
            }
          }),
          (this.sb = function () {
            if (this.cellConfig) {
              var e = this.cellConfig;
              if (e.vertical)
                for (var t = 0; t < e.x; t++)
                  for (
                    var n = this.cellProperties[t + "_0"], i = 1;
                    i < e.y;
                    i++
                  )
                    this.cellProperties[t + "_" + i] = n;
              if (e.horizontal)
                for (var i = 0; i < e.y; i++)
                  for (
                    var n = this.cellProperties["0_" + i], t = 1;
                    t < e.x;
                    t++
                  )
                    this.cellProperties[t + "_" + i] = n;
              if (e["default"])
                for (var n = e["default"], i = 0; i < e.y; i++)
                  for (var t = 0; t < e.x; t++)
                    this.cellProperties[t + "_" + i] ||
                      (this.cellProperties[t + "_" + i] = n);
            }
          }),
          (this.Qf = function (e, t) {
            return this.cellProperties
              ? this.cellProperties[e + "_" + t]
              : null;
          }),
          (this.kg = function (e, t) {
            var n = e + "_" + t;
            return (
              !(!this.cellProperties || !this.cellProperties[n]) &&
              this.cellProperties[n].business
            );
          }),
          (this.Sf = function (e, t) {
            var n = e + "_" + t;
            return this.cellProperties && this.cellProperties[n]
              ? this.cellProperties[n].backColor
              : null;
          }),
          (this._a = function () {
            var e = this.nav.header;
            if (e && e.rows)
              for (var t = 0; t < e.rows.length; t++)
                for (var n = e.rows[t], i = 0; i < n.cells.length; i++) {
                  var a = n.cells[i];
                  (a.onclick = null),
                    (a.onmousemove = null),
                    (a.onmouseout = null);
                  var r = a,
                    o = r.domArgs;
                  if (
                    ((r.domArgs = null),
                    "function" == typeof w.onBeforeHeaderDomRemove &&
                      w.onBeforeHeaderDomRemove(o),
                    "function" == typeof w.onBeforeHeaderDomAdd)
                  ) {
                    var l = o && o.Le;
                    if (l) {
                      var s = w.W.reactDOM && d(o.element),
                        h = w.Y.Ne && (c(o.element) || u(o.element));
                      s
                        ? w.W.ka(l)
                        : h && ((w.Y.Oe = !0), w.Y.la(l), (w.Y.Oe = !1));
                    }
                  }
                }
            e && (this.sa || DayPilot.pu(e), (e.innerHTML = ""), (e.rows = []));
          }),
          (this.He = function (e) {
            var t = e + 1,
              n = t === x.Td(),
              i = this.Sd(t),
              a = 0,
              r = 0,
              o = w.De(),
              l = [],
              s = "Fixed" === x.jd(),
              d = s ? "px" : "%";
            if (!n)
              for (
                var c = function (e) {
                    var n = i[e],
                      s = !!n.be,
                      c = s ? n.ce(x.Td() - t + 1) : 1,
                      u = 0;
                    DayPilot.list.for(c, function () {
                      (u += o[a].width), (a += 1);
                    }),
                      l.push({ left: r, width: u, unit: d }),
                      (r += u);
                  },
                  u = 0;
                u < i.length;
                u++
              )
                c(u);
            return l;
          }),
          (this.lg = function (e) {
            function n(n) {
              var i = a[n],
                o = h[n];
              if (o) {
                var m = {};
                (m.header = {}),
                  (m.header.cssClass = null),
                  (m.column = w.ec(i, w));
                var g = null;
                w.Kb() &&
                  "function" == typeof w.onBeforeHeaderRender &&
                  (s(i, m.header, [
                    "id",
                    "start",
                    "name",
                    "html",
                    "backColor",
                    "toolTip",
                    "areas",
                    "children",
                  ]),
                  w.onBeforeHeaderRender(m),
                  s(m.header, i, [
                    "html",
                    "backColor",
                    "toolTip",
                    "areas",
                    "cssClass",
                  ]));
                var b = !!i.be,
                  y = o.width,
                  k = o.left;
                l || ((k = p[n].left), (y = p[n].width));
                var T = t();
                (T.style.position = "absolute"),
                  (T.style.top = f + "px"),
                  (T.style.left = k + o.unit),
                  (T.style.right = k + o.unit),
                  (T.style.width = y + o.unit),
                  (T.data = i),
                  v.push(T),
                  b &&
                    ((T.onclick = w.fc),
                    (T.onmousemove = w.gc),
                    (T.onmouseout = w.ic),
                    i.toolTip && (T.title = i.toolTip)),
                  (T.style.overflow = "hidden"),
                  (T.style.height = x.mg(e) + "px");
                var S = t();
                (S.style.userSelect = "none"),
                  (S.style.position = "relative"),
                  (S.style.height = x.mg(e) + "px"),
                  (S.className = w.ca("_colheader")),
                  i.cssClass && DayPilot.Util.addClass(S, i.cssClass),
                  w.headerTextWrappingEnabled ||
                    (S.style.whiteSpace = "nowrap");
                var D = t();
                if (
                  ((D.className = w.ca("_colheader_inner")),
                  i.backColor && (D.style.background = i.backColor),
                  S.appendChild(D),
                  T.appendChild(S),
                  x.Ea() &&
                    "undefined" != typeof _ &&
                    _.ye &&
                    !(function () {
                      var t = {};
                      (t.column = r[n]),
                        (t.x = n),
                        (t.y = e),
                        (t.div = T),
                        _.ye(t);
                    })(),
                  x.Da() &&
                    b &&
                    "undefined" != typeof C &&
                    C.me &&
                    !(function () {
                      var t = {};
                      (t.column = r[n]),
                        (t.x = n),
                        (t.y = e),
                        (t.div = T),
                        C.me(t);
                    })(),
                  w.ng(S, i),
                  "function" == typeof w.onBeforeHeaderDomAdd &&
                    ((m.element = null),
                    w.onBeforeHeaderDomAdd(m),
                    (g = m.element)),
                  (T.domArgs = m),
                  g)
                ) {
                  var E = D;
                  m.Le = E;
                  var H = d(g),
                    M = c(m.element),
                    A = u(m.element);
                  if (H) w.W.Me(), w.W.V(g, E);
                  else if (M) {
                    if (!w.Y.Ne)
                      throw new DayPilot.Exception("Can't reach Vue");
                    (w.Y.Oe = !0), w.Y.Z(m.element, E, m.props), (w.Y.Oe = !1);
                  } else if (A) {
                    if (!w.Y.Ne)
                      throw new DayPilot.Exception("Can't reach Vue");
                    (w.Y.Oe = !0), w.Y.Pe(m.element, E), (w.Y.Oe = !1);
                  } else E.appendChild(g);
                } else b && (S.firstChild.innerHTML = i.html || "");
                w.nav.header.appendChild(T);
              }
            }
            var i = e + 1,
              a = this.Sd(i),
              r = this.Sd(i, !0),
              o = a.length,
              l = i === x.Td(),
              h = w.De(),
              f = x.Ef(e),
              v = [];
            w.nav.header.rows.push({ cells: v });
            for (var p = w.He(e), m = 0; m < o; m++) n(m);
          }),
          (this.og = function (e, n) {
            for (
              var i = n
                  ? this.nav.header.insertRow(-1)
                  : this.nav.header.rows[e - 1],
                a = this.Sd(e),
                r = a.length,
                o = e === x.Td(),
                l = 0;
              l < r;
              l++
            ) {
              var d = a[l];
              if (w.Kb() && "function" == typeof w.onBeforeHeaderRender) {
                var c = {};
                (c.header = {}),
                  s(d, c.header, [
                    "id",
                    "start",
                    "name",
                    "html",
                    "backColor",
                    "toolTip",
                    "areas",
                    "children",
                  ]),
                  this.onBeforeHeaderRender(c),
                  s(c.header, d, ["html", "backColor", "toolTip", "areas"]);
              }
              var u = !!d.be,
                h = n ? i.insertCell(-1) : i.cells[l];
              if (((h.data = d), o));
              else {
                var f = 1;
                u && (f = d.ce(x.Td() - e + 1)), (h.colSpan = f);
              }
              u &&
                ((h.onclick = this.fc),
                (h.onmousemove = this.gc),
                (h.onmouseout = this.ic),
                d.toolTip && (h.title = d.toolTip)),
                (h.style.overflow = "hidden"),
                (h.style.padding = "0px"),
                (h.style.border = "0px none"),
                (h.style.height = x.mg(e - 1) + "px");
              var v = n ? t() : h.firstChild;
              if (n) {
                (v.style.userSelect = "none"),
                  (v.style.webkitUserSelect = "none"),
                  (v.style.position = "relative"),
                  (v.style.height = x.mg(e - 1) + "px"),
                  (v.className = w.ca("_colheader"));
                var p = t();
                (p.className = w.ca("_colheader_inner")),
                  d.backColor && (p.style.background = d.backColor),
                  v.appendChild(p),
                  h.appendChild(v);
              } else v.style.height = x.mg(e - 1) + "px";
              this.ng(v, d), u && (v.firstChild.innerHTML = d.html);
            }
          }),
          (this.ng = function (e, t) {
            for (var n = [], i = 0; i < e.childNodes.length; i++) {
              var a = e.childNodes[i];
              a.isActiveArea && n.push(a);
            }
            for (var i = 0; i < n.length; i++) {
              var a = n[i];
              p(a);
            }
            if (t.areas)
              for (var r = t.areas, i = 0; i < r.length; i++) {
                var o = r[i];
                if (DayPilot.Areas.isVisible(o)) {
                  var l = w.ec(t),
                    s = DayPilot.Areas.createArea(e, l, o);
                  e.appendChild(s);
                }
              }
          }),
          (this.vb = function () {
            w.ra ? w.pg() : w.qg();
          }),
          (this.pg = function () {
            var e = w.nav.header;
            if ((w._a(), this.showHeader)) {
              var n = this.Sd(x.Td(), !0),
                i = n.length;
              this.rg = !0;
              var a = w.nav.corner;
              if (a) {
                this.sa || DayPilot.pu(a.firstChild);
                var r = {};
                r.html = w.La(w.cornerText, w.cornerHtml);
                var o = null;
                if (
                  (w.ab(),
                  "function" == typeof w.onBeforeCornerRender &&
                    w.onBeforeCornerRender(r),
                  "function" == typeof w.onBeforeCornerDomAdd &&
                    ((r.element = null),
                    w.onBeforeCornerDomAdd(r),
                    (o = r.element)),
                  o)
                ) {
                  var l = a.firstChild;
                  l.domArgs = r;
                  d(o) ? (w.W.Me(), w.W.V(o, l)) : l.appendChild(o);
                } else a.firstChild.innerHTML = r.html || "";
              }
              for (var s = 0; s < x.Td(); s++) this.lg(s);
              if (this.showAllDayEvents) {
                var c = [];
                w.nav.header.rows.push({ cells: c });
                for (var u = w.De(), h = w.Ke(), f = 0; f < i; f++) {
                  var v = n[f],
                    p = u[f],
                    m = t();
                  (m.data = v),
                    (m.style.overflow = "hidden"),
                    (m.style.position = "absolute"),
                    (m.style.left = p.left + p.unit),
                    (m.style.right = p.left + p.unit),
                    (m.style.width = p.width + p.unit),
                    (m.style.top = h + "px");
                  var g = t();
                  (g.style.userSelect = "none"),
                    (g.style.overflow = "hidden"),
                    (g.style.position = "relative"),
                    (g.style.height = x.Df() + "px"),
                    (g.className = this.ca("_alldayheader"));
                  var b = t();
                  (b.className = this.ca("_alldayheader_inner")),
                    g.appendChild(b),
                    m.appendChild(g),
                    (g.style.height = x.Df() + "px"),
                    c.push(m),
                    e.appendChild(m);
                }
              }
            }
          }),
          (this.qg = function () {
            if (this.showHeader) {
              var e = this.nav.header,
                n = !0,
                i = this.Sd(x.Td(), !0),
                a = i.length;
              for (
                p(this.nav.header), this.Hf();
                this.rg && e && e.rows && e.rows.length > 0;

              )
                this.sa || DayPilot.pu(e.rows[0]), e.deleteRow(0);
              this.rg = !0;
              var r = w.nav.corner;
              if (r) {
                this.sa || DayPilot.pu(r.firstChild);
                var o = {};
                (o.html = w.La(w.cornerText, w.cornerHtml)),
                  "function" == typeof w.onBeforeCornerRender &&
                    w.onBeforeCornerRender(o),
                  (r.firstChild.innerHTML = o.html ? o.html : "");
              }
              for (var l = 0; l < x.Td(); l++) this.og(l + 1, n);
              if (this.showAllDayEvents)
                for (var s = this.nav.header.insertRow(-1), l = 0; l < a; l++) {
                  var d = i[l],
                    c = s.insertCell(-1);
                  (c.data = d),
                    (c.style.padding = "0px"),
                    (c.style.border = "0px none"),
                    (c.style.overflow = "hidden");
                  var u = t();
                  (u.style.userSelect = "none"),
                    (u.style.webkitUserSelect = "none"),
                    (u.style.overflow = "hidden"),
                    (u.style.position = "relative"),
                    (u.style.height = x.Df() + "px"),
                    (u.className = this.ca("_alldayheader"));
                  var h = t();
                  (h.className = this.ca("_alldayheader_inner")),
                    u.appendChild(h),
                    c.appendChild(u),
                    (u.style.height = x.Df() + "px");
                }
            }
          }),
          (this.loadingStart = function (e) {
            this.Qa(e);
          }),
          (this.loadingStop = function () {
            this.nb(!0);
          }),
          (this.Qa = function (e) {
            e = e || {};
            var t = e.delay || 0,
              n = w.La(e.text || this.loadingLabelText, this.loadingLabelHtml),
              i = "undefined" != typeof e.block ? e.block : w.blockOnCallBack;
            this.sg && window.clearTimeout(this.sg);
            var a = function () {
              (w.loadingLabelVisible || e.text) &&
                w.nav.loading &&
                ((w.nav.loading.innerHTML = n),
                (w.nav.loading.style.top = w.Vb() + 5 + "px"),
                (w.nav.loading.style.display = "")),
                i && T.D();
            };
            0 === t ? a() : (w.sg = window.setTimeout(a, t));
          }),
          (this.nb = function (e) {
            this.sg && window.clearTimeout(this.sg),
              (this.nav.loading.style.display = "none"),
              (e || w.blockOnCallBack) && T.B();
          }),
          (this.tg = function (e) {
            var t = w.Ub(!0);
            return e < t && (e += 24), (e - t) * (60 / x.Ob()) * w.cellHeight;
          }),
          (this.yd = function (e) {
            var t = w.Ub(!0);
            return e / (60 / x.Ob()) / w.cellHeight + t;
          }),
          (this.ug = function () {
            var e = this.kd(),
              t = this.initScrollPos;
            if (!t) {
              var n = this.businessBeginsHour;
              t = w.tg(n);
            }
            (e.root = this),
              (e.onscroll = this.hd),
              w.Ka(),
              0 === e.scrollTop
                ? x.Ob() <= 720 && (e.scrollTop = t - this.rd())
                : this.hd();
          }),
          (this.vg = function () {
            var e = w.nav.top;
            return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
          }),
          (this.wg = function () {
            var e = w.vg;
            return e()
              ? void w.xg()
              : void (
                  w.Va ||
                  (w.Va = setInterval(function () {
                    e() && (clearInterval(w.Va), w.ug(), w.Cb(), w.xg());
                  }, 100))
                );
          }),
          (this.scrollToY = function (e) {
            this.kd().scrollTop = e;
          }),
          (this.scrollToHour = function (e) {
            var t = w.tg(e);
            this.kd().scrollTop = t - this.rd();
          }),
          (this.kd = function () {
            return "Fixed" === x.jd() || this.qa
              ? this.nav.bottomRight
              : this.nav.scroll;
          }),
          (this.onCallbackError = function (e, t) {
            alert("Error!\r\nResult: " + e + "\r\nContext:" + t);
          }),
          (this.Cb = function () {
            if (w.showHeader) {
              var e = this.Ff(),
                n = !!this.nav.cornerRight;
              if (this.qa) {
                this.nav.unifiedCornerRight && p(this.nav.unifiedCornerRight);
                var i = w.nav.main.getBoundingClientRect().width,
                  a = w.sf();
                if ("100%" !== a && parseInt(a) < i) return;
                var r = DayPilot.sw(this.nav.bottomRight),
                  o = "calc(100% - " + r + "px)",
                  l = void 0;
                w.ra
                  ? ((l = t()),
                    (l.style.position = "absolute"),
                    (l.style.left = o),
                    (l.style.right = o),
                    (l.style.height = w.Vb() + "px"),
                    w.nav.headerParent.appendChild(l),
                    (w.nav.unifiedCornerRight = l),
                    (w.nav.header.style.width = o),
                    w.nav.allday && (w.nav.allday.style.width = o))
                  : ((this.nav.unifiedCornerRight =
                      this.nav.header.rows[0].insertCell(-1)),
                    (l = this.nav.unifiedCornerRight),
                    (l.rowSpan = this.nav.header.rows.length)),
                  (l.style.width = r + "px");
                var s = t();
                (s.className = w.ca("_cornerright")),
                  (s.style.overflow = "hidden"),
                  (s.style.height = this.Vb() + "px"),
                  (s.style.position = "relative");
                var d = t();
                (d.className = w.ca("_cornerright_inner")),
                  s.appendChild(d),
                  l.appendChild(s);
                return void (
                  !("Fixed" === x.jd()) &&
                  this.nav.allday &&
                  (w.rtl
                    ? (this.nav.allday.style.left = r + "px")
                    : (this.nav.allday.style.right = r + "px"))
                );
              }
              if (e !== n)
                if (e) this.If();
                else {
                  if (
                    this.nav.fullHeader &&
                    3 === this.nav.fullHeader.rows[0].cells.length
                  ) {
                    var l = this.nav.fullHeader.rows[0].cells[2];
                    l.parentNode && l.parentNode.removeChild(l);
                  }
                  this.nav.cornerRight = null;
                }
              var c = this.nav.cornerRight;
              if (c) {
                var u = DayPilot.sw(w.Wb());
                return c && (c.style.width = u + "px"), u;
              }
            }
          }),
          (this.Jb = function (e) {
            if (
              (e && (this.autoRefreshEnabled = !0),
              this.autoRefreshEnabled && !(this.ya >= this.autoRefreshMaxCount))
            ) {
              this.Xa();
              var t = this.autoRefreshInterval;
              if (!t || t < 10)
                throw new DayPilot.Exception(
                  "The minimum autoRefreshInterval is 10 seconds"
                );
              this.autoRefreshTimeout = window.setTimeout(function () {
                w.yg();
              }, 1e3 * this.autoRefreshInterval);
            }
          }),
          (this.Xa = function () {
            this.autoRefreshTimeout &&
              window.clearTimeout(this.autoRefreshTimeout);
          }),
          (this.yg = function () {
            if (!(v.resizing || v.moving || v.drag || v.selecting)) {
              var e = !1;
              if ("function" == typeof this.onAutoRefresh) {
                var t = {};
                (t.i = this.ya),
                  (t.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  w.onAutoRefresh(t),
                  t.preventDefault.value && (e = !0);
              }
              !e && this.ja() && this.commandCallBack(this.autoRefreshCommand),
                this.ya++;
            }
            this.ya < this.autoRefreshMaxCount &&
              (this.autoRefreshTimeout = window.setTimeout(function () {
                w.yg();
              }, 1e3 * this.autoRefreshInterval));
          }),
          (this.cb = function () {
            w.Hb();
          }),
          (this.Hb = function () {
            w.nav.top &&
              (w.Bb(),
              "Parent100Pct" === w.heightSpec &&
                w.setHeight(parseInt(w.nav.top.clientHeight, 10)),
              w.Cb(),
              w.Ib(),
              w.Ka(),
              w.zg());
          }),
          (w.zg = function () {
            var e = DayPilot.sw(w.nav.bottomRight),
              t = w.nav.scroll.offsetWidth - w.hourWidth - e;
            if ("Auto" === w.columnWidthSpec) {
              var n = w.Nb.length,
                i = t / n,
                a = w.Ag;
              i < w.columnWidthMin
                ? ((w.columnWidth = w.columnWidthMin), (w.Ag = !0))
                : (w.Ag = !1);
              var r = a !== w.Ag;
              w.za && (r || w.Bg) && ((w.Bg = !1), w.Od()), w.za || (w.Bg = !0);
            }
          }),
          (this.Cg = null),
          (this.Dg = null),
          (w.Wa = null),
          (this.xg = function () {
            var e = function () {
              w.watchWidthChanges && (w.Hb(), w.hd());
            };
            if (w.watchWidthChanges) {
              if ("function" == typeof ResizeObserver) {
                if (w.Wa) return;
                var t = new ResizeObserver(DayPilot.debounce(e, 50));
                return t.observe(w.nav.top), void (w.Wa = t);
              }
              if (!w.Dg) {
                var n = function () {
                  return w.nav && w.nav.top
                    ? w.Cg
                      ? (w.Cg.width !== w.nav.top.offsetWidth &&
                          ((w.Cg.changed = !0),
                          (w.Cg.counter = 0),
                          (w.Cg.width = w.nav.top.offsetWidth)),
                        w.Cg.changed && (w.Cg.counter += 1),
                        void (
                          w.Cg.changed &&
                          w.Cg.counter > 0 &&
                          ((w.Cg.changed = !1), e())
                        ))
                      : ((w.Cg = {}),
                        (w.Cg.counter = 0),
                        (w.Cg.changed = !1),
                        void (w.Cg.width = w.nav.top.offsetWidth))
                    : void clearInterval(w.Dg);
                };
                (this.Dg = setInterval(n, 200)), n();
              }
            }
          }),
          (this.Eg = function () {
            m.Fg ||
              ((m.Fg = !0),
              a(document, "mousemove", m.Gg),
              a(document, "mouseup", m.Hg),
              i(document, DayPilot.touch.move, m.Ig),
              a(document, DayPilot.touch.end, m.Jg)),
              a(window, "resize", this.cb);
          }),
          (this.Xe = function (e) {
            if (!k.active && !k.using) {
              e = e || window.event;
              var t = DayPilot.Util.mouseButton(e);
              if (m.editing) return void m.editing.blur();
              if (
                ("undefined" != typeof DayPilot.Bubble &&
                  (DayPilot.Bubble.hideActive(),
                  DayPilot.Bubble.cancelShowing()),
                (w.coords = DayPilot.mo3(w.nav.main, e)),
                ("n-resize" !== this.style.cursor &&
                  "s-resize" !== this.style.cursor) ||
                  !t.left)
              ) {
                if (
                  ("move" === this.style.cursor ||
                    ("Full" === w.moveBy && this.event.client.moveEnabled())) &&
                  t.left
                ) {
                  v.moving = this;
                  var n = (v.moving.helper = {}),
                    i = w.Nb[this.event.part.dayIndex];
                  (n.oldColumn = i.id),
                    (m.Yf = DayPilot.mc(e)),
                    (m.gg = this.offsetTop);
                  var a = this.event,
                    r = DayPilot.mo3(this, e);
                  if (r) {
                    m.moveOffsetY = r.y;
                    var o = w.coords,
                      l = w.wc(o.x, o.y);
                    n.Zf = l.getTime() - a.start().getTime();
                    var s = w.snapToGrid && w.snapToGridEventMoving;
                    if (!s && a.part.box) {
                      var d = w.vc(a.part.start, i.start),
                        c = d.top - d.boxTop;
                      m.moveOffsetY = r.y - c;
                    }
                  } else m.moveOffsetY = 0;
                  w.nav.top.style.cursor = this.style.cursor;
                }
              } else
                (v.resizing = this),
                  (m.Yf = DayPilot.mc(e)),
                  (m.fg = this.offsetHeight),
                  (m.gg = this.offsetTop),
                  (w.nav.top.style.cursor = this.style.cursor);
              return !1;
            }
          }),
          (this.Kg = function (e) {
            var t = this.va.events,
              n = this.events.list[e],
              i = {};
            for (var a in n) i[a] = n[a];
            if (
              ((i.start = new DayPilot.Date(n.start)),
              (i.end = new DayPilot.Date(n.end)),
              w.showEventStartEnd)
            ) {
              var r =
                  i.start.getDatePart().getTime() ===
                  i.end.getDatePart().getTime(),
                o = r ? x.Xc().timePattern : x.Xc().dateTimePattern,
                l = i.start.toString(o),
                s = i.end.toString(o);
              i.html = w.La(i.text) + " (" + l + " - " + s + ")";
            }
            if ("function" == typeof this.onBeforeEventRender) {
              var d = {};
              (d.e = i),
                (d.data = i),
                (d.control = w),
                this.onBeforeEventRender(d);
            }
            t[e] = i;
          }),
          (this.Lg = function () {
            return !!(v.moving || v.resizing || v.selecting || v.drag);
          }),
          (this.dragInProgress = function () {
            return w.Lg();
          }),
          (T.Mg = function () {
            if (!w.nav.overlay) {
              var e = document.createElement("div");
              (e.style.position = "absolute"),
                (e.style.left = "0px"),
                (e.style.right = "0px"),
                (e.style.top = "0px"),
                (e.style.bottom = "0px"),
                (e.className = w.ca("_block")),
                w.nav.top.appendChild(e),
                (w.nav.overlay = e);
            }
          }),
          (T.D = function () {
            T.Mg(), (w.nav.overlay.style.display = "");
          }),
          (T.B = function () {
            w.nav.overlay && (w.nav.overlay.style.display = "none");
          }),
          (this.Ng = null),
          (this.bg = function (e) {
            function t(e, t) {
              return 1 - e / t;
            }
            var n = w.Lg(),
              i = "Always" === w.autoScroll,
              a = "Drag" === w.autoScroll && n;
            if (i || a) {
              var r = w.nav.bottomRight,
                o = r.scrollLeft;
              w.rtl;
              var l = e.x - o,
                s = e.y - r.scrollTop;
              w.rtl && (l = l - r.scrollWidth + r.clientWidth);
              var d = r.clientWidth,
                c = r.clientHeight,
                u = 30,
                h = l < u ? l : 0,
                f = d - l < u ? d - l : 0,
                v = s < u ? s : 0,
                p = c - s < u ? c - s : 0,
                m = 0,
                g = 0,
                b = 50;
              h && (m = -50 * t(h, u)),
                f && (m = b * t(f, u)),
                v && (g = (-50 * t(v, u)) / 2),
                p && (g = (b * t(v, u)) / 2),
                m || g ? w.Og(m, g) : w.ib();
            }
          }),
          (this.Og = function (e, t) {
            this.ib(), this.Pg(e, t);
          }),
          (this.Qg = function (e) {
            if (!e) return !1;
            var t = w.rtl,
              n = w.nav.bottomRight,
              i = n.scrollWidth,
              a = n.scrollLeft,
              r = n.clientWidth,
              o = a + r;
            if ((t && ((a -= 1), (o = a - r)), t)) {
              if (e > 0 && a >= 0) return !1;
              if (e < 0 && -o >= i) return !1;
            } else {
              if (e < 0 && a <= 0) return !1;
              if (e > 0 && o >= i) return !1;
            }
            return (n.scrollLeft += e), (w.coords.x += e), w.Rg(), !0;
          }),
          (this.Sg = function (e) {
            if (!e) return !1;
            var t = w.nav.bottomRight,
              n = t.scrollHeight,
              i = t.scrollTop,
              a = t.clientHeight,
              r = i + a;
            return (
              !(e < 0 && i <= 0) &&
              !(e > 0 && r >= n) &&
              ((t.scrollTop += e), (w.coords.y += e), w.Rg(), !0)
            );
          }),
          (this.Rg = function () {}),
          (this.Pg = function (e, t) {
            if (this.Qg(e) || this.Sg(t)) {
              var n = function (e, t) {
                return function () {
                  w.Pg(e, t);
                };
              };
              this.Tg = window.setTimeout(n(e, t), 200);
            }
          }),
          (this.ib = function () {
            w.Tg && (window.clearTimeout(w.Tg), (w.Tg = null));
          }),
          (k.active = !1),
          (k.start = null),
          (k.timeout = null),
          (k.startcell = null),
          (k.relativeCoords = function (e) {
            return k.Ug(e);
          }),
          (k.startResizing = function (e, t, n) {
            k.ze(e, t, n);
          }),
          (k.startMoving = function (e, t) {
            k.ne(e, t);
          }),
          (this.Ca.hg = function (e) {
            var t, n;
            e.touches
              ? ((t = e.touches[0].pageX), (n = e.touches[0].pageY))
              : ((t = e.pageX), (n = e.pageY));
            var i = DayPilot.abs(w.nav.main),
              a = { x: t - i.x, y: n - i.y },
              r = w.nav.main.clientWidth / w.Nb.length,
              o = Math.floor(a.y / w.cellHeight);
            return (
              (o = DayPilot.Util.atLeast(0, o)),
              (o = DayPilot.Util.atMost(w.Yb() - 1, o)),
              {
                pageX: t,
                pageY: n,
                x: Math.floor(a.x / r),
                y: o,
                toString: function () {
                  return "x: " + this.x + " y:" + this.y;
                },
              }
            );
          }),
          (this.Ca.Vg = function (e) {
            (k.startcell = e),
              w.clearSelection(),
              (w.coords = e),
              (v.selecting = { calendar: w, start: e });
            var t = v.selecting;
            (t.start.time = w.wc(e.x, e.y)),
              (t.start.columnIndex = w.Mb(e.x)),
              (t.start.column = w.Nb[t.start.columnIndex]),
              w.Uc(),
              w.Vc();
          }),
          (this.Ca.Wg = function (e) {
            w.coords = e;
            var t = v.selecting;
            (t.origin = "drag"),
              w.Uc(),
              (t.last &&
                t.last.startTime === t.startTime &&
                t.last.endTime === t.endTime) ||
                ((t.last = { startTime: t.startTime, endTime: t.endTime }),
                w.Vc());
          }),
          (this.Ca.detected = !1),
          (this.Ca.mf = function (e) {
            if (!l(e) && !k.start) {
              var t = k.Ug(e);
              if (
                ((w.coords = t),
                !(
                  t.x < 0 ||
                  ((k.start = !0),
                  (k.detected = !0),
                  k.active || e.touches.length > 1)
                ))
              ) {
                (k.using = !0), (k.startCoords = t);
                var n = w.tapAndHoldTimeout;
                k.timeout = window.setTimeout(function () {
                  switch (
                    (e.preventDefault(),
                    (k.active = !0),
                    (k.start = !1),
                    w.timeRangeTapAndHoldHandling)
                  ) {
                    case "Select":
                      k.Vg(t);
                      break;
                    case "ContextMenu":
                      k.Vg(t),
                        (k.active = !1),
                        w.contextMenuSelection &&
                          w.contextMenuSelection.show(w.getSelection());
                  }
                }, n);
              }
            }
          }),
          (this.Ca.Xg = function () {}),
          (this.Ca.Rf = function (e) {
            if (!k.active)
              return (
                window.clearTimeout(k.timeout),
                void (
                  k.start &&
                  !(function () {
                    if ("Disabled" !== w.timeRangeSelectedHandling) {
                      if (!w.Tc(w.coords)) {
                        var e = (v.selecting = {});
                        (e.start = w.coords),
                          (e.start.time = w.wc(w.coords.x, w.coords.y)),
                          (e.start.columnIndex = w.Mb(w.coords.x)),
                          (e.start.column = w.Nb[e.start.columnIndex]),
                          w.Uc(),
                          (w.Ia = e),
                          (v.selecting = null),
                          w.Vc(e);
                      }
                      var t = w.getSelection();
                      (t.toString = function () {
                        return "start: " + this.start + "\nend: " + this.end;
                      }),
                        (k.start = !1),
                        setTimeout(function () {
                          w.Jc(t.start, t.end, t.resource);
                        }, 10);
                    }
                  })(this)
                )
              );
            e.preventDefault(),
              e.stopPropagation(),
              (k.startcell = null),
              (k.start = !1);
            var t = v.selecting;
            (v.selecting = null), (w.Ia = t);
            var n = w.getSelection();
            (n.toString = function () {
              return "start: " + this.start + "\nend: " + this.end;
            }),
              w.Jc(n.start, n.end, n.resource),
              window.setTimeout(function () {
                k.active = !1;
              }, 500);
          }),
          (this.Ca.ne = function (e, t) {
            v.moving = e;
            var n = (v.moving.helper = {});
            (n.oldColumn = w.Nb[e.event.part.dayIndex].id),
              (m.Yf = t),
              (m.gg = this.offsetTop);
            var i = DayPilot.abs(e);
            if (
              ((m.moveOffsetY = t.y - i.y),
              (function () {
                var t = w.coords,
                  i = w.wc(t.x, t.y);
                n.Zf = i.getTime() - e.event.start().getTime();
              })(),
              m.movingShadow ||
                ((m.movingShadow = w.Lb(v.moving, !0)),
                (m.movingShadow.style.width =
                  m.movingShadow.parentNode.offsetWidth + 1 + "px")),
              w.ta)
            ) {
              m.movingShadow.style.display = "none";
              var a = w.uc(e.event, w.coords, n.Zf);
              w.$c(e.event, a);
            }
          }),
          (this.Ca.ze = function (e, t, n) {
            (v.resizing = e),
              (e.dpBorder = t),
              (m.Yf = n),
              (m.fg = e.offsetHeight),
              (m.gg = e.offsetTop);
          }),
          (this.Ca.Yg = function (e) {
            w.Xf(e);
          }),
          (this.Ca.Zg = function () {
            var e = w.coords,
              t = w.cellHeight,
              n = 0,
              i = m.moveOffsetY;
            i || (i = t / 2);
            var a = Math.floor((e.y - i - n + t / 2) / t) * t + n;
            a < n && (a = n);
            var r = w.Te(),
              o = parseInt(m.movingShadow.style.height);
            a + o > r && (a = r - o),
              (m.movingShadow.style.top = a + "px"),
              (m.movingShadow.allowed = !0);
            var l = w.Mb(w.coords.x);
            l < 0 && (l = 0);
            var s = w.nav.events;
            if (
              (l < s.rows[0].cells.length &&
                l >= 0 &&
                m.movingShadow.column !== l &&
                ((m.movingShadow.column = l), m.moveShadow(s.rows[0].cells[l])),
              w.ta)
            ) {
              var d = v.moving.event,
                c = v.moving.helper.Zf,
                u = w.uc(d, w.coords, c);
              (m.movingShadow.style.display = "none"), w.$c(d, u), (w.Ac = u);
            }
          }),
          (this.Ca.onEventTouchStart = function (e) {
            if (!k.active && !l(e)) {
              (k.preventEventTap = !1),
                (k.using = !0),
                (k.start = !0),
                (k.startCoords = k.hg(e));
              var t = e.currentTarget,
                n = e.touches ? e.touches[0].pageX : e.pageX,
                i = e.touches ? e.touches[0].pageY : e.pageY,
                a = { x: n, y: i, div: this };
              w.coords = k.Ug(e);
              var r = w.tapAndHoldTimeout;
              k.timeout = window.setTimeout(function () {
                var n = t.event;
                switch (
                  ((k.active = !0), (k.start = !1), w.eventTapAndHoldHandling)
                ) {
                  case "Move":
                    n.client.moveEnabled() && k.ne(t, a);
                    break;
                  case "ContextMenu":
                    var i = n.client.contextMenu();
                    DayPilot.Menu && DayPilot.Menu.touchPosition(e),
                      i ? i.show(n) : w.contextMenu && w.contextMenu.show(n);
                }
              }, r);
            }
          }),
          (this.Ca.nf = function (e) {
            if (!l(e)) {
              if (((k.start = !1), k.timeout)) {
                var t = k.hg(e);
                t &&
                  k.startCoords &&
                  ((t.pageX === k.startCoords.pageX &&
                    t.pageY === k.startCoords.pageY) ||
                    window.clearTimeout(w.Ca.timeout));
              }
              if (v.moving && m.movingShadow)
                return (
                  e.preventDefault(),
                  (w.coords = k.Ug(e)),
                  k.Zg(),
                  void w.bg(k.Ug(e))
                );
              if (v.resizing) {
                e.preventDefault();
                var n = e.touches ? e.touches[0] : e,
                  t = { x: n.pageX, y: n.pageY };
                return k.Yg(t), void w.bg(k.Ug(e));
              }
              if (k.startcell) {
                if ((e.preventDefault(), !k.active))
                  return void window.clearTimeout(k.timeout);
                var t = k.Ug(e);
                k.Wg(t), w.bg(k.Ug(e));
              }
              k.preventEventTap = !0;
            }
          }),
          (this.Ca.Ug = function (e) {
            var t = w.nav.main,
              n = e.touches ? e.touches[0].pageX : e.pageX,
              i = e.touches ? e.touches[0].pageY : e.pageY,
              a = DayPilot.abs(t);
            return {
              x: n - a.x,
              y: i - a.y,
              toString: function () {
                return "x: " + this.x + ", y:" + this.y;
              },
            };
          }),
          (this.Ca.of = function (e) {
            if (!l(e))
              if (v.moving) {
                (k.active = !1), e.preventDefault(), e.stopPropagation();
                var t = m.movingShadow.offsetTop,
                  n = v.moving.event,
                  i = n.calendar;
                i.cd(m.movingShadow);
                var a = m.movingShadow.column,
                  r = m.movingShadow;
                if (
                  (o(v.moving, i.ca("_event_moving_source")),
                  (v.moving = null),
                  (m.movingShadow = null),
                  !r.allowed)
                )
                  return void i.Cc();
                n.calendar.zc(n, a, t, e, v.drag);
              } else if (k.startcell) {
                if (!k.active) return void window.clearTimeout(k.timeout);
                e.preventDefault(), (k.startcell = null);
                var s = w.getSelection();
                (s.toString = function () {
                  return "start: " + this.start + "\nend: " + this.end;
                }),
                  w.Jc(s.start, s.end, s.resource),
                  window.setTimeout(function () {
                    k.active = !1;
                  }, 500);
              }
          }),
          (this.Ca.onEventTouchMove = function () {
            k.preventEventTap = !0;
          }),
          (this.Ca.onEventTouchEnd = function (e) {
            if (!l(e)) {
              if (!k.active) {
                if (k.preventEventTap) return;
                return (
                  e.preventDefault(),
                  window.clearTimeout(k.timeout),
                  void w.$b(this, e)
                );
              }
              return (
                (k.active = !1),
                k.timeout ? void window.clearTimeout(k.timeout) : void 0
              );
            }
          }),
          (this.Ye = function (e) {
            if ("function" == typeof w.onEventMouseEnter) {
              var t = e.currentTarget,
                n = { div: t, e: t.event };
              w.onEventMouseEnter(n);
            }
          }),
          (this.Ze = function (e) {
            if ("function" == typeof w.onEventMouseLeave) {
              var t = e.currentTarget,
                n = { div: t, e: t.event };
              w.onEventMouseLeave(n);
            }
          }),
          (this.Ve = function (e) {
            var t = 5,
              n = 10,
              i = "Top" === w.moveBy;
            if ("undefined" != typeof m) {
              var a = DayPilot.mo3(this, e);
              if (a) {
                w.eventOffset = a;
                var o = e.currentTarget;
                if (
                  (o.active || r(o, w.ca("_event_hover")),
                  !v.resizing && !v.moving)
                ) {
                  var l = this.isFirst,
                    s = this.isLast;
                  if (
                    "Disabled" !== w.moveBy &&
                    "None" !== w.moveBy &&
                    (!i && a.x <= n && this.event.client.moveEnabled()
                      ? l
                        ? (this.style.cursor = "move")
                        : (this.style.cursor = "not-allowed")
                      : !i && a.y <= t && this.event.client.resizeEnabled()
                      ? l
                        ? ((this.style.cursor = "n-resize"),
                          (this.dpBorder = "top"))
                        : (this.style.cursor = "not-allowed")
                      : i && a.y <= n && this.event.client.moveEnabled()
                      ? (this.style.cursor = "move")
                      : this.offsetHeight - a.y <= t &&
                        this.event.client.resizeEnabled()
                      ? s
                        ? ((this.style.cursor = "s-resize"),
                          (this.dpBorder = "bottom"))
                        : (this.style.cursor = "not-allowed")
                      : v.resizing ||
                        v.moving ||
                        (this.event.client.clickEnabled()
                          ? (this.style.cursor = "pointer")
                          : (this.style.cursor = "default")),
                    "undefined" != typeof DayPilot.Bubble &&
                      w.bubble &&
                      "Disabled" !== w.eventHoverHandling &&
                      ("default" === this.style.cursor ||
                        "pointer" === this.style.cursor))
                  ) {
                    (this.$g && a.x === this.$g.x && a.y === this.$g.y) ||
                      ((this.$g = a), w.bubble.showEvent(this.event));
                  }
                }
              }
            }
          }),
          (this.We = function (e) {
            o(this, w.ca("_event_hover")),
              w.bubble && w.bubble.hideOnMouseOut(),
              DayPilot.Areas.hideAreas(this, e);
          }),
          (this._g = function () {
            var e = w.nav;
            w.rtl
              ? ((e.top.style.direction = "rtl"),
                (e.bottomLeft.style.cssFloat = "right"),
                (e.upperLeft.style.cssFloat = "right"),
                this.showHours &&
                  ((e.bottomRight.style.marginRight = w.hourWidth + "px"),
                  (e.upperRight.style.marginRight = this.hourWidth + "px")),
                (e.bottomRight.style.marginLeft = "0px"),
                (e.upperRight.style.marginLeft = "0px"))
              : ((e.top.style.direction = ""),
                (e.bottomLeft.style.cssFloat = "left"),
                (e.upperLeft.style.cssFloat = "left"),
                this.showHours &&
                  ((e.upperRight.style.marginLeft = this.hourWidth + "px"),
                  (e.bottomRight.style.marginLeft = w.hourWidth + "px")),
                (e.upperRight.style.marginRight = "0px"),
                (e.bottomRight.style.marginRight = "0px"));
            var t = w.nav.events,
              n = w.qf();
            t.parentNode.replaceChild(n, t);
          }),
          (this.ah = null),
          (this.Eb = function () {
            if (this.showCurrentTime) {
              this.bh();
              var e = new DayPilot.Date().addMinutes(w.showCurrentTimeOffset);
              if ("Full" === w.showCurrentTimeMode) this.ch(e);
              else {
                if ("Day" !== w.showCurrentTimeMode)
                  throw new DayPilot.Exception(
                    "Invalid DayPilot.Calendar.showCurrentTimeMode value: " +
                      w.showCurrentTimeMode
                  );
                this.dh(e);
              }
              if (this.nav.events && !this.ah) {
                this.ah = setTimeout(function () {
                  (w.ah = null), w.Eb();
                }, 3e4);
              }
            }
          }),
          (this.bh = function () {
            p(w.elements.separators), (w.elements.separators = []);
          }),
          (this.dh = function (e) {
            var n = e.getTime(),
              i = w.nav.events;
            if (i)
              for (var a = 0; a < w.Nb.length; a++) {
                var r = w.Nb[a],
                  o = w.Qb(!0),
                  l = new DayPilot.Date(r.start).addHours(this.Ub(!0)),
                  s = l.getTime(),
                  d = l.addTime(o),
                  c = d.getTime();
                if (s <= n && n <= c) {
                  var u = this.vc(e, r.start).top - 1 - w.rd(),
                    h = i.rows[0].cells[a],
                    f = h.separators,
                    v = t();
                  (v.style.position = "absolute"),
                    (v.style.top = u + "px"),
                    (v.style.height = "1px"),
                    (v.style.left = "0px"),
                    (v.style.right = "0px"),
                    (v.className = w.ca("_now")),
                    f.insertBefore(v, f.firstChild),
                    w.elements.separators.push(v);
                }
              }
          }),
          (this.ch = function (e) {
            var n = e.getTime();
            if (w.nav.events) {
              var i = w.Nb[0];
              if (i)
                for (
                  var a = i.start.getDatePart().addTime(e.getTimePart()),
                    r = this.vc(a, i.start).top - 1,
                    o = 0;
                  o < w.Nb.length;
                  o++
                ) {
                  var l = w.Nb[o],
                    s = w.Qb(!0),
                    d = new DayPilot.Date(l.start).addHours(this.Ub(!0)),
                    c = d.getTime(),
                    u = d.addTime(s),
                    h = u.getTime();
                  if (c <= n && n <= h) {
                    var f = t();
                    return (
                      (f.style.position = "absolute"),
                      (f.style.top = r + "px"),
                      (f.style.height = "1px"),
                      (f.style.left = "0px"),
                      (f.style.right = "0px"),
                      (f.className = w.ca("_now")),
                      w.nav.events.appendChild(f),
                      void w.elements.separators.push(f)
                    );
                  }
                }
            }
          }),
          (this.tb = function (e, t) {
            var n;
            if ((e ? (this.events.list = e) : (e = this.events.list), e)) {
              var i = t && t.preloadOnly;
              (this.Ie = {}), (this.Ie.events = []), (this.Ie.lines = []);
              var a = e.length,
                r = this.Qb(!0);
              (this.va.pixels = {}), (this.va.$e = []);
              var o = [];
              (this.qd = []),
                (this.nc = 1e4),
                (this.Tb = 0),
                (this.startDate = new DayPilot.Date(this.startDate));
              for (var l = 0; l < a; l++) {
                var s = e[l];
                if ("object" != typeof s)
                  throw new DayPilot.Exception(
                    "Event data item must be an object"
                  );
                if (!s.start)
                  throw new DayPilot.Exception(
                    "Event data item must specify 'start' property"
                  );
              }
              if (
                !i &&
                ("function" == typeof this.onBeforeEventRender ||
                  w.showEventStartEnd)
              )
                for (var l = 0; l < a; l++) this.Kg(l);
              for (
                var d = "Resources" === this.viewType,
                  c = this.Vd(),
                  u = c.start,
                  h = c.end,
                  l = 0;
                l < this.Nb.length;
                l++
              ) {
                var f = {};
                (f.minEnd = 1e6), (f.maxStart = -1), this.qd.push(f);
                var v = this.Nb[l];
                (v.events = []), (v.lines = []), (v.blocks = []);
                var p = new DayPilot.Date(v.start).addHours(this.Ub(!0)),
                  m = p.getTime(),
                  g = null !== (n = v.end) && void 0 !== n ? n : p.addTime(r),
                  b = g.getTime();
                d && ((u = p.getDatePart()), (h = p.addDays(w.days)));
                for (var y = 0; y < a; y++)
                  if (!o[y]) {
                    var s = e[y],
                      k = null;
                    if (
                      (i ||
                        "function" != typeof w.onBeforeEventRender ||
                        (k = w.va.events[y]),
                      k)
                    ) {
                      if (k.hidden) continue;
                    } else if (s.hidden) continue;
                    var C = new DayPilot.Date(s.start),
                      _ = new DayPilot.Date(s.end),
                      T = C.getTime(),
                      S = _.getTime();
                    if (!(S < T))
                      if (s.allday) {
                        var D = !1;
                        if (
                          ((D =
                            T === S
                              ? !(S < u.getTime() || T >= h.getTime())
                              : "Date" === w.allDayEnd
                              ? !(S < u.getTime() || T >= h.getTime())
                              : !(S <= u.getTime() || T >= h.getTime())),
                          d && (D = D && (s.resource === v.id || "*" === v.id)),
                          D)
                        ) {
                          var E = new DayPilot.Event(s, this);
                          (E.part.start = u.getTime() < T ? C : u),
                            (E.part.end = h.getTime() > S ? _ : h),
                            (E.part.colStart = DayPilot.DateUtil.daysDiff(
                              u,
                              E.part.start
                            ));
                          var H = E.part.start.getDatePart(),
                            M = E.part.end.getDatePart();
                          if (
                            (("Date" === w.allDayEnd ||
                              E.part.end.getTimePart() > 0) &&
                              (M = M.addDays(1)),
                            console.log("partStart, partEnd", H, M),
                            (E.part.colWidth =
                              DayPilot.DateUtil.daysSpan(H, M) + 1),
                            d && ((E.part.colStart = l), (E.part.colWidth = 1)),
                            "function" == typeof w.onEventFilter && w.events.eh)
                          ) {
                            var A = {};
                            if (
                              ((A.filter = w.events.eh),
                              (A.filterParam = A.filter),
                              (A.visible = !0),
                              (A.e = E),
                              w.onEventFilter(A),
                              !A.visible)
                            )
                              continue;
                          }
                          this.Ie.events.push(E),
                            i ||
                              (("function" == typeof this.onBeforeEventRender ||
                                w.showEventStartEnd) &&
                                (E.cache = this.va.events[y])),
                            (o[y] = !0),
                            !d ||
                              (E.part.start.getTime() === T &&
                                E.part.end.getTime() === S) ||
                              (o[y] = !1);
                        }
                      } else {
                        var R = !1;
                        if (
                          (R = d
                            ? v.id === s.resource && !(S <= m || T >= b)
                            : !(S <= m || T >= b) || (S === T && T === m))
                        ) {
                          var E = new DayPilot.Event(s, w);
                          (E.part.dayIndex = l),
                            (E.part.start = m < T ? C : p),
                            (E.part.end = b > S ? _ : g);
                          var B = this.vc(E.part.start, v.start),
                            N = this.vc(E.part.end, v.start),
                            P = B.top,
                            L = N.top;
                          if (P === L && (B.cut || N.cut)) continue;
                          E.part.box = x.fh(S - T);
                          var z = 0;
                          if (E.part.box) {
                            var I = N.boxBottom;
                            (E.part.top =
                              Math.floor(P / this.cellHeight) *
                                this.cellHeight +
                              z +
                              1),
                              (E.part.height =
                                Math.max(
                                  Math.ceil(I / this.cellHeight) *
                                    this.cellHeight -
                                    E.part.top,
                                  this.cellHeight - 1
                                ) + 1),
                              (E.part.barTop = Math.max(P - E.part.top - 1, 0)),
                              (E.part.barHeight = Math.max(L - P - 2, 1));
                          } else
                            (E.part.top = P + z),
                              (E.part.height = Math.max(L - P, 0)),
                              (E.part.barTop = 0),
                              (E.part.barHeight = Math.max(L - P - 2, 1));
                          if (
                            "function" == typeof w.onEventFilter &&
                            w.events.eh
                          ) {
                            var A = {};
                            if (
                              ((A.filter = w.events.eh),
                              (A.filterParam = A.filter),
                              (A.visible = !0),
                              (A.e = E),
                              w.onEventFilter(A),
                              !A.visible)
                            )
                              continue;
                          }
                          var H = E.part.top,
                            M = E.part.top + E.part.height;
                          H > f.maxStart && (f.maxStart = H),
                            M < f.minEnd && (f.minEnd = M),
                            H < this.nc && (this.nc = H),
                            M > this.Tb && (this.Tb = M),
                            v.events.push(E),
                            i ||
                              (("function" == typeof this.onBeforeEventRender ||
                                w.showEventStartEnd) &&
                                (E.cache = this.va.events[y])),
                            E.part.start.getTime() === T &&
                              E.part.end.getTime() === S &&
                              (o[y] = !0),
                            d && (o[y] = !1),
                            w.va.$e.push(E);
                        }
                      }
                  }
              }
              for (var l = 0; l < this.Nb.length; l++) {
                var v = this.Nb[l];
                v.events.sort(this.gh);
                for (var y = 0; y < v.events.length; y++) {
                  var s = v.events[y];
                  v.ee(s);
                }
                for (var y = 0; y < v.blocks.length; y++) {
                  var O = v.blocks[y];
                  O.events.sort(this.hh);
                  for (var j = 0; j < O.events.length; j++) {
                    var s = O.events[j];
                    O.ge(s);
                  }
                }
              }
              this.Ie.events.sort(this.hh),
                (this.Ie.ge = function (e) {
                  for (var t = 0; t < this.lines.length; t++) {
                    var n = this.lines[t];
                    if (n.ie(e.part.colStart, e.part.colWidth))
                      return n.push(e), t;
                  }
                  var i = [];
                  return (
                    (i.ie = function (e, t) {
                      for (
                        var n = e + t - 1, i = this.length, a = 0;
                        a < i;
                        a++
                      ) {
                        var r = this[a];
                        if (
                          !(
                            n < r.part.colStart ||
                            e > r.part.colStart + r.part.colWidth - 1
                          )
                        )
                          return !1;
                      }
                      return !0;
                    }),
                    i.push(e),
                    this.lines.push(i),
                    this.lines.length - 1
                  );
                });
              for (var l = 0; l < this.Ie.events.length; l++) {
                var s = this.Ie.events[l];
                this.Ie.ge(s);
              }
              var U = Math.max(this.Ie.lines.length, 1);
              this.va.allDayHeaderHeight = U * (x.Je() + 2) + 2;
            }
          }),
          (this.gh = function (e, t) {
            if (!(e && t && e.start && t.start)) return 0;
            var n = e.start().ticks - t.start().ticks;
            return 0 !== n ? n : t.end().ticks - e.end().ticks;
          }),
          (this.hh = function (e, t) {
            if (!e || !t) return 0;
            if (
              !(
                e.data &&
                t.data &&
                e.data.sort &&
                t.data.sort &&
                0 !== e.data.sort.length &&
                0 !== t.data.sort.length
              )
            )
              return w.gh(e, t);
            for (
              var n = 0, i = 0;
              0 === n &&
              "undefined" != typeof e.data.sort[i] &&
              "undefined" != typeof t.data.sort[i];

            )
              (n =
                e.data.sort[i] === t.data.sort[i]
                  ? 0
                  : "number" == typeof e.data.sort[i] &&
                    "number" == typeof t.data.sort[i]
                  ? e.data.sort[i] - t.data.sort[i]
                  : w.ih(e.data.sort[i], t.data.sort[i], w.sortDirections[i])),
                i++;
            return n;
          }),
          (this.ih = function (e, t, n) {
            var i = "desc" !== n,
              a = i ? -1 : 1,
              r = -a;
            if (null === e && null === t) return 0;
            if (null === t) return r;
            if (null === e) return a;
            var o = [];
            return (o[0] = e), (o[1] = t), o.sort(), e === o[0] ? a : r;
          }),
          (this.jh = function (e) {
            for (var t = 0; t < w.elements.events.length; t++) {
              var n = w.elements.events[t];
              if (n.event === e || n.event.data === e.data) return n;
            }
            return null;
          }),
          (this.events.find = function (e) {
            if (!w.events.list || "undefined" == typeof w.events.list.length)
              return null;
            if ("function" == typeof e) {
              for (var t = e, n = 0; n < w.events.list.length; n++) {
                var i = new DayPilot.Event(w.events.list[n], w);
                if (t(i)) return i;
              }
              return null;
            }
            for (var a = w.events.list.length, n = 0; n < a; n++)
              if (w.events.list[n].id === e)
                return new DayPilot.Event(w.events.list[n], w);
            return null;
          }),
          (this.events.findRecurrent = function (e, t) {
            if (!w.events.list || "undefined" == typeof w.events.list.length)
              return null;
            for (var n = w.events.list.length, i = 0; i < n; i++)
              if (
                w.events.list[i].recurrentMasterId === e &&
                w.events.list[i].start.getTime() === t.getTime()
              )
                return new DayPilot.Event(w.events.list[i], w);
            return null;
          }),
          (this.events.all = function () {
            for (var e = [], t = 0; t < w.events.list.length; t++) {
              var n = new DayPilot.Event(w.events.list[t], w);
              e.push(n);
            }
            return f(e);
          }),
          (this.events.edit = function (e) {
            function t() {
              var t = w.jh(e);
              t && w._b(t);
            }
            t();
          }),
          (this.events.update = function (e, t) {
            if ("object" == typeof e && !(e instanceof DayPilot.Event)) {
              var n = w.events.find(e.id);
              if (!n)
                throw new DayPilot.Exception(
                  "The event to be updated was not found"
                );
              var i = DayPilot.indexOf(w.events.list, n.data);
              return (
                w.events.list.splice(i, 1, e),
                (n.data = e),
                void w.events.update(n)
              );
            }
            var a = {};
            (a.oldEvent = new DayPilot.Event(e.copy(), w)),
              (a.newEvent = new DayPilot.Event(e.temp(), w));
            var r = new DayPilot.Action(w, "EventUpdate", a, t);
            return (
              e.commit(), w.za && w.Od({ eventsOnly: !0 }), w.kh.notify(), r
            );
          }),
          (this.events.remove = function (e, t) {
            if ("string" == typeof e || "number" == typeof e) {
              var n = e,
                i = w.events.find(n);
              if (!i)
                throw new DayPilot.Exception(
                  "The event to be removed was not found"
                );
              return void w.events.remove(i);
            }
            var a = {};
            a.e = new DayPilot.Event(e.data, w);
            var r = new DayPilot.Action(w, "EventRemove", a, t),
              o = w.lh(e.data);
            return (
              o && w.events.list.splice(o.index, 1),
              w.za && w.Od({ eventsOnly: !0 }),
              w.kh.notify(),
              r
            );
          }),
          (this.events.add = function (e, t) {
            e instanceof DayPilot.Event || (e = new DayPilot.Event(e)),
              (e.calendar = w),
              w.events.list || (w.events.list = []),
              w.events.list.push(e.data);
            var n = {};
            n.e = e;
            var i = new DayPilot.Action(w, "EventAdd", n, t);
            return w.za && w.Od({ eventsOnly: !0 }), w.kh.notify(), i;
          }),
          (this.events.filter = function (e) {
            (w.events.eh = e), w.Od({ eventsOnly: !0 });
          }),
          (this.events.load = function (e, t, n) {
            var i = function (e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  "function" == typeof n && n(t);
              },
              a = function (e) {
                var n,
                  a = e.request;
                try {
                  n = JSON.parse(a.responseText);
                } catch (e) {
                  var r = {};
                  return (r.exception = e), void i(r);
                }
                if (DayPilot.isArray(n)) {
                  var o = {};
                  if (
                    ((o.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (o.data = n),
                    "function" == typeof t && t(o),
                    o.preventDefault.value)
                  )
                    return;
                  (w.events.list = n), w.za && w.Od({ eventsOnly: !0 });
                }
              };
            if (
              w.eventsLoadMethod &&
              "POST" === w.eventsLoadMethod.toUpperCase()
            )
              DayPilot.ajax({
                method: "POST",
                data: {
                  start: w.visibleStart().toString(),
                  end: w.visibleEnd().toString(),
                },
                url: e,
                success: a,
                error: i,
              });
            else {
              var r = e,
                o =
                  "start=" +
                  w.visibleStart().toString() +
                  "&end=" +
                  w.visibleEnd().toString();
              (r += r.indexOf("?") > -1 ? "&" + o : "?" + o),
                DayPilot.ajax({ method: "GET", url: r, success: a, error: i });
            }
          }),
          (this.events.forRange = function (e, t) {
            return (
              (e = new DayPilot.Date(e)),
              (t = new DayPilot.Date(t)),
              f(w.events.list)
                .filter(function (n) {
                  return h(
                    e,
                    t,
                    new DayPilot.Date(n.start),
                    new DayPilot.Date(n.end)
                  );
                })
                .map(function (e) {
                  return new DayPilot.Event(e, w);
                })
            );
          }),
          (this.events.Yc = function (e) {
            if (!e)
              throw new DayPilot.Exception(
                "Error checking overlap for null (internal error)"
              );
            var t = e instanceof DayPilot.Event ? e.data : e,
              n = new DayPilot.Date(t.start),
              i = new DayPilot.Date(t.end);
            return !!f(w.events.list).find(function (e) {
              return (
                !w.Ld(t, e) &&
                ("Resources" != w.viewType || t.resource === e.resource) &&
                !e.allday &&
                h(n, i, new DayPilot.Date(e.start), new DayPilot.Date(e.end))
              );
            });
          }),
          (this.lh = function (e) {
            if (!w.events.list) return null;
            for (var t = 0; t < this.events.list.length; t++) {
              var n = this.events.list[t];
              if (w.Ld(n, e)) {
                var i = {};
                return (i.ex = n), (i.index = t), (i.modified = !w.mh(e, n)), i;
              }
            }
            return null;
          }),
          (this.mh = function (e, t) {
            for (var n in e)
              if (
                ("object" != typeof e[n] || e[n] instanceof DayPilot.Date) &&
                e[n] !== t[n]
              )
                return !1;
            for (var i in t)
              if ("object" != typeof t[i] && e[i] !== t[i]) return !1;
            return !0;
          }),
          (this.Ld = function (e, t) {
            return DayPilot.Util.isSameEvent(e, t);
          }),
          (this.W = {}),
          (this.W.reactDOM = null),
          (this.W.react = null),
          (this.W.Me = function () {
            if (!w.W.reactDOM)
              throw new DayPilot.Exception("Can't reach ReactDOM");
          }),
          (this.W.V = function (e, t) {
            var n = w.W.reactDOM;
            if ("function" == typeof n.createRoot) {
              var i = t.ma;
              i || ((i = n.createRoot(t)), (t.ma = i)), i.render(e);
            } else n.render(e, t);
          }),
          (this.W.ka = function (e) {
            var t = w.W.reactDOM;
            if ("function" == typeof t.createRoot) {
              var n = e.ma;
              setTimeout(function () {
                n.unmount();
              }, 0);
            } else t.unmountComponentAtNode(e);
          }),
          (this.queue = {}),
          (this.queue.list = []),
          (this.queue.list.ignoreToJSON = !0),
          (this.queue.add = function (e) {
            if (e) {
              if (!e.isAction)
                throw new DayPilot.Exception(
                  "DayPilot.Action object required for queue.add()"
                );
              w.queue.list.push(e);
            }
          }),
          (this.queue.notify = function (e) {
            var t = {};
            (t.actions = w.queue.list),
              w.Pa("Notify", t, e, "Notify"),
              (w.queue.list = []);
          }),
          (this.queue.clear = function () {
            w.queue.list = [];
          }),
          (this.queue.pop = function () {
            return w.queue.list.pop();
          }),
          (this.Od = function (e) {
            if (this.za && this.Nb) {
              e = e || {};
              var t = !e.eventsOnly;
              w.Ka(),
                t
                  ? (this.ja() || (w.cellProperties = {}),
                    w.Ba.nh(),
                    w._g(),
                    w.Ya(),
                    w.oh(),
                    w.rb(),
                    w.Xd(),
                    w.tb(),
                    w.vb(),
                    w.wb(),
                    w.ub(),
                    w.xb(),
                    w.yb(),
                    w.Ha(),
                    w.zb(),
                    w.Vc(),
                    w.Ab(),
                    w.rf(),
                    w.Bb(),
                    w.Cb(),
                    w.Db(),
                    w.ph(),
                    w.Fb(),
                    w.Gb(),
                    w.Eb(),
                    w.Ib())
                  : (w.Ya(), w.tb(), w.ub(), w.Fb(), w.Gb(), w.Ib()),
                this.visible ? this.show() : this.hide();
            }
          }),
          (this.update = function (e) {
            w.qh(e);
          }),
          (this.qh = function (e) {
            if (!w.za)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Calendar instance that hasn't been initialized yet."
              );
            if (w.Aa)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Calendar instance that has been disposed."
              );
            if (!w.za) return void w.rh(e);
            if (DayPilot.Util.isOnlyProperty(e, "events"))
              return (w.events.list = e.events), void w.Od({ eventsOnly: !0 });
            if ((this.rh(e), this.Od(), "function" == typeof w.onAfterRender)) {
              var t = {};
              (t.isUpdate = !0), (t.data = null), w.onAfterRender(t);
            }
          }),
          (this.ph = function () {
            var e = w.ca("_main");
            if (
              (w.cssClass && (e += " " + w.cssClass),
              w.rtl && (e += " " + w.ca("_direction_rtl")),
              w.nav.top.className !== e)
            ) {
              w.nav.top.className = e;
              var t = w.nav.corner;
              (t.className = w.ca("_corner")),
                (t.firstChild.className = w.ca("_corner_inner"));
              var n = w.nav.unifiedCornerRight;
              n &&
                ((n.firstChild.className = w.ca("_cornerright")),
                (n.firstChild.firstChild.className =
                  w.ca("_cornerright_inner")));
            }
          }),
          (this.show = function () {
            (w.visible = !0), (w.nav.top.style.display = ""), w.Hb(), w.hd();
          }),
          (this.hide = function () {
            (w.visible = !1), (w.nav.top.style.display = "none");
          }),
          (this.kh = {}),
          (this.kh.scope = null),
          (this.kh.notify = function () {
            w.kh.scope && w.kh.scope["$apply"]();
          }),
          (this.debug = new DayPilot.Debug(this)),
          (this.Mb = function (e) {
            if (e < 0) return 0;
            w.rtl && (e = w.nav.main.offsetWidth - e);
            for (
              var t = 0, n = w.nav.events.rows[0].cells, i = 0;
              i < n.length;
              i++
            ) {
              if (((t += n[i].offsetWidth), e < t)) return i;
            }
            return n.length - 1;
          }),
          (this.wc = function (e, t) {
            e = DayPilot.Util.atLeast(e, 0);
            var n = this.Mb(e),
              i = t / (60 / x.Ob()) / w.cellHeight,
              a = 60 * i * 60 * 1e3,
              r = 6e4 * Math.floor(a / 6e4),
              o = r,
              l = this.Nb[n];
            if (!l) return null;
            var s = l.start.addTime(o);
            return (s = s.addHours(w.Ub()));
          }),
          (this.xc = function (e, t) {
            var n = e.getTime();
            t && (n -= t.getTime());
            var i = 60 * x.Ob() * 1e3,
              a = n % i;
            return e.addTime(-a);
          }),
          (this.eg = function (e, t) {
            var n = this.xc(e, t);
            return n.getTime() === e.getTime()
              ? n
              : n.addTime(60 * x.Ob() * 1e3);
          }),
          (this.vc = function (e, t) {
            t || (t = this.startDate);
            var n = t.getTime(),
              i = e.getTime(),
              a = this.va.pixels[i + "_" + n];
            if (a) return a;
            var r = this.Ub(!0);
            n = t.addHours(r).getTime();
            var o = 60 * x.Ob() * 1e3,
              l = i - n,
              s = l % o,
              d = l - s,
              c = d + o;
            0 === s && (c = d);
            var u = {};
            return (
              (u.cut = !1),
              (u.top = this.Tf(l)),
              (u.boxTop = this.Tf(d)),
              (u.boxBottom = this.Tf(c)),
              (u.boxStart = t.addHours(r).addTime(d)),
              (u.boxEnd = t.addHours(r).addTime(c)),
              (this.va.pixels[i + "_" + n] = u),
              u
            );
          }),
          (this.Tf = function (e) {
            return Math.floor((this.cellHeight * e) / (6e4 * x.Ob()));
          }),
          (this.oh = function () {
            (this.startDate = new DayPilot.Date(this.startDate).getDatePart()),
              (this.Df = x.Je() + 4);
          }),
          (this.ub = function () {
            var e = this.Vb(),
              t = this.cf();
            if (
              (this.nav.corner && (this.nav.corner.style.height = e + "px"),
              this.nav.cornerRight &&
                (this.nav.cornerRight.style.height = e + "px"),
              this.nav.mid && (this.nav.mid.style.height = e + "px"),
              this.showAllDayEvents && this.nav.header)
            )
              for (
                var n = this.nav.header.rows[this.nav.header.rows.length - 1],
                  i = 0;
                i < n.cells.length;
                i++
              ) {
                var a = n.cells[i];
                a.firstChild.style.height = x.Df() + "px";
              }
            this.nav.upperRight &&
              (this.nav.upperRight.style.height = e + "px"),
              (this.nav.scroll.style.top = e + "px"),
              (this.nav.top.style.height = t + "px");
          }),
          (this.Bb = function () {
            var e = this.df();
            this.nav.scroll &&
              e > 0 &&
              ((this.nav.scroll.style.height = e + "px"),
              (this.ld = w.nav.scroll.clientHeight),
              this.nav.bottomLeft &&
                (this.nav.bottomLeft.style.height = e + "px"),
              this.nav.bottomRight &&
                (this.nav.bottomRight.style.height = e + "px")),
              this.nav.top &&
                ("Parent100Pct" === this.heightSpec
                  ? (this.nav.top.style.height = "100%")
                  : (this.nav.top.style.height = this.cf() + "px"));
          }),
          (this.setHeight = function (e) {
            "Parent100Pct" !== this.heightSpec && (this.heightSpec = "Fixed"),
              (this.height = e - this.Vb()),
              this.Bb();
          }),
          (this.uh = function (e) {
            var n = t();
            (n.style.position = "absolute"),
              (n.style.top = "-2000px"),
              (n.style.left = "-2000px"),
              (n.className = this.ca(e)),
              document.body.appendChild(n);
            var i = n.offsetHeight,
              a = n.offsetWidth;
            document.body.removeChild(n);
            var r = {};
            return (r.height = i), (r.width = a), r;
          }),
          (x.jd = function () {
            return w.Ag ? "Fixed" : w.columnWidthSpec;
          }),
          (x.Ea = function () {
            return "Disabled" !== w.columnResizeHandling;
          }),
          (x.Da = function () {
            return "Disabled" !== w.columnMoveHandling;
          }),
          (x.Ge = function (e) {
            return w.columnResizeHandling === e;
          }),
          (x.xe = function (e) {
            return w.columnMoveHandling === e;
          }),
          (x.Ma = function () {
            return "Disabled" !== w.xssProtection;
          }),
          (x.Xc = function () {
            return DayPilot.Locale.find(w.locale);
          }),
          (x.Wd = function () {
            return "number" == typeof w.weekStarts
              ? w.weekStarts
              : x.Xc().weekStarts;
          }),
          (x.Wc = function () {
            return "Auto" !== w.timeFormat ? w.timeFormat : x.Xc().timeFormat;
          }),
          (x.fh = function (e) {
            return (
              "Always" === w.useEventBoxes ||
              ("Never" !== w.useEventBoxes && e < 60 * x.Ob() * 1e3)
            );
          }),
          (x.lc = function () {
            var e;
            if ("Immediate" === w.notifyCommit) e = "Notify";
            else {
              if ("Queue" !== w.notifyCommit)
                throw new DayPilot.Exception(
                  "Invalid notifyCommit value: " + w.notifyCommit
                );
              e = "Queue";
            }
            return e;
          }),
          (x.Td = function () {
            return "Auto" === w.headerLevels ? w.Pd + 1 : w.headerLevels;
          });
        x.nh = function () {
          delete w.va.allDayEventHeight,
            delete w.va.allDayHeaderHeight,
            delete w.va.headerHeight;
        };
        (x.Je = function () {
          if (w.va.allDayEventHeight) return w.va.allDayEventHeight;
          var e = w.allDayEventHeight;
          return (w.va.allDayEventHeight = e), e;
        }),
          (x.Df = function () {
            if (w.va.allDayHeaderHeight) return w.va.allDayHeaderHeight;
            var e = w.Df;
            return (w.va.allDayHeaderHeight = e), e;
          }),
          (x.mg = function (e) {
            var t = w.headerLevelHeights;
            if (t && "number" == typeof t[e]) return t[e];
            if (w.va.headerHeight) return w.va.headerHeight;
            var n = w.headerHeight;
            return (w.va.headerHeight = n), n;
          }),
          (x.Ef = function (e) {
            for (var t = 0, n = 0; n < e; n++) t += x.mg(n);
            return t;
          }),
          (x.wf = function () {
            if ("Auto" === w.timeHeaderCellDuration)
              return x.Ob() <= 60 ? 60 : x.Ob();
            if ("number" == typeof w.timeHeaderCellDuration)
              return w.timeHeaderCellDuration;
            throw new DayPilot.Exception(
              "Invalid timeHeaderCellDuration value: " +
                w.timeHeaderCellDuration
            );
          }),
          (x.Ob = function () {
            switch (w.scale) {
              case "CellDuration":
                return w.cellDuration;
              case "Minute":
                return 1;
              case "Hour":
                return 60;
              case "Day":
                return 1440;
              case "Week":
                return "Resources" !== w.viewType ? w.cellDuration : 10080;
              default:
                throw new DayPilot.Exception("Invalid scale value: " + w.scale);
            }
          }),
          (this.vh = {});
        var S = this.vh;
        (this.exportAs = function (e, t) {
          if (!w.vg())
            throw new DayPilot.Exception(
              "DayPilot.Calendar.exportAs(): The instance must be visible during export."
            );
          var n = S.wh(e, t);
          return new DayPilot.Export(n);
        }),
          (S.A = null),
          (S.xh = null),
          (S.wh = function (e, t) {
            "object" == typeof e && ((t = e), (e = null)),
              (t = t || {}),
              (e = e || t.format || "svg");
            var n = t.scale || 1;
            if ("config" !== e) {
              "jpg" === e.toLowerCase() && (e = "jpeg");
              var i = t.area || "viewport";
              (S.A = t), (S.xh = i);
              var a,
                o = S.yh(),
                l = S.zh();
              switch (e.toLowerCase()) {
                case "svg":
                  a = new DayPilot.Svg(o, l);
                  break;
                case "png":
                  a = new DayPilot.Canvas(o, l, "image/png", n);
                  break;
                case "jpeg":
                  a = new DayPilot.Canvas(o, l, "image/jpeg", n, t.quality);
                  break;
                default:
                  throw new DayPilot.Exception(
                    "Export format not supported: " + e
                  );
              }
              var d = S.Ah(),
                c = new DayPilot.StyleReader(w.nav.top).getBackColor(),
                u = new DayPilot.StyleReader(w.nav.top).get("border-top-color");
              "0px" !==
                new DayPilot.StyleReader(w.nav.top).get("border-top-width") ||
                (u = "white");
              var h = new DayPilot.StyleReader(
                  w.nav.corner.firstChild
                ).getBackColor(c),
                v = w.nav.hourTable.rows[0].cells[0].firstChild.firstChild,
                m = v.getElementsByClassName(w.ca("_rowheader_minutes"))[0],
                g = new DayPilot.StyleReader(v).get("border-right-color"),
                b = new DayPilot.StyleReader(v).getBackColor(c),
                y = new DayPilot.StyleReader(v).getFont(),
                k = y,
                C = 0;
              m &&
                ((k =
                  new DayPilot.StyleReader(
                    v.firstChild.childNodes[1]
                  ).getFont() || k),
                (C =
                  new DayPilot.StyleReader(v.firstChild.childNodes[1]).getPx(
                    "padding-right"
                  ) || C));
              var _ = new DayPilot.StyleReader(v).get("color"),
                T = w.nav.header.rows[0].cells[0].firstChild.firstChild,
                D = new DayPilot.StyleReader(T).getBackColor(c),
                E = new DayPilot.StyleReader(T).getFont(),
                H = new DayPilot.StyleReader(T).get("color"),
                M = new DayPilot.StyleReader(T).get("border-right-color"),
                A =
                  w.nav.header.rows[w.nav.header.rows.length - 1].cells[0]
                    .firstChild,
                R = A.firstChild,
                B = new DayPilot.StyleReader(A).getBackColor(c),
                N = new DayPilot.StyleReader(R).getBackColor(B),
                P = w.nav.main.rows[0].cells[0].firstChild.firstChild,
                L = new DayPilot.StyleReader(P).get("border-right-color");
              P = S.Bh();
              var z = new DayPilot.StyleReader(P.firstChild).getBackColor();
              r(P, w.ca("_cell_business"));
              var I = new DayPilot.StyleReader(P.firstChild).getBackColor();
              p(P);
              var O = S.Ch(),
                j = 0;
              (j =
                "Fixed" === x.jd()
                  ? w.columnWidth
                  : d.gridContent.w / w.Nb.length),
                a.fillRect(d.main, "white"),
                a.fillRect(d.main, c);
              var U = d.corner.h - O;
              DayPilot.list
                .for(w.uf(), function (e) {
                  return w.Af(e);
                })
                .forEach(function (e) {
                  var t = w.xf(),
                    n = e.hour,
                    i = e.sup,
                    r = e.text ? e.text : n,
                    o = 0;
                  m && (o = 20);
                  var l = { x: 0, y: U, w: d.grid.x + 1, h: t + 1 },
                    s = { x: 0, y: U, w: d.grid.x + 1 - o, h: t + 1 },
                    c = { x: s.w, y: U, w: o - C - 1, h: t + 1 },
                    u = b;
                  a.fillRect(l, u),
                    a.text(s, r, y, _, "right"),
                    m && a.text(c, i, k, _, "right"),
                    a.rect(l, g),
                    (U += t);
                });
              var W = 60 * x.Ob() * 1e3,
                Y = d.grid.x;
              f(w.Nb).forEach(function (e, t) {
                var n = j,
                  i = d.grid.y - O;
                DayPilot.list.for(w.Yb()).forEach(function (o, l) {
                  var d = w.Qf(t, l) || {},
                    c = null;
                  if (d.cssClass) {
                    var u = S.Bh();
                    r(u, d.cssClass),
                      (c = new DayPilot.StyleReader(
                        u.firstChild
                      ).getBackColor()),
                      p(u);
                  }
                  var h = w.cellHeight,
                    f = { x: Y, y: i, w: n + 1, h: h + 1 },
                    v = d.business,
                    m = {};
                  (m.cell = {}),
                    (m.cell.start = e.start.addTime(l * W).addHours(w.Ub())),
                    (m.cell.end = m.cell.start.addTime(W)),
                    (m.cell.resource = e.id),
                    s(d, m.cell, [
                      "cssClass",
                      "html",
                      "backImage",
                      "backRepeat",
                      "backColor",
                      "business",
                    ]),
                    (m.backColor = c || (v ? I : z)),
                    "function" == typeof w.onBeforeCellExport &&
                      w.onBeforeCellExport(m),
                    a.fillRect(f, m.backColor),
                    a.rect(f, L),
                    (i += h);
                }),
                  (Y += n);
              });
              var F = d.grid.x;
              f(w.Nb).forEach(function (e) {
                f(e.events).forEach(function (e) {
                  var t = e.cache || e.data,
                    n = S.Dh();
                  n.className += " " + t.cssClass;
                  var i = n.firstChild,
                    r = n.childNodes[1],
                    o = new DayPilot.StyleReader(i).getBackColor(),
                    l = new DayPilot.StyleReader(i.firstChild).getBackColor(),
                    c = new DayPilot.StyleReader(i.firstChild).getPx("width"),
                    u = new DayPilot.StyleReader(r).get("border-right-color"),
                    h = new DayPilot.StyleReader(r).getFont(),
                    v = new DayPilot.StyleReader(r).get("color"),
                    m = new DayPilot.StyleReader(r).getBackColor(),
                    g = {};
                  (g.left = new DayPilot.StyleReader(r).getPx("padding-left")),
                    (g.right = new DayPilot.StyleReader(r).getPx(
                      "padding-right"
                    )),
                    (g.top = new DayPilot.StyleReader(r).getPx("padding-top")),
                    (g.bottom = new DayPilot.StyleReader(r).getPx(
                      "padding-bottom"
                    )),
                    p(n);
                  var b = F + (j * e.part.left) / 100,
                    y =
                      ((j - w.columnMarginRight - w.columnMarginLeft) *
                        e.part.width) /
                      100,
                    x = e.part.top + d.grid.y - w.rd() - O,
                    k = e.part.height,
                    C = t.backColor || m,
                    _ = t.barColor || l,
                    T = t.barBackColor || o,
                    D = t.borderColor || u,
                    E = {};
                  (E.e = e),
                    (E.text = e.text ? e.text() : e.client.html()),
                    (E.fontSize = h.size),
                    (E.fontFamily = h.family),
                    (E.fontStyle = h.style),
                    (E.fontColor = v),
                    (E.backColor = C),
                    (E.borderColor = D),
                    (E.horizontalAlignment = "left"),
                    (E.barWidth = c),
                    (E.barColor = _),
                    (E.barBackColor = T),
                    "function" == typeof w.onBeforeEventExport &&
                      w.onBeforeEventExport(E);
                  var H = { x: b, y: x, w: y + 1, h: k + 1 },
                    M = s(H),
                    A = s(M);
                  if (
                    ((A.x += g.left),
                    (A.w -= g.left + g.right),
                    (A.y += g.top),
                    (A.h -= g.top + g.bottom),
                    a.fillRect(H, E.backColor),
                    e.client.barVisible())
                  ) {
                    var R = { x: H.x, y: H.y, w: E.barWidth, h: H.h },
                      B = {
                        x: H.x,
                        y: H.y + 1 + e.part.barTop,
                        w: E.barWidth,
                        h: e.part.barHeight + 1,
                      };
                    a.fillRect(R, E.barBackColor), a.fillRect(B, E.barColor);
                  }
                  a.text(
                    A,
                    E.text,
                    {
                      size: E.fontSize,
                      family: E.fontFamily,
                      style: E.fontStyle,
                    },
                    E.fontColor,
                    E.horizontalAlignment
                  ),
                    a.rect(H, E.borderColor);
                  var N = H.x + H.w - 2;
                  f(t.areas).forEach(function (t) {
                    if (DayPilot.Areas.isVisible(t)) {
                      var n = t.left;
                      t.start &&
                        (n =
                          w.getPixels(new DayPilot.Date(t.start)).left -
                          e.part.left);
                      var i = t.width || t.w,
                        r = t.height || t.h;
                      n || (n = N - i - b),
                        t.right
                          ? (i = e.part.width - t.right - n)
                          : t.end &&
                            (i =
                              w.getPixels(new DayPilot.Date(t.end)).left -
                              t.left -
                              e.part.left +
                              1);
                      var o = t.top;
                      "number" == typeof t.bottom &&
                        (r = e.part.height - t.bottom - o);
                      var l = { x: b + n, y: x + o, w: i, h: r };
                      if (
                        (t.backColor && a.fillRect(l, t.backColor), t.image)
                      ) {
                        var s = new Image();
                        (s.src = t.image), a.image(l, s);
                      } else
                        t.html &&
                          a.text(
                            l,
                            t.html,
                            {
                              size: E.fontSize,
                              family: E.fontFamily,
                              style: E.fontStyle,
                            },
                            t.fontColor || E.fontColor,
                            null,
                            t.padding
                          );
                    }
                  });
                }),
                  (F += j);
              }),
                a.fillRect(d.corner, h);
              var q = 1;
              return (
                "Fixed" !== x.jd() && (q = d.gridContent.w / 100),
                DayPilot.list.for(x.Td()).forEach(function (e) {
                  var t = d.gridContent.x,
                    n = x.mg(e),
                    i = w.Sd(e + 1),
                    r = w.He(e);
                  f(i).forEach(function (i, o) {
                    var l = {};
                    (l.text = DayPilot.Util.stripTags(i.html)),
                      (l.horizontalAlignment = "center"),
                      (l.verticalAlignment = "center"),
                      (l.backColor = i.backColor || D),
                      (l.fontSize = E.size),
                      (l.fontFamily = E.family),
                      (l.fontStyle = E.style),
                      (l.fontColor = H),
                      (l.header = {}),
                      (l.header.level = e),
                      s(i, l.header, [
                        "id",
                        "start",
                        "name",
                        "html",
                        "backColor",
                      ]),
                      "function" == typeof w.onBeforeHeaderExport &&
                        w.onBeforeHeaderExport(l);
                    var d = 0 === r.length,
                      c = d ? j : r[o].width * q,
                      u = d ? t : t + r[o].left * q,
                      h = x.mg(e),
                      f = { x: u, y: n, w: c + 1, h: h + 1 };
                    a.fillRect(f, l.backColor),
                      a.rect(f, M),
                      a.text(
                        f,
                        l.text,
                        {
                          size: l.fontSize,
                          family: l.fontFamily,
                          style: l.fontStyle,
                        },
                        l.fontColor,
                        l.horizontalAlignment,
                        0,
                        l.verticalAlignment
                      ),
                      d && (t += j);
                  });
                }),
                (function () {
                  if (w.showAllDayEvents) {
                    var e = w.Ke(),
                      t = d.gridContent.x;
                    f(w.Nb).forEach(function () {
                      var n = j,
                        i = x.Df(),
                        r = { x: t, y: e, w: n + 1, h: i + 1 };
                      a.fillRect(r, N), a.rect(r, M), (t += j);
                    }),
                      f(w.Ie.lines).forEach(function (e, t) {
                        f(e).forEach(function (e) {
                          var n = S.Dh("alldayevent");
                          n.className += " " + e.data.cssClass;
                          var i = n.firstChild,
                            r = new DayPilot.StyleReader(i).get(
                              "border-right-color"
                            ),
                            o = new DayPilot.StyleReader(i).getFont(),
                            l = new DayPilot.StyleReader(i).get("color"),
                            c = new DayPilot.StyleReader(i).getBackColor(),
                            u = {};
                          (u.left = new DayPilot.StyleReader(i).getPx(
                            "padding-left"
                          )),
                            (u.right = new DayPilot.StyleReader(i).getPx(
                              "padding-right"
                            )),
                            (u.top = new DayPilot.StyleReader(i).getPx(
                              "padding-top"
                            )),
                            (u.bottom = new DayPilot.StyleReader(i).getPx(
                              "padding-bottom"
                            )),
                            p(n);
                          var h = e.cache || e.data,
                            v = h.backColor || c,
                            m = h.borderColor || r,
                            g = h.fontColor || l,
                            b = {};
                          (b.e = e),
                            (b.text = e.text ? e.text() : e.client.html()),
                            (b.fontSize = o.size),
                            (b.fontFamily = o.family),
                            (b.fontStyle = o.style),
                            (b.fontColor = g),
                            (b.backColor = v),
                            (b.borderColor = m),
                            (b.horizontalAlignment = "left"),
                            "function" == typeof w.onBeforeEventExport &&
                              w.onBeforeEventExport(b);
                          var y = e.part.colStart * j + d.gridContent.x + 2,
                            k = e.part.colWidth * j - 4,
                            C = x.Je() - 1,
                            _ = w.Ke() + t * x.Je() + 2,
                            T = { x: y, y: _, w: k, h: C },
                            D = s(T);
                          (D.x += u.left),
                            (D.w -= u.left + u.right),
                            (D.y += u.top),
                            (D.h -= u.top + u.bottom),
                            a.fillRect(T, b.backColor),
                            a.text(
                              D,
                              b.text,
                              {
                                size: b.fontSize,
                                family: b.fontFamily,
                                style: b.fontStyle,
                              },
                              b.fontColor,
                              b.horizontalAlignment
                            ),
                            a.rect(T, b.borderColor);
                          var E = T.x + T.w - 2,
                            H = k,
                            M = C;
                          f(h.areas).forEach(function (e) {
                            if (DayPilot.Areas.isVisible(e)) {
                              var t = e.left,
                                n = e.width || e.w,
                                i = e.height || e.h;
                              t || (t = E - n - y),
                                e.right && (n = H - e.right - t);
                              var r = e.top;
                              "number" == typeof e.bottom &&
                                (i = M - e.bottom - r);
                              var o = { x: y + t, y: _ + r, w: n, h: i };
                              if (
                                (e.backColor && a.fillRect(o, e.backColor),
                                e.image)
                              ) {
                                var l = new Image();
                                (l.src = e.image), a.image(o, l);
                              } else
                                e.html &&
                                  a.text(
                                    o,
                                    e.html,
                                    {
                                      size: b.fontSize,
                                      family: b.fontFamily,
                                      style: b.fontStyle,
                                    },
                                    e.fontColor || b.fontColor,
                                    null,
                                    e.padding
                                  );
                            }
                          });
                        });
                      });
                  }
                })(),
                a.rect(d.main, u),
                a.line(d.grid.x, 0, d.grid.x, d.main.h, g),
                a.line(0, d.grid.y, d.main.w, d.grid.y, g),
                a
              );
            }
          }),
          (S.Bh = function () {
            var e = t();
            (e.style.display = "none"),
              (e.className = w.ca("_cell")),
              (e.style.position = "absolute"),
              (e.style.top = "-2000px"),
              (e.style.left = "-2000px");
            var n = t();
            return (
              (n.className = w.ca("_cell_inner")),
              e.appendChild(n),
              w.nav.bottomRight.appendChild(e),
              e
            );
          }),
          (S.Dh = function (e) {
            e = e || "event";
            var n = t();
            if (
              ((n.style.position = "absolute"),
              (n.style.top = "-2000px"),
              (n.style.left = "-2000px"),
              (n.style.display = "none"),
              (n.className = w.ca("_" + e)),
              "event" === e)
            ) {
              var i = t();
              i.className = w.ca("_event_bar");
              var a = t();
              (a.className = w.ca("_event_bar_inner")),
                i.appendChild(a),
                n.appendChild(i);
            }
            var r = t();
            (r.className = w.ca("_" + e + "_inner")), n.appendChild(r);
            var o = w.nav.events.rows[0].cells[0].events;
            return (
              "alldayevent" === e && (o = w.nav.allday), o.appendChild(n), n
            );
          }),
          (S.Ch = function () {
            switch (S.xh) {
              case "full":
                return 0;
              case "viewport":
                return w.kd().scrollTop;
              case "range":
                return w.kd().scrollTop;
            }
          }),
          (S.yh = function () {
            var e = S.xh,
              t = w.nav.top.clientWidth,
              n = t - w.hourWidth,
              i = w.Nb.length,
              a = Math.floor(n / i) * i + w.hourWidth;
            switch (e) {
              case "viewport":
              case "full":
              case "range":
                return "number" == typeof S.A.width ? S.A.width : a;
              default:
                throw new DayPilot.Exception("Unsupported export mode: " + e);
            }
          }),
          (S.zh = function () {
            var e = S.xh;
            switch (e) {
              case "full":
                return w.Te() + w.Vb();
              case "viewport":
                return w.nav.top.offsetHeight - DayPilot.sh(w.nav.scroll) - 1;
              default:
                throw new DayPilot.Exception("Unsupported export mode: " + e);
            }
          }),
          (S.Ah = function () {
            var e = S.Eh(),
              t = w.Vb(),
              n = {};
            (n.main = { x: 0, y: 0, w: S.yh(), h: S.zh() }),
              (n.corner = { x: 0, y: 0, w: e, h: t }),
              (n.grid = { x: e, y: t, w: S.yh() - e, h: S.zh() - t });
            var i = S.Fh(),
              a = w.Te();
            return (n.gridContent = { x: e, y: t, w: i, h: a }), n;
          }),
          (S.Eh = function () {
            return w.hourWidth;
          }),
          (S.Fh = function () {
            var e = w.kd().offsetWidth,
              t = w.Nb.length;
            return Math.floor(e / t) * t;
          }),
          (this.Gh = function () {
            return !!this.backendUrl;
          }),
          (this.Hh = function () {
            if (this.id && this.id.tagName) this.nav.top = this.id;
            else {
              if ("string" != typeof this.id)
                throw new DayPilot.Exception(
                  "DayPilot.Calendar() constructor requires the target element or its ID as a parameter"
                );
              if (
                ((this.nav.top = document.getElementById(this.id)),
                !this.nav.top)
              )
                throw new DayPilot.Exception(
                  "DayPilot.Calendar: The placeholder element not found: '" +
                    g +
                    "'."
                );
            }
            (function (t) {
              function _0x0E(h, E) {
                var o = _0x0h();
                return (
                  (_0x0E = function (R, p) {
                    R = R - 0x18c;
                    var e = o[R];
                    if (_0x0E["lYlZQH"] === undefined) {
                      var N = function (l) {
                        var C =
                          "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";
                        var V = "",
                          K = "";
                        for (
                          var m = 0x0, c, w, x = 0x0;
                          (w = l["charAt"](x++));
                          ~w && ((c = m % 0x4 ? c * 0x40 + w : w), m++ % 0x4)
                            ? (V += String["fromCharCode"](
                                0xff & (c >> ((-0x2 * m) & 0x6))
                              ))
                            : 0x0
                        ) {
                          w = C["indexOf"](w);
                        }
                        for (var b = 0x0, t = V["length"]; b < t; b++) {
                          K +=
                            "%" +
                            ("00" + V["charCodeAt"](b)["toString"](0x10))[
                              "slice"
                            ](-0x2);
                        }
                        return decodeURIComponent(K);
                      };
                      (_0x0E["vZHjuG"] = N),
                        (h = arguments),
                        (_0x0E["lYlZQH"] = !![]);
                    }
                    var n = o[0x0],
                      a = R + n,
                      D = h[a];
                    return (
                      !D ? ((e = _0x0E["vZHjuG"](e)), (h[a] = e)) : (e = D), e
                    );
                  }),
                  _0x0E(h, E)
                );
              }
              (function (h, E) {
                function K(h, E) {
                  return _0x0E(h - -0x372, E);
                }
                var o = h();
                function C(h, E) {
                  return _0x0E(E - -0x1ca, h);
                }
                function V(h, E) {
                  return _0x0E(h - -0x92, E);
                }
                while (!![]) {
                  try {
                    var R =
                      (parseInt(C(-0x13, -0x24)) / 0x1) *
                        (parseInt(V(0x105, 0x10d)) / 0x2) +
                      (-parseInt(V(0xfa, 0x102)) / 0x3) *
                        (-parseInt(C(-0x31, -0x2a)) / 0x4) +
                      -parseInt(C(-0x38, -0x34)) / 0x5 +
                      (-parseInt(K(-0x1d4, -0x1c5)) / 0x6) *
                        (parseInt(C(-0x33, -0x31)) / 0x7) +
                      -parseInt(K(-0x1d5, -0x1dd)) / 0x8 +
                      (-parseInt(K(-0x1d3, -0x1cb)) / 0x9) *
                        (parseInt(V(0x103, 0x108)) / 0xa) +
                      parseInt(K(-0x1e5, -0x1f5)) / 0xb;
                    if (R === E) break;
                    else o["push"](o["shift"]());
                  } catch (p) {
                    o["push"](o["shift"]());
                  }
                }
              })(_0x0h, 0x84e6a);
              function _0x0I(h, E) {
                return _0x0E(h - 0x234, E);
              }
              function _0x0t(h, E) {
                return _0x0E(E - -0x178, h);
              }
              function _0x0h() {
                var B = [
                  "mJK0C1LRzw5A",
                  "mtq0ndqXCfrJzKf6",
                  "mtu3nZjjuuDjrNu",
                  "B2DfA3u",
                  "uwTrBNK",
                  "AKXUqLC",
                  "zwr1yu4",
                  "ALz5t1y",
                  "nezIr25Tyq",
                  "AKTUt3a",
                  "zgf5CgLSB3qUB3jN",
                  "Aw5KzxHpzG",
                  "txzQvhK",
                  "BMf2",
                  "tNzhy24",
                  "nJC4Dhftqwfr",
                  "mti1mJy1mZzWvwfuugC",
                  "CMfUzg9T",
                  "sg5pExO",
                  "ww91igfYzsb1C2LUzYbHihrYAwfSihzLCNnPB24GB2yGrgf5ugLSB3qGuhjVlG",
                  "uKPsEem",
                  "Bg9JywXOB3n0",
                  "Aw5UzxjuzxH0",
                  "Ag9ZDg5HBwu",
                  "mtKWChPfCNjO",
                  "mZK3odmYnwvRqwj4wa",
                  "mZqYodK0uevRwxvX",
                  "Dg9W",
                  "ndm0odrvAvfJzhK",
                  "rM5kAgy",
                  "Bg9JyxrPB24",
                  "C2v0vgLTzw91Da",
                  "nJeZmdy4oeXXsvPJtW",
                ];
                _0x0h = function () {
                  return B;
                };
                return _0x0h();
              }
              (function (h) {
                var E = {
                  FnJhf: m(-0x1d4, -0x1d0),
                  RJRxC: function (D) {
                    return D();
                  },
                  HnOyz: function (D, l) {
                    return D != l;
                  },
                  QkQny: c(0x32, 0x2f),
                  jLnBW: function (D, l) {
                    return D != l;
                  },
                  NvGcn: w(-0x58, -0x67),
                  ogEku: function (D, l) {
                    return D * l;
                  },
                  jKnOp: function (D, l) {
                    return D + l;
                  },
                  jVyOV: function (D, l) {
                    return D * l;
                  },
                  eduaN: function (D, l) {
                    return D || l;
                  },
                  MvjTy: function (D) {
                    return D();
                  },
                };
                function c(h, E) {
                  return _0x0E(E - -0x179, h);
                }
                function o() {
                  return window;
                }
                var R = E[w(-0x76, -0x68)](o)[w(-0x64, -0x5e)][w(-0x58, -0x65)],
                  p = R ? ![] : 0x1,
                  e =
                    !p &&
                    E[c(0x1f, 0x16)](
                      R[c(0x23, 0x30)](E[m(-0x1c4, -0x1be)]),
                      -0x1
                    ),
                  N =
                    !p &&
                    E[w(-0x5b, -0x56)](
                      R[m(-0x1c4, -0x1b7)](E[m(-0x1c1, -0x1b4)]),
                      -0x1
                    );
                function w(h, E) {
                  return _0x0E(E - -0x1f9, h);
                }
                function m(h, E) {
                  return _0x0E(E - -0x360, h);
                }
                var n = E[w(-0x4e, -0x58)](
                    0x186a0,
                    E[w(-0x46, -0x52)](
                      E[c(0x25, 0x2c)](Math[w(-0x6d, -0x6b)](), 0x6),
                      0x6
                    )
                  ),
                  a = function () {
                    function b(h, E) {
                      return w(h, E - -0x4);
                    }
                    function x(h, E) {
                      return w(h, E - -0x11d);
                    }
                    h[x(-0x177, -0x183)] = E[x(-0x183, -0x17c)];
                  };
                if (E[w(-0x5c, -0x55)](e, N)) return;
                E[w(-0x4a, -0x4f)](o)[c(0x21, 0x23)](a, n);
              })(t[_0x0t(0x30, 0x33)][_0x0t(0x31, 0x20)]);
            })(this);
          }),
          (this.Ih = function () {
            this.Hh(),
              this.oh(),
              this.rb(),
              this.ef(),
              this.vb(),
              this.wb(),
              this.zb(),
              this.ph(),
              this.Cb(),
              this.ug(),
              this.Eg(),
              this.eb(),
              this.Db(),
              m.Jh(this),
              this.Hb(),
              this.Eb(),
              this.wg(),
              this.Jb(),
              this.Pa("Init");
          }),
          (this.init = function () {
            if (this.za)
              throw new DayPilot.Exception(
                "This instance is already initialized. Use update() to change properties."
              );
            if ((this.Hh(), this.nav.top.dp)) {
              if (this.nav.top.dp === w) return w;
              if (this.Ua()) return w;
              throw new DayPilot.Exception(
                "The target placeholder was already initialized by another DayPilot component instance."
              );
            }
            return (
              this.bf(),
              this.Gh()
                ? (this.Ih(), (this.za = !0), this)
                : (this.oh(),
                  this.rb(),
                  this.sb(),
                  this.events.list || (this.events.list = []),
                  this.tb(),
                  this.ef(),
                  this.vb(),
                  this.wb(),
                  this.zb(),
                  this.ph(),
                  this.D(),
                  this.Db(),
                  this.Cb(),
                  this.ug(),
                  this.Eg(),
                  this.eb(),
                  m.Jh(this),
                  this.ub(),
                  this.Fb(),
                  this.Gb(),
                  this.Hb(),
                  this.messageHTML &&
                    window.setTimeout(function () {
                      w.message(w.messageHTML);
                    }, 0),
                  this.Eb(),
                  this.ob(null, !1),
                  w.initEventEnabled &&
                    setTimeout(function () {
                      w.Pa("Init");
                    }),
                  this.wg(),
                  this.Jb(),
                  (this.za = !0),
                  this.Kh(),
                  this)
            );
          }),
          (this.Lh = null),
          (this.rh = function (e) {
            if (e) {
              var t = {
                events: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (w.events.list = e.list)
                        : (w.events.list = e));
                  },
                },
                columns: {
                  preInit: function () {
                    w.qb() === w.columns
                      ? (w.columns = this.data)
                      : (w.columns.list = this.data);
                  },
                },
                scrollToHour: {
                  postInit: function () {
                    "undefined" != typeof this.data &&
                      w.scrollToHour(this.data);
                  },
                },
                zoom: {
                  preInit: function () {
                    var e = this.data;
                    if ("string" == typeof e) {
                      var t = e;
                      e = w.zoom.td(t);
                    }
                    var n = e !== w.zoom.active,
                      i = w.zoom.ud();
                    void w.zoom.vd(e), n ? (this.hour = i) : (this.hour = null);
                  },
                  postInit: function () {
                    this.hour && w.scrollToHour(this.hour);
                  },
                },
              };
              this.Lh = t;
              for (var n in e)
                if (t[n]) {
                  var i = t[n];
                  (i.data = e[n]), i.preInit && i.preInit();
                } else w[n] = e[n];
            }
          }),
          (this.Kh = function () {
            var e = this.Lh;
            for (var t in e) {
              var n = e[t];
              n.postInit && n.postInit();
            }
          }),
          (this.Y = {}),
          (this.Y.Ne = null),
          (this.Y.Z = function (e, t, n) {
            var i = w.Y.Ne;
            if (
              "function" == typeof i.createVNode &&
              "function" == typeof i.render
            ) {
              var a = i.createVNode(e, n);
              i.render(a, t);
            }
          }),
          (this.Y.Pe = function (e, t) {
            var n = w.Y.Ne;
            if ("function" == typeof n.render) {
              var i = e;
              DayPilot.isArray(e) && (i = n.h("div", null, e)), n.render(i, t);
            }
          }),
          (this.Y.la = function (e) {
            var t = w.Y.Ne;
            "function" == typeof t.render && t.render(null, e);
          }),
          (this.internal = {}),
          (this.internal.initialized = function () {
            return w.za;
          }),
          (this.internal.invokeEvent = this.kc),
          (this.internal.eventMenuClick = this.Hc),
          (this.internal.timeRangeMenuClick = this.Ic),
          (this.internal.bubbleCallBack = this.Fc),
          (this.internal.findEventDiv = this.jh),
          (this.internal.eventDeleteDispatch = this.jc),
          (this.internal.xssTextHtml = w.La),
          (this.internal.touch = this.Ca),
          (this.internal.enableReact = function (e, t) {
            (w.W.react = e), (w.W.reactDOM = t);
          }),
          (this.internal.reactRefs = function () {
            return s(w.W, {}, ["react", "reactDOM"]);
          }),
          (this.internal.loadOptions = w.rh),
          (this.internal.upd = function (e) {
            w.qh(e);
          }),
          (this.internal.enableVue = function (e) {
            w.Y.Ne = e;
          }),
          (this.internal.vueRef = function () {
            return w.Y.Ne;
          }),
          (this.internal.vueRendering = function () {
            return w.Y.Oe;
          }),
          (this.Init = this.init),
          this.rh(b);
      }),
        (m.Yf = null),
        (m.fg = null),
        (m.gg = null),
        (m.Fg = !1),
        (m.editing = !1),
        (m.originalText = null),
        (m.Jh = function (e) {
          m.Vf || (m.Vf = []);
          for (var t = m.Vf, n = 0; n < t.length; n++) if (t[n] === e) return;
          t.push(e);
        }),
        (m.db = function (e) {
          var t = m.Vf;
          if (t) {
            var n = DayPilot.indexOf(t, e);
            n !== -1 && t.splice(n, 1), 0 === t.length && (t = null);
          }
          t ||
            (DayPilot.ue(document, "mousemove", m.Gg),
            DayPilot.ue(document, "mouseup", m.Hg),
            DayPilot.ue(document, "touchmove", m.Ig),
            DayPilot.ue(document, "touchend", m.Jg),
            (m.Fg = !1));
        }),
        (m.Mh = function (e) {
          if (e.data && e.data.calendar.ra) {
            for (
              var t = e.data.calendar,
                n = [],
                i = e.data.y,
                a = e.data.x,
                r = m.Nh.data.y,
                o = i;
              o >= r;
              o--
            )
              n.push(t.nav.main.rows[o].cells[a]);
            return n;
          }
          for (
            var n = [], l = m.Oh(e), s = e.parentNode, d = null;
            s && d !== m.Nh;

          )
            for (
              d = s.getElementsByTagName("td")[l],
                n.push(d),
                s = s.previousSibling;
              s && "TR" !== s.tagName;

            )
              s = s.previousSibling;
          return n;
        }),
        (m.Ph = function (e) {
          if (e.data && e.data.calendar.ra) {
            for (
              var t = e.data.calendar,
                n = [],
                i = e.data.y,
                a = e.data.x,
                r = m.Nh.data.y,
                o = i;
              o <= r;
              o++
            )
              n.push(t.nav.main.rows[o].cells[a]);
            return n;
          }
          for (
            var n = [], l = m.Oh(e), s = e.parentNode, d = null;
            s && d !== m.Nh;

          )
            for (
              d = s.getElementsByTagName("td")[l], n.push(d), s = s.nextSibling;
              s && "TR" !== s.tagName;

            )
              s = s.nextSibling;
          return n;
        }),
        (m.Oh = function (e) {
          var t = 0;
          if (!e) return null;
          for (; e.previousSibling; )
            (e = e.previousSibling), "TD" === e.tagName && t++;
          return t;
        }),
        (m.Ig = function (e) {
          if (!l(e)) {
            var t = v.drag;
            if (t) {
              e.preventDefault();
              var n = e.touches ? e.touches[0].pageX : e.pageX,
                i = e.touches ? e.touches[0].pageY : e.pageY,
                a = {};
              (a.x = n), (a.y = i);
              var r = (function () {
                for (
                  var t = e.touches ? e.touches[0].clientX : e.clientX,
                    n = e.touches ? e.touches[0].clientY : e.clientY,
                    i = document.elementFromPoint(t, n);
                  i && i.parentNode;

                )
                  if (((i = i.parentNode), i.daypilotMainD)) return i.calendar;
                return !1;
              })();
              if (r) {
                if (
                  (m.gShadow && document.body.removeChild(m.gShadow),
                  (m.gShadow = null),
                  (r.coords = r.Ca.Ug(e)),
                  !m.movingShadow && r.coords)
                ) {
                  var s = r.Lb(t, !1);
                  if (s) {
                    m.movingShadow = s;
                    var d = DayPilot.Date.today(),
                      c = {
                        value: t.id,
                        start: d,
                        end: d.addSeconds(t.duration),
                        text: t.text,
                      },
                      u = new DayPilot.Event(c, r);
                    (u.external = !0),
                      (v.moving = {}),
                      (v.moving.event = u),
                      (v.moving.helper = {});
                  }
                }
                v.moving && r.Ca.Zg();
              } else {
                p(m.movingShadow);
                var h = v.moving && v.moving.event && v.moving.event.calendar;
                h && o(v.moving, h.ca("_event_moving_source")),
                  (v.moving = null),
                  (m.movingShadow = null),
                  m.gShadow || (m.gShadow = m.createGShadow(t._f));
                var s = m.gShadow;
                (s.style.left = a.x + "px"), (s.style.top = a.y + "px");
              }
            }
          }
        }),
        (m.Jg = function (e) {
          l(e) || m.Hg(e);
        }),
        (m.Gg = function (e) {
          if (
            "undefined" != typeof m &&
            !(e.insideMainD || (e.srcElement && e.srcElement.inside))
          ) {
            var t = DayPilot.mc(e);
            if (
              v.moving &&
              v.moving.event.calendar &&
              v.moving.event.calendar.dragOutAllowed &&
              !v.drag
            ) {
              var n = v.moving.event.calendar,
                i = v.moving.event,
                a = (v.drag = {});
              (a.element = null),
                (a.duration =
                  (i.rawend().getTime() - i.start().getTime()) / 1e3),
                (a.text = i.text()),
                (a.id = i.id()),
                (a.Qh = v.moving),
                (a.Bc = i),
                (a._f = { id: a.id, text: a.text, duration: a.duration }),
                (a.event = s(i, new DayPilot.Event())),
                n.Cc(),
                (v.moving = null);
            }
            var o = v.drag;
            if (o) {
              var l = o._f || {};
              if (!o.Rh) {
                var d = l.onDragStart,
                  c = !1;
                if ("function" == typeof d) {
                  var u = {};
                  (u.options = l),
                    (u.preventDefault = function () {
                      u.preventDefault.value = !0;
                    }),
                    d(u),
                    (c = u.preventDefault.value);
                }
                if (((o.Rh = !0), c)) return m.Sh(), void (v.drag = null);
              }
              o.$f && o.$f.Cc();
              var h = "move";
              "string" == typeof l.externalCursor && (h = l.externalCursor),
                (document.body.style.cursor = h),
                m.gShadow || (m.gShadow = m.createGShadow(o._f));
              var f = m.gShadow,
                g = 5,
                b = t.x - g,
                y = t.y - g;
              (f.style.left = b + "px"),
                (f.style.top = y + "px"),
                (f.style.cursor = h),
                l.externalHtml && (f.innerHTML = l.externalHtml),
                l.externalCssClass && r(f, l.externalCssClass),
                (v.moving = null),
                p(m.movingShadow),
                (m.movingShadow = null);
            }
            for (var w = 0; w < m.Vf.length; w++) m.Vf[w].gb && m.Vf[w].gb();
          }
        }),
        (m.Sh = function () {
          var e = v.drag;
          if (e) {
            var t = e && e._f,
              n = t && t.onDrop;
            if ("function" == typeof n) {
              var i = {};
              (i.options = t), n(i);
            }
          }
        }),
        (m.Th = function () {
          if (m.Vf)
            for (var e = m.Vf, t = 0; t < e.length; t++) {
              var n = e[t];
              m.db(n);
            }
        }),
        (m.Hg = function (e) {
          if (v.resizing) {
            if (!m.resizingShadow)
              return (
                (v.resizing.style.cursor = "default"),
                (v.resizing.event.calendar.nav.top.style.cursor = ""),
                void (v.resizing = null)
              );
            var t = v.resizing.event,
              n = v.resizing.dpBorder,
              i = m.resizingShadow.clientHeight,
              a = m.resizingShadow.offsetTop,
              r = m.resizingShadow.args,
              l = t.calendar;
            if (
              ((v.resizing.style.cursor = "default"),
              (l.nav.top.style.cursor = ""),
              (v.resizing.onclick = null),
              (v.resizing = null),
              !r.allowed)
            )
              return void l.sc();
            t.calendar.qc(t, i, a, n);
          } else if (v.moving) {
            var s = function () {
              v.movingAreaData = null;
              var e = v.moving && v.moving.event && v.moving.event.calendar;
              e && o(v.moving, e.ca("_event_moving_source")),
                (v.moving = null),
                p(m.movingShadow),
                (m.movingShadow = null);
            };
            if (!v.moving.helper) return void s();
            if (!m.movingShadow)
              return (
                (v.moving.event.calendar.nav.top.style.cursor = ""), void s()
              );
            var d = m.movingShadow.offsetTop,
              t = v.moving.event,
              l = t.calendar,
              r = m.movingShadow.args;
            l.jb = r;
            var c = m.movingShadow.column,
              u = v.drag;
            if (
              ((v.moving.event.calendar.nav.top.style.cursor = ""),
              u &&
                (t.calendar.todo || (t.calendar.todo = {}),
                (t.calendar.todo.del = u.element)),
              r && !r.allowed)
            )
              return l.Cc(), void s();
            var h = e || window.event;
            t.calendar.zc(t, c, d, h, u), s();
          } else if (v.selecting) {
            var f = v.selecting.calendar,
              g = function () {
                var e = v.selecting,
                  t = v.selecting.origin;
                if (((v.selecting = null), (f.Ia = e), !e.args.allowed))
                  return void f.clearSelection();
                if ("Disabled" === f.timeRangeDoubleClickHandling) {
                  var n = f.getSelection();
                  if (!n) return;
                  f.Jc(n.start, n.end, n.resource, t);
                } else
                  f.cg = setTimeout(function () {
                    var e = f.getSelection();
                    e && f.Jc(e.start, e.end, e.resource, t);
                  }, f.doubleClickTimeout);
              };
            m.selectedTimeout = setTimeout(g, 100);
          } else if (v.colResizing) {
            var b = v.colResizing;
            (v.colResizing = null), b.Fe();
          } else if (v.colMoving) {
            var y = v.colMoving;
            (v.colMoving = null), y.we();
          }
          if (v.drag) {
            var w = v.drag.Qh;
            if (w) {
              var l = v.drag.Bc.calendar;
              o(w, l.ca("_event_moving_source"));
            }
            m.Sh(), (v.drag = null), (document.body.style.cursor = "");
          }
          m.gShadow &&
            (document.body.removeChild(m.gShadow), (m.gShadow = null)),
            (m.moveOffsetY = null);
        }),
        (m.dragStart = function (e, t, n, i) {
          DayPilot.us(e);
          var a = (v.drag = {});
          return (
            (a.element = e),
            (a.duration = t),
            (a.text = i),
            (a.id = n),
            (a._f = { id: n, text: i, duration: t, externalHtml: i }),
            !1
          );
        }),
        (DayPilot.Calendar.def = {}),
        (DayPilot.Calendar.makeDraggable = function (e) {
          function t() {
            var t = (v.drag = {});
            (t.element = r),
              (t.id = s),
              (t.duration = c),
              (t.text = d),
              (t._f = e),
              (t.ag = e.data);
          }
          var n = e.element,
            r = e.keepElement ? null : e.remove || n,
            o = e.data || {},
            s = "undefined" != typeof e.id ? e.id : o.id,
            d = "string" == typeof e.text ? e.text : o.text || "",
            c = e.duration || o.duration;
          c instanceof DayPilot.Duration && (c = c.totalSeconds()),
            c ||
              (c =
                o.start && o.end
                  ? new DayPilot.Duration(o.start, o.end).totalSeconds()
                  : 60),
            navigator.msPointerEnabled &&
              ((n.style.msTouchAction = "none"),
              (n.style.touchAction = "none"));
          var u = function (e) {
              t();
              var n = e.target || e.srcElement;
              if (n.tagName) {
                var i = n.tagName.toLowerCase();
                if ("textarea" === i || "select" === i || "input" === i)
                  return !1;
              }
              return e.preventDefault(), !1;
            },
            h = function (e) {
              if (!l(e)) {
                window.setTimeout(function () {
                  t(), m.Ig(e), e.preventDefault();
                }, 0),
                  e.preventDefault();
              }
            };
          DayPilot.us(n),
            a(n, "mousedown", u),
            i(n, DayPilot.touch.start, h),
            (n.cancelDraggable = function () {
              DayPilot.ue(n, "mousedown", u),
                DayPilot.ue(n, DayPilot.touch.start, h),
                delete n.cancelDraggable;
            });
        }),
        (DayPilot.Calendar.stopDragging = function () {
          if (
            (v.drag && ((v.drag = null), (document.body.style.cursor = "")),
            m.gShadow &&
              (document.body.removeChild(m.gShadow), (m.gShadow = null)),
            v.resizing)
          ) {
            var e = v.resizing.event.calendar;
            (v.resizing.style.cursor = "default"),
              (v.resizing.onclick = null),
              (v.resizing = null),
              (e.nav.top.style.cursor = ""),
              e.sc();
          }
          if (v.moving) {
            var e = v.moving && v.moving.event && v.moving.event.calendar;
            e &&
              ((e.jb = null),
              o(v.moving, e.ca("_event_moving_source")),
              e.Cc()),
              (v.movingAreaData = null),
              (v.moving = null);
          }
          if (v.selecting) {
            var e = v.selecting.calendar;
            (v.selecting = null), e && e.clearSelection();
          }
        }),
        (DayPilot.Calendar.registerDropTarget = function (e) {
          e = e || {};
          var t = e.element,
            n = e.onDragOver,
            i = "function" == typeof n,
            a = e.onDrop,
            r = "function" == typeof a,
            o = e.onDragLeave,
            l = "function" == typeof o;
          if (!t)
            throw new DayPilot.Exception(
              "registerDropTarget(options): options.element must be specified"
            );
          var s = function () {
              var e = v.drag;
              if (e) {
                var t = e.event;
                if (t && i) {
                  var a = {};
                  (a.e = t), n(a);
                }
              }
            },
            d = function () {
              var e = v.drag;
              if (e) {
                var t = e.event;
                if (t && l) {
                  var n = {};
                  (n.e = t), o(n);
                }
              }
            },
            c = function () {
              var e = v.drag;
              if (e) {
                var t = e.event;
                if (t && r) {
                  var n = {};
                  (n.e = t), a(n);
                }
              }
            };
          t.addEventListener("mousemove", s),
            t.addEventListener("mouseleave", d),
            t.addEventListener("mouseup", c),
            (t.Uh = function () {
              t.removeEventListener("mousemove", s),
                t.removeEventListener("mouseleave", d),
                t.removeEventListener("mouseup", c),
                (t.Uh = null);
            });
        }),
        (DayPilot.Calendar.unregisterDropTarget = function (e) {
          e = e || {};
          var t = e.element;
          t && t.Uh && t.Uh();
        }),
        (m.createGShadow = function (n) {
          n = n || {};
          var i = t();
          return (
            (i.style.position = "absolute"),
            (i.style.width = "100px"),
            (i.style.height = "20px"),
            (i.style.zIndex = e),
            (i.style.pointerEvents = "none"),
            (i.style.backgroundColor = "#aaaaaa"),
            (i.style.opacity = 0.5),
            (i.style.overflow = "hidden"),
            (i.className = n.externalCssClass),
            n.externalHtml && (i.innerHTML = n.externalHtml),
            document.body.appendChild(i),
            i
          );
        }),
        (m.moveShadow = function (e) {
          var t = m.movingShadow;
          t.parentNode && t.parentNode.removeChild(t),
            e.firstChild.appendChild(t),
            (t.style.left = "0px"),
            (t.style.width = ""),
            (t.style.right = "0px");
        }),
        (DayPilot.Column = function (e, t) {
          var n = this;
          (n.id = e.id),
            (n.name = e.name),
            (n.data = e.data),
            (n.date = new DayPilot.Date(e.start)),
            (n.start = n.date),
            (n.calendar = t),
            (n.events = {}),
            (n.events.all = function () {
              for (var t = f(), n = 0; n < e.events.length; n++)
                t.push(e.events[n]);
              return t;
            }),
            (n.events.isEmpty = function () {
              return 0 === e.events.length;
            }),
            (n.events.forRange = function (t, i) {
              (t = new DayPilot.Date(t)),
                (i = i ? new DayPilot.Date(i) : e.je());
              for (var a = f(), r = 0; r < n.events.length; r++) {
                var o = n.events[r];
                h(o.start(), o.end(), t, i) && a.push(o);
              }
              return a;
            }),
            (n.events.totalDuration = function () {
              var e = 0;
              return (
                n.events.all().forEach(function (t) {
                  e += t.part.end.getTime() - t.part.start.getTime();
                }),
                new DayPilot.Duration(e)
              );
            }),
            (n.value = e.id),
            (n.toJSON = function () {
              var e = {};
              return (
                (e.id = this.id),
                this.date && (e.date = this.date.toString()),
                (e.name = this.name),
                (e.value = this.value),
                e
              );
            });
        }),
        "undefined" != typeof jQuery &&
          !(function (e) {
            e.fn.daypilotCalendar = function (e) {
              var t = null,
                n = this.each(function () {
                  if (!this.daypilot) {
                    var n = new DayPilot.Calendar(this.id, e);
                    n.init(), (this.daypilot = n), t || (t = n);
                  }
                });
              return 1 === this.length ? t : n;
            };
          })(jQuery),
        (function () {
          var e = DayPilot.am();
          e &&
            e.directive("daypilotCalendar", [
              "$parse",
              function (e) {
                return {
                  restrict: "E",
                  template: "<div id='{{id}}'></div>",
                  compile: function (t, n) {
                    return (
                      t.replaceWith(
                        this["template"].replace("{{id}}", n["id"])
                      ),
                      function (t, n, i) {
                        var a = new DayPilot.Calendar(n[0]);
                        (a.kh.scope = t), a.init();
                        var r = i["id"];
                        r && (t[r] = a);
                        var o = i["publishAs"];
                        if (o) {
                          (0, e(o).assign)(t, a);
                        }
                        for (var l in i)
                          if (0 === l.indexOf("on")) {
                            var s = DayPilot.Util.shouldApply(l);
                            s
                              ? !(function (n) {
                                  a[n] = function (a) {
                                    var r = e(i[n]);
                                    t["$apply"](function () {
                                      r(t, { args: a });
                                    });
                                  };
                                })(l)
                              : !(function (n) {
                                  a[n] = function (a) {
                                    e(i[n])(t, { args: a });
                                  };
                                })(l);
                          }
                        var d = t["$watch"],
                          c = i["config"] || i["daypilotConfig"],
                          u = i["events"] || i["daypilotEvents"];
                        d.call(
                          t,
                          c,
                          function (e) {
                            for (var t in e) a[t] = e[t];
                            a.update();
                          },
                          !0
                        ),
                          d.call(
                            t,
                            u,
                            function (e) {
                              (a.events.list = e), a.Od({ eventsOnly: !0 });
                            },
                            !0
                          );
                      }
                    );
                  },
                };
              },
            ]);
        })(),
        "undefined" != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(DayPilot),
  (function (DayPilot) {
    "undefined" == typeof DayPilot.DatePicker &&
      (DayPilot.DatePicker = function (e) {
        this.v = "2025.3.6631";
        var t = "navigator_" + new Date().getTime(),
          n = this;
        (this.onShow = null),
          (this.onTimeRangeSelect = null),
          (this.onTimeRangeSelected = null),
          (this.prepare = function () {
            if (
              ((this.locale = "en-us"),
              (this.target = null),
              (this.targetAlignment = "left"),
              (this.resetTarget = !0),
              (this.pattern = this.Ba.locale().datePattern),
              (this.theme = "navigator_default"),
              (this.patterns = []),
              (this.zIndex = null),
              (this.showToday = !0),
              (this.todayText = "Today"),
              (this.weekStarts = "Auto"),
              e)
            )
              for (var t in e) this[t] = e[t];
          }),
          (this.init = function () {
            this.date = new DayPilot.Date(this.date);
            var e = this.Vh();
            this.resetTarget && !e
              ? this.Wh(this.date)
              : !this.resetTarget && e && (n.date = e);
            var t = this.I();
            return (
              t &&
                t.addEventListener("input", function () {
                  (n.date = n.Vh()),
                    n.date && n.navigator.select(n.date, { dontNotify: !0 });
                }),
              this
            );
          }),
          (this.close = function () {
            document.removeEventListener("mousedown", n.close),
              document.removeEventListener("wheel", n.close),
              window.removeEventListener("resize", n.close),
              n.vg &&
                ((n.vg = !1),
                n.navigator && n.navigator.dispose(),
                (n.div.innerHTML = ""),
                n.div &&
                  n.div.parentNode === document.body &&
                  document.body.removeChild(n.div));
          }),
          (this.Xh = function (e) {
            (this.date = new DayPilot.Date(e)), this.Wh(this.date);
          }),
          (this.select = function (e) {
            var t = {};
            (t.date = new DayPilot.Date(e)),
              (t.preventDefault = function () {
                this.preventDefault.value = !0;
              }),
              ("function" == typeof n.onTimeRangeSelect &&
                (n.onTimeRangeSelect(t), t.preventDefault.value)) ||
                (this.Xh(e),
                "function" == typeof n.onTimeRangeSelected &&
                  n.onTimeRangeSelected(t));
          }),
          (this.Vh = function () {
            var e = this.I();
            if (!e) return this.date;
            var t = null;
            if (((t = "INPUT" === e.tagName ? e.value : e.innerText), !t))
              return null;
            for (
              var i = DayPilot.Date.parse(t, n.pattern), a = 0;
              a < n.patterns.length;
              a++
            ) {
              if (i) return i;
              i = DayPilot.Date.parse(t, n.patterns[a]);
            }
            return i;
          }),
          (this.Wh = function (e) {
            var t = this.I();
            if (t) {
              var i = e.toString(n.pattern, n.locale);
              "INPUT" === t.tagName ? (t.value = i) : (t.innerHTML = i);
            }
          }),
          (this.Ba = {}),
          (this.Ba.locale = function () {
            return DayPilot.Locale.find(n.locale);
          }),
          (this.I = function () {
            var e = this.target;
            return e && e.nodeType && 1 === e.nodeType
              ? e
              : document.getElementById(e);
          }),
          Object.defineProperty(this, "visible", {
            get: function () {
              return n.vg;
            },
          }),
          (this.show = function () {
            if (!this.vg) {
              document.addEventListener("mousedown", n.close),
                document.addEventListener("wheel", n.close),
                window.addEventListener("resize", n.close);
              var e = this.I(),
                i = new DayPilot.Navigator(t);
              (i.api = 2),
                (i.cssOnly = !0),
                (i.theme = n.theme),
                (i.weekStarts = "Auto"),
                (i.locale = n.locale),
                (i.showToday = n.showToday),
                (i.todayText = n.todayText),
                (i.weekStarts = n.weekStarts),
                (i.onTodayClick = function (e) {
                  i.onTimeRangeSelected({ start: DayPilot.Date.today() }),
                    e.preventDefault();
                }),
                (i.onTimeRangeSelected = function (e) {
                  n.date = e.start;
                  var t = e.start.addTime(i.Yh),
                    a = t.toString(n.pattern, n.locale),
                    r = {};
                  (r.start = t),
                    (r.date = t),
                    (r.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    ("function" == typeof n.onTimeRangeSelect &&
                      (n.onTimeRangeSelect(r), r.preventDefault.value)) ||
                      (n.Wh(a),
                      n.close(),
                      "function" == typeof n.onTimeRangeSelected &&
                        n.onTimeRangeSelected(r));
                }),
                (this.navigator = i);
              var a = { x: 0, y: 0, w: 0, h: 0 };
              e && (a = DayPilot.abs(e));
              var r = a.h,
                o = n.targetAlignment,
                l = document.createElement("div");
              (l.style.position = "absolute"),
                "left" === o && (l.style.left = a.x + "px"),
                (l.style.top = a.y + r + "px"),
                n.zIndex && (l.style.zIndex = n.zIndex);
              var s = document.createElement("div");
              (s.id = t),
                l.appendChild(s),
                l.addEventListener("mousedown", function (e) {
                  e.stopPropagation();
                }),
                document.body.appendChild(l),
                (this.div = l);
              var d = n.Vh() || n.date;
              if (
                ((i.startDate = d),
                (i.Yh = d.getTimePart()),
                (i.selectionDay = d.getDatePart()),
                i.init(),
                "right" === o)
              ) {
                var c = a.x + a.w - i.nav.top.offsetWidth;
                l.style.left = c + "px";
              }
              if (((this.vg = !0), this.onShow)) {
                var u = {};
                this.onShow(u);
              }
            }
          }),
          this.prepare(),
          this.init();
      });
  })(DayPilot),
  (function (DayPilot) {
    if ("undefined" == typeof DayPilot.Gantt || !DayPilot.Gantt.def) {
      var e = function () {};
      (DayPilot.Gantt = function (t, n) {
        this.v = "2025.3.6631";
        var i = this;
        (this.id = t), (this.isGantt = !0);
        var a = new DayPilot.Scheduler(t);
        (this.scheduler = a), (this.Zh = {});
        var r = this.Zh;
        this.$h = {};
        var o = this.$h,
          l = {};
        (a.viewType = "Resources"),
          (a.onCallBackHeader = function (e) {
            (e.header.taskGroupMode = i.taskGroupMode),
              (e.header.rowHeaderColumns = i.columns),
              (e.header.clientState = i.clientState);
          }),
          (a.onGetNodeState = function (e) {
            var t = function (e) {
                var t = {};
                if (e.tags) for (var n in e.tags) t[n] = "" + e.tags[n];
                return t;
              },
              n = function (e) {
                var n = e.task,
                  i = {};
                return (
                  (i.start = n.start),
                  (i.end = n.end),
                  (i.id = n.id),
                  (i.complete = n.complete),
                  (i.text = n.text),
                  (i.type = n.type),
                  (i.expanded = e.expanded),
                  (i.loaded = e.loaded),
                  (i.tags = t(n)),
                  (i.versions = n.versions),
                  (i.children = a.internal.getNodeChildren(e.children)),
                  i
                );
              };
            (e.result = n(e.row)), e.preventDefault();
          }),
          (a.onCallBackResult = function (e) {
            var t = e.result;
            e.preventDefault();
            var n = function () {
              t.scrollToTaskId && a.scrollToResource(t.scrollToTaskId);
            };
            if ("None" === t.updateType) return void n();
            var o = function (e) {
              for (var n = 0; n < e.length; n++) {
                var a = e[n];
                "undefined" != typeof t[a] && (i[a] = t[a]);
              }
            };
            (i.links.list = t.links),
              (i.tasks.list = t.tasks),
              (i.startDate = new DayPilot.Date(t.startDate)),
              o([
                "days",
                "cellDuration",
                "cellGroupBy",
                "cellWidth",
                "cellWidthSpec",
                "cornerHtml",
                "separators",
                "rowMinHeight",
                "rowMarginBottom",
                "taskGroupMode",
                "selectedRows",
              ]),
              o([
                "cellProperties",
                "cellConfig",
                "timeHeader",
                "timeHeaders",
                "timeline",
                "columns",
              ]),
              r.translate(),
              r._h(),
              r.ai(),
              a.update(),
              a.show(),
              n();
          }),
          (this.taskGroupMode = "Auto"),
          (this.allowMultiMove = !1),
          (this.allowMultiSelect = !1),
          (this.autoRefreshCommand = "refresh"),
          (this.autoRefreshEnabled = !1),
          (this.autoRefreshInterval = 60),
          (this.autoRefreshMaxCount = 20),
          (this.autoScroll = "Drag"),
          "function" == typeof DayPilot.Bubble
            ? ((this.bubbleTask = new DayPilot.Bubble()),
              (this.bubbleCell = new DayPilot.Bubble()),
              (this.bubbleRow = new DayPilot.Bubble()))
            : ((this.bubbleTask = null),
              (this.bubbleCell = null),
              (this.bubbleRow = null)),
          (this.cellDuration = 1440),
          (this.cellGroupBy = "Month"),
          (this.cellWidth = 40),
          (this.cellWidthSpec = "Fixed"),
          (this.completeBarVisible = !0),
          (this.completeBarHeight = null),
          (this.contextMenuTask = null),
          (this.contextMenuRow = null),
          (this.contextMenuLink = null),
          (this.cornerText = ""),
          (this.cornerHtml = null),
          (this.crosshairType = "Header"),
          (this.doubleClickTimeout = 300),
          (this.exceljs = null),
          (this.progressiveTaskRendering = "Progressive"),
          (this.progressiveTaskRenderingMargin = 500),
          (this.progressiveTaskRenderingCacheSweeping = !1),
          (this.progressiveTaskRenderingCacheSize = 200),
          (this.floatingTasks = !0),
          (this.floatingTimeHeaders = !0),
          (this.headerHeight = 30),
          (this.height = 300),
          (this.heightSpec = "Max"),
          (this.hideBorderFor100PctHeight = !1),
          (this.hideUntilInit = !1),
          (this.linkBottomMargin = 17),
          (this.linkPointSize = 10),
          (this.linkShape = "Curved"),
          (this.loadingLabelVisible = !0),
          (this.loadingLabelText = "Loading..."),
          (this.loadingLabelHtml = null),
          (this.locale = "en-us"),
          (this.messageBarPosition = "Top"),
          (this.messageHideAfter = 5e3),
          (this.moveGroupChildren = !0),
          (this.progressiveRowRendering = !0),
          (this.progressiveRowRenderingPreload = 25),
          (this.rowHeaderColumnsMergeParents = !1),
          (this.rowHeaderScrolling = !1),
          (this.rowHeaderSplitterWidth = 3),
          (this.rowHeaderHideIconEnabled = !1),
          (this.rowHeaderWidth = 80),
          (this.rowHeaderWidthAutoFit = !0),
          (this.rowMarginBottom = 4),
          (this.rowMinHeight = 0),
          (this.rowMoveSameLevelOnly = !1),
          (this.scrollDelayTasks = 200),
          (this.scrollDelayCells = 20),
          (this.scrollDelayFloats = 0),
          (this.scale = "Day"),
          (this.selectedRows = []),
          (this.snapToGrid = !0),
          (this.syncTasks = !0),
          (this.syncLinks = !0),
          (this.tapAndHoldTimeout = 300),
          (this.taskEndSpec = "DateTime"),
          (this.taskHeight = 34),
          (this.taskHtmlLeftMargin = 20),
          (this.taskHtmlRightMargin = 20),
          (this.taskResizeMargin = 5),
          (this.taskMoveSkipNonBusiness = !1),
          (this.taskMovingStartEndEnabled = !1),
          (this.taskMovingStartEndFormat = "MMMM d, yyyy"),
          (this.taskResizingStartEndEnabled = !1),
          (this.taskResizingStartEndFormat = "MMMM d, yyyy"),
          (this.theme = "gantt_default"),
          (this.treeAnimation = !0),
          (this.treeAutoExpand = !0),
          (this.treeIndent = 20),
          (this.treeImageMarginLeft = 0),
          (this.treeImageMarginTop = 3),
          (this.treeImageMarginRight = 5),
          (this.treeImageWidth = 10),
          (this.treeImageHeight = 10),
          (this.timeline = null),
          (this.timeHeaders = [
            { groupBy: "Month", format: "MMMM yyyy" },
            { groupBy: "Day", format: "d" },
          ]),
          (this.useEventBoxes = "Never"),
          (this.visible = !0),
          (this.weekStarts = "Auto"),
          (this.xssProtection = "Enabled"),
          (this.taskVersionsEnabled = !1),
          (this.taskVersionHeight = 24),
          (this.taskVersionMargin = 2),
          (this.taskVersionPosition = "Above"),
          (this.rowCollapseHandling = "Enabled"),
          (this.rowExpandHandling = "Enabled"),
          (this.taskMoveHandling = "Update"),
          (this.taskClickHandling = "Enabled"),
          (this.taskResizeHandling = "Update"),
          (this.linkCreateHandling = "Update"),
          (this.taskRightClickHandling = "ContextMenu"),
          (this.taskDoubleClickHandling = "Disabled"),
          (this.tasksLoadMethod = "GET"),
          (this.rowCreateHandling = "Disabled"),
          (this.rowMoveHandling = "Update"),
          (this.rowClickHandling = "Disabled"),
          (this.rowDoubleClickHandling = "Disabled"),
          (this.rowEditHandling = "Update"),
          (this.rowSelectHandling = "Update"),
          (this.clientState = {}),
          (this.separators = []),
          (this.links = {}),
          (this.links.list = []),
          (this.links.add = function (e) {
            if (e) {
              var t = e.isLink ? e.data : e;
              i.links.list.push(t), i.za && (r.ai(), a.update()), i.kh.notify();
            }
          }),
          (this.links.remove = function (e) {
            if (e) {
              if ("number" == typeof e || "string" == typeof e) {
                var t = i.links.find(e);
                return void (t && i.links.remove(t.data));
              }
              var n;
              n = e.isLink ? e.data : e;
              var o = DayPilot.indexOf(i.links.list, n);
              o !== -1 &&
                (i.links.list.splice(o, 1),
                i.za && (r.ai(), a.update()),
                i.kh.notify());
            }
          }),
          (this.links.find = function (e) {
            if (!DayPilot.isArray(i.links.list)) return null;
            for (var t = 0; t < i.links.list.length; t++) {
              var n = i.links.list[t];
              if (n.id === e) return new DayPilot.Link(n, i);
            }
            return null;
          }),
          (this.links.findByFromTo = function (e, t) {
            if (!DayPilot.isArray(i.links.list)) return null;
            for (var n = 0; n < i.links.list.length; n++) {
              var a = i.links.list[n];
              if (a.from === e && a.to === t) return new DayPilot.Link(a, i);
            }
            return null;
          }),
          (this.links.load = function (e, t, n) {
            a.links.load(
              e,
              function (e) {
                ("function" == typeof t && (t(e), e.preventDefault.value)) ||
                  (i.links.list = e.data);
              },
              n,
              { dontAddStartEnd: !0 }
            );
          }),
          (this.bi = {});
        var s = this.bi;
        (s.timeout = null),
          (s.update = function () {
            i.za &&
              (window.clearTimeout(s.timeout),
              (s.timeout = setTimeout(function () {
                r._h(), a.update();
              }, 0)));
          }),
          (this.multiselect = {}),
          (this.multiselect.tasks = function () {
            return a.multiselect.events().map(function (e) {
              return new DayPilot.Task(e, i);
            });
          }),
          (this.multiselect.add = function (e, t) {
            a.multiselect.add(e, t);
          }),
          (this.multiselect.clear = function (e) {
            a.multiselect.clear(e);
          }),
          (this.multiselect.remove = function (e, t) {
            a.multiselect.remove(e, t);
          }),
          (this.multiselect.redraw = function () {
            a.multiselect.redraw();
          }),
          (this.tasks = {}),
          (this.tasks.list = []),
          (this.tasks.add = function (e) {
            if (e) {
              if (e instanceof DayPilot.Event)
                throw "DayPilot.Task object required. You have supplied DayPilot.Event.";
              var t = e.isTask ? e.data : e;
              i.tasks.list.push(t), s.update(), i.kh.notify();
            }
          }),
          (this.tasks.find = function (e) {
            var t = o.findInCache(e);
            return t ? new DayPilot.Task(t, i) : null;
          }),
          (this.tasks.update = function (e) {
            if (e) {
              var t = null;
              if (e.isTask) e.commit(), (t = e.data);
              else {
                if ("object" != typeof e)
                  throw "DayPilot.Task or task data object expected";
                t = e;
              }
              var n = i.tasks.find(t.id);
              if (n) {
                var a = o.findParentArray(n.data),
                  r = a.indexOf(n.data);
                a.splice(r, 1, t), s.update(), i.kh.notify();
              }
            }
          }),
          (this.tasks.remove = function (e) {
            if (e) {
              if (!e.isTask) throw "DayPilot.Task object expected";
              var t = o.findParentArray(e.data);
              if (t) {
                var n = DayPilot.indexOf(t, e.data);
                t.splice(n, 1), s.update(), i.kh.notify();
              }
            }
          }),
          (this.tasks.businessDuration = function (e) {
            var t = null;
            if (!e)
              throw new DayPilot.Exception(
                "tasks.businessDuration(): 'task' parameter required"
              );
            t = e.isTask
              ? e.data.id
              : "string" == typeof e || "number" == typeof e
              ? e
              : e.id;
            var n = a.rowlist.find(function (e) {
              return e.task && e.task.id === t;
            });
            if (!n) return null;
            var i = new DayPilot.Date(n.task.start),
              r = new DayPilot.Date(n.task.end),
              o = n.index,
              l = a.internal.bd(i, r, o);
            return new DayPilot.Duration(l);
          }),
          (this.tasks.businessEnd = function (e, t) {
            var n = null,
              i = null;
            if (!e)
              throw new DayPilot.Exception(
                "tasks.businessEnd(): 'task' parameter required"
              );
            e.isTask
              ? ((n = e.data.id), (i = new DayPilot.Date(e.data.start)))
              : "string" == typeof e || "number" == typeof e
              ? (n = e)
              : ((n = e.id), (i = new DayPilot.Date(e.start)));
            var r = a.rowlist.find(function (e) {
              return e.task && e.task.id === n;
            });
            if (!r) return null;
            i || (i = new DayPilot.Date(r.task.start));
            var o = r.index,
              l = t.ticks;
            return a.internal.abd(i, l, o);
          }),
          (this.tasks.load = function (e, t, n) {
            if (!e)
              throw new DayPilot.Exception(
                "events.load(): 'url' parameter required"
              );
            var a = function (e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  "function" == typeof n && n(t);
              },
              r = function (e) {
                var n,
                  r = e.request;
                try {
                  n = JSON.parse(r.responseText);
                } catch (e) {
                  var o = {};
                  return (o.exception = e), void a(o);
                }
                if (DayPilot.isArray(n)) {
                  var l = {};
                  if (
                    ((l.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (l.data = n),
                    "function" == typeof t && t(l),
                    l.preventDefault.value)
                  )
                    return;
                  (i.tasks.list = n), i.za && i.update();
                }
              };
            if (i.tasksLoadMethod && "POST" === i.tasksLoadMethod.toUpperCase())
              DayPilot.ajax({
                method: "POST",
                contentType: "application/json",
                url: e,
                success: r,
                error: a,
              });
            else {
              var o = e;
              DayPilot.ajax({ method: "GET", url: o, success: r, error: a });
            }
          }),
          (this.visibleStart = function () {
            return a.visibleStart();
          }),
          (this.visibleEnd = function () {
            return a.visibleEnd();
          }),
          (this.onAfterRender = null),
          (this.onAfterUpdate = null),
          (this.onBeforeRowHeaderRender = null),
          (this.onBeforeRowHeaderExport = null),
          (this.onBeforeTaskRender = null),
          (this.onBeforeTaskExport = null),
          (this.onBeforeTimeHeaderRender = null),
          (this.onBeforeTimeHeaderExport = null),
          (this.onBeforeCellRender = null),
          (this.onBeforeCellExport = null),
          (this.onBeforeCornerRender = null),
          (this.onBeforeCornerExport = null),
          (this.onTaskClick = null),
          (this.onTaskClicked = null),
          (this.onTaskDoubleClick = null),
          (this.onTaskDoubleClicked = null),
          (this.onTaskRightClick = null),
          (this.onTaskRightClicked = null),
          (this.onRowCollapse = null),
          (this.onRowCreate = null),
          (this.onRowCreated = null),
          (this.onRowExpand = null),
          (this.onRowMove = null),
          (this.onRowMoved = null),
          (this.onRowMoving = null),
          (this.onRowClick = null),
          (this.onRowClicked = null),
          (this.onRowDoubleClick = null),
          (this.onRowDoubleClicked = null),
          (this.onRowEdit = null),
          (this.onRowEdited = null),
          (this.onRowFilter = null),
          (this.onRowSelect = null),
          (this.onRowSelected = null),
          (this.onTaskMove = null),
          (this.onTaskMoved = null),
          (this.onTaskMoving = null),
          (this.onTaskResize = null),
          (this.onTaskResized = null),
          (this.onTaskResizing = null),
          (this.onLinkCreate = null),
          (this.onLinkCreated = null),
          (this.ja = function () {
            return (
              !!this.backendUrl ||
              !("function" != typeof WebForm_DoCallback || !this.uniqueID)
            );
          }),
          (this.ci = function () {
            function e(i) {
              for (var a = 0; a < i.length; a++) {
                var l = i[a];
                (t = new DayPilot.Date(l.start)),
                  (n = new DayPilot.Date(l.end)),
                  (null === r || t.getTime() < r) && (r = t.getTime()),
                  (null === o || n.getTime() > o) && (o = n.getTime()),
                  l.children && l.children.length > 0 && e(l.children);
              }
            }
            if (
              ("string" == typeof i.startDate &&
                (i.startDate = new DayPilot.Date(i.startDate)),
              !i.startDate || !i.days)
            ) {
              var t = DayPilot.Date.today(),
                n = t.addDays(1),
                r = null,
                o = null;
              e(i.tasks.list),
                r && o
                  ? ((t = new DayPilot.Date(r).getDatePart()),
                    (n = new DayPilot.Date(o).getDatePart().addDays(1)),
                    (a.startDate = i.startDate || t),
                    (a.days = i.days || DayPilot.DateUtil.daysDiff(t, n)))
                  : ((a.startDate = t), (a.days = 30));
            }
          }),
          (this.commandCallBack = function (e, t) {
            r.translate(), a.commandCallBack(e, t);
          }),
          (this.message = function (e, t, n, i) {
            a.message(e, t, n, i);
          }),
          (this.setHeight = function (e) {
            a.setHeight(e);
          }),
          (this.getCoords = function () {
            var e = a.getCoords();
            return e
              ? ((e.task = new DayPilot.Task(e.row.$.row.task, i)),
                e.eventOffset && (e.taskOffset = e.eventOffset),
                delete e.event,
                delete e.row,
                delete e.eventOffset,
                delete e.grid,
                e)
              : null;
          }),
          (this.Gh = function () {
            return !!this.backendUrl;
          }),
          (this.setScrollY = function (e) {
            a.setScrollY(e);
          }),
          (this.setScrollX = function (e) {
            a.setScrollX(e);
          }),
          (this.getScrollY = function () {
            return a.getScrollY();
          }),
          (this.getScrollX = function () {
            return a.getScrollX();
          }),
          (this.scrollToRow = function (e) {
            a.scrollToResource(e);
          }),
          (this.init = function () {
            if (this.za)
              throw new DayPilot.Exception(
                "This instance is already initialized. Use update() to change properties."
              );
            return (
              r.translate(),
              r._h(),
              r.ai(),
              this.ci(),
              a.init(),
              (this.za = !0),
              this.Kh(),
              this
            );
          }),
          (this.Aa = !1),
          (this.dispose = function () {
            a.dispose(), (i.Aa = !0);
          }),
          (this.disposed = function () {
            return this.Aa;
          }),
          (this.update = function (e) {
            if (!i.za)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Gantt instance that hasn't been initialized yet."
              );
            if (i.Aa)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Gantt instance that has been disposed."
              );
            i.rh(e), r.translate(), r._h(), r.ai(), i.ci(), a.update();
          }),
          (this.scrollTo = function (e) {
            a.scrollTo(e);
          }),
          (this.scrollToTask = function (e) {
            a.scrollToResource(e);
          }),
          (o.cache = {}),
          (o.clearCache = function () {
            o.cache = {};
          }),
          (o.addToCache = function (e, t) {
            var n = e.id;
            if (n) {
              var i = {};
              if (
                ((i.isTaskWrapper = !0),
                (i.data = e),
                (i.parent = t),
                o.cache[n])
              )
                throw "Duplicate task id detected";
              o.cache[n] = i;
            }
          }),
          (o.findInCache = function (e) {
            return e ? o.cache[e.toString()] : null;
          }),
          (o.getProperty = function (e, t) {
            return e.tags && e.tags[t] ? e.tags[t] : e[t];
          }),
          (o.findParentArray = function (e) {
            return o.findInArray(i.tasks.list, e);
          }),
          (o.findInArray = function (e, t) {
            if (DayPilot.indexOf(e, t) !== -1) return e;
            for (var n = 0; n < e.length; n++) {
              var i = e[n];
              if (i.children && i.children.length > 0) {
                var a = o.findInArray(i.children, t);
                if (a) return a;
              }
            }
            return null;
          }),
          (r.translate = function () {
            if (
              ((a.internal.gantt = i),
              (a.durationBarMode = "PercentComplete"),
              (a.timeRangeSelectedHandling = "Disabled"),
              (a.treeEnabled = !0),
              (a.rowCreateHtml = ""),
              (a.allowMultiMove = i.allowMultiMove),
              (a.allowMultiSelect = i.allowMultiSelect),
              (a.autoRefreshCommand = i.autoRefreshCommand),
              (a.autoRefreshEnabled = i.autoRefreshEnabled),
              (a.autoRefreshInterval = i.autoRefreshInterval),
              (a.autoRefreshMaxCount = i.autoRefreshMaxCount),
              (a.autoScroll = i.autoScroll),
              (a.backendUrl = i.backendUrl),
              (a.crosshairType = i.crosshairType),
              (a.doubleClickTimeout = i.doubleClickTimeout),
              (a.durationBarVisible = i.completeBarVisible),
              (a.durationBarHeight = i.completeBarHeight),
              (a.dynamicEventRendering = i.progressiveTaskRendering),
              (a.dynamicEventRenderingMargin =
                i.progressiveTaskRenderingMargin),
              (a.dynamicEventRenderingCacheSweeping =
                i.progressiveTaskRenderingCacheSweeping),
              (a.dynamicEventRenderingCacheSize =
                i.progressiveTaskRenderingCacheSize),
              (a.startDate = new DayPilot.Date(i.startDate)),
              (a.days = i.days),
              (a.cellDuration = i.cellDuration),
              (a.cellGroupBy = i.cellGroupBy),
              (a.cellWidth = i.cellWidth),
              (a.cellWidthSpec = i.cellWidthSpec),
              (a.cornerHtml = i.cornerHtml),
              (a.cornerText = i.cornerText),
              (a.eventHeight = i.taskHeight),
              (a.eventResizeMargin = i.taskResizeMargin),
              (a.eventMoveSkipNonBusiness = i.taskMoveSkipNonBusiness),
              (a.exceljs = i.exceljs),
              (a.floatingEvents = i.floatingTasks),
              (a.floatingTimeHeaders = i.floatingTimeHeaders),
              (a.headerHeight = i.headerHeight),
              (a.heightSpec = i.heightSpec),
              (a.height = i.height),
              (a.linkBottomMargin = i.linkBottomMargin),
              (a.linkPointSize = i.linkPointSize),
              (a.linkShape = i.linkShape),
              (a.loadingLabelVisible = i.loadingLabelVisible),
              (a.loadingLabelText = i.loadingLabelText),
              (a.loadingLabelHtml = i.loadingLabelHtml),
              (a.locale = i.locale),
              (a.messageBarPosition = i.messageBarPosition),
              (a.messageHideAfter = i.messageHideAfter),
              (a.rowCreateHandling = i.rowCreateHandling),
              (a.rowMoveSameLevelOnly = i.rowMoveSameLevelOnly),
              (a.progressiveRowRendering = i.progressiveRowRendering),
              (a.progressiveRowRenderingPreload =
                i.progressiveRowRenderingPreload),
              (a.scale = i.scale),
              (a.scrollDelayEvents = i.scrollDelayTasks),
              (a.scrollDelayCells = i.scrollDelayCells),
              (a.scrollDelayFloats = i.scrollDelayFloats),
              (a.scrollX = i.scrollX),
              (a.scrollY = i.scrollY),
              i.scrollToTaskId && (a.scrollToResourceId = i.scrollToTaskId),
              (a.separators = i.separators),
              (a.tapAndHoldTimeout = i.tapAndHoldTimeout),
              (a.eventHtmlLeftMargin = i.taskHtmlLeftMargin),
              (a.eventHtmlRightMargin = i.taskHtmlRightMargin),
              (a.eventMovingStartEndEnabled = i.taskMovingStartEndEnabled),
              (a.eventMovingStartEndFormat = i.taskMovingStartEndFormat),
              (a.eventResizingStartEndEnabled = i.taskResizingStartEndEnabled),
              (a.eventResizingStartEndFormat = i.taskResizingStartEndFormat),
              (a.hideBorderFor100PctHeight = i.hideBorderFor100PctHeight),
              (a.hideUntilInit = i.hideUntilInit),
              (a.treeIndent = i.treeIndent),
              (a.treeAnimation = i.treeAnimation),
              (a.treeAutoExpand = i.treeAutoExpand),
              (a.treeImageMarginLeft = i.treeImageMarginLeft),
              (a.treeImageMarginTop = i.treeImageMarginTop),
              (a.treeImageMarginRight = i.treeImageMarginRight),
              (a.treeImageWidth = i.treeImageWidth),
              (a.treeImageHeight = i.treeImageHeight),
              (a.timeHeaders = i.timeHeaders),
              (a.rowHeaderHideIconEnabled = i.rowHeaderHideIconEnabled),
              (a.rowHeaderColumnsMergeParents = i.rowHeaderColumnsMergeParents),
              (a.rowHeaderScrolling = i.rowHeaderScrolling),
              (a.rowHeaderSplitterWidth = i.rowHeaderSplitterWidth),
              (a.rowHeaderWidth = i.rowHeaderWidth),
              (a.rowHeaderWidthAutoFit = i.rowHeaderWidthAutoFit),
              (a.rowMarginBottom = i.rowMarginBottom),
              (a.rowMinHeight = i.rowMinHeight),
              (a.selectedRows = i.selectedRows),
              (a.theme = i.theme),
              (a.useEventBoxes = i.useEventBoxes),
              (a.snapToGrid = i.snapToGrid),
              (a.uniqueID = i.uniqueID),
              (a.bubble = i.bubbleTask),
              (a.cellBubble = i.bubbleCell),
              (a.resourceBubble = i.bubbleRow),
              (a.contextMenu = i.contextMenuTask),
              (a.contextMenuResource = i.contextMenuRow),
              (a.contextMenuLink = i.contextMenuLink),
              (a.syncResourceTree = i.syncTasks),
              (a.syncLinks = i.syncLinks),
              (a.timeline = i.timeline),
              (a.visible = i.visible),
              (a.devsb = i.devsb),
              (a.weekStarts = i.weekStarts),
              (a.xssProtection = i.xssProtection),
              (a.resourceCollapseHandling = i.rowCollapseHandling),
              (a.resourceExpandHandling = i.rowExpandHandling),
              (a.eventMoveHandling = i.taskMoveHandling),
              (a.eventClickHandling = i.taskClickHandling),
              (a.eventResizeHandling = i.taskResizeHandling),
              (a.linkCreateHandling = i.linkCreateHandling),
              (a.eventRightClickHandling = i.taskRightClickHandling),
              (a.eventDoubleClickHandling = i.taskDoubleClickHandling),
              (a.rowMoveHandling = i.rowMoveHandling),
              (a.rowClickHandling = i.rowClickHandling),
              (a.rowDoubleClickHandling = i.rowDoubleClickHandling),
              (a.rowEditHandling = i.rowEditHandling),
              (a.rowSelectHandling = i.rowSelectHandling),
              (a.eventVersionsEnabled = i.taskVersionsEnabled),
              (a.eventVersionHeight = i.taskVersionHeight),
              (a.eventVersionMargin = i.taskVersionMargin),
              (a.eventVersionPosition = i.taskVersionPosition),
              DayPilot.isArray(i.columns))
            ) {
              a.rowHeaderColumns = [];
              for (var e = 0; e < i.columns.length; e++) {
                var t = i.columns[e],
                  n = {};
                DayPilot.Util.copyProps(t, n, [
                  "html",
                  "text",
                  "name",
                  "title",
                  "width",
                  "hidden",
                  "maxAutoWidth",
                ]),
                  (n.display = t.display || t.property),
                  a.rowHeaderColumns.push(n);
              }
            }
            i.ja() &&
              ((a.timeHeader = i.timeHeader),
              (a.cellProperties = i.cellProperties),
              (a.cellConfig = i.cellConfig)),
              (a.onRowCreate = function (e) {
                (e.control = i),
                  "function" == typeof i.onRowCreate && i.onRowCreate(e);
              }),
              (a.onRowCreated = function (e) {
                "function" == typeof i.onRowCreated && i.onRowCreated(e);
              }),
              (a.onAfterRender = function (e) {
                "function" == typeof i.onAfterRender && i.onAfterRender(e);
              }),
              (a.onAfterUpdate = function (e) {
                "function" == typeof i.onAfterUpdate && i.onAfterUpdate(e);
              }),
              (a.onRowHeaderResized = function () {
                i.rowHeaderWidth = a.rowHeaderWidth;
              }),
              (a.onRowFilter = function (e) {
                "function" == typeof i.onRowFilter &&
                  ((e.task = new DayPilot.Task(e.row.$.row.task, i)),
                  (e.control = i),
                  i.onRowFilter(e));
              }),
              (a.onAjaxError = function (e) {
                "function" == typeof i.onAjaxError && i.onAjaxError(e);
              }),
              (a.onRowHeaderColumnResized = function (e) {
                for (
                  var t = e.column,
                    n = DayPilot.indexOf(a.rowHeaderColumns, t),
                    r = 0;
                  r < i.columns.length;
                  r++
                ) {
                  var o = a.rowHeaderColumns[r];
                  i.columns[r].width = o.width;
                }
                if ("function" == typeof i.onColumnResized) {
                  var l = {};
                  (l.column = i.columns[n]), i.onColumnResized(l);
                }
              }),
              (a.internalUseStandardColumns = DayPilot.isArray(i.columns)),
              (a.onBeforeRowHeaderRender = function (e) {
                e.task = new DayPilot.Task(e.row.$.row.task, i);
                var t = e.row.$.row.events[0];
                t &&
                  "Auto" === i.taskGroupMode &&
                  "Group" === t.data.type &&
                  ((e.task.data.start = t.data.start),
                  (e.task.data.end = t.data.end));
                var n = [];
                if (DayPilot.isArray(i.columns))
                  for (var r = 0; r < i.columns.length; r++) {
                    var l = i.columns[r],
                      s = l.display || l.property,
                      d = {};
                    (d.value = a.internal.xssTextHtml(
                      o.getProperty(e.task.data, s)
                    )),
                      e.task.data.row &&
                      e.task.data.row.columns &&
                      e.task.data.row.columns[r]
                        ? (d.html = e.task.data.row.columns[r].html)
                        : (d.html = d.value),
                      n.push(d);
                  }
                (e.row.columns = n),
                  "function" == typeof i.onBeforeRowHeaderRender &&
                    i.onBeforeRowHeaderRender(e);
              }),
              (a.onBeforeRowHeaderExport = function (e) {
                e.row.$.row.isNewRow
                  ? (e.task = null)
                  : (e.task = new DayPilot.Task(e.row.$.row.task, i)),
                  "function" == typeof i.onBeforeRowHeaderExport &&
                    i.onBeforeRowHeaderExport(e);
              }),
              (a.onBeforeEventExport = function (e) {
                var t = new DayPilot.Task(e.e, i);
                switch (((e.task = t), t.type())) {
                  case "Task":
                    e.backColor = e.e.data.backColor || "#fafafa";
                    break;
                  case "Group":
                    (e.backColor = e.e.data.backColor || "#0b5394"),
                      (e.borderColor = e.e.data.borderColor || e.backColor);
                    break;
                  case "Milestone":
                    (e.backColor = e.e.data.backColor || "#38761d"),
                      (e.borderColor = e.e.data.borderColor || e.backColor);
                }
                "function" == typeof i.onBeforeTaskExport &&
                  i.onBeforeTaskExport(e);
              }),
              (a.onBeforeCellRender = function (e) {
                (e.task = i.tasks.find(e.cell.resource)),
                  delete e.cell.resource,
                  "function" == typeof i.onBeforeCellRender &&
                    ((e.control = i), i.onBeforeCellRender(e));
              }),
              (a.onBeforeCellExport = function (e) {
                (e.task = i.tasks.find(e.cell.resource)),
                  delete e.cell.resource,
                  "function" == typeof i.onBeforeCellExport &&
                    ((e.control = i), i.onBeforeCellExport(e));
              }),
              (a.onBeforeCornerRender = function (e) {
                "function" == typeof i.onBeforeCornerRender &&
                  ((e.control = i), i.onBeforeCornerRender(e));
              }),
              (a.onBeforeCornerExport = function (e) {
                "function" == typeof i.onBeforeCornerExport &&
                  ((e.control = i), i.onBeforeCornerExport(e));
              }),
              (a.onBeforeTimeHeaderRender = function (e) {
                "function" == typeof i.onBeforeTimeHeaderRender &&
                  ((e.control = i), i.onBeforeTimeHeaderRender(e));
              }),
              (a.onBeforeTimeHeaderExport = function (e) {
                "function" == typeof i.onBeforeTimeHeaderExport &&
                  ((e.control = i), i.onBeforeTimeHeaderExport(e));
              }),
              (a.onEventClick = function (e) {
                (e.task = new DayPilot.Task(e.e, i)),
                  (e.control = i),
                  "function" == typeof i.onTaskClick && i.onTaskClick(e);
              }),
              (a.onEventClicked = function (e) {
                "function" == typeof i.onTaskClicked && i.onTaskClicked(e);
              }),
              (a.onEventDelete = function (e) {
                "function" == typeof i.onTaskDelete && i.onTaskDelete(e);
              }),
              (a.onEventDeleted = function (e) {
                "function" == typeof i.onTaskDeleted && i.onTaskDeleted(e);
              }),
              (a.onEventDoubleClick = function (e) {
                (e.task = new DayPilot.Task(e.e, i)),
                  (e.control = i),
                  "function" == typeof i.onTaskDoubleClick &&
                    i.onTaskDoubleClick(e);
              }),
              (a.onEventDoubleClicked = function (e) {
                "function" == typeof i.onTaskDoubleClicked &&
                  i.onTaskDoubleClicked(e);
              }),
              (a.onEventRightClick = function (e) {
                (e.task = new DayPilot.Task(e.e, i)),
                  "function" == typeof i.onTaskRightClick &&
                    i.onTaskRightClick(e);
              }),
              (a.onEventRightClicked = function (e) {
                "function" == typeof i.onTaskRightClicked &&
                  i.onTaskRightClicked(e);
              }),
              (a.onRowMoving = function (e) {
                (e.di = e.source), (e.ei = e.target);
                var t = e.di.calendar && e.di.calendar.internal.gantt;
                (e.source = new DayPilot.Task(e.di.$.row.task, t)),
                  (e.target = new DayPilot.Task(e.ei.$.row.task, i)),
                  "function" == typeof i.onRowMoving && i.onRowMoving(e);
              }),
              (a.onRowMove = function (e) {
                (e.di = e.source), (e.ei = e.target);
                var t = e.di.calendar && e.di.calendar.internal.gantt;
                (e.source = new DayPilot.Task(e.di.$.row.task, t)),
                  (e.target = new DayPilot.Task(e.ei.$.row.task, i)),
                  (e.control = i),
                  "function" == typeof i.onRowMove && i.onRowMove(e),
                  (e.source = e.di),
                  (e.target = e.ei),
                  e.preventDefault.value;
              }),
              (a.onRowMoved = function (e) {
                var t = e.di.calendar && e.di.calendar.internal.gantt;
                !(function () {
                  if (
                    "Update" === i.rowMoveHandling ||
                    "Notify" === i.rowMoveHandling
                  ) {
                    var n = e.di.$.row.task,
                      r = e.ei.$.row.task,
                      l = e.position,
                      s = e.source.data.fi;
                    if ("forbidden" !== l) {
                      if (t) {
                        var d = t.$h.findParentArray(n);
                        if (!d) throw "Cannot find source node parent";
                        var c = DayPilot.indexOf(d, n);
                        d.splice(c, 1);
                      }
                      var u = o.findParentArray(r);
                      if (!u) throw "Cannot find target node parent";
                      var h = DayPilot.indexOf(u, r);
                      switch (l) {
                        case "before":
                          u.splice(h, 0, n);
                          break;
                        case "after":
                          u.splice(h + 1, 0, n);
                          break;
                        case "child":
                          r.children || ((r.children = []), (r.expanded = !0)),
                            r.children.push(n);
                      }
                      s &&
                        (s.start || (s.start = new DayPilot.Date(r.start)),
                        s.end ||
                          (n.duration
                            ? (s.end = new DayPilot.Date(s.start).addTime(
                                n.duration
                              ))
                            : (s.end = new DayPilot.Date(r.end))),
                        a.events.add(s),
                        (e.source.data.task.start = s.start),
                        (e.source.data.task.end = s.end),
                        (e.source.data.fi = null)),
                        i.update(),
                        t && t !== i && t.update();
                    }
                  }
                })(),
                  (e.source = new DayPilot.Task(e.di.$.row.task, t)),
                  (e.target = new DayPilot.Task(e.ei.$.row.task, i)),
                  "function" == typeof i.onRowMoved && i.onRowMoved(e);
              }),
              (a.onRowClick = function (e) {
                (e.task = new DayPilot.Task(e.resource.$.row.task, i)),
                  "function" == typeof i.onRowClick && i.onRowClick(e);
              }),
              (a.onRowClicked = function (e) {
                "function" == typeof i.onRowClicked && i.onRowClicked(e);
              }),
              (a.onRowDoubleClick = function (e) {
                (e.task = new DayPilot.Task(e.resource.$.row.task, i)),
                  "function" == typeof i.onRowDoubleClick &&
                    i.onRowDoubleClick(e);
              }),
              (a.onRowDoubleClicked = function (e) {
                "function" == typeof i.onRowDoubleClicked &&
                  i.onRowDoubleClicked(e);
              }),
              (a.onRowEdit = function (e) {
                (e.task = new DayPilot.Task(e.resource.$.row.task, i)),
                  "function" == typeof i.onRowEdit && i.onRowEdit(e);
              }),
              (a.onRowEdited = function (e) {
                "function" == typeof i.onRowEdited && i.onRowEdited(e);
              }),
              (a.onRowSelect = function (e) {
                (e.task = new DayPilot.Task(e.row.$.row.task, i)),
                  "function" == typeof i.onRowSelect && i.onRowSelect(e);
              }),
              (a.onRowSelected = function (e) {
                "function" == typeof i.onRowSelected && i.onRowSelected(e);
              }),
              (a.onEventMove = function (e) {
                var t = {
                  task: new DayPilot.Task(e.e, i),
                  control: i,
                  newStart: e.newStart,
                  newEnd: e.newEnd,
                  ctrl: e.ctrl,
                  shift: e.shift,
                  preventDefault: function () {
                    e.preventDefault();
                  },
                  multimove: e.multimove.map(function (e) {
                    return {
                      task: new DayPilot.Task(e.event, i),
                      start: e.start,
                      end: e.end,
                    };
                  }),
                };
                (e.gi = t),
                  "function" == typeof i.onTaskMove && i.onTaskMove(t);
              }),
              (a.onEventMoved = function (e) {
                if ("Auto" === i.taskGroupMode) {
                  var t = e.e,
                    n = t.data.task;
                  for (n.start = t.start(), n.end = t.end(); t.data.parent; ) {
                    var o = a.events.find(t.data.parent.id),
                      l = r.hi(t.data.parent);
                    o.start(l.start), o.end(l.end), a.events.update(o), (t = o);
                  }
                }
                i.kh.notify();
                var s = e.gi;
                "function" == typeof i.onTaskMoved && i.onTaskMoved(s);
              }),
              (a.onEventMoving = function (e) {
                var t = new DayPilot.Task(e.e, i),
                  n = e.start.getTime() - e.e.start().getTime();
                if ("Group" === e.e.data.type && i.moveGroupChildren) {
                  var o = r.ii(t);
                  (e.multimove = o.map(function (e) {
                    var t = a.internal.f(e.data);
                    return (
                      t || (t = a.events.find(e.id())),
                      {
                        event: t,
                        start: e.start().addTime(n),
                        end: e.end().addTime(n),
                        resource: t.resource(),
                      }
                    );
                  })),
                    e.multimove.splice(0, 0, {
                      event: e.e,
                      start: t.start().addTime(n),
                      end: t.end().addTime(n),
                      resource: e.e.resource(),
                    });
                }
                var l = {
                  allowed: e.allowed,
                  ctrl: e.ctrl,
                  shift: e.shift,
                  meta: e.meta,
                  alt: e.alt,
                  cssClass: null,
                  duration: e.duration,
                  html: e.html,
                  task: t,
                  control: i,
                  start: e.start,
                  end: e.end,
                  left: e.left,
                  right: e.right,
                  multimove: e.multimove.map(function (e) {
                    return {
                      task: new DayPilot.Task(e.event, i),
                      start: e.start,
                      end: e.end,
                    };
                  }),
                };
                "function" == typeof i.onTaskMoving && i.onTaskMoving(l);
                var s = new DayPilot.Date(l.start),
                  d = new DayPilot.Date(l.end);
                (e.start = s),
                  (e.end = d),
                  (e.allowed = l.allowed),
                  (e.cssClass = l.cssClass),
                  (e.html = l.html),
                  (e.multimove = l.multimove.map(function (t, n) {
                    var i = new DayPilot.Date(t.start),
                      a = new DayPilot.Date(t.end);
                    return {
                      event: e.multimove[n].event,
                      start: i,
                      end: a,
                      resource: t.task.id(),
                    };
                  }));
              }),
              (a.onEventResize = function (e) {
                (e.ji = e.e),
                  (e.task = new DayPilot.Task(e.e, i)),
                  (e.control = i),
                  "function" == typeof i.onTaskResize && i.onTaskResize(e);
              }),
              (a.onEventResized = function (e) {
                if ("Auto" === i.taskGroupMode) {
                  var t = e.ji,
                    n = t.data.task;
                  for (n.start = t.start(), n.end = t.end(); t.data.parent; ) {
                    var o = a.events.find(t.data.parent.id),
                      l = r.hi(t.data.parent);
                    o.start(l.start), o.end(l.end), a.events.update(o), (t = o);
                  }
                }
                i.kh.notify(),
                  "function" == typeof i.onTaskResized && i.onTaskResized(e);
              }),
              (a.onEventResizing = function (e) {
                (e.task = new DayPilot.Task(e.e, i)),
                  (e.ji = e.e),
                  (e.control = i),
                  "function" == typeof i.onTaskResizing && i.onTaskResizing(e);
              }),
              (a.onLinkCreate = function (e) {
                (e.source = i.tasks.find(e.from)),
                  (e.target = i.tasks.find(e.to)),
                  (e.control = i),
                  "function" == typeof i.onLinkCreate && i.onLinkCreate(e);
              }),
              (a.onLinkCreated = function (e) {
                "function" == typeof i.onLinkCreated && i.onLinkCreated(e);
              }),
              (a.onResourceExpand = function (e) {
                var t = e.resource.$.row.task;
                if (
                  (t.row || (t.row = {}),
                  (t.row.collapsed = !1),
                  "function" == typeof i.onRowExpand)
                ) {
                  var n = {
                    task: new DayPilot.Task(e.resource.$.row.task, i),
                    control: i,
                    preventDefault: function () {
                      e.preventDefault();
                    },
                  };
                  i.onRowExpand(n);
                }
              }),
              (a.onResourceCollapse = function (e) {
                var t = e.resource.$.row.task;
                if (
                  (t.row || (t.row = {}),
                  (t.row.collapsed = !0),
                  "function" == typeof i.onRowCollapse)
                ) {
                  var n = {
                    task: new DayPilot.Task(e.resource.$.row.task, i),
                    control: i,
                    preventDefault: function () {
                      e.preventDefault();
                    },
                  };
                  i.onRowCollapse(n);
                }
              }),
              (a.onBeforeRowHeaderDomAdd = function (e) {
                (e.task = new DayPilot.Task(e.row.$.row.task, i)),
                  "function" == typeof i.onBeforeRowHeaderDomAdd &&
                    i.onBeforeRowHeaderDomAdd(e);
              }),
              (a.onExternalRowEnter = function (e) {
                var t = e.data,
                  n = r.ki(t, null, { dontAddToCache: !0 });
                (e.data = n.row), (e.data.fi = n.event);
              });
          }),
          (r.li = function (e) {
            for (var t = 0; t < a.rowlist.length; t++) {
              var n = a.rowlist[t];
              if (n.task === e) return a.internal.createRowObject(n);
            }
            return null;
          }),
          (r.ai = function () {
            a.links.list = i.links.list ? i.links.list : [];
          }),
          (r._h = function () {
            (a.resources = []),
              (a.events.list = []),
              o.clearCache(),
              r.mi(i.tasks.list, a.resources, null),
              l.sheet && (l.sheet.commit(), (l.sheet = null));
          }),
          (r.ni = function (e) {
            var t = e.type || "Task";
            e.children && e.children.length && (t = "Group");
            var n = {};
            for (var r in e) "children" !== r && (n[r] = e[r]);
            var o = {};
            if (
              ((o.data = n),
              (o.type = t),
              n.box || (n.box = {}),
              "undefined" == typeof n.box.html)
            )
              if ("Task" === o.type) {
                var l = n.complete || 0;
                n.box.text = l + "%";
              } else n.box.text = "";
            return (
              "undefined" == typeof n.box.htmlRight &&
                (n.box.htmlRight = a.internal.xssTextHtml(n.text)),
              "function" == typeof i.onBeforeTaskRender &&
                i.onBeforeTaskRender(o),
              (o.type = t),
              o
            );
          }),
          (l.keys = {}),
          (l.sheet = null),
          (r.oi = function (e) {
            if (
              e.data.box &&
              !e.data.box.cssClass &&
              e.data.box.backColor &&
              "Task" !== e.type
            ) {
              var t = DayPilot.Util.normalizeColor(e.data.box.backColor),
                n = e.type + "_" + t.replace("#", ""),
                a = i.theme,
                r = i.theme + "_" + n;
              return (
                l.keys[n] ||
                  ((l.keys[n] = !0),
                  l.sheet || (l.sheet = DayPilot.sheet()),
                  "Group" === e.type
                    ? (l.sheet.add(
                        "." +
                          r +
                          "." +
                          a +
                          "_task_group ." +
                          a +
                          "_event_inner",
                        "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: " +
                          t +
                          "; filter: none; border: 0px none;"
                      ),
                      l.sheet.add(
                        "." +
                          r +
                          "." +
                          a +
                          "_task_group." +
                          a +
                          "_event:before",
                        "content:''; border-color: transparent transparent transparent " +
                          t +
                          "; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"
                      ),
                      l.sheet.add(
                        "." + r + "." + a + "_task_group." + a + "_event:after",
                        "content:''; border-color: transparent " +
                          t +
                          " transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"
                      ))
                    : "Milestone" === e.type &&
                      (l.sheet.add(
                        "." +
                          r +
                          "." +
                          a +
                          "_task_milestone ." +
                          a +
                          "_event_inner",
                        "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: " +
                          t +
                          "; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"
                      ),
                      l.sheet.add(
                        "." +
                          r +
                          "." +
                          a +
                          "_browser_ie8 ." +
                          a +
                          "_task_milestone ." +
                          a +
                          "_event_inner",
                        "-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""
                      ))),
                r
              );
            }
          }),
          (r.ki = function (t, n, a) {
            var l = {};
            (a = a || {}), a.dontAddToCache || o.addToCache(t, n);
            var s = r.ni(t),
              d = s.data,
              c = s.type,
              u = {};
            if (
              (DayPilot.Util.copyProps(d, u, [
                "id",
                "start",
                "end",
                "text",
                "complete",
                "tags",
                "versions",
              ]),
              DayPilot.Util.copyProps(d.box, u),
              (u.parent = n),
              (u.task = t),
              (u.resource = d.id),
              (u.commitCallback = (function (e) {
                return function () {
                  (e.task.start = e.start), (e.task.end = e.end);
                };
              })(u)),
              "Group" === c)
            ) {
              (u.type = "Group"), (u.html = (d.box && d.box.html) || "");
              var h = r.oi(s);
              if (
                (h && (u.cssClass = (u.cssClass || "") + " " + h),
                "Auto" === i.taskGroupMode)
              ) {
                var f = r.hi(t);
                (u.start = f.start),
                  (u.end = f.end),
                  (u.resizeDisabled = !0),
                  (u.moveDisabled = !0),
                  i.moveGroupChildren && (u.moveDisabled = !1);
              }
            } else if ("Milestone" === c) {
              (u.html = ""), (t.end = t.start);
              var v = r.oi(s);
              v && (u.cssClass = (u.cssClass || "") + " " + v),
                (d.end = d.start),
                (u.end = d.start),
                (u.barHidden = !0),
                (u.resizeDisabled = !0),
                (u.type = "Milestone"),
                (u.width = i.taskHeight),
                delete u.backColor;
            } else "Task" === c && e();
            (u.moveVDisabled = !0),
              (u.textLeft = d.box.textLeft),
              (u.htmlLeft = d.box.htmlLeft),
              (u.textRight = d.box.htmlRight),
              (u.htmlRight = d.box.htmlRight),
              (l.event = u);
            var p = {};
            return (
              (p.task = t),
              DayPilot.Util.copyProps(d.row, p),
              (p.name = d.text),
              (p.id = d.id),
              (p.children = []),
              (p.expanded = !d.row || !d.row.collapsed),
              t.children &&
                t.children.length &&
                r.mi(t.children, p.children, t),
              (l.row = p),
              l
            );
          }),
          (r.mi = function (e, t, n) {
            if (DayPilot.isArray(e))
              for (var i = 0; i < e.length; i++) {
                var o = e[i],
                  l = r.ki(o, n);
                a.events.list.push(l.event), t.push(l.row);
              }
          }),
          (r.ii = function (e) {
            var t = [],
              n = e.children();
            if (!n) return t;
            for (var i = 0; i < n.length; i++) {
              var a = n[i];
              t.push(a), (t = t.concat(r.ii(a)));
            }
            return t;
          }),
          (r.hi = function (e) {
            if (!e.children || !e.children.length) {
              var t = e.start,
                n = e.end;
              return (
                "Milestone" === e.type && (n = t),
                { start: new DayPilot.Date(t), end: new DayPilot.Date(n) }
              );
            }
            for (var i = null, a = null, o = 0; o < e.children.length; o++) {
              var l = r.hi(e.children[o]);
              (!i || l.start.getTime() < i.getTime()) && (i = l.start),
                (!a || l.end.getTime() > a.getTime()) && (a = l.end);
            }
            return { start: i, end: a };
          }),
          (this.rows = {}),
          (this.rows.expand = function (e) {
            a.rows.expand(e);
          }),
          (this.rows.expandAll = function () {
            a.rows.expandAll();
          }),
          (this.rows.collapseAll = function () {
            a.rows.collapseAll();
          }),
          (this.rows.filter = function (e) {
            a.rows.filter(e);
          }),
          (this.rows.selection = {}),
          (this.rows.selection.add = function (e) {
            void a.rows.find(e.data.id);
          }),
          (this.rows.selection.clear = function () {
            a.rows.selection.clear();
          }),
          (this.rows.selection.get = function () {
            return a.rows.selection.get().map(function (e) {
              return new DayPilot.Task(e.$.row.task, i);
            });
          }),
          (this.exportAs = function (e, t) {
            return a.exportAs(e, t);
          }),
          (this.Lh = null),
          (this.rh = function (e) {
            if (e) {
              var t = {
                tasks: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (i.tasks.list = e.list)
                        : (i.tasks.list = e));
                  },
                },
                links: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (i.links.list = e.list)
                        : (i.links.list = e));
                  },
                },
                scrollTo: {
                  postInit: function () {
                    this.data && i.scrollTo(this.data);
                  },
                },
                scrollToTask: {
                  postInit: function () {
                    this.data && i.scrollToTask(this.data);
                  },
                },
              };
              this.Lh = t;
              for (var n in e)
                if (t[n]) {
                  var a = t[n];
                  (a.data = e[n]), a.preInit && a.preInit();
                } else i[n] = e[n];
            }
          }),
          (this.Kh = function () {
            var e = this.Lh;
            for (var t in e) {
              var n = e[t];
              n.postInit && n.postInit();
            }
          }),
          (this.internal = {}),
          (this.internal.initialized = function () {
            return i.za;
          }),
          (this.internal.rowObjectForTaskData = r.li),
          (this.internal.loadOptions = i.rh),
          (this.kh = {}),
          (this.kh.scope = null),
          (this.kh.notify = function () {
            i.kh.scope && i.kh.scope["$apply"]();
          }),
          this.rh(n);
      }),
        (DayPilot.Gantt.makeDraggable = function (e) {
          DayPilot.Scheduler.makeDraggableAsRow(e);
        }),
        (DayPilot.Gantt.registerDropTarget = function (e) {
          var t = {};
          (t.element = e.element),
            (t.onDrop = function (t) {
              var n = {};
              (n.task = new DayPilot.Task(t.row.data.task, t.row.calendar)),
                "function" == typeof e.onDrop && e.onDrop(n);
            }),
            (t.onDragOver = function (t) {
              var n = {};
              (n.task = new DayPilot.Task(t.row.data.task, t.row.calendar)),
                "function" == typeof e.onDragOver && e.onDragOver(n);
            }),
            (t.onDragLeave = function (t) {
              var n = {};
              (n.task = new DayPilot.Task(t.row.data.task, t.row.calendar)),
                "function" == typeof e.onDragLeave && e.onDragLeave(n);
            }),
            DayPilot.Scheduler.registerRowDropTarget(t);
        }),
        (DayPilot.Gantt.unregisterDropTarget = function (e) {
          DayPilot.Scheduler.unregisterDropTarget(e);
        }),
        "undefined" != typeof jQuery &&
          !(function (e) {
            e.fn.daypilotGantt = function (e) {
              var t = null,
                n = this.each(function () {
                  if (!this.daypilot) {
                    var n = new DayPilot.Gantt(this.id, e);
                    n.init(), (this.daypilot = n), t || (t = n);
                  }
                });
              return 1 === this.length ? t : n;
            };
          })(jQuery),
        (function () {
          var e = DayPilot.am();
          e &&
            e.directive("daypilotGantt", [
              "$parse",
              function (e) {
                return {
                  restrict: "E",
                  template: "<div id='{{id}}'></div>",
                  compile: function (t, n) {
                    return (
                      t.replaceWith(
                        this["template"].replace("{{id}}", n["id"])
                      ),
                      function (t, n, i) {
                        var a = new DayPilot.Gantt(n[0]);
                        (a.kh.scope = t), a.init();
                        var r = i["id"];
                        r && (t[r] = a);
                        var o = i["publishAs"];
                        if (o) {
                          (0, e(o).assign)(t, a);
                        }
                        for (var l in i)
                          if (0 === l.indexOf("on")) {
                            var s = DayPilot.Util.shouldApply(l);
                            s
                              ? !(function (n) {
                                  a[n] = function (a) {
                                    var r = e(i[n]);
                                    t["$apply"](function () {
                                      r(t, { args: a });
                                    });
                                  };
                                })(l)
                              : !(function (n) {
                                  a[n] = function (a) {
                                    e(i[n])(t, { args: a });
                                  };
                                })(l);
                          }
                        var d = t["$watch"],
                          c = i["config"] || i["daypilotConfig"];
                        d.call(
                          t,
                          c,
                          function (e) {
                            a.rh(e), a.update();
                          },
                          !0
                        );
                      }
                    );
                  },
                };
              },
            ]);
        })(),
        (DayPilot.Gantt.def = {}),
        "undefined" != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(DayPilot),
  (function (DayPilot) {
    if ("undefined" == typeof DayPilot.Kanban || !DayPilot.Kanban.def) {
      var e = function () {};
      (DayPilot.Kanban = function (t, n) {
        this.v = "2025.3.6631";
        var i = this;
        (this.barWidth = null),
          (this.cardAutoHeight = !0),
          (this.cardHeight = 60),
          (this.cardMarginLeft = 5),
          (this.cardMarginRight = 5),
          (this.cardMarginBottom = 5),
          (this.columnHeaderHeight = 40),
          (this.crosshairType = "Disabled"),
          (this.height = 300),
          (this.heightSpec = "Auto"),
          (this.theme = "kanban_default"),
          (this.cellMarginBottom = 4),
          (this.cellMarginTop = 5),
          (this.columnWidthSpec = "Auto"),
          (this.columnWidth = 200),
          (this.cornerHtml = null),
          (this.contextMenuCard = null),
          (this.rowMinHeight = 0),
          (this.rowHeaderWidthAutoFit = !0),
          (this.rowHeaderWidthAutoFitShrink = !1),
          (this.swimlaneCollapsingEnabled = !1),
          (this.swimlaneHeaderWidth = 80),
          (this.visible = !0),
          (this.swimlanes = {}),
          (this.swimlanes.list = []),
          (this.columns = {}),
          (this.columns.list = []),
          (this.cards = {}),
          (this.cards.list = []),
          (this.cardClickHandling = "Enabled"),
          (this.cardDoubleClickHandling = "Disabled"),
          (this.cardDeleteHandling = "Disabled"),
          (this.cardMoveHandling = "Update"),
          (this.columnMoveHandling = "Disabled"),
          (this.swimlaneMoveHandling = "Disabled"),
          (this.cardRightClickHandling = "ContextMenu"),
          (this.onBeforeCellRender = null),
          (this.onBeforeColumnHeaderRender = null),
          (this.onCardClick = null),
          (this.onCardClicked = null),
          (this.onCardDoubleClick = null),
          (this.onCardDoubleClicked = null),
          (this.onCardRightClick = null),
          (this.onCardRightClicked = null),
          (this.onCardDelete = null),
          (this.onCardDeleted = null),
          (this.onCardMove = null),
          (this.onCardMoved = null),
          (this.onCardMoving = null),
          (this.onColumnMove = null),
          (this.onColumnMoved = null),
          (this.onHeightChanged = null),
          (this.onSwimlaneMove = null),
          (this.onSwimlaneMoved = null);
        var a = new DayPilot.Scheduler(t);
        this.scheduler = a;
        var r = {},
          o = 15,
          l = 15;
        e();
        var s = new DayPilot.Date("2000-01-01");
        (r.translate = function () {
          var e = DayPilot.list(i.swimlanes.list).isEmpty(),
            t = a;
          if (
            ((t.startDate = s),
            (t.scale = "Day"),
            (t.timeHeaders = [{ groupBy: "Cell", format: "d" }]),
            (t.rowHeaderColumns = i.rowHeaderColumns),
            (t.heightSpec = i.heightSpec),
            (t.cellWidthSpec = i.columnWidthSpec),
            (t.cellWidth = i.columnWidth),
            (t.cellsMarkBusiness = !1),
            (t.cornerHtml = i.cornerHtml),
            (t.crosshairType = i.crosshairType),
            (t.dynamicEventRendering = "Disabled"),
            (t.floatingEvents = !1),
            (t.floatingTimeHeaders = !1),
            (t.rowMinHeight = i.rowMinHeight),
            (t.rowMarginTop = i.cellMarginTop),
            (t.rowMarginBottom = i.cellMarginBottom),
            (t.devsb = i.devsb),
            (t.eventMoveToPosition = !0),
            (t.headerHeight = i.columnHeaderHeight),
            (t.eventResizeHandling = "Disabled"),
            (t.timeRangeSelectedHandling = "Disabled"),
            (t.eventHeight = i.cardHeight),
            (t.eventMarginLeft = i.cardMarginLeft),
            (t.eventMarginRight = i.cardMarginRight),
            (t.eventMarginBottom = i.cardMarginBottom),
            (t.eventTextWrappingEnabled = !0),
            (t.durationBarVisible = !1),
            (t.theme = i.theme),
            (t.visible = i.visible),
            (t.rowHeaderWidth = i.swimlaneHeaderWidth),
            (t.rowHeaderWidthAutoFit = i.rowHeaderWidthAutoFit),
            (t.rowHeaderWidthAutoFitShrink = i.rowHeaderWidthAutoFitShrink),
            e &&
              ((t.rowHeaderWidth = 0),
              (t.rowHeaderWidthAutoFit = !1),
              (t.rowHeaderWidthAutoFitShrink = !1)),
            (t.contextMenu = i.contextMenuCard),
            (t.eventClickHandling = i.cardClickHandling),
            (t.eventDoubleClickHandling = i.cardDoubleClickHandling),
            (t.eventDeleteHandling = i.cardDeleteHandling),
            (t.eventMoveHandling = i.cardMoveHandling),
            (t.eventRightClickHandling = i.cardRightClickHandling),
            (t.rowMoveHandling = DayPilot.list(i.swimlanes.list).isEmpty()
              ? "Disabled"
              : i.swimlaneMoveHandling),
            (t.onHeightChanged = i.onHeightChanged),
            t.internal.enableCellStacking(i.cardAutoHeight),
            (t.internal.cssNames.timeheadercol = "_colheadercell"),
            (t.internal.cssNames.timeheadercolInner = "_colheadercell_inner"),
            (t.internal.cssNames.resourcedivider = "_rowheaderdivider"),
            (t.internal.cssNames.event = "_card"),
            (t.internal.cssNames.eventInner = "_card_inner"),
            (t.internal.cssNames.eventDelete = "_card_delete"),
            (t.internal.cssNames.eventMovingSource = "_card_moving_source"),
            i.swimlaneCollapsingEnabled && (t.rowHeaderWidthMarginRight = 15),
            i.bubble)
          ) {
            var n = i.bubble,
              d = Symbol.for("originalShowEvent");
            n[d] ||
              ((n[d] = n.showEvent),
              (n.showEvent = function (e, t, a) {
                var r = new DayPilot.Card(e, i);
                return n[d].call(n, r, t, a);
              })),
              (t.bubble = n);
          }
          (t.onBeforeTimeHeaderRender = function (e) {
            var t = i.pi(e.header.start);
            if (
              ((e.header.html = t.name),
              (e.header.toolTip = t.toolTip || ""),
              (e.header.areas = DayPilot.list(t.areas).map(function (e) {
                var t = [];
                return DayPilot.Util.copyProps(e, t), t;
              })),
              "function" == typeof i.onBeforeColumnHeaderRender)
            ) {
              var n = [
                  "areas",
                  "backColor",
                  "cssClass",
                  "text",
                  "html",
                  "toolTip",
                ],
                a = {};
              (a.column = new DayPilot.KanbanColumn(t, i)),
                (a.header = DayPilot.Util.copyProps(e.header, {}, n)),
                i.onBeforeColumnHeaderRender(a),
                DayPilot.Util.copyProps(a.header, e.header, n);
            }
            if (
              (DayPilot.list(e.header.areas).forEach(function (e) {
                e.target = new DayPilot.KanbanColumn(t, i);
              }),
              e.header.areas || (e.header.areas = []),
              "Disabled" !== i.columnMoveHandling)
            ) {
              var r = i.theme + "_columnmove_handle";
              e.header.areas.push({
                left: 0,
                top: 0,
                width: 20,
                bottom: 0,
                css: r,
                mousedown: i.qi,
                action: "None",
              });
            }
            e.header.$ = { areaSource: new DayPilot.KanbanColumn(t, i) };
          }),
            (t.onBeforeCellRender = function (e) {
              var n = {};
              (n.cell = {}),
                (n.cell.column = new DayPilot.KanbanColumn(
                  i.pi(e.cell.start),
                  i
                )),
                (n.cell.swimlane = null);
              var a = i.ri(e.cell.resource);
              a && (n.cell.swimlane = new DayPilot.Swimlane(a, i)),
                (n.cell.areas = []),
                (n.cell.cssClass = null),
                (n.cell.html = null),
                (n.cell.backImage = null),
                (n.cell.backRepeat = null),
                (n.cell.backColor = null),
                "function" == typeof i.onBeforeCellRender &&
                  (i.onBeforeCellRender(n),
                  DayPilot.Util.copyProps(n.cell, e.cell, [
                    "areas",
                    "cssClass",
                    "html",
                    "backImage",
                    "backRepeat",
                    "backColor",
                  ]),
                  DayPilot.list(e.cell.areas).forEach(function (e) {
                    e.target = {
                      swimlane: n.cell.swimlane,
                      column: n.cell.column,
                    };
                  }));
              var r = t.rows.find(e.cell.resource);
              t.resources[r.index].collapsed &&
                (e.cell.cssClass || (e.cell.cssClass = ""),
                (e.cell.cssClass += " " + i.theme + "_collapsed"));
            }),
            (t.onBeforeEventRender = function (e) {
              var t = new DayPilot.Args(e);
              (t.data = {}),
                DayPilot.Util.copyProps(e.data.card, t.data),
                "function" == typeof i.onBeforeCardRender &&
                  i.onBeforeCardRender(t),
                DayPilot.Util.copyProps(t.data, e.data, [
                  "id",
                  "name",
                  "text",
                  "html",
                  "barColor",
                  "areas",
                ]);
              var n = e.data,
                r = i.theme + "_card_header",
                o = i.theme + "_card_body",
                l = "Disabled" !== a.xssProtection;
              if ("string" != typeof e.data.html) {
                var s = l ? DayPilot.Util.escapeHtml(n.name) : n.name,
                  d = l ? DayPilot.Util.escapeHtml(n.text) : n.text;
                e.data.html =
                  "<div class='" +
                  r +
                  "'>" +
                  s +
                  "</div><div class='" +
                  o +
                  "'>" +
                  d +
                  "</div>";
              }
              var c = e.data.areas;
              Array.isArray(c)
                ? (e.data.areas = c.map(function (t) {
                    var n = {};
                    if (
                      (DayPilot.Util.copyProps(t, n),
                      "function" == typeof n.onClick)
                    ) {
                      var a = { source: new DayPilot.Card(e.data.card, i) };
                      n.onClick = function () {
                        t.onClick(a);
                      };
                    }
                    return n;
                  }))
                : (e.data.areas = []);
              var u = {
                backColor: t.data.barColor,
                cssClass: i.theme + "_card_bar",
              };
              "number" == typeof i.barWidth && (u.width = i.barWidth),
                e.data.areas.push(u);
            }),
            (t.onEventClick = function (e) {
              var t = new DayPilot.Args(e);
              (t.card = new DayPilot.Card(e.e.data.card, i)),
                "function" == typeof i.onCardClick && i.onCardClick(t),
                (e.wrapped = t);
            }),
            (t.onEventClicked = function (e) {
              var t = e.wrapped;
              "function" == typeof i.onCardClicked && i.onCardClicked(t);
            }),
            (t.onEventDoubleClick = function (e) {
              var t = new DayPilot.Args(e);
              (t.card = new DayPilot.Card(e.e.data.card, i)),
                "function" == typeof i.onCardDoubleClick &&
                  i.onCardDoubleClick(t),
                (e.wrapped = t);
            }),
            (t.onEventDoubleClicked = function (e) {
              var t = e.wrapped;
              "function" == typeof i.onCardDoubleClicked &&
                i.onCardDoubleClicked(t);
            }),
            (t.onEventRightClick = function (e) {
              var t = new DayPilot.Args(e);
              if (
                ((t.card = new DayPilot.Card(e.e.data.card, i)),
                "function" == typeof i.onCardRightClick &&
                  i.onCardRightClick(t),
                (e.wrapped = t),
                !e.preventDefault.value)
              ) {
                var n = e.e,
                  a = t.card;
                switch (i.cardRightClickHandling) {
                  case "ContextMenu":
                    var r = n.client.contextMenu();
                    r
                      ? r.show(a)
                      : i.contextMenuCard && i.contextMenuCard.show(a),
                      e.preventDefault();
                }
              }
            }),
            (t.onEventRightClicked = function (e) {
              var t = e.wrapped;
              "function" == typeof i.onCardRightClicked &&
                i.onCardRightClicked(t);
            }),
            (t.onEventDelete = function (e) {
              var t = new DayPilot.Args(e);
              (t.card = new DayPilot.Card(e.e.data.card, i)),
                (t.control = i),
                "function" == typeof i.onCardDelete && i.onCardDelete(t),
                (e.wrapped = t);
            }),
            (t.onEventDeleted = function (e) {
              DayPilot.rfa(i.cards.list, e.e.data.card);
              var t = e.wrapped;
              "function" == typeof i.onCardDeleted && i.onCardDeleted(t);
            }),
            (t.onEventMoving = function (e) {
              var t = new DayPilot.Args(e);
              (t.card = new DayPilot.Card(e.e.data.card, i)),
                (t.column = new DayPilot.KanbanColumn(i.pi(e.start), i)),
                (t.position = e.position),
                (t.external = e.external),
                (t.swimlane = null),
                (t.allowed = !0),
                (t.left = e.left),
                (t.left.height = 30),
                (t.left.html = ""),
                (t.right = e.right),
                (t.right.html = ""),
                (t.right.height = 30),
                (t.cssClass = null),
                (t.ctrl = e.ctrl),
                (t.shift = e.shift),
                (t.meta = e.meta),
                (t.alt = e.alt),
                (t.html = null),
                "*" !== e.newResource &&
                  (t.swimlane = new DayPilot.Swimlane(i.ri(e.resource), i)),
                "function" == typeof i.onCardMoving && i.onCardMoving(t),
                (e.wrapped = t),
                t.preventDefault.value ||
                  ((e.allowed = t.allowed),
                  (e.left = t.left),
                  (e.right = t.right),
                  (e.html = t.html),
                  (e.cssClass = t.cssClass));
            }),
            (t.onEventMove = function (e) {
              function t() {
                switch (i.cardMoveHandling) {
                  case "Update":
                    var t = 0;
                    c
                      ? (t = c.wrapped.data.sort[0])
                      : s && (t = s.wrapped.data.sort[0]),
                      (e.e.data.sort = [t, new DayPilot.Date().toString()]),
                      DayPilot.rfa(i.cards.list, e.e.data.card);
                    var n = 0;
                    c
                      ? (n = DayPilot.indexOf(i.cards.list, c.data))
                      : s && (n = DayPilot.indexOf(i.cards.list, s.data) + 1);
                    var o = i.pi(e.newStart);
                    (e.e.data.card.column = o.id),
                      (e.e.data.card.swimlane = e.newResource),
                      i.cards.list.splice(n, 0, e.e.data.card),
                      r.updateSort(),
                      a.internal.deleteDragSource(),
                      i.update();
                }
                !(function () {
                  var t = e.wrapped,
                    n = DayPilot.list(i.cards.list).find(function (t) {
                      return e.e.data.card === t;
                    });
                  (n.swimlane = t.swimlane ? t.swimlane.data.id : null),
                    (n.column = t.column.data.id),
                    "function" == typeof i.onCardMoved && i.onCardMoved(t);
                })();
              }
              e.external &&
                (e.e.data.card = {
                  id: e.e.data.id,
                  name: e.e.data.name,
                  text: e.e.data.text,
                  barColor: e.e.data.barColor,
                  barBackColor: e.e.data.barBackColor,
                });
              var n = new DayPilot.Args(e);
              (n.async = !1),
                (n.control = i),
                (n.card = new DayPilot.Card(e.e.data.card, i)),
                (n.column = new DayPilot.KanbanColumn(i.pi(e.newStart))),
                (n.position = e.position),
                (n.external = e.external),
                (n.loaded = function () {
                  if (n.async) {
                    if (n.preventDefault.value) return;
                    t();
                  }
                }),
                "*" !== e.newResource
                  ? (n.swimlane = new DayPilot.Swimlane(i.ri(e.newResource), i))
                  : (n.swimlane = null);
              for (
                var o = a.cells.find(e.newStart, e.newResource)[0].events(),
                  l = e.position,
                  s = null,
                  d = l - 1;
                o[d];

              ) {
                if (o[d].data !== e.e.data) {
                  s = new DayPilot.Card(o[d]);
                  break;
                }
                d -= 1;
              }
              for (var c = null, u = l; o[u]; ) {
                if (o[u].data !== e.e.data) {
                  c = new DayPilot.Card(o[u]);
                  break;
                }
                u += 1;
              }
              (n.previous = s),
                (n.next = c),
                "function" == typeof i.onCardMove && i.onCardMove(n),
                (e.wrapped = n),
                e.preventDefault(),
                n.preventDefault.value || n.async || t();
            }),
            (t.onBeforeResHeaderRender = function (e) {
              if (i.swimlaneCollapsingEnabled) {
                if (!DayPilot.list(i.swimlanes.list).isEmpty()) {
                  var t = i.theme + "_swimlane_collapse";
                  e.resource.collapsed && (t = i.theme + "_swimlane_expand");
                  var n = e.resource;
                  i.rowHeaderColumns &&
                    (n = e.resource.columns[e.resource.columns.length - 1]),
                    (n.areas = [
                      {
                        right: 0,
                        top: 0,
                        height: l,
                        width: o,
                        action: "JavaScript",
                        css: t,
                        js: function () {
                          i.si(e.resource.index);
                        },
                      },
                    ]);
                }
              }
            }),
            (t.onRowMove = function (e) {
              var t = new DayPilot.Args(e);
              (t.control = i),
                (e.wrapped = t),
                (t.swimlane = new DayPilot.Swimlane(e.source.$.row.swimlane));
              var n = 0;
              switch (e.position) {
                case "before":
                  n = e.target.index;
                  break;
                case "after":
                  n = e.target.index + 1;
                  break;
                default:
                  throw "Unexpected target swimlane position: " + e.position;
              }
              (t.position = n), (t.previous = null);
              for (
                var r = n - 1;
                a.rowlist[r] && a.rowlist[r].swimlane !== t.swimlane.data;

              )
                (t.previous = new DayPilot.Swimlane(a.rowlist[r].swimlane)),
                  (r -= 1);
              t.next = null;
              for (
                var o = n;
                a.rowlist[o] && a.rowlist[o].swimlane !== t.swimlane.data;

              )
                (t.next = new DayPilot.Swimlane(a.rowlist[o].swimlane)),
                  (o += 1);
              "function" == typeof i.onSwimlaneMove && i.onSwimlaneMove(t);
            }),
            (t.onRowMoved = function (e) {
              var t = e.wrapped;
              DayPilot.rfa(i.swimlanes.list, t.swimlane.data);
              var n = 0;
              t.next
                ? (n = DayPilot.indexOf(i.swimlanes.list, t.next.data))
                : t.previous &&
                  (n = DayPilot.indexOf(i.swimlanes.list, t.previous.data) + 1),
                i.swimlanes.list.splice(n, 0, t.swimlane.data),
                "function" == typeof i.onSwimlaneMoved && i.onSwimlaneMoved(t);
            }),
            (t.treePreventParentUsage = !0);
        }),
          (r.loadCards = function () {
            var e = new DayPilot.Date().toString();
            (a.sortDirections = ["asc", "desc"]),
              (a.events.list = DayPilot.list(i.cards.list).map(function (t, n) {
                var a = {};
                return (
                  (a.id = t.id),
                  (a.resource = t.swimlane),
                  (a.start = s.addDays(
                    DayPilot.list(i.columns.list).findIndex(function (e) {
                      return t.column === e.id;
                    })
                  )),
                  (a.end = a.start.addDays(1)),
                  (a.card = t),
                  (a.height = t.height),
                  (a.cssClass = t.cssClass),
                  (a.sort = [n, e]),
                  a
                );
              }));
          }),
          (r.updateSort = function () {
            var e = new DayPilot.Date().toString();
            DayPilot.list(i.cards.list).forEach(function (t, n) {
              var i = r.findSchedulerEventData(t);
              i && (i.sort = [n, e]);
            });
          }),
          (r.findSchedulerEventData = function (e) {
            return DayPilot.list(a.events.list).find(function (t) {
              return t.card === e;
            });
          }),
          (r.loadSwimlanes = function () {
            var e = DayPilot.list(i.swimlanes.list);
            (a.resources = e.map(function (e) {
              var t = {};
              return (
                (t.name = e.name),
                (t.id = e.id),
                (t.swimlane = e),
                e.collapsed &&
                  ((t.collapsed = !0),
                  (t.eventHeight = 20),
                  (t.hideEvents = !0)),
                t
              );
            })),
              e.isEmpty() && (a.resources = [{ name: "", id: "*" }]);
          }),
          (r.loadColumns = function () {
            var e = DayPilot.list(i.columns.list);
            a.days = e.length;
          });
        var d = {};
        (d.active = null),
          (d.div = null),
          (d.update = function () {
            d.clear();
            var e = d.findPosition();
            d.draw(e);
          }),
          (d.clear = function () {
            DayPilot.de(d.div), (d.div = null);
          }),
          (d.draw = function (e) {
            var t = 0;
            if (e >= a.itline.length) {
              var n = a.itline[a.itline.length - 1];
              t = n.left + n.width - 3;
            } else t = a.itline[e].left;
            var r = document.createElement("div");
            (r.style.position = "absolute"),
              (r.style.left = t + "px"),
              (r.style.width = "3px"),
              (r.style.top = 0),
              (r.style.height = a.headerHeight + "px"),
              (r.className = i.theme + "_columnmove_position"),
              (d.div = r),
              a.nav.timeHeader.appendChild(r);
          }),
          (d.findPosition = function () {
            if (i.coords.x < 0) return 0;
            var e = a.internal.outerRowHeaderWidth(),
              t = DayPilot.list(a.itline).findIndex(function (t) {
                var n = t.left + e,
                  a = t.width;
                return i.coords.x < n + a / 2;
              });
            return t === -1 ? a.itline.length : t;
          }),
          (this.qi = function (e) {
            d.active = e;
          }),
          (this.pi = function (e) {
            return i.columns.list[DayPilot.DateUtil.daysDiff(s, e)];
          }),
          (this.ri = function (e) {
            return DayPilot.list(i.swimlanes.list).find(function (t) {
              return t.id === e;
            });
          }),
          (this.vi = function (e) {
            return a.internal.findEventDiv(e.wrapped);
          }),
          (this.message = function (e, t, n, i) {
            a.message(e, t, n, i);
          }),
          (this.show = function () {
            (i.visible = !0), a.show();
          }),
          (this.hide = function () {
            (i.visible = !1), a.hide();
          }),
          (this.cards.add = function (e) {
            var t = null;
            (t = e && e instanceof DayPilot.Card ? e.data : e),
              e && (i.cards.list.push(t), i.update());
          }),
          (this.cards.remove = function (e) {
            var t = null;
            (t = e && e instanceof DayPilot.Card ? e.data : e),
              e && (DayPilot.rfa(i.cards.list, t), i.update());
          }),
          (this.cards.update = function () {
            i.update();
          }),
          (this.cards.find = function (e) {
            var t = DayPilot.list(i.cards.list).find(function (t) {
              return e === t.id;
            });
            return t ? new DayPilot.Card(t, i) : null;
          }),
          (this.si = function (e) {
            DayPilot.list(i.swimlanes.list).isEmpty() ||
              (i.swimlanes.list[e].collapsed = !i.swimlanes.list[e].collapsed),
              i.update();
          }),
          (this.init = function () {
            if (this.za)
              throw new DayPilot.Exception(
                "This instance is already initialized. Use update() to change properties."
              );
            return (
              r.translate(),
              r.loadSwimlanes(),
              r.loadColumns(),
              r.loadCards(),
              a.init(),
              i.Eg(),
              (this.za = !0),
              this
            );
          }),
          (this.Aa = !1),
          (this.dispose = function () {
            a.dispose(), (i.Aa = !0);
          }),
          (this.disposed = function () {
            return this.Aa;
          }),
          (this.update = function (e) {
            var t = i;
            if (!t.za)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Kanban instance that hasn't been initialized yet."
              );
            if (t.Aa)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Kanban instance that has been disposed."
              );
            i.rh(e),
              r.translate(),
              r.loadSwimlanes(),
              r.loadColumns(),
              r.loadCards(),
              a.update();
          }),
          (this.Eg = function () {
            DayPilot.re(document, "mouseup", i.Hg),
              DayPilot.re(document, "mousemove", i.Gg);
          }),
          (this.kh = {}),
          (this.kh.scope = null),
          (this.kh.notify = function () {
            i.kh.scope && i.kh.scope["$apply"]();
          }),
          (this.Lh = null),
          (this.rh = function (e) {
            if (e) {
              var t = {
                cards: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (i.cards.list = e.list)
                        : (i.cards.list = e));
                  },
                },
                columns: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (i.columns.list = e.list)
                        : (i.columns.list = e));
                  },
                },
                swimlanes: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (i.swimlanes.list = e.list)
                        : (i.swimlanes.list = e));
                  },
                },
              };
              this.Lh = t;
              for (var n in e)
                if (t[n]) {
                  var a = t[n];
                  (a.data = e[n]), a.preInit && a.preInit();
                } else i[n] = e[n];
            }
          }),
          (this.Kh = function () {
            var e = this.Lh;
            for (var t in e) {
              var n = e[t];
              n.postInit && n.postInit();
            }
          }),
          (this.internal = {}),
          (this.internal.loadOptions = i.rh),
          (this.internal.findCardDiv = i.vi),
          this.rh(n),
          (this.vg = function () {
            var e = i.nav.top;
            return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
          }),
          (this.wg = function () {
            var e = i,
              t = e.vg;
            t() ||
              e.Va ||
              (e.Va = setInterval(function () {
                t() && (e.update(), clearInterval(e.Va));
              }, 100));
          }),
          (this.Gg = function (e) {
            (i.coords = DayPilot.mo3(a.nav.top, e)), d.active && d.update();
          }),
          (this.Hg = function () {
            if (d.active) {
              var e = d.active.source,
                t = e.data,
                n = d.findPosition(),
                a = new DayPilot.Args();
              (a.column = new DayPilot.KanbanColumn(t, i)),
                (a.position = n),
                (a.previous = null),
                (a.next = null);
              for (var r = null, o = a.position; 0 !== o && !r; )
                t !== i.columns.list[o - 1] && (r = i.columns.list[o - 1]),
                  (o -= 1);
              r && (a.previous = new DayPilot.KanbanColumn(r, i));
              var l = null;
              for (o = a.position; o < i.columns.list.length - 1 && !l; )
                t !== i.columns.list[o] && (l = i.columns.list[o]), (o += 1);
              if (
                (l && (a.next = new DayPilot.KanbanColumn(l, i)),
                "function" == typeof i.onColumnMove && i.onColumnMove(a),
                !a.preventDefault.value)
              ) {
                if ("Update" === i.columnMoveHandling) {
                  DayPilot.rfa(i.columns.list, a.column.data);
                  var s = 0;
                  a.next
                    ? (s = DayPilot.indexOf(i.columns.list, a.next.data))
                    : a.previous &&
                      (s =
                        DayPilot.indexOf(i.columns.list, a.previous.data) + 1),
                    i.columns.list.splice(s, 0, a.column.data),
                    i.update();
                }
                "function" == typeof i.onColumnMoved && i.onColumnMove(a);
              }
              (d.active = null), d.clear();
            }
          });
      }),
        (DayPilot.Kanban.makeDraggable = function (e) {
          DayPilot.Scheduler.makeDraggable(e);
        }),
        (DayPilot.Card = function (e, t) {
          if (e instanceof DayPilot.Event) {
            var n = e;
            (this.data = n.data.card), (this.wrapped = e);
          } else this.data = e;
          (this.control = t),
            (this.calendar = t),
            (this.toJSON = function () {
              var e = {};
              return (
                (e.id = this.data.id),
                (e.name = this.data.name),
                (e.text = this.data.text),
                (e.column = this.data.column),
                (e.swimlane = this.data.swimlane),
                e
              );
            });
        }),
        (DayPilot.KanbanColumn = function (e, t) {
          (this.data = e), (this.control = t);
        }),
        (DayPilot.Swimlane = function (e, t) {
          (this.data = e), (this.control = t);
        }),
        (function () {
          var e = DayPilot.am();
          e &&
            e.directive("daypilotKanban", [
              "$parse",
              function (e) {
                return {
                  restrict: "E",
                  template: "<div id='{{id}}'></div>",
                  compile: function (t, n) {
                    return (
                      t.replaceWith(
                        this["template"].replace("{{id}}", n["id"])
                      ),
                      function (t, n, i) {
                        var a = new DayPilot.Kanban(n[0]);
                        (a.kh.scope = t), a.init();
                        var r = i["id"];
                        r && (t[r] = a);
                        var o = i["publishAs"];
                        if (o) {
                          (0, e(o).assign)(t, a);
                        }
                        for (var l in i)
                          if (0 === l.indexOf("on")) {
                            var s = DayPilot.Util.shouldApply(l);
                            s
                              ? !(function (n) {
                                  a[n] = function (a) {
                                    var r = e(i[n]);
                                    t["$apply"](function () {
                                      r(t, { args: a });
                                    });
                                  };
                                })(l)
                              : !(function (n) {
                                  a[n] = function (a) {
                                    e(i[n])(t, { args: a });
                                  };
                                })(l);
                          }
                        var d = t["$watch"],
                          c = i["config"] || i["daypilotConfig"];
                        d.call(
                          t,
                          c,
                          function (e) {
                            a.rh(e), a.update();
                          },
                          !0
                        );
                      }
                    );
                  },
                };
              },
            ]);
        })(),
        (DayPilot.Kanban.def = {});
    }
  })(DayPilot),
  (function (DayPilot) {
    if ("undefined" == typeof DayPilot.Menu || !DayPilot.Menu.def) {
      var e = function () {},
        t = {};
      (t.mouse = null),
        (t.menu = null),
        (t.handlersRegistered = !1),
        (t.hideTimeout = null),
        (t.waitingSubmenu = null),
        (DayPilot.Menu = function (n) {
          var i = this,
            a = null;
          (this.v = "2025.3.6631"),
            (this.zIndex = 120),
            (this.cssClassPrefix = "menu_default"),
            (this.cssOnly = !0),
            (this.menuTitle = null),
            (this.showMenuTitle = !1),
            (this.hideOnMouseOut = !1),
            (this.hideAfter = 200),
            (this.theme = null),
            (this.onShow = null);
          var r = DayPilot.isArray(n) ? null : n;
          if (
            ((this.R = function () {}),
            n && DayPilot.isArray(n) && (this.items = n),
            (this.toJSON = function () {
              return null;
            }),
            (this.show = function (n, r) {
              r = r || {};
              var o = null;
              if (
                (n
                  ? "string" == typeof n.id || "number" == typeof n.id
                    ? (o = n.id)
                    : "function" == typeof n.id
                    ? (o = n.id())
                    : "function" == typeof n.value && (o = n.value())
                  : (o = null),
                "undefined" != typeof DayPilot.Bubble &&
                  DayPilot.Bubble.hideActive(),
                r.submenu || t.menuClean(),
                (this.R.submenu = null),
                null !== t.mouse)
              ) {
                i.cssOnly || (i.cssOnly = !0);
                var l = null;
                if (
                  (n && n.isRow && n.$.row.task
                    ? ((l = new DayPilot.Task(n.$.row.task, n.calendar)),
                      (l.menuType = "resource"))
                    : (l =
                        n && n.isEvent && n.data.task
                          ? new DayPilot.Task(n, n.calendar)
                          : n),
                  "function" == typeof i.onShow)
                ) {
                  var s = {};
                  if (
                    ((s.source = l),
                    (s.menu = i),
                    (s.preventDefault = function () {
                      s.preventDefault.value = !0;
                    }),
                    i.onShow(s),
                    s.preventDefault.value)
                  )
                    return;
                }
                var d = document.createElement("div");
                if (
                  ((d.style.position = "absolute"),
                  (d.style.top = "0px"),
                  (d.style.left = "0px"),
                  (d.style.display = "none"),
                  (d.style.overflow = "hidden"),
                  (d.style.zIndex = this.zIndex + 1),
                  (d.className = this.wi("main")),
                  (d.onclick = function (e) {
                    (e.cancelBubble = !0), this.parentNode.removeChild(this);
                  }),
                  this.hideOnMouseOut &&
                    ((d.onmousemove = function () {
                      clearTimeout(t.hideTimeout);
                    }),
                    (d.onmouseleave = function () {
                      i.delayedHide({ hideParent: !0 });
                    })),
                  !this.items || 0 === this.items.length)
                )
                  throw "No menu items defined.";
                if (this.showMenuTitle) {
                  var c = document.createElement("div");
                  (c.innerHTML = this.menuTitle),
                    (c.className = this.wi("title")),
                    d.appendChild(c);
                }
                for (
                  var u = function (a) {
                      var r = h.items[a],
                        s = document.createElement("div");
                      if (
                        (DayPilot.Util.addClass(s, h.wi("item")),
                        r.items &&
                          (DayPilot.Util.addClass(s, h.wi("item_haschildren")),
                          DayPilot.Util.addClass(d, h.wi("withchildren"))),
                        "undefined" == typeof r)
                      )
                        return "continue";
                      if (r.hidden) return "continue";
                      if ("-" === r.text) {
                        var c = document.createElement("div");
                        c.addEventListener("click", function (e) {
                          e.stopPropagation();
                        }),
                          s.appendChild(c);
                      } else {
                        var u = document.createElement("a");
                        if (
                          ((u.style.position = "relative"),
                          (u.style.display = "block"),
                          r.cssClass && DayPilot.Util.addClass(u, r.cssClass),
                          r.disabled)
                        )
                          DayPilot.Util.addClass(u, i.wi("item_disabled"));
                        else {
                          if (r.onclick || r.onClick) {
                            (u.item = r),
                              (u.onclick = (function (e, t) {
                                return function (n) {
                                  if ("function" == typeof e.onClick) {
                                    var i = {};
                                    if (
                                      ((i.item = e),
                                      (i.source = t.source),
                                      (i.originalEvent = n),
                                      (i.preventDefault = function () {
                                        i.preventDefault.value = !0;
                                      }),
                                      e.onClick(i),
                                      i.preventDefault.value)
                                    )
                                      return void n.stopPropagation();
                                  }
                                  e.onclick && e.onclick.call(t, n);
                                };
                              })(r, u));
                            var f = function (e, n) {
                              return function (i) {
                                i.stopPropagation(), i.preventDefault();
                                var a = function () {
                                  window.setTimeout(function () {
                                    n.source.calendar &&
                                      (n.source.calendar.internal.touch.active =
                                        !1);
                                  }, 500);
                                };
                                if ("function" == typeof e.onClick) {
                                  var r = {};
                                  if (
                                    ((r.item = e),
                                    (r.source = n.source),
                                    (r.originalEvent = i),
                                    (r.preventDefault = function () {
                                      r.preventDefault.value = !0;
                                    }),
                                    e.onClick(r),
                                    r.preventDefault.value)
                                  )
                                    return void a();
                                }
                                e.onclick && e.onclick.call(n, i),
                                  t.menuClean(),
                                  a();
                              };
                            };
                            DayPilot.reNonPassive(
                              u,
                              "touchstart",
                              function (e) {
                                e.stopPropagation(),
                                  e.preventDefault(),
                                  u.source.calendar &&
                                    (u.source.calendar.internal.touch.active =
                                      !0);
                              }
                            ),
                              DayPilot.reNonPassive(u, "touchend", f(r, u));
                          }
                          if (r.items && !r.disabled) {
                            var v = function (e, t) {
                              return function (n) {
                                n.preventDefault(),
                                  n.stopPropagation(),
                                  i.xi(e, t);
                              };
                            };
                            u.ontouchend = v(r, u);
                          }
                          if (r.onclick) e();
                          else if (r.href)
                            (u.href = r.href.replace(/\x7B0\x7D/gim, o)),
                              r.target && u.setAttribute("target", r.target);
                          else if (r.command) {
                            var v = function (e, t) {
                              return function (n) {
                                var i = t.source,
                                  a = e;
                                a.action = a.action ? a.action : "CallBack";
                                var r = i.calendar || i.root;
                                if (
                                  (n.preventDefault(),
                                  i instanceof DayPilot.Link)
                                )
                                  r.internal.linkMenuClick(
                                    a.command,
                                    i,
                                    a.action
                                  );
                                else if (i instanceof DayPilot.Selection)
                                  r.internal.timeRangeMenuClick(
                                    a.command,
                                    i,
                                    a.action
                                  );
                                else if (i instanceof DayPilot.Event)
                                  r.internal.eventMenuClick(
                                    a.command,
                                    i,
                                    a.action
                                  );
                                else if (i instanceof DayPilot.Task)
                                  "resource" === i.menuType
                                    ? r.internal.resourceHeaderMenuClick(
                                        a.command,
                                        t.menuSource,
                                        a.action
                                      )
                                    : r.internal.eventMenuClick(
                                        a.command,
                                        t.menuSource,
                                        a.action
                                      );
                                else
                                  switch (i.menuType) {
                                    case "resource":
                                      r.internal.resourceHeaderMenuClick(
                                        a.command,
                                        i,
                                        a.action
                                      );
                                      break;
                                    case "selection":
                                      r.internal.timeRangeMenuClick(
                                        a.command,
                                        i,
                                        a.action
                                      );
                                      break;
                                    default:
                                      r.internal.eventMenuClick(
                                        a.command,
                                        i,
                                        a.action
                                      );
                                  }
                              };
                            };
                            (u.onclick = v(r, u)), (u.ontouchend = v(r, u));
                          }
                        }
                        r.items &&
                          u.addEventListener("click", function (e) {
                            e.stopPropagation();
                          }),
                          (u.source = l),
                          (u.menuSource = n);
                        var p = document.createElement("span");
                        if (
                          ((p.className = i.wi("item_text")),
                          (p.innerHTML = DayPilot.Util.escapeTextHtml(
                            r.text,
                            r.html
                          )),
                          u.appendChild(p),
                          r.image)
                        ) {
                          var m = document.createElement("img");
                          (m.src = r.image),
                            (m.style.position = "absolute"),
                            (m.style.top = "0px"),
                            (m.style.left = "0px"),
                            u.appendChild(m);
                        }
                        if (r.icon) {
                          var g = document.createElement("span");
                          g.className = i.wi("item_icon");
                          var b = document.createElement("i");
                          (b.className = r.icon),
                            g.appendChild(b),
                            u.appendChild(g);
                        }
                        if (r.symbol) {
                          var y = "http://www.w3.org/2000/svg",
                            w = document.createElementNS(y, "svg");
                          w.setAttribute("width", "100%"),
                            w.setAttribute("height", "100%");
                          var x = document.createElementNS(y, "use");
                          x.setAttribute("href", r.symbol), w.appendChild(x);
                          var k = document.createElement("span");
                          (k.className = i.wi("item_symbol")),
                            (k.style.position = "absolute"),
                            (k.style.top = "0px"),
                            (k.style.left = "0px"),
                            k.appendChild(w),
                            u.appendChild(k);
                        }
                        var C = function (e, n) {
                          return function () {
                            var a = e,
                              r = t.waitingSubmenu;
                            if (r) {
                              if (r.parent === a) return;
                              clearTimeout(r.timeout),
                                (t.waitingSubmenu = null);
                            }
                            e.disabled ||
                              ((t.waitingSubmenu = {}),
                              (t.waitingSubmenu.parent = a),
                              (t.waitingSubmenu.timeout = setTimeout(
                                function () {
                                  (t.waitingSubmenu = null), i.xi(a, n);
                                },
                                300
                              )));
                          };
                        };
                        (u.onmouseover = C(r, u)), s.appendChild(u);
                      }
                      d.appendChild(s);
                    },
                    h = this,
                    f = 0;
                  f < this.items.length;
                  f++
                )
                  u(f);
                var v = function () {
                  window.setTimeout(function () {
                    t.menuClean(), DayPilot.MenuBar.deactivate();
                  }, 100);
                };
                (d.onclick = v),
                  (d.ontouchend = v),
                  (d.onmousedown = function (e) {
                    e.stopPropagation();
                  }),
                  (d.oncontextmenu = function () {
                    return !1;
                  }),
                  document.body.appendChild(d),
                  (i.R.visible = !0),
                  (i.R.source = n),
                  (d.style.display = "");
                var p = d.offsetHeight,
                  m = d.offsetWidth;
                d.style.display = "none";
                var g = document.documentElement.clientHeight,
                  b = window.innerWidth,
                  y = "number" == typeof r.windowMargin ? r.windowMargin : 5;
                if (
                  ((function () {
                    var e = r.initiator;
                    if (e) {
                      var t = e.div,
                        n = e.e,
                        i = e.area,
                        o = i.visibility || i.v || "Visible",
                        l = e.a;
                      if (
                        ("Visible" !== o &&
                          ((l = DayPilot.Areas.createArea(t, n, i)),
                          t.appendChild(l),
                          (a = l)),
                        l)
                      ) {
                        var s = DayPilot.abs(l);
                        (r.x = s.x), (r.y = s.y + s.h + 2);
                      }
                    }
                  })(),
                  (function () {
                    var e = "number" == typeof r.x ? r.x : t.mouse.x + 1,
                      n = "number" == typeof r.y ? r.y : t.mouse.y + 1,
                      a =
                        document.body.scrollTop ||
                        document.documentElement.scrollTop,
                      o =
                        document.body.scrollLeft ||
                        document.documentElement.scrollLeft,
                      l = 0,
                      s = 0;
                    if (n - a > g - p && 0 !== g) {
                      l = n - (n - a - (g - p) + y);
                    } else l = n;
                    if (
                      ((i.R.y = l),
                      (d.style.top = l + "px"),
                      "right" === r.align && (e -= m),
                      e - o > b - m && 0 !== b)
                    ) {
                      s = e - (e - o - (b - m) + y);
                    } else s = e;
                    (i.R.x = s), (d.style.left = s + "px");
                  })(),
                  r.parentLink)
                ) {
                  var w = r.parentLink,
                    x = parseInt(
                      new DayPilot.StyleReader(d).get("border-top-width")
                    ),
                    k = DayPilot.abs(r.parentLink.parentNode),
                    C = k.x + w.offsetWidth,
                    _ = k.y - x;
                  C + m > b && (C = Math.max(0, k.x - m));
                  var T =
                    document.body.scrollTop +
                    document.documentElement.scrollTop;
                  _ + p - T > g && (_ = Math.max(0, g - p + T)),
                    (d.style.left = C + "px"),
                    (d.style.top = _ + "px");
                }
                (d.style.display = ""),
                  this.addShadow(d),
                  (this.R.div = d),
                  r.submenu || (DayPilot.Menu.active = this);
              }
            }),
            (this.update = function () {
              if (i.R.visible) {
                var e = i.R.source;
                i.hide(), i.show(e, { x: i.R.x, y: i.R.y });
              }
            }),
            (this.xi = function (e, t) {
              var n = e,
                a = t.source;
              if (
                (!i.R.submenu || i.R.submenu.item !== e) &&
                (i.R.submenu &&
                  i.R.submenu.item !== e &&
                  (DayPilot.Util.removeClass(
                    i.R.submenu.link.parentNode,
                    i.wi("item_haschildren_active")
                  ),
                  i.R.submenu.menu.hide(),
                  (i.R.submenu = null)),
                e.items)
              ) {
                var r = i.cloneOptions();
                (r.items = e.items),
                  (i.R.submenu = {}),
                  (i.R.submenu.menu = new DayPilot.Menu(r)),
                  (i.R.submenu.menu.yi = i),
                  i.R.submenu.menu.show(a, {
                    submenu: !0,
                    parentLink: t,
                    parentItem: n,
                  }),
                  (i.R.submenu.item = e),
                  (i.R.submenu.link = t),
                  DayPilot.Util.addClass(
                    t.parentNode,
                    i.wi("item_haschildren_active")
                  );
              }
            }),
            (this.wi = function (e) {
              var t = this.theme || this.cssClassPrefix,
                n = this.cssOnly ? "_" : "";
              return t ? t + n + e : "";
            }),
            (this.cloneOptions = function () {
              return DayPilot.Util.copyProps(r, {}, [
                "cssClassPrefix",
                "theme",
                "hideAfter",
                "hideOnMouseOut",
                "zIndex",
              ]);
            }),
            (this.hide = function (e) {
              (e = e || {}), this.R.submenu && this.R.submenu.menu.hide();
              var n = t.waitingSubmenu;
              if (
                (n && ((t.waitingSubmenu = null), clearTimeout(n.timeout)),
                this.removeShadow(),
                this.R.div &&
                  this.R.div.parentNode === document.body &&
                  document.body.removeChild(this.R.div),
                a && (DayPilot.de(a), (a = null)),
                (i.R.visible = !1),
                (i.R.source = null),
                i.yi && e.hideParent && i.yi.hide(e),
                DayPilot.Menu.active === i && (DayPilot.Menu.active = null),
                "function" == typeof this.onHide)
              ) {
                var r = {};
                this.onHide(r);
              }
            }),
            (this.delayedHide = function (e) {
              t.hideTimeout = setTimeout(function () {
                i.hide(e);
              }, i.hideAfter);
            }),
            (this.cancelHideTimeout = function () {
              clearTimeout(t.hideTimeout);
            }),
            (this.init = function (e) {
              return t.mouseMove(e), this;
            }),
            (this.addShadow = function () {}),
            (this.removeShadow = function () {}),
            r)
          )
            for (var o in r) this[o] = r[o];
        }),
        (DayPilot.MenuBar = function (e, t) {
          var n = this;
          (t = t || {}),
            (this.items = []),
            (this.theme = "menubar_default"),
            (this.windowMargin = 0),
            (this.nav = {}),
            (this.elements = {}),
            (this.elements.items = DayPilot.list()),
            (this.s = null),
            (this.za = !1);
          for (var i in t) this[i] = t[i];
          (this.zi = function (e) {
            return this.theme + "_" + e;
          }),
            (this.D = function () {
              this.nav.top = document.getElementById(e);
              var t = this.nav.top;
              (t.className = this.zi("main")),
                DayPilot.list(n.items).forEach(function (e) {
                  var i = document.createElement("span");
                  (i.innerHTML = DayPilot.Util.escapeTextHtml(e.text, e.html)),
                    (i.className = n.zi("item")),
                    e.cssClass && i.classList.add(e.cssClass),
                    (i.data = e),
                    (i.onclick = function (t) {
                      if (n.active && n.active.item === e) n.Ai();
                      else if (e.children) return void n.Bi(i);
                      if ("function" == typeof e.onClick) {
                        var a = {};
                        (a.item = e), (a.originalEvent = t), e.onClick(a);
                      }
                    }),
                    (i.onmousedown = function (e) {
                      e.stopPropagation();
                    }),
                    (i.onmouseover = function () {
                      n.active && n.active.item !== e && n.Bi(i);
                    }),
                    t.appendChild(i),
                    n.elements.items.push(i);
                });
            }),
            (this.Ai = function () {
              var e = n.zi("item_active");
              n.elements.items.forEach(function (t) {
                DayPilot.Util.removeClass(t, e);
              }),
                n.active && n.active.menu && n.active.menu.hide(),
                (n.active = null);
            }),
            (this.Ci = function (e) {
              return !!n.active && n.active.item === e.data;
            }),
            (this.Bi = function (e) {
              if (!n.Ci(e)) {
                n.Ai();
                var t = e.data,
                  i = (n.active = {});
                (i.item = t), (i.div = e);
                var a = n.zi("item_active");
                DayPilot.Util.addClass(e, a);
                var r = DayPilot.abs(e);
                if (t.children) {
                  i.menu = new DayPilot.Menu({ items: t.children });
                  var o = r.x;
                  "right" === t.align && (o += r.w),
                    i.menu.show(null, {
                      x: o,
                      y: r.y + r.h,
                      align: t.align,
                      windowMargin: n.windowMargin,
                    });
                }
                DayPilot.MenuBar.active = n;
              }
            }),
            (this.init = function () {
              return this.D(), (this.za = !0), this;
            }),
            (this.dispose = function () {
              this.za &&
                ((this.nav.top.innerHTML = ""), (this.elements.items = []));
            });
        }),
        (DayPilot.MenuBar.deactivate = function () {
          DayPilot.MenuBar.active &&
            (DayPilot.MenuBar.active.Ai(), (DayPilot.MenuBar.active = null));
        }),
        (t.menuClean = function () {
          "undefined" != typeof DayPilot.Menu.active &&
            DayPilot.Menu.active &&
            (DayPilot.Menu.active.hide(), (DayPilot.Menu.active = null));
        }),
        (t.mouseDown = function () {
          "undefined" != typeof t &&
            (t.menuClean(), DayPilot.MenuBar.deactivate());
        }),
        (t.wheel = function () {
          "undefined" != typeof t &&
            (t.menuClean(), DayPilot.MenuBar.deactivate());
        }),
        (t.mouseMove = function (e) {
          "undefined" != typeof t && (t.mouse = t.mousePosition(e));
        }),
        (t.touchMove = function (e) {
          "undefined" != typeof t && (t.mouse = t.touchPosition(e));
        }),
        (t.touchStart = function (e) {
          "undefined" != typeof t && (t.mouse = t.touchPosition(e));
        }),
        (t.touchEnd = function () {}),
        (t.touchPosition = function (e) {
          if (!e || !e.touches) return null;
          var t = e.touches[0],
            n = {};
          return (n.x = t.pageX), (n.y = t.pageY), n;
        }),
        (t.mousePosition = function (e) {
          return DayPilot.mo3(null, e);
        }),
        (DayPilot.Menu.touchPosition = function (e) {
          e.touches && (t.mouse = t.touchPosition(e));
        }),
        (DayPilot.Menu.mousePosition = function (e) {
          t.mouse = t.mousePosition(e);
        }),
        (DayPilot.Menu.hide = function (e) {
          if (((e = e || {}), e.calendar)) {
            var n = DayPilot.Menu.active;
            if (n) {
              var i = n.R.source;
              i && i.calendar === e.calendar && t.menuClean();
            }
          } else t.menuClean();
        }),
        t.handlersRegistered ||
          "undefined" == typeof document ||
          (DayPilot.re(document, "mousemove", t.mouseMove),
          DayPilot.re(document, "mousedown", t.mouseDown),
          DayPilot.re(document, "wheel", t.wheel),
          DayPilot.re(document, "touchmove", t.touchMove),
          DayPilot.re(document, "touchstart", t.touchStart),
          DayPilot.re(document, "touchend", t.touchEnd),
          (t.handlersRegistered = !0)),
        (DayPilot.Menu.def = {}),
        "undefined" != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(DayPilot),
  (function (DayPilot) {
    function e(t, n, i) {
      var a = n.indexOf(".");
      if (a === -1)
        return void ("__proto__" !== n && "constructor" !== n && (t[n] = i));
      var r = n.substring(0, a);
      if ("__proto__" !== r && "constructor" !== r) {
        var o = n.substring(a + 1),
          l = t[r];
        ("object" == typeof l && null !== l) || ((t[r] = {}), (l = t[r])),
          e(l, o, i);
      }
    }
    function t(e) {
      (this.form = []),
        (this.data = {}),
        (this.theme = "form_default"),
        (this.zIndex = 99999),
        (this.locale = "en-us"),
        (this.plugins = {}),
        (this.onKey = null),
        (this.Zi = []),
        (this.$i = null),
        (this.canceling = !1),
        (this._i = []),
        (this.o = []),
        (this.c = null),
        (e = e || {});
      for (var t in e) this[t] = e[t];
    }
    function n() {
      (this.id = this.guid()),
        (this.field = null),
        (this.data = null),
        (this.type = null),
        (this.level = 0),
        (this.enabled = !0),
        (this.value = null),
        (this.text = null),
        (this.interactive = !0),
        (this.isValue = !1),
        (this.checked = !1),
        (this.resolved = null);
    }
    function i() {
      (this.element = null),
        (this.canFocus = function () {
          return !1;
        }),
        (this.apply = function () {}),
        (this.focus = function () {}),
        (this.save = function () {
          return {};
        });
    }
    function a(e, t, n) {
      (t = t || {}), (n = n || "");
      for (var i in e) {
        var r = e[i];
        "object" == typeof r
          ? "[object Array]" === Object.prototype.toString.call(r)
            ? (t[n + i] = r)
            : r && r.toJSON
            ? (t[n + i] = r.toJSON())
            : a(r, t, n + i + ".")
          : (t[n + i] = r);
      }
      return t;
    }
    function r(e) {
      (this.data = []),
        (this.name = null),
        (this.theme = "searchable_default"),
        (this.fj = !1),
        (this.listZIndex = 1e5),
        (this.onSelect = null),
        (this.gj = null),
        (this.hj = null),
        (this.ij = !1),
        (this.jj = null),
        (this.Oc = null),
        (this.A = []),
        (this.kj = null),
        (e = e || {});
      var t = this,
        n = {
          selected: {
            post: function (e) {
              "object" == typeof e && e.id
                ? (t.gj = e)
                : ("string" != typeof e && "number" != typeof e) || t.select(e);
            },
          },
        };
      Object.defineProperty(this, "selected", {
        get: function () {
          return this.gj;
        },
      }),
        Object.defineProperty(this, "disabled", {
          get: function () {
            return this.fj;
          },
          set: function (e) {
            (this.fj = e), this.jj && ((this.jj.disabled = e), e && this.lj());
          },
        });
      for (var i in e) n[i] || (this[i] = e[i]);
      for (var a in e) n[a] && n[a].post(e[a]);
    }
    function o(e) {
      (this.form = null),
        (this.item = null),
        (this.data = null),
        (this.name = null),
        (this.theme = "edit_table_default"),
        (this.onInput = null),
        (this.nav = {}),
        (this.nj = null),
        (this.Zi = []),
        (e = e || {});
      for (var t in e) this[t] = e[t];
    }
    if (!DayPilot.ModalStatic) {
      (DayPilot.ModalStatic = {}),
        (DayPilot.ModalStatic.list = []),
        (DayPilot.ModalStatic.hide = function () {
          if (this.list.length > 0) {
            var e = this.list.pop();
            e && e.hide();
          }
        }),
        (DayPilot.ModalStatic.remove = function (e) {
          for (var t = DayPilot.ModalStatic.list, n = 0; n < t.length; n++)
            if (t[n] === e) return void t.splice(n, 1);
        }),
        (DayPilot.ModalStatic.close = function (e) {
          DayPilot.ModalStatic.result(e), DayPilot.ModalStatic.hide();
        }),
        (DayPilot.ModalStatic.result = function (e) {
          var t = DayPilot.ModalStatic.list;
          t.length > 0 && (t[t.length - 1].result = e);
        }),
        (DayPilot.ModalStatic.displayed = function (e) {
          for (var t = DayPilot.ModalStatic.list, n = 0; n < t.length; n++)
            if (t[n] === e) return !0;
          return !1;
        }),
        (DayPilot.ModalStatic.stretch = function () {
          if (this.list.length > 0) {
            var e = this.list[this.list.length - 1];
            e && e.stretch();
          }
        }),
        (DayPilot.ModalStatic.last = function () {
          var e = DayPilot.ModalStatic.list;
          return e.length > 0 ? e[e.length - 1] : null;
        });
      var l = function () {
          function e() {
            for (
              var e = document.querySelectorAll("style[nonce]"), t = 0;
              t < e.length;
              t++
            ) {
              var n = e[t];
              if (n.nonce) return n.nonce;
            }
            if (document.currentScript && document.currentScript.nonce)
              return document.currentScript.nonce;
            for (
              var i = document.querySelectorAll("script[nonce]"), a = 0;
              a < i.length;
              a++
            ) {
              var r = i[a];
              if (r.nonce) return r.nonce;
            }
            return "";
          }
          if ("undefined" == typeof window) {
            var t = {};
            return (t.add = function () {}), (t.commit = function () {}), t;
          }
          var n = document.createElement("style");
          (n.nonce = e()),
            n.styleSheet || n.appendChild(document.createTextNode("")),
            (
              document.head || document.getElementsByTagName("head")[0]
            ).appendChild(n);
          var i = !!n.styleSheet,
            a = {};
          return (
            (a.rules = []),
            (a.commit = function () {
              try {
                i && (n.styleSheet.cssText = this.rules.join("\n"));
              } catch (e) {}
            }),
            (a.add = function (e, t, a) {
              if (i) return void this.rules.push(e + "{" + t + "}");
              if (n.sheet.insertRule)
                "undefined" == typeof a && (a = n.sheet.cssRules.length),
                  n.sheet.insertRule(e + "{" + t + "}", a);
              else {
                if (!n.sheet.addRule) throw "No CSS registration method found";
                n.sheet.addRule(e, t, a);
              }
            }),
            (a.print = function () {
              for (var e = n.sheet.cssRules, t = [], i = 0; i < e.length; i++)
                t.push(e[i].cssText);
              return t.join("\n");
            }),
            a
          );
        },
        s =
          "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxwYXRoCiAgICAgICBpZD0icGF0aDMxNzMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoxLjg1MTk2ODUzO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICAgIGQ9Ik0gMC45NTQxNDgzOCwwLjY4MTYwMzEgNS4wMzkwNjI1LDUuNDExNTM4NiA5LjEyMzk3NjYsMC42ODE2MDMxIgogICAgICAgIC8+CiAgPC9nPgo8L3N2Zz4K",
        d = new l();
      d.add(".modal_default_main", "border: 10px solid #ccc; max-width: 90%;"),
        d.add(".modal_default_main:focus", "outline: none;"),
        d.add(".modal_default_content", "padding: 10px 0px;"),
        d.add(".modal_default_inner", "padding: 20px;"),
        d.add(".modal_default_input", "padding: 10px 0px;"),
        d.add(".modal_default_buttons", "margin-top: 10px;"),
        d.add(".modal_default_buttons", "padding: 10px 0px;"),
        d.add(
          ".modal_default_form_item",
          "padding: 10px 0px; position: relative;"
        ),
        d.add(
          ".modal_default_form_item_level1",
          "border-left: 2px solid #ccc; margin-left: 10px; padding-left: 20px;"
        ),
        d.add(
          ".modal_default_form_item.modal_default_form_title",
          "font-size: 1.5rem; font-weight: bold;"
        ),
        d.add(
          ".modal_default_form_item input[type=text]",
          "width: 100%; box-sizing: border-box;"
        ),
        d.add(
          ".modal_default_form_item textarea",
          "width: 100%; height: 200px; box-sizing: border-box;"
        ),
        d.add(
          ".modal_default_form_item input[type=select]",
          "width: 100%; box-sizing: border-box;"
        ),
        d.add(".modal_default_form_item label", "display: block;"),
        d.add(
          ".modal_default_form_item select",
          "width: 100%; box-sizing: border-box;"
        ),
        d.add(".modal_default_form_item_label", "margin: 2px 0px;"),
        d.add(
          ".modal_default_form_item_image img",
          "max-width: 100%; height: auto;"
        ),
        d.add(".modal_default_form_item_invalid", ""),
        d.add(
          ".modal_default_form_item_invalid_message",
          "position: absolute; right: 0px; top: 9px; background-color: red; color: #ffffff; padding: 2px; border-radius: 2px;"
        ),
        d.add(
          ".modal_default_background",
          "opacity: 0.5; background-color: #000;"
        ),
        d.add(".modal_default_ok", "padding: 3px; width: 80px;"),
        d.add(".modal_default_cancel", "padding: 3px; width: 80px;"),
        d.add(".modal_default_form_item_date", "position: relative;"),
        d.add(
          ".modal_default_form_item_date:after",
          "content: ''; position: absolute; right: 7px; top: 50%; margin-top: 3px; width: 10px; height: 15px; background-image:url(" +
            "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojY2NjY2NjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjM4MDM3MzM2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDE5MjgiCiAgICAgICB3aWR0aD0iOS45MTUzMDYxIgogICAgICAgaGVpZ2h0PSIxMS4zNjkzNyIKICAgICAgIHg9IjAuMTE3MTg3NSIKICAgICAgIHk9Ii0zLjAwOTk5NTciCiAgICAgICByeT0iMS4zMTE4NTA1IiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNjY2NjY2M7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNTk4MTQwMTI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MTkzMCIKICAgICAgIHdpZHRoPSIxLjUzNDQxMzYiCiAgICAgICBoZWlnaHQ9IjIuMjE5ODI1IgogICAgICAgeD0iMi4xNTU4NDgzIgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHJ5PSIwLjY3MTc4OTE3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iMS41MjM5NTA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QxOTQ4IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjY3MTc4OTE3IgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHg9IjYuNDUyNzIzNSIKICAgICAgIGhlaWdodD0iMi4yMTk4MjUiCiAgICAgICB3aWR0aD0iMS41MzQ0MTM2IgogICAgICAgaWQ9InJlY3QyMDAzIgogICAgICAgc3R5bGU9ImZpbGw6I2NjY2NjYztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS41OTgxNDAxMjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAwNSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIHk9Ii0xLjE2NTg0NjYiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iNi45OTI3MDA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDA3IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAxMyIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjEuNTIzOTUwNiIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHJ5PSIwLjI5NjAxNDciIC8+CiAgICA8cmVjdAogICAgICAgcnk9IjAuMjk2MDE0NyIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGlkPSJyZWN0MjAxNSIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDIwMTciCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB4PSI2Ljk5MjcwMDYiCiAgICAgICB5PSIxLjgwMjkwMzQiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSI0LjczMjU5MDciCiAgICAgICB4PSIxLjU2MzAxMzEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBpZD0icmVjdDIwMTkiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgaWQ9InJlY3QyMDIxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgeD0iNC4yNTgzMjU2IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgcnk9IjAuMjk2MDE0NyIgLz4KICAgIDxyZWN0CiAgICAgICByeT0iMC4yOTYwMTQ3IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgeD0iNy4wMzE3NjMxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDIzIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDwvZz4KPC9zdmc+Cg==" +
            ")"
        ),
        "undefined" != typeof navigator &&
          navigator.userAgent.indexOf("Edge") !== -1 &&
          d.add(
            ".modal_default_form_item_date input::-ms-clear",
            "display: none;"
          ),
        d.add(
          ".modal_default_form_item_scrollable_scroll",
          "width: 100%; height: 200px; box-sizing: border-box; border: 1px solid #ccc; overflow-y: auto;"
        ),
        d.add(
          ".modal_default_form_item_scrollable_scroll_content",
          "padding: 5px;"
        ),
        d.add(".modal_default_form_item_searchable", "position: relative;"),
        d.add(".modal_default_form_item_searchable_icon", ""),
        d.add(
          ".modal_default_form_item_searchable_icon:after",
          "content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(" +
            s +
            ");"
        ),
        d.add(
          ".modal_default_form_item_searchable_list",
          "box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"
        ),
        d.add(
          ".modal_default_form_item_searchable_list_item",
          "background: white; padding: 2px; cursor: default;"
        ),
        d.add(
          ".modal_default_form_item_searchable_list_item_highlight",
          "background: #ccc;"
        ),
        d.add(".modal_default_form_item_time", "position: relative;"),
        d.add(".modal_default_form_item_time_icon", ""),
        d.add(
          ".modal_default_form_item_time_icon:after",
          "content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(" +
            s +
            ");"
        ),
        d.add(
          ".modal_default_form_item_time_list",
          "box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"
        ),
        d.add(
          ".modal_default_form_item_time_list_item",
          "background: white; padding: 2px; cursor: default;"
        ),
        d.add(
          ".modal_default_form_item_time_list_item_highlight",
          "background: #ccc;"
        ),
        d.add(".modal_default_form_item_datetime_parent", "display: flex;"),
        d.add(
          ".modal_default_form_item_datetime .modal_default_form_item_time_main",
          "margin-left: 5px;"
        ),
        d.add(
          ".modal_default_form_item_datetime input[type='text'].modal_default_input_date ",
          ""
        ),
        d.add(".modal_default_form_item_tabular_main", "margin-top: 10px;"),
        d.add(
          ".modal_default_form_item_tabular_table",
          "display: table; width: 100%; xbackground-color: #fff; border-collapse: collapse;"
        ),
        d.add(
          ".modal_default_form_item_tabular_tbody",
          "display: table-row-group;"
        ),
        d.add(".modal_default_form_item_tabular_row", "display: table-row;"),
        d.add(
          ".modal_default_form_item_tabular_row.modal_default_form_item_tabular_header",
          ""
        ),
        d.add(
          ".modal_default_form_item_tabular_cell.modal_default_form_item_tabular_rowaction",
          "padding: 0px; width: 23px;"
        ),
        d.add(
          ".modal_default_form_item_tabular_cell",
          "display: table-cell; border: 0px; padding: 2px 2px 2px 0px; cursor: default; vertical-align: bottom;"
        ),
        d.add(
          ".modal_default_form_item_tabular_header .modal_default_form_item_tabular_cell",
          "padding-left: 0px; padding-bottom: 0px;"
        ),
        d.add(
          ".modal_default_form_item_tabular_table input[type=text], .modal_default_form_item_tabular_table input[type=number]",
          "width:100%; box-sizing: border-box;"
        ),
        d.add(
          ".modal_default_form_item_tabular_table select",
          "width:100%; height:100%; box-sizing: border-box;"
        ),
        d.add(
          ".modal_default_form_item_tabular_plus",
          "display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"
        ),
        d.add(
          ".modal_default_form_item_tabular_plus:after",
          "content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSA1LjAgMC41IEwgNS4wIDkuNSBNIDAuNSA1LjAgTCA5LjUgNS4wJyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"
        ),
        d.add(
          ".modal_default_form_item_tabular_delete",
          "display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"
        ),
        d.add(
          ".modal_default_form_item_tabular_delete:after",
          "content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgOS41IDkuNSBNIDAuNSA5LjUgTCA5LjUgMC41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"
        ),
        d.add(
          ".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_plus",
          "display: none;"
        ),
        d.add(
          ".modal_default_form_item_tabular_plus_max.modal_default_form_item_tabular_plus",
          "display: none;"
        ),
        d.add(
          ".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_delete",
          "visibility: hidden;"
        ),
        d.add(
          ".modal_default_form_item_tabular_empty",
          "height: 1px; margin: 5px 23px 5px 0px; background-color: #ccc;"
        ),
        d.add(
          ".modal_default_form_item_tabular_spacer .modal_default_form_item_tabular_cell",
          "padding: 0px;"
        ),
        d.add(".modal_min_main", "border: 1px solid #ccc; max-width: 90%;"),
        d.add(".modal_min_background", "opacity: 0.5; background-color: #000;"),
        d.add(".modal_min_ok", "padding: 3px 10px;"),
        d.add(".modal_min_cancel", "padding: 3px 10px;"),
        d.add(
          ".navigator_modal_main",
          "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"
        ),
        d.add(
          ".navigator_modal_main *, .navigator_modal_main *:before, .navigator_modal_main *:after",
          "box-sizing: content-box;"
        ),
        d.add(".navigator_modal_month", "font-size: 11px;"),
        d.add(".navigator_modal_day", "color: black;"),
        d.add(".navigator_modal_weekend", "background-color: #f0f0f0;"),
        d.add(".navigator_modal_dayheader", "color: black;"),
        d.add(".navigator_modal_line", "border-bottom: 1px solid #c0c0c0;"),
        d.add(".navigator_modal_dayother", "color: gray;"),
        d.add(".navigator_modal_todaybox", "border: 1px solid red;"),
        d.add(
          ".navigator_modal_title, .navigator_modal_titleleft, .navigator_modal_titleright",
          "border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"
        ),
        d.add(".navigator_modal_busy", "font-weight: bold;"),
        d.add(".navigator_modal_cell", "text-align: center;"),
        d.add(
          ".navigator_modal_select .navigator_modal_cell_box",
          "background-color: #FFE794; opacity: 0.5;"
        ),
        d.add(".navigator_modal_title", "text-align: center;"),
        d.add(
          ".navigator_modal_titleleft, .navigator_modal_titleright",
          "text-align: center;"
        ),
        d.add(".navigator_modal_dayheader", "text-align: center;"),
        d.add(".navigator_modal_weeknumber", "text-align: center;"),
        d.add(".navigator_modal_cell_text", "cursor: pointer;"),
        d.add(
          ".navigator_modal_todaysection",
          "box-sizing: border-box; display: flex; align-items: center; justify-content: center; border-top: 1px solid var(--dp-nav-border-color);"
        ),
        d.add(
          ".navigator_modal_todaysection_button",
          "cursor: pointer; color: #333; background-color: #f0f0f0; border: 1px solid var(--dp-nav-border-color); padding: 5px 10px; border-radius: 0px; "
        ),
        d.commit(),
        (DayPilot.Modal = function (e) {
          (this.autoFocus = !0),
            (this.focus = null),
            (this.autoStretch = !0),
            (this.autoStretchFirstLoadOnly = !1),
            (this.className = null),
            (this.theme = "modal_default"),
            (this.disposeOnClose = !0),
            (this.dragDrop = !0),
            (this.loadingHtml = null),
            (this.maxHeight = null),
            (this.scrollWithPage = !0),
            (this.useIframe = !0),
            (this.zIndex = 99999),
            (this.left = null),
            (this.width = 600),
            (this.top = 20),
            (this.height = 200),
            (this.locale = null),
            (this.closed = null),
            (this.onClose = null),
            (this.onClosed = null),
            (this.onShow = null);
          var t = this;
          (this.id = "_" + new Date().getTime() + "n" + 10 * Math.random()),
            (this.Vf = !1),
            (this.Di = null),
            (this.Ei = null),
            (this.showHtml = function (e) {
              if (DayPilot.ModalStatic.displayed(this))
                throw "This modal dialog is already displayed.";
              if ((this.div || this.Mg(), this.Od(), this.useIframe)) {
                var t = function (e, t) {
                  return function () {
                    e.setInnerHTML(e.id + "iframe", t);
                  };
                };
                window.setTimeout(t(this, e), 0);
              } else
                e.nodeType ? this.div.appendChild(e) : (this.div.innerHTML = e);
              this.Od(), this.Jh(), this.Fi();
            }),
            (this.showUrl = function (e) {
              if (DayPilot.ModalStatic.displayed(this))
                throw "This modal dialog is already displayed.";
              if (this.useIframe) {
                this.div || this.Mg();
                var n = this.loadingHtml;
                n &&
                  ((this.iframe.src = "about:blank"),
                  this.setInnerHTML(this.id + "iframe", n)),
                  this.re(this.iframe, "load", this.Gi),
                  (this.iframe.src = e),
                  this.Od(),
                  this.Jh(),
                  this.Fi();
              } else
                t.Hi({
                  url: e,
                  success: function (e) {
                    var n = e.request.responseText;
                    t.showHtml(n);
                  },
                  error: function () {
                    t.showHtml("Error loading the modal dialog");
                  },
                });
            }),
            (this.Fi = function () {
              if ("function" == typeof t.onShow) {
                var e = {};
                (e.root = t.Ii()), (e.modal = t), t.onShow(e);
              }
            }),
            (this.Ii = function () {
              return t.iframe ? t.iframe.contentWindow.document : t.div;
            }),
            (this.Hi = function (e) {
              var t = new XMLHttpRequest();
              if (t) {
                var n = e.method || "GET",
                  i = e.success || function () {},
                  a = e.error || function () {},
                  r = e.data,
                  o = e.url;
                t.open(n, o, !0),
                  t.setRequestHeader("Content-type", "text/plain"),
                  (t.onreadystatechange = function () {
                    if (4 === t.readyState)
                      if (200 === t.status || 304 === t.status) {
                        var e = {};
                        (e.request = t), i(e);
                      } else if (a) {
                        var n = {};
                        (n.request = t), a(n);
                      } else
                        window.console && console.log("HTTP error " + t.status);
                  }),
                  4 !== t.readyState &&
                    ("object" == typeof r && (r = JSON.stringify(r)),
                    t.send(r));
              }
            }),
            (this.Od = function () {
              delete this.result;
              var e = window,
                n = document,
                i = e.pageYOffset
                  ? e.pageYOffset
                  : n.documentElement && n.documentElement.scrollTop
                  ? n.documentElement.scrollTop
                  : n.body.scrollTop;
              this.theme &&
                (this.hideDiv.className = this.theme + "_background"),
                this.zIndex && (this.hideDiv.style.zIndex = this.zIndex),
                (this.hideDiv.style.display = ""),
                window.setTimeout(function () {
                  t.hideDiv &&
                    (t.hideDiv.onclick = function () {
                      t.hide({ backgroundClick: !0 });
                    });
                }, 500),
                this.theme
                  ? (this.div.className = this.theme + "_main")
                  : (this.div.className = ""),
                this.className && (this.div.className += " " + this.className),
                this.left
                  ? (this.div.style.left = this.left + "px")
                  : (this.div.style.marginLeft =
                      "-" + Math.floor(this.width / 2) + "px"),
                (this.div.style.position = "absolute"),
                (this.div.style.boxSizing = "content-box"),
                (this.div.style.top = i + this.top + "px"),
                (this.div.style.width = this.width + "px"),
                this.zIndex && (this.div.style.zIndex = this.zIndex),
                this.height &&
                  (this.useIframe || !this.autoStretch
                    ? (this.div.style.height = this.height + "px")
                    : (this.div.style.height = "")),
                this.useIframe &&
                  this.height &&
                  (this.iframe.style.height = this.height + "px"),
                (this.div.style.display = ""),
                this.Ji(),
                DayPilot.ModalStatic.remove(this),
                DayPilot.ModalStatic.list.push(this);
            }),
            (this.Gi = function () {
              (t.iframe.contentWindow.modal = t), t.autoStretch && t.stretch();
            }),
            (this.stretch = function () {
              var e = function () {
                  return t.Ki().y;
                },
                n = function () {
                  return t.Ki().x;
                };
              if (this.useIframe) {
                for (
                  var i = n() - 40, a = this.width;
                  a < i && this.Li();
                  a += 10
                )
                  (this.div.style.width = a + "px"),
                    (this.div.style.marginLeft =
                      "-" + Math.floor(a / 2) + "px");
                for (
                  var r = this.maxHeight || e() - 2 * this.top, o = this.height;
                  o < r && this.Mi();
                  o += 10
                )
                  (this.iframe.style.height = o + "px"),
                    (this.div.style.height = o + "px");
                this.autoStretchFirstLoadOnly &&
                  this.ue(this.iframe, "load", this.Gi);
              } else this.div.style.height = "";
            }),
            (this.Li = function () {
              for (
                var e = this.iframe.contentWindow.document,
                  t =
                    "BackCompat" === e.compatMode ? e.body : e.documentElement,
                  n = t.scrollWidth,
                  i = e.body.children,
                  a = 0;
                a < i.length;
                a++
              ) {
                var r = i[a].offsetLeft + i[a].offsetWidth;
                n = Math.max(n, r);
              }
              return n > t.clientWidth;
            }),
            (this.Mi = function () {
              for (
                var e = this.iframe.contentWindow.document,
                  t =
                    "BackCompat" === e.compatMode ? e.body : e.documentElement,
                  n = t.scrollHeight,
                  i = e.body.children,
                  a = 0;
                a < i.length;
                a++
              ) {
                var r = i[a].offsetTop + i[a].offsetHeight;
                n = Math.max(n, r);
              }
              return n > t.clientHeight;
            }),
            (this.Ki = function () {
              var e = document;
              if (
                "CSS1Compat" === e.compatMode &&
                e.documentElement &&
                e.documentElement.clientWidth
              ) {
                var t = e.documentElement.clientWidth,
                  n = e.documentElement.clientHeight;
                return { x: t, y: n };
              }
              var t = e.body.clientWidth,
                n = e.body.clientHeight;
              return { x: t, y: n };
            }),
            (this.Jh = function () {
              this.Vf ||
                (this.re(window, "resize", this.Ni),
                this.re(window, "scroll", this.Oi),
                this.dragDrop &&
                  (this.re(document, "mousemove", this.Pi),
                  this.re(document, "mouseup", this.Qi)),
                (this.Vf = !0));
            }),
            (this.db = function () {
              this.ue(window, "resize", this.Ni),
                this.ue(window, "scroll", this.Oi),
                this.dragDrop &&
                  (this.ue(document, "mousemove", this.Pi),
                  this.ue(document, "mouseup", this.Qi)),
                (this.Vf = !1);
            }),
            (this.Ri = function (e) {
              e.target === t.div &&
                (e.preventDefault(),
                (t.div.style.cursor = "move"),
                t.Si(),
                (t.Ei = t.mc(e || window.event)),
                (t.Di = { x: t.div.offsetLeft, y: t.div.offsetTop }));
            }),
            (this.Pi = function (e) {
              if (t.Ei) {
                var n = t.mc(e),
                  i = n.x - t.Ei.x,
                  a = n.y - t.Ei.y;
                (t.div.style.marginLeft = "0px"),
                  (t.div.style.top = t.Di.y + a + "px"),
                  (t.div.style.left = t.Di.x + i + "px");
              }
            }),
            (this.Qi = function () {
              t.Ei && (t.Ti(), (t.div.style.cursor = null), (t.Ei = null));
            }),
            (this.Si = function () {
              if (this.useIframe) {
                var e = document.createElement("div");
                (e.style.backgroundColor = "#ffffff"),
                  (e.style.filter = "alpha(opacity=80)"),
                  (e.style.opacity = "0.80"),
                  (e.style.width = "100%"),
                  (e.style.height = this.height + "px"),
                  (e.style.position = "absolute"),
                  (e.style.left = "0px"),
                  (e.style.top = "0px"),
                  this.div.appendChild(e),
                  (this.mask = e);
              }
            }),
            (this.Ti = function () {
              this.useIframe &&
                (this.div.removeChild(this.mask), (this.mask = null));
            }),
            (this.Ni = function () {
              t.Ui(), t.Ji();
            }),
            (this.Oi = function () {
              t.Ui();
            }),
            (this.Ji = function () {
              if (!t.left && t.div) {
                var e = t.div.offsetWidth;
                t.div.style.marginLeft = "-" + Math.floor(e / 2) + "px";
              }
            }),
            (this.Ui = function () {
              if (
                t.hideDiv &&
                t.div &&
                "none" !== t.hideDiv.style.display &&
                "none" !== t.div.style.display
              ) {
                var e = t.Vi.scrollY();
                t.scrollWithPage || (t.div.style.top = e + t.top + "px");
              }
            }),
            (this.Vi = {}),
            (this.Vi.container = function () {
              return t.container || document.body;
            }),
            (this.Vi.scrollY = function () {
              var e = t.Vi.container();
              return e === document.body
                ? window.pageYOffset
                  ? window.pageYOffset
                  : document.documentElement &&
                    document.documentElement.scrollTop
                  ? document.documentElement.scrollTop
                  : document.body.scrollTop
                : e.scrollTop;
            }),
            (this.re = function (e, t, n) {
              e.addEventListener
                ? e.addEventListener(t, n, !1)
                : e.attachEvent && e.attachEvent("on" + t, n);
            }),
            (this.ue = function (e, t, n) {
              e.removeEventListener
                ? e.removeEventListener(t, n, !1)
                : e.detachEvent && e.detachEvent("on" + t, n);
            }),
            (this.mc = function (e) {
              return e.pageX || e.pageY
                ? { x: e.pageX, y: e.pageY }
                : {
                    x: e.clientX + document.documentElement.scrollLeft,
                    y: e.clientY + document.documentElement.scrollTop,
                  };
            }),
            (this.abs = function (e) {
              for (
                var t = { x: e.offsetLeft, y: e.offsetTop };
                e.offsetParent;

              )
                (e = e.offsetParent),
                  (t.x += e.offsetLeft),
                  (t.y += e.offsetTop);
              return t;
            }),
            (this.Mg = function () {
              var e = t.Vi.container(),
                n = e === document.body,
                i = n ? "fixed" : "absolute",
                a = document.createElement("div");
              (a.id = this.id + "hide"),
                (a.style.position = i),
                (a.style.left = "0px"),
                (a.style.top = "0px"),
                (a.style.right = "0px"),
                (a.style.bottom = "0px"),
                (a.oncontextmenu = function () {
                  return !1;
                }),
                (a.onmousedown = function () {
                  return !1;
                }),
                e.appendChild(a);
              var r = document.createElement("div");
              (r.id = this.id + "popup"),
                (r.style.position = i),
                (r.style.left = "50%"),
                (r.style.top = "0px"),
                (r.style.backgroundColor = "white"),
                (r.style.width = "50px"),
                (r.style.height = "50px"),
                this.dragDrop && (r.onmousedown = this.Ri),
                r.addEventListener("keydown", function (e) {
                  e.stopPropagation();
                });
              var o = null;
              this.useIframe &&
                ((o = document.createElement("iframe")),
                (o.id = this.id + "iframe"),
                (o.name = this.id + "iframe"),
                (o.frameBorder = "0"),
                (o.style.width = "100%"),
                (o.style.height = "50px"),
                r.appendChild(o)),
                e.appendChild(r),
                (this.div = r),
                (this.iframe = o),
                (this.hideDiv = a);
            }),
            (this.setInnerHTML = function (e, n) {
              var i = window.frames[e],
                a = i.contentWindow || i.document || i.contentDocument;
              a.document && (a = a.document),
                null == a.body && a.write("<body></body>"),
                n.nodeType ? a.body.appendChild(n) : (a.body.innerHTML = n),
                t.autoStretch &&
                  ((t.autoStretchFirstLoadOnly && t.Wi) ||
                    (t.stretch(), (t.Wi = !0)));
            }),
            (this.close = function (e) {
              (this.result = e), this.hide();
            }),
            (this.closeSerialized = function () {
              for (
                var e = t.Ii(),
                  n = e.querySelectorAll("input, textarea, select"),
                  i = {},
                  a = 0;
                a < n.length;
                a++
              ) {
                var r = n[a],
                  o = r.name;
                if (o) {
                  var l = r.value;
                  i[o] = l;
                }
              }
              t.close(i);
            }),
            (this.hide = function (e) {
              e = e || {};
              var n = {};
              (n.backgroundClick = !!e.backgroundClick),
                (n.result = this.result),
                (n.canceled = "undefined" == typeof this.result),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                ("function" == typeof this.onClose &&
                  (this.onClose(n), n.preventDefault.value)) ||
                  (this.div &&
                    ((this.div.style.display = "none"),
                    (this.hideDiv.style.display = "none"),
                    this.useIframe || (this.div.innerHTML = null)),
                  window.focus(),
                  DayPilot.ModalStatic.remove(this),
                  "function" == typeof this.onClosed
                    ? this.onClosed(n)
                    : this.closed && this.closed(),
                  delete this.result,
                  this.disposeOnClose &&
                    (t.db(),
                    t.Xi(t.div),
                    t.Xi(t.hideDiv),
                    (t.div = null),
                    (t.hideDiv = null),
                    (t.iframe = null)));
            }),
            (this.Xi = function (e) {
              var t;
              e &&
                (null === (t = e.parentNode) || void 0 === t
                  ? void 0
                  : t.removeChild(e));
            }),
            (this.Yi = function () {
              if (e) for (var t in e) this[t] = e[t];
            }),
            this.Yi();
        }),
        (DayPilot.Modal.alert = function (e, t) {
          (t = t || {}), (t.height = t.height || 40), (t.useIframe = !1);
          var n = t.okText || "OK";
          return DayPilot.getPromise(function (i) {
            t.onClosed = function (e) {
              i(e);
            };
            var a = new DayPilot.Modal(t),
              r = document.createElement("div");
            r.className = a.theme + "_inner";
            var o = document.createElement("div");
            (o.className = a.theme + "_content"), (o.innerHTML = e);
            var l = document.createElement("div");
            l.className = a.theme + "_buttons";
            var s = document.createElement("button");
            (s.innerText = n),
              (s.className = a.theme + "_ok"),
              (s.onclick = function () {
                DayPilot.ModalStatic.close("OK");
              }),
              l.appendChild(s),
              r.appendChild(o),
              r.appendChild(l),
              a.showHtml(r),
              a.autoFocus && s.focus();
          });
        }),
        (DayPilot.Modal.confirm = function (e, t) {
          (t = t || {}), (t.height = t.height || 40), (t.useIframe = !1);
          var n = t.okText || "OK",
            i = t.cancelText || "Cancel";
          return DayPilot.getPromise(function (a) {
            t.onClosed = function (e) {
              a(e);
            };
            var r = new DayPilot.Modal(t),
              o = document.createElement("div");
            o.className = r.theme + "_inner";
            var l = document.createElement("div");
            (l.className = r.theme + "_content"), (l.innerHTML = e);
            var s = document.createElement("div");
            s.className = r.theme + "_buttons";
            var d = document.createElement("button");
            (d.innerText = n),
              (d.className = r.theme + "_ok"),
              (d.onclick = function () {
                DayPilot.ModalStatic.close("OK");
              });
            var c = document.createTextNode(" "),
              u = document.createElement("button");
            (u.innerText = i),
              (u.className = r.theme + "_cancel"),
              (u.onclick = function () {
                DayPilot.ModalStatic.close();
              }),
              s.appendChild(d),
              s.appendChild(c),
              s.appendChild(u),
              o.appendChild(l),
              o.appendChild(s),
              r.showHtml(o),
              r.autoFocus && d.focus();
          });
        }),
        (DayPilot.Modal.prompt = function (e, t, n) {
          "object" == typeof t && ((n = t), (t = "")),
            (n = n || {}),
            (n.height = n.height || 40),
            (n.useIframe = !1);
          var i = n.okText || "OK",
            a = n.cancelText || "Cancel",
            r = t || "";
          return DayPilot.getPromise(function (t) {
            n.onClosed = function (e) {
              t(e);
            };
            var o = new DayPilot.Modal(n),
              l = document.createElement("div");
            l.className = o.theme + "_inner";
            var s = document.createElement("div");
            (s.className = o.theme + "_content"), (s.innerHTML = e);
            var d = document.createElement("div");
            d.className = o.theme + "_input";
            var c = document.createElement("input");
            (c.value = r),
              (c.style.width = "100%"),
              (c.onkeydown = function (e) {
                var t = !1;
                switch (e.keyCode) {
                  case 13:
                    o.close(this.value);
                    break;
                  case 27:
                    o.close();
                    break;
                  default:
                    t = !0;
                }
                t || (e.preventDefault(), e.stopPropagation());
              }),
              d.appendChild(c);
            var u = document.createElement("div");
            u.className = o.theme + "_buttons";
            var h = document.createElement("button");
            (h.innerText = i),
              (h.className = o.theme + "_ok"),
              (h.onclick = function () {
                o.close(c.value);
              });
            var f = document.createTextNode(" "),
              v = document.createElement("button");
            (v.innerText = a),
              (v.className = o.theme + "_cancel"),
              (v.onclick = function () {
                o.close();
              }),
              u.appendChild(h),
              u.appendChild(f),
              u.appendChild(v),
              l.appendChild(s),
              l.appendChild(d),
              l.appendChild(u),
              o.showHtml(l),
              o.autoFocus && c.focus();
          });
        });
      var c = function (e) {
        return "[object Array]" === Object.prototype.toString.call(e);
      };
      (DayPilot.Modal.form = function (n, i, a) {
        if (1 === arguments.length) {
          var r = n;
          if (c(r)) i = {};
          else {
            if ("object" != typeof r)
              throw "Invalid DayPilot.Modal.form() parameter";
            (i = n), (n = []);
            for (var o in i) {
              var l = {};
              (l.name = o), (l.id = o), n.push(l);
            }
          }
        }
        var s = {};
        for (var d in a) s[d] = a[d];
        (s.height = s.height || 40), (s.useIframe = !1);
        var u = s.okText || "OK",
          h = s.cancelText || "Cancel";
        return DayPilot.getPromise(function (a) {
          s.onClosed = function (t) {
            if (t.result) {
              var n = JSON.parse(JSON.stringify(i));
              for (var r in t.result) e(n, r, t.result[r]);
              t.result = n;
            }
            a(t);
          };
          var r = new DayPilot.Modal(s),
            o = document.createElement("div");
          o.className = r.theme + "_inner";
          var l = document.createElement("div");
          l.className = r.theme + "_input";
          var d = new t({
              theme: r.theme,
              form: n,
              data: i,
              zIndex: r.zIndex,
              locale: r.locale,
              plugins: r.plugins,
              onKey: function (e) {
                switch (e.key) {
                  case "Enter":
                    d.validate() && r.close(d.serialize());
                    break;
                  case "Escape":
                    r.close();
                }
              },
              onChange: function (e) {
                "function" == typeof r.onChange && r.onChange(e);
              },
            }),
            c = d.create();
          l.append(c);
          var f = document.createElement("div");
          f.className = r.theme + "_buttons";
          var v = document.createElement("button");
          (v.innerText = u),
            (v.className = r.theme + "_ok"),
            s.okDisabled && (v.disabled = !0),
            (v.onclick = function () {
              d.validate() && r.close(d.serialize());
            });
          var p = document.createTextNode(" "),
            m = document.createElement("button");
          if (
            ((m.innerText = h),
            (m.className = r.theme + "_cancel"),
            (m.onclick = function () {
              r.close();
            }),
            (m.onmousedown = function () {
              d.canceling = !0;
            }),
            f.appendChild(v),
            f.appendChild(p),
            f.appendChild(m),
            o.appendChild(l),
            o.appendChild(f),
            r.showHtml(o),
            r.div.setAttribute("tabindex", "-1"),
            r.div.addEventListener("keydown", function (e) {
              switch (e.keyCode) {
                case 27:
                  r.close();
                  break;
                case 13:
                  d.validate() && r.close(d.serialize());
              }
            }),
            r.focus)
          ) {
            var g = null;
            if ("object" == typeof r.focus) {
              var b = r.focus.id,
                y = r.focus.value;
              g = d.findViewById(b, y);
            } else "string" == typeof r.focus && (g = d.findViewById(r.focus));
            g && g.focus();
          } else {
            var w = d.firstFocusable();
            r.autoFocus && w ? w.focus() : r.div.focus();
          }
        });
      }),
        (DayPilot.Modal.close = function (e) {
          var t = DayPilot.Modal.opener();
          t && t.close(e);
        }),
        (DayPilot.Modal.stretch = function () {
          var e = DayPilot.Modal.opener();
          if (!e) throw "Unable to find the opener DayPilot.Modal instance.";
          e.stretch();
        }),
        (DayPilot.Modal.closeSerialized = function () {
          var e = DayPilot.Modal.opener() || DayPilot.ModalStatic.last();
          e && e.closeSerialized();
        }),
        (DayPilot.Modal.opener = function () {
          return "undefined" != typeof DayPilot &&
            "undefined" != typeof DayPilot.ModalStatic &&
            DayPilot.ModalStatic.list.length > 0
            ? DayPilot.ModalStatic.list[DayPilot.ModalStatic.list.length - 1]
            : parent &&
                parent.DayPilot &&
                parent.DayPilot.ModalStatic &&
                parent.DayPilot.ModalStatic.list[
                  parent.DayPilot.ModalStatic.list.length - 1
                ];
        }),
        "undefined" == typeof DayPilot.getPromise &&
          (DayPilot.getPromise = function (e) {
            return "undefined" != typeof Promise
              ? new Promise(e)
              : ((DayPilot.Promise = function (e) {
                  var t = this;
                  (this.then = function (t, n) {
                    return (
                      (t = t || function () {}),
                      (n = n || function () {}),
                      e(t, n),
                      DayPilot.getPromise(e)
                    );
                  }),
                    (this["catch"] = function (n) {
                      return t.then(null, n), DayPilot.getPromise(e);
                    });
                }),
                new DayPilot.Promise(e));
          }),
        (t.prototype.create = function () {
          return this.load(), this.render(), this.c;
        }),
        (t.prototype.render = function () {
          var e = this;
          (this.c = document.createElement("div")),
            this.Zi.forEach(function (t) {
              e.createView(t);
            }),
            this.applyState();
        }),
        (t.prototype.createView = function (e) {
          var t = this.theme,
            n = this,
            i = document.createElement("div");
          if (
            ((i.className =
              t + "_form_item " + t + "_form_item_level" + e.level),
            e.interactive || "title" !== e.type
              ? (i.className += " " + t + "_form_item_" + e.type)
              : (i.className += " " + t + "_form_title"),
            e.data.cssClass && (i.className += " " + e.data.cssClass),
            !e.isValue)
          ) {
            var a = document.createElement("div");
            (a.className = t + "_form_item_label"),
              (a.innerText = e.text),
              i.appendChild(a);
          }
          var r = this.createInteractive(e);
          (r.onInput = function (e) {
            if (
              ((e = e || {}),
              n.aj(r, { debounce: !e.immediate }),
              "function" == typeof n.onChange)
            ) {
              var t = {};
              (t.result = n.serialize()), n.onChange(t);
            }
          }),
            (r.onBlur = function () {
              n.canceling || n.aj(r);
            }),
            r.apply(e),
            (r.c = i),
            (r.row = e),
            r.element && i.appendChild(r.element),
            this.o.push(r),
            this.c.appendChild(i);
        }),
        (t.prototype.validate = function () {
          var e = this,
            t = !0;
          return (
            this.o.forEach(function (n) {
              var i = e.aj(n);
              t = t && i;
            }),
            t
          );
        }),
        (t.prototype.aj = function (e, t) {
          function n() {
            e.bj && (e.bj.remove(), (e.bj = null)), e.c.classList.add(u);
            var t = document.createElement("div");
            t.classList.add(h),
              (t.innerText = c.message),
              (e.bj = t),
              e.c.appendChild(t);
          }
          t = t || {};
          var i = t.debounce,
            a = t.silent,
            r = e.row,
            o = !0,
            l =
              "function" == typeof r.data.onValidate ? r.data.onValidate : null,
            s = "function" == typeof r.data.validate ? r.data.validate : null,
            d = l || s;
          if (d) {
            var c = {};
            (c.valid = !0),
              (c.value = e.save()[r.field]),
              (c.message = "Error"),
              (c.values = this.serialize()),
              (c.result = this.serialize()),
              d(c);
            var u = this.theme + "_form_item_invalid",
              h = this.theme + "_form_item_invalid_message";
            if (c.valid)
              clearTimeout(this._i[r.field]),
                e.bj && (e.bj.remove(), (e.bj = null)),
                e.c.classList.remove(u);
            else if (!a)
              if (i) {
                var f = 1e3;
                clearTimeout(this._i[r.field]),
                  (this._i[r.field] = setTimeout(function () {
                    n();
                  }, f));
              } else n();
            o = c.valid;
          }
          return o;
        }),
        (t.prototype.load = function () {
          var e = this;
          this.form.forEach(function (t) {
            e.processFormItem(t, 0);
          });
          var t;
          try {
            var n = JSON.stringify(this.data);
            t = a(JSON.parse(n));
          } catch (e) {
            throw new Error(
              "The 'data' object is not serializable (it may contain circular dependencies): " +
                e
            );
          }
          for (var i in t) this.setValue(i, t[i]);
        }),
        (t.prototype.setValue = function (e, t) {
          this.Zi.forEach(function (n) {
            n.applyValue(e, t);
          });
        }),
        (t.prototype.updateDependentState = function () {
          var e = this,
            t = [!0];
          (this.$i ? this.$i : this.Zi).forEach(function (n) {
            var i = e.updateState(n, {
              enabled: t[n.level] && !n.data.disabled,
            });
            i.isValue && (t[i.level + 1] = i.enabled && i.checked);
          });
        }),
        (t.prototype.processFormItem = function (e, t) {
          var i = this,
            a = this.getFieldType(e),
            r = [];
          if ("radio" === a) {
            if (e.name) {
              var o = new n();
              (o.field = e.id),
                (o.data = e),
                (o.level = t),
                (o.type = "label"),
                (o.interactive = !1),
                (o.text = e.name),
                i.Zi.push(o),
                r.push(o);
            }
            e.options.forEach(function (o) {
              var l = new n();
              (l.field = e.id),
                (l.data = o),
                (l.level = t),
                (l.type = a),
                (l.isValue = !0),
                (l.text = o.name),
                (l.resolved = o.id),
                i.Zi.push(l),
                r.push(l),
                o.children &&
                  o.children.forEach(function (e) {
                    var n = i.processFormItem(e, t + 1);
                    r = r.concat(n);
                  });
            });
          } else if ("title" === a) {
            var o = new n();
            (o.field = e.id),
              (o.data = e),
              (o.level = t),
              (o.type = a),
              (o.interactive = !1),
              (o.text = e.name),
              i.Zi.push(o),
              r.push(o);
          } else if ("image" === a) {
            var o = new n();
            (o.isValue = !0),
              (o.field = e.id),
              (o.data = e),
              (o.level = t),
              (o.type = a),
              (o.interactive = !1),
              (o.text = null),
              i.Zi.push(o),
              r.push(o);
          } else if ("html" === a) {
            var o = new n();
            (o.isValue = !0),
              (o.field = e.id),
              (o.data = e),
              (o.level = t),
              (o.type = a),
              (o.interactive = !1),
              (o.text = null),
              i.Zi.push(o),
              r.push(o);
          } else if ("scrollable" === a) {
            var o = new n();
            (o.isValue = !0),
              (o.field = e.id),
              (o.data = e),
              (o.level = t),
              (o.type = a),
              (o.interactive = !1),
              (o.text = null),
              i.Zi.push(o),
              r.push(o);
          } else {
            var o = new n();
            (o.field = e.id),
              (o.data = e),
              (o.level = t),
              (o.type = a),
              (o.text = e.name),
              (o.children = []),
              i.Zi.push(o),
              r.push(o),
              "checkbox" === a &&
                ((o.isValue = !0),
                (o.resolved = !0),
                e.children &&
                  e.children.forEach(function (e) {
                    var n = i.processFormItem(e, t + 1);
                    r = r.concat(n);
                  }));
          }
          return r;
        }),
        (t.prototype.doOnKey = function (e) {
          if ("function" == typeof this.onKey) {
            var t = { key: e };
            this.onKey(t);
          }
        }),
        (t.prototype.createInteractive = function (e) {
          var t = this,
            n = {
              label: function () {
                return new i();
              },
              title: function () {
                return new i();
              },
              image: function () {
                var t = new i(),
                  n = document.createElement("img");
                return (n.src = e.data.image), (t.element = n), t;
              },
              html: function () {
                var t = new i(),
                  n = document.createElement("div");
                return (
                  "string" == typeof e.data.text
                    ? (n.innerText = e.data.text)
                    : "string" == typeof e.data.html &&
                      (n.innerHTML = e.data.html),
                  (t.element = n),
                  t
                );
              },
              scrollable: function () {
                var n = new i(),
                  a = document.createElement("div");
                (a.className = t.theme + "_form_item_scrollable_scroll"),
                  e.data.height && (a.style.height = e.data.height + "px");
                var r = document.createElement("div");
                return (
                  (r.className =
                    t.theme + "_form_item_scrollable_scroll_content"),
                  "string" == typeof e.data.text
                    ? (r.innerText = e.data.text)
                    : "string" == typeof e.data.html &&
                      (r.innerHTML = e.data.html),
                  a.appendChild(r),
                  (n.element = a),
                  n
                );
              },
              text: function () {
                var n = new i();
                n.apply = function (e) {
                  n.row = e;
                  var t = n.element;
                  (t.value = e.value), (t.disabled = !e.enabled);
                };
                var a = document.createElement("input");
                return (
                  (a.name = e.field),
                  (a.type = "text"),
                  (a.autocomplete = "off"),
                  (a.onkeydown = function (e) {
                    var n = !1;
                    switch (e.keyCode) {
                      case 13:
                        t.doOnKey("Enter");
                        break;
                      case 27:
                        t.doOnKey("Escape");
                        break;
                      default:
                        n = !0;
                    }
                    n || (e.preventDefault(), e.stopPropagation());
                  }),
                  (a.oninput = function () {
                    n.onInput();
                  }),
                  (a.onblur = function () {
                    n.onBlur();
                  }),
                  (n.element = a),
                  (n.canFocus = function () {
                    return !n.element.disabled;
                  }),
                  (n.focus = function () {
                    n.element.focus(),
                      n.element.setSelectionRange(0, n.element.value.length);
                  }),
                  (n.save = function () {
                    var t = {};
                    return (t[e.field] = a.value), t;
                  }),
                  n
                );
              },
              textarea: function () {
                var n = new i();
                n.apply = function (e) {
                  n.row = e;
                  var t = n.element;
                  (t.value = e.value), (t.disabled = !e.enabled);
                };
                var a = document.createElement("textarea");
                return (
                  (a.name = e.field),
                  e.data.height && (a.style.height = e.data.height + "px"),
                  (a.onkeydown = function (e) {
                    var n = !1;
                    switch (e.keyCode) {
                      case 13:
                        (e.ctrlKey || e.metaKey) && t.doOnKey("Enter"),
                          (n = !1);
                        break;
                      case 27:
                        t.doOnKey("Escape");
                        break;
                      default:
                        n = !0;
                    }
                    n || e.stopPropagation();
                  }),
                  (a.oninput = function () {
                    n.onInput();
                  }),
                  (a.onblur = function () {
                    n.onBlur();
                  }),
                  (n.element = a),
                  (n.canFocus = function () {
                    return !n.element.disabled;
                  }),
                  (n.focus = function () {
                    n.element.focus(), n.element.setSelectionRange(0, 0);
                  }),
                  (n.save = function () {
                    var t = {};
                    return (t[e.field] = a.value), t;
                  }),
                  n
                );
              },
              date: function () {
                var n = new i();
                n.apply = function (e) {
                  n.row = e;
                  var i = n.element,
                    a = n.picker;
                  e.data.dateFormat && (a.pattern = e.data.dateFormat);
                  var r = e.data.locale || t.locale;
                  r && (a.locale = r),
                    (i.disabled = !e.enabled),
                    (a.date = new DayPilot.Date(e.value));
                  var o = new DayPilot.Date(e.value).toString(
                    e.data.dateFormat || a.pattern,
                    a.locale
                  );
                  i.value = o;
                };
                var a = document.createElement("input");
                a.name = e.field;
                var r = new DayPilot.DatePicker({
                  target: a,
                  theme: "navigator_modal",
                  zIndex: t.zIndex + 1,
                  resetTarget: !1,
                  targetAlignment: "left",
                  onTimeRangeSelect: function () {
                    n.onInput({ immediate: !0 });
                  },
                });
                return (
                  (a.picker = r),
                  (a.className = t.theme + "_input_date"),
                  (a.type = "text"),
                  (a.onkeydown = function (e) {
                    var n = !1;
                    switch (e.keyCode) {
                      case 13:
                        r.visible ? r.close() : t.doOnKey("Enter");
                        break;
                      case 27:
                        r.visible ? r.close() : t.doOnKey("Escape");
                        break;
                      case 9:
                        r.close(), (n = !0);
                        break;
                      default:
                        n = !0;
                    }
                    n || (e.preventDefault(), e.stopPropagation());
                  }),
                  (a.onfocus = function () {
                    r.show();
                  }),
                  (a.onclick = function () {
                    r.show();
                  }),
                  (a.oninput = function () {
                    n.onInput();
                  }),
                  (a.onblur = function () {
                    n.onBlur();
                  }),
                  (n.element = a),
                  (n.picker = r),
                  (n.canFocus = function () {
                    return !n.element.disabled;
                  }),
                  (n.focus = function () {
                    n.element.focus();
                  }),
                  (n.save = function () {
                    var t = r.date ? r.date.toString() : null,
                      n = {};
                    return (n[e.field] = t), n;
                  }),
                  n
                );
              },
              time: function () {
                return t.cj(e);
              },
              datetime: function () {
                return t.dj(e);
              },
              select: function () {
                var t = new i();
                t.apply = function (e) {
                  t.row = e;
                  var n = t.element;
                  (n.value = e.value), (n.disabled = !e.enabled);
                };
                var n = document.createElement("select");
                return (
                  (n.name = e.field),
                  e.data.options &&
                    e.data.options.forEach &&
                    e.data.options.forEach(function (e) {
                      var t = document.createElement("option");
                      (t.innerText = e.name || e.id),
                        (t.value = e.id),
                        (t.ej = e.id),
                        n.appendChild(t);
                    }),
                  (n.onchange = function () {
                    t.onInput({ immediate: !0 });
                  }),
                  (n.onblur = function () {
                    t.onBlur();
                  }),
                  (t.element = n),
                  (t.canFocus = function () {
                    return !t.element.disabled;
                  }),
                  (t.focus = function () {
                    t.element.focus();
                  }),
                  (t.save = function () {
                    var t = null,
                      i = n.options[n.selectedIndex];
                    i && "undefined" != typeof i.ej && (t = i.ej);
                    var a = {};
                    return (a[e.field] = t), a;
                  }),
                  t
                );
              },
              searchable: function () {
                var n = new i();
                n.apply = function (e) {
                  n.row = e;
                  var t = n.searchable;
                  (t.disabled = !e.enabled), t.select(e.value);
                };
                var a = new r({
                    data: e.data.options || [],
                    name: e.field,
                    theme: t.theme + "_form_item_searchable",
                    listZIndex: t.zIndex + 1,
                    onSelect: function (e) {
                      e.ui && n.onInput({ immediate: !0 });
                    },
                  }),
                  o = a.create();
                return (
                  (n.element = o),
                  (n.searchable = a),
                  (n.canFocus = function () {
                    return !n.searchable.disabled;
                  }),
                  (n.focus = function () {
                    n.searchable.focus();
                  }),
                  (n.save = function () {
                    var t = a.selected && a.selected.id,
                      n = {};
                    return (n[e.field] = t), n;
                  }),
                  n
                );
              },
              radio: function () {
                var n = new i();
                n.apply = function (e) {
                  n.row = e;
                  var t = n.radio;
                  (t.checked = e.checked), (t.disabled = !e.enabled);
                };
                var a = document.createElement("label"),
                  r = document.createElement("input");
                (r.type = "radio"),
                  (r.name = e.field),
                  (r.ej = e.resolved),
                  (r.onchange = function () {
                    var e = n.row;
                    t.findRowsByField(e.field).forEach(function (e) {
                      t.updateState(e, { checked: !1 });
                    }),
                      t.updateState(e, { checked: !0 }),
                      t.applyState(),
                      n.onInput({ immediate: !0 });
                  }),
                  (r.onblur = function () {
                    n.onBlur();
                  }),
                  a.appendChild(r);
                var o = document.createTextNode(e.text);
                return (
                  a.append(o),
                  (n.element = a),
                  (n.radio = r),
                  (n.canFocus = function () {
                    return !1;
                  }),
                  (n.focus = function () {
                    n.radio.focus();
                  }),
                  (n.save = function () {
                    if (!r.checked) return {};
                    var t = r.ej,
                      n = {};
                    return (n[e.field] = t), n;
                  }),
                  n
                );
              },
              checkbox: function () {
                var n = new i();
                n.apply = function (e) {
                  n.row = e;
                  var t = n.checkbox;
                  (t.checked = e.checked), (t.disabled = !e.enabled);
                };
                var a = document.createElement("label"),
                  r = document.createElement("input");
                (r.type = "checkbox"),
                  (r.name = e.field),
                  (r.ej = e.resolved),
                  (r.onchange = function () {
                    var e = n.row;
                    t.updateState(e, { checked: this.checked }),
                      t.applyState(),
                      n.onInput({ immediate: !0 });
                  }),
                  (r.onblur = function () {
                    n.onBlur();
                  }),
                  a.appendChild(r);
                var o = document.createTextNode(e.text);
                return (
                  a.append(o),
                  (n.element = a),
                  (n.checkbox = r),
                  (n.canFocus = function () {
                    return !1;
                  }),
                  (n.focus = function () {
                    n.checkbox.focus();
                  }),
                  (n.save = function () {
                    var t = r.checked,
                      n = {};
                    return (n[e.field] = t), n;
                  }),
                  n
                );
              },
              table: function () {
                var n = new i();
                n.apply = function (e) {
                  n.row = e;
                  var t = n.table;
                  (t.disabled = !e.enabled), t.load(e.value || []);
                };
                var a = new o({
                    name: e.field,
                    form: t,
                    theme: t.theme + "_form_item_tabular",
                    item: e.data,
                    onInput: function () {
                      n.onInput();
                    },
                  }),
                  r = a.create();
                return (
                  (n.element = r),
                  (n.table = a),
                  (n.canFocus = function () {
                    return !1;
                  }),
                  (n.focus = function () {
                    n.table.focus();
                  }),
                  (n.save = function () {
                    var t = a.save(),
                      n = {};
                    return (n[e.field] = t), n;
                  }),
                  n
                );
              },
            };
          return t.plugins && t.plugins[e.type]
            ? t.plugins[e.type](e)
            : n[e.type]();
        }),
        (t.prototype.cj = function (e) {
          var t = this,
            n = new i();
          n.apply = function (e) {
            n.row = e;
            var t = n.searchable;
            (t.disabled = !e.enabled), t.select(e.value);
          };
          var a = [],
            o = e.data.timeInterval || 15;
          [1, 5, 10, 15, 20, 30, 60].includes(o) || (o = 15);
          for (
            var l = 60 / o,
              s = e.data.locale || t.locale,
              d = DayPilot.Locale.find(s) || DayPilot.Locale.US,
              c = DayPilot.Date.today(),
              u = 0;
            u < 24 * l;
            u++
          ) {
            var h = c.addMinutes(o * u),
              f = {};
            (f.name = h.toString(e.data.timeFormat || d.timePattern, d)),
              (f.id = h.toString("HH:mm")),
              a.push(f);
          }
          var v = new r({
              data: a,
              name: e.field,
              theme: t.theme + "_form_item_time",
              listZIndex: t.zIndex + 1,
              strategy: "startsWith",
              onSelect: function (e) {
                e.ui && n.onInput({ immediate: !0 });
              },
            }),
            p = v.create();
          return (
            (n.element = p),
            (n.searchable = v),
            (n.canFocus = function () {
              return !n.searchable.disabled;
            }),
            (n.focus = function () {
              n.searchable.focus();
            }),
            (n.save = function () {
              var t = v.selected && v.selected.id,
                n = {};
              return (n[e.field] = t), n;
            }),
            n
          );
        }),
        (t.prototype.dj = function (e) {
          var t = this,
            n = new i();
          n.apply = function (e) {
            n.row = e;
            var i = n.searchable;
            i.disabled = !e.enabled;
            var a = new DayPilot.Date(e.value).toString("HH:mm");
            i.select(a);
            var r = n.dateInput,
              o = n.picker;
            e.data.dateFormat && (o.pattern = e.data.dateFormat);
            var l = e.data.locale || t.locale;
            if (l) {
              var s = DayPilot.Locale.find(l) || DayPilot.Locale.US;
              (o.locale = l), (o.pattern = s.datePattern);
            }
            (r.disabled = !e.enabled), (o.date = new DayPilot.Date(e.value));
            var d = new DayPilot.Date(e.value).toString(
              e.data.dateFormat || o.pattern,
              o.locale
            );
            r.value = d;
          };
          var a = (function () {
              var i = document.createElement("input");
              i.name = e.field;
              var a = new DayPilot.DatePicker({
                target: i,
                theme: "navigator_modal",
                zIndex: t.zIndex + 1,
                resetTarget: !1,
                targetAlignment: "left",
                onTimeRangeSelect: function () {
                  n.onInput({ immediate: !0 });
                },
              });
              return (
                (i.picker = a),
                (i.className = t.theme + "_input_date"),
                (i.type = "text"),
                (i.onkeydown = function (e) {
                  var n = !1;
                  switch (e.keyCode) {
                    case 13:
                      a.visible ? a.close() : t.doOnKey("Enter");
                      break;
                    case 27:
                      a.visible ? a.close() : t.doOnKey("Escape");
                      break;
                    case 9:
                      a.close(), (n = !0);
                      break;
                    default:
                      n = !0;
                  }
                  n || (e.preventDefault(), e.stopPropagation());
                }),
                (i.onfocus = function () {
                  a.show();
                }),
                (i.onclick = function () {
                  a.show();
                }),
                (i.oninput = function () {
                  n.onInput();
                }),
                (i.onblur = function () {
                  n.onBlur();
                }),
                (n.dateInput = i),
                (n.picker = a),
                i
              );
            })(),
            o = (function () {
              var i = [],
                a = e.data.timeInterval || 15;
              [1, 5, 10, 15, 20, 30, 60].includes(a) || (a = 15);
              for (
                var o = 60 / a,
                  l = e.data.locale || t.locale,
                  s = DayPilot.Locale.find(l) || DayPilot.Locale.US,
                  d = DayPilot.Date.today(),
                  c = 0;
                c < 24 * o;
                c++
              ) {
                var u = d.addMinutes(a * c),
                  h = {};
                (h.name = u.toString(e.data.timeFormat || s.timePattern, s)),
                  (h.id = u.toString("HH:mm")),
                  i.push(h);
              }
              var f = new r({
                data: i,
                name: e.field,
                theme: t.theme + "_form_item_time",
                listZIndex: t.zIndex + 1,
                strategy: "startsWith",
                onSelect: function (e) {
                  e.ui && n.onInput({ immediate: !0 });
                },
              });
              return (n.searchable = f), f.create();
            })(),
            l = document.createElement("div");
          return (
            (l.className = t.theme + "_form_item_datetime_parent"),
            l.appendChild(a),
            l.appendChild(o),
            (n.element = l),
            (n.canFocus = function () {
              return !n.searchable.disabled;
            }),
            (n.focus = function () {
              n.dateInput.focus();
            }),
            (n.save = function () {
              var t = n.searchable.selected && n.searchable.selected.id,
                i = n.picker.date ? n.picker.date.toString() : null,
                a = new DayPilot.Date(i).getDatePart(),
                r = DayPilot.Date.parse(
                  a.toString("yyyy-dd-MM ") + t,
                  "yyyy-dd-MM HH:mm"
                ),
                o = {};
              return (o[e.field] = r), o;
            }),
            n
          );
        }),
        (t.prototype.findRowsByField = function (e) {
          return this.Zi.filter(function (t) {
            return t.field === e;
          });
        }),
        (t.prototype.findViewById = function (e, t) {
          return this.o.find(function (n) {
            return (
              n.row.field === e &&
              ("radio" !== n.row.type || n.row.resolved === t)
            );
          });
        }),
        (t.prototype.firstFocusable = function () {
          return this.o.find(function (e) {
            return e.canFocus && e.canFocus();
          });
        }),
        (t.prototype.updateState = function (e, t) {
          var n = this.$i ? this.$i : this.Zi,
            i = n.indexOf(e);
          return (
            (this.$i = n.map(function (n) {
              if (n !== e) return n;
              if (e.propsEqual(t)) return e;
              var i = e.clone();
              for (var a in t) i[a] = t[a];
              return i;
            })),
            this.$i[i]
          );
        }),
        (t.prototype.updateInteractive = function (e) {
          var t = this.$i.indexOf(e);
          this.o[t].apply(e);
        }),
        (t.prototype.applyState = function () {
          var e = this;
          if ((this.updateDependentState(), this.$i)) {
            this.$i
              .filter(function (t, n) {
                return e.Zi[n] !== t;
              })
              .forEach(function (t) {
                e.updateInteractive(t);
              }),
              (this.Zi = this.$i),
              (this.$i = null);
          }
        }),
        (t.prototype.getFieldType = function (e) {
          return [
            "text",
            "date",
            "select",
            "searchable",
            "radio",
            "checkbox",
            "table",
            "title",
            "image",
            "html",
            "textarea",
            "scrollable",
            "time",
            "datetime",
          ].indexOf(e.type) !== -1
            ? e.type
            : e.type && this.plugins && this.plugins[e.type]
            ? e.type
            : e.image
            ? "image"
            : e.html || e.text
            ? "html"
            : e.id
            ? e.options
              ? "searchable"
              : e.dateFormat
              ? "date"
              : e.columns
              ? "table"
              : "text"
            : "title";
        }),
        (t.prototype.serialize = function () {
          var e = {};
          return (
            this.o.forEach(function (t) {
              var n = t.save();
              for (var i in n) e[i] = n[i];
            }),
            e
          );
        }),
        (n.prototype.clone = function () {
          var e = new n();
          for (var t in this) "id" !== t && (e[t] = this[t]);
          return e;
        }),
        (n.prototype.propsEqual = function (e) {
          for (var t in e) if (this[t] !== e[t]) return !1;
          return !0;
        }),
        (n.prototype.guid = function () {
          var e = function () {
            return ((65536 * (1 + Math.random())) | 0)
              .toString(16)
              .substring(1);
          };
          return (
            "" +
            e() +
            e() +
            "-" +
            e() +
            "-" +
            e() +
            "-" +
            e() +
            "-" +
            e() +
            e() +
            e()
          );
        }),
        (n.prototype.applyValue = function (e, t) {
          this.field === e &&
            ((this.value = t),
            this.isValue && t === this.resolved && (this.checked = !0));
        }),
        (DayPilot.Modal.Experimental = {}),
        (DayPilot.Modal.Experimental.Form = t),
        (r.prototype.select = function (e) {
          return (
            (this.gj = this.data.find(function (t) {
              return t.id === e;
            })),
            this.mj(!1),
            this
          );
        }),
        (r.prototype.create = function () {
          function e(e) {
            var n = s.strategy;
            "includes" !== s.strategy &&
              "startsWith" !== s.strategy &&
              (n = "includes"),
              (e = e || n || "includes"),
              (h.style.display = ""),
              (h.style.top = v.offsetHeight + "px"),
              (h.style.left = "0px"),
              (h.style.width = v.offsetWidth + "px"),
              (h.innerHTML = ""),
              h.addEventListener("mousedown", function (e) {
                e.preventDefault();
              }),
              (s.hj = null),
              (s.A = []);
            var a = null;
            s.data.forEach(function (n) {
              var r = n.name || n.id;
              if ("includes" === e) {
                if (r.toLowerCase().indexOf(v.value.toLowerCase()) === -1)
                  return;
              } else if ("startsWith" === e && 0 !== r.toLowerCase().indexOf(v.value.toLowerCase())) return;
              var o = document.createElement("div");
              (o.className = s.theme + "_list_item"),
                (o.innerText = r),
                (o.item = n),
                n === s.gj && (s.hj = o),
                a || (a = o),
                o.addEventListener("mousedown", function (e) {
                  i(o), e.preventDefault();
                }),
                o.addEventListener("mousemove", function () {
                  s.hj !== o && ((s.hj = o), t({ dontScroll: !0 }));
                }),
                h.appendChild(o),
                s.A.push(o);
            }),
              s.hj || (s.hj = a),
              t();
          }
          function t(e) {
            e = e || {};
            var t = !e.dontScroll;
            document
              .querySelectorAll("." + s.theme + "_list_item_highlight")
              .forEach(function (e) {
                e.className = e.className.replace(
                  s.theme + "_list_item_highlight",
                  ""
                );
              }),
              s.hj &&
                ((s.hj.className += " " + s.theme + "_list_item_highlight"),
                t && !n(s.hj, h) && s.hj.scrollIntoView());
          }
          function n(e, t) {
            var n = e.getBoundingClientRect(),
              i = t.getBoundingClientRect();
            return n.top >= i.top && n.bottom <= i.bottom;
          }
          function i(e) {
            var t = e.item;
            (s.gj = t), s.mj(!0), r(), o();
          }
          function a() {
            s.lj();
          }
          function r() {
            s.B();
          }
          function o() {
            (s.ij = !0), v.setAttribute("readonly", "readonly"), v.focus();
          }
          function l() {
            (s.ij = !1), v.removeAttribute("readonly"), v.select(), e("all");
          }
          var s = this,
            d = this,
            c = document.createElement("div");
          (c.className = this.theme + "_main"), (c.style.position = "relative");
          var u = document.createElement("div");
          (u.className = this.theme + "_icon"),
            (u.style.position = "absolute"),
            (u.style.right = "0"),
            (u.style.top = "0"),
            (u.style.bottom = "0"),
            (u.style.width = "20px"),
            u.addEventListener("mousedown", function (e) {
              e.preventDefault(), s.ij ? (s.focus(), l()) : (a(), o());
            });
          var h = document.createElement("div");
          (h.className = this.theme + "_list"),
            (h.style.display = "none"),
            (h.style.position = "absolute"),
            (h.style.zIndex = this.listZIndex);
          var f = document.createElement("input");
          (f.type = "hidden"),
            (f.name = this.name),
            (f.searchable = d),
            (this.kj = f);
          var v = document.createElement("input");
          return (
            (v.type = "text"),
            (v.className = this.theme + "_input"),
            (v.disabled = this.fj),
            v.addEventListener("click", function () {
              l();
            }),
            v.addEventListener("focus", function () {
              e("all");
            }),
            v.addEventListener("input", function () {
              e();
            }),
            v.addEventListener("blur", function () {
              v.removeAttribute("readonly"), a();
            }),
            v.addEventListener("keydown", function (e) {
              if (s.ij) {
                if ("Enter" === e.key) return;
                if ("Esc" === e.key || "Escape" === e.key) return;
                l();
              }
              if ("ArrowDown" === e.key) {
                var n = d.A.indexOf(d.hj);
                n + 1 < d.A.length && (d.hj = d.A[n + 1]), t();
              } else if ("ArrowUp" === e.key) {
                var n = d.A.indexOf(d.hj);
                n - 1 >= 0 && (d.hj = d.A[n - 1]), t();
              } else
                "Enter" === e.key
                  ? s.hj
                    ? (e.stopPropagation(), i(s.hj))
                    : (e.stopPropagation(), a(), o())
                  : ("Esc" !== e.key && "Escape" !== e.key) ||
                    (e.stopPropagation(), a(), o());
            }),
            (this.jj = v),
            (this.Oc = h),
            this.gj ||
              ((this.gj = this.data[0]), this.gj && (v.value = this.gj.name)),
            c.appendChild(v),
            c.appendChild(u),
            c.appendChild(f),
            c.appendChild(h),
            c
          );
        }),
        (r.prototype.lj = function () {
          this.B(),
            this.gj
              ? (this.jj.value = this.gj.name)
              : ((this.jj.value = ""), this.mj(!0));
        }),
        (r.prototype.focus = function () {
          (this.ij = !0),
            this.jj.setAttribute("readonly", "readonly"),
            this.jj.focus(),
            this.lj();
        }),
        (r.prototype.B = function () {
          this.Oc.style.display = "none";
        }),
        (r.prototype.mj = function (e) {
          if (
            ((this.kj.value = this.selected ? this.selected.id : null),
            this.gj ? (this.jj.value = this.gj.name) : (this.jj.value = ""),
            "function" == typeof this.onSelect)
          ) {
            var t = { control: this, ui: e };
            this.onSelect(t);
          }
        }),
        (o.prototype.create = function () {
          var e = this,
            t = document.createElement("div");
          (t.className = this.theme + "_main"), (t.style.position = "relative");
          var n = document.createElement("input");
          (n.type = "hidden"),
            (n.name = e.name),
            (n.table = this),
            t.appendChild(n);
          var i = document.createElement("div");
          i.className = this.theme + "_table";
          var a = this.oj();
          i.appendChild(a);
          var r = e.pj({});
          r.spacer = !0;
          var o = this.qj(r);
          o.classList.add(e.theme + "_spacer"), i.appendChild(o);
          var l = document.createElement("div");
          (l.className = e.theme + "_tbody"),
            i.appendChild(l),
            t.appendChild(i);
          var s = document.createElement("div");
          t.appendChild(s),
            (this.nav.body = l),
            (this.nav.table = i),
            (this.nav.main = t),
            (this.nav.after = s);
          var d = document.createElement("div"),
            c = document.createElement("span");
          return (
            (c.className = this.theme + "_plus"),
            c.addEventListener("click", function () {
              if (!e.disabled) {
                var t = e.item.onNewRow,
                  n = {};
                if ("function" == typeof t) {
                  var i = {};
                  (i.result = e.form.serialize()),
                    (i.value = {}),
                    t(i),
                    (n = i.value);
                }
                var a = e.pj(n);
                e.Zi.push(a), e.V(), e.rj();
              }
            }),
            (this.nav.plus = c),
            d.appendChild(c),
            t.appendChild(d),
            t
          );
        }),
        (o.prototype.oj = function () {
          var e = this,
            t = document.createElement("div");
          return (
            t.classList.add(this.theme + "_row"),
            t.classList.add(this.theme + "_header"),
            this.item.columns.forEach(function (n) {
              var i = document.createElement("div");
              i.classList.add(e.theme + "_cell"),
                (i.innerText = n.name),
                t.appendChild(i);
            }),
            t
          );
        }),
        (o.prototype.sj = function () {
          var e = this.item.max || 0;
          return !!(e && this.Zi.length >= e);
        }),
        (o.prototype.save = function () {
          var e = this,
            t = [];
          return (
            e.Zi.forEach(function (e) {
              var n = {};
              e.cells.forEach(function (e) {
                n[e.id] = e.value;
              }),
                t.push(n);
            }),
            t
          );
        }),
        (o.prototype.load = function (e) {
          if ("[object Array]" !== Object.prototype.toString.call(e))
            throw new Error("Array expected");
          (this.data = e), this.tj(), this.V();
        }),
        (o.prototype.uj = function () {
          this.disabled
            ? this.nav.main.classList.add(this.theme + "_disabled")
            : this.nav.main.classList.remove(this.theme + "_disabled"),
            this.sj()
              ? this.nav.plus.classList.add(this.theme + "_plus_max")
              : this.nav.plus.classList.remove(this.theme + "_plus_max");
        }),
        (o.prototype.tj = function () {
          var e = this;
          (this.Zi = []),
            this.data.forEach(function (t) {
              var n = e.pj(t);
              e.Zi.push(n);
            });
        }),
        (o.prototype.vj = function (e) {
          var t = this,
            n = t.Zi.indexOf(e);
          t.Zi.splice(n, 1);
        }),
        (o.prototype.pj = function (e) {
          var t = this,
            n = {};
          return (
            (n.data = e),
            (n.cells = []),
            t.item.columns.forEach(function (i) {
              var a = i.id,
                r = e[a],
                o = t.wj(i);
              if ("undefined" == typeof r)
                if ("text" === o) r = "";
                else if ("number" === o) r = 0;
                else if ("select" === o) {
                  var l = i.options;
                  r = l && l[0].id;
                }
              var s = {};
              (s.id = a),
                (s.value = r),
                (s.type = o),
                (s.data = i),
                n.cells.push(s);
            }),
            n
          );
        }),
        (o.prototype.wj = function (e) {
          var t = e.type;
          return t || (t = e.options ? "select" : "text"), t;
        }),
        (o.prototype.V = function () {
          var e = this;
          if (
            ((this.nav.body.innerHTML = ""),
            (this.nav.after.innerHTML = ""),
            this.Zi.forEach(function (t) {
              var n = e.qj(t);
              e.nav.body.appendChild(n);
            }),
            0 === this.Zi.length)
          ) {
            var t = e.xj();
            e.nav.after.appendChild(t);
          }
          this.uj();
        }),
        (o.prototype.xj = function () {
          var e = document.createElement("div");
          return (e.className = this.theme + "_empty"), e;
        }),
        (o.prototype.qj = function (e) {
          var t = this,
            n = document.createElement("div");
          (n.className = t.theme + "_row"),
            e.cells.forEach(function (i) {
              var a = document.createElement("div");
              a.className = t.theme + "_cell";
              var r = t.yj(i);
              if (e.spacer) {
                var o = document.createElement("div");
                (o.style.height = "0px"),
                  (o.style.overflow = "hidden"),
                  o.appendChild(r),
                  a.appendChild(o);
              } else a.appendChild(r);
              n.appendChild(a);
            });
          var i = document.createElement("div");
          i.classList.add(t.theme + "_cell"),
            i.classList.add(t.theme + "_rowaction");
          var a = document.createElement("span");
          return (
            (a.className = this.theme + "_delete"),
            a.addEventListener("click", function () {
              t.disabled || (t.vj(e), t.V(), t.rj());
            }),
            e.spacer || i.appendChild(a),
            n.appendChild(i),
            n
          );
        }),
        (o.prototype.rj = function () {
          var e = this;
          if ("function" == typeof e.onInput) {
            var t = {};
            e.onInput(t);
          }
        }),
        (o.prototype.yj = function (e) {
          var t = this,
            n = e.type;
          if ("text" === n || "number" === n) {
            var i = document.createElement("input");
            return (
              (i.type = n),
              t.disabled && (i.disabled = !0),
              e.value && (i.value = e.value),
              i.addEventListener("keyup", function () {
                "number" === n
                  ? (e.value = Number(this.value))
                  : (e.value = this.value),
                  t.rj();
              }),
              i
            );
          }
          if ("select" === n) {
            var a = document.createElement("select");
            return (
              t.disabled && (a.disabled = !0),
              e.data.options.forEach(function (t) {
                var n = document.createElement("option");
                (n.innerText = t.name),
                  (n.value = t.id),
                  (n.ej = t.id),
                  a.appendChild(n),
                  e.value === t.id && n.setAttribute("selected", !0);
              }),
              a.addEventListener("change", function () {
                var n = a.options[a.selectedIndex];
                n && "undefined" != typeof n.ej && (e.value = n.ej), t.rj();
              }),
              a
            );
          }
          throw new Error("Unsupported item type: " + n);
        }),
        (o.prototype.focus = function () {});
    }
  })(DayPilot),
  (function (DayPilot) {
    var e = function () {};
    if ("undefined" == typeof DayPilot.Month || !DayPilot.Month.def) {
      var t = {},
        n = DayPilot.Util.isReactComponent,
        i = DayPilot.Util.isVueComponent,
        a = DayPilot.Util.isVueVNode;
      (DayPilot.Month = function (r, o) {
        (this.v = "2025.3.6631"), (this.nav = {});
        var l = this;
        (this.id = r),
          (this.isMonth = !0),
          (this.api = 2),
          (this.za = !1),
          (this.hideUntilInit = !0),
          (this.startDate = new DayPilot.Date()),
          (this.width = null),
          "function" == typeof DayPilot.Bubble
            ? (this.bubble = new DayPilot.Bubble())
            : (this.bubble = null),
          (this.cssClassPrefix = "month_default"),
          (this.cellHeight = 100),
          (this.cellMarginBottom = 0),
          (this.allowMultiSelect = !0),
          (this.autoRefreshCommand = "refresh"),
          (this.autoRefreshEnabled = !1),
          (this.autoRefreshInterval = 60),
          (this.autoRefreshMaxCount = 20),
          (this.doubleClickTimeout = 300),
          (this.eventEndSpec = "DateTime"),
          (this.eventTextWrappingEnabled = !1),
          (this.headerHeight = 30),
          (this.heightSpec = "Auto"),
          (this.weekStarts = "Auto"),
          (this.eventBarVisible = !0),
          (this.eventHeight = 25),
          (this.cellHeaderHeight = 24),
          (this.clientState = {}),
          (this.afterRender = function () {}),
          (this.cssOnly = !0),
          (this.eventsLoadMethod = "GET"),
          (this.initEventEnabled = !1),
          (this.lineSpace = 1),
          (this.loadingLabelVisible = !0),
          (this.loadingLabelText = "Loading..."),
          (this.loadingLabelHtml = null),
          (this.locale = "en-us"),
          (this.maxEvents = "All"),
          (this.messageHideAfter = 5e3),
          (this.notifyCommit = "Immediate"),
          (this.visible = !0),
          (this.eventMoveToPosition = !1),
          (this.eventStartTime = !1),
          (this.eventEndTime = !1),
          (this.eventStartEndWidth = 45),
          (this.showWeekend = !0),
          (this.cellMode = !1),
          (this.rtl = !1),
          (this.shadowType = "Fill"),
          (this.tapAndHoldTimeout = 300),
          (this.timeFormat = "Auto"),
          (this.viewType = "Month"),
          (this.weeks = 1),
          (this.xssProtection = "Enabled"),
          (this.cellHeaderClickHandling = "Enabled"),
          (this.eventClickHandling = "Enabled"),
          (this.eventDeleteHandling = "Disabled"),
          (this.eventDoubleClickHandling = "Disabled"),
          (this.eventMoveHandling = "Update"),
          (this.eventResizeHandling = "Update"),
          (this.eventRightClickHandling = "ContextMenu"),
          (this.eventSelectHandling = "Update"),
          (this.headerClickHandling = "Enabled"),
          (this.timeRangeSelectedHandling = "Enabled"),
          (this.timeRangeDoubleClickHandling = "Disabled"),
          (this.onEventFilter = null),
          (this.onBeforeEventRender = null),
          (this.onBeforeCellRender = null),
          (this.onBeforeHeaderRender = null),
          (this.onBeforeEventDomAdd = null),
          (this.onBeforeEventDomRemove = null),
          (this.onBeforeEventExport = null),
          (this.onBeforeCellExport = null),
          (this.onBeforeHeaderExport = null),
          (this.onCellHeaderClick = null),
          (this.onCellHeaderClicked = null),
          (this.backendUrl = null),
          (this.cellEvents = []),
          (this.elements = {}),
          (this.elements.events = []),
          (this.va = {}),
          (this.va.events = {}),
          (this.events = {}),
          (this.ya = 0),
          (this.Ba = {});
        var s = this.Ba;
        this.Ca = {};
        var d = l.Ca;
        (this.Ga = "javasc"),
          (this.Ta = function (e) {
            var t = JSON.parse(e);
            if (t.BubbleGuid) {
              var n = t.BubbleGuid,
                i = this.bubbles[n];
              return (
                delete this.bubbles[n],
                l.nb(),
                void (
                  "undefined" != typeof t.Result.BubbleHTML &&
                  i.updateView(t.Result.BubbleHTML, i)
                )
              );
            }
            if (t.CallBackRedirect)
              return void (document.location.href = t.CallBackRedirect);
            if (
              ("undefined" != typeof t.ClientState &&
                (l.clientState = t.ClientState),
              "None" === t.UpdateType)
            )
              return (
                l.ob(t.CallBackData, !0),
                t.Message && l.message(t.Message),
                void l.nb()
              );
            if (t.VsUpdate) {
              var a = document.createElement("input");
              (a.type = "hidden"),
                (a.name = l.id + "_vsupdate"),
                (a.id = a.name),
                (a.value = t.VsUpdate),
                (l.zj.innerHTML = ""),
                l.zj.appendChild(a);
            }
            (l.events.list = t.Events),
              "undefined" != typeof t.TagFields && (l.tagFields = t.TagFields),
              "undefined" != typeof t.SortDirections &&
                (l.sortDirections = t.SortDirections),
              "Full" === t.UpdateType &&
                ((l.cellProperties = t.CellProperties),
                (l.headerProperties = t.HeaderProperties),
                (l.startDate = t.StartDate),
                "undefined" != typeof t.ShowWeekend &&
                  (l.showWeekend = t.ShowWeekend),
                (l.locale = t.Locale ? t.Locale : l.locale),
                (l.timeFormat = t.TimeFormat ? t.TimeFormat : l.timeFormat),
                "undefined" != typeof t.WeekStarts &&
                  (l.weekStarts = t.WeekStarts),
                (l.hashes = t.Hashes)),
              l.multiselect.clear(!0),
              (l.multiselect.initList = t.SelectedEvents),
              l.Ya(),
              l.Aj(),
              l.tb(),
              "Full" === t.UpdateType && (l.Bj(), l.Cj()),
              l.Bb(),
              l.D(),
              l.Fb(),
              l.ob(t.CallBackData, !0),
              l.Jb(),
              t.Message && l.message(t.Message),
              l.nb();
          }),
          (this.ob = function (e, t) {
            var n = function (e, t) {
              return function () {
                if (l.Kb()) {
                  if ("function" == typeof l.onAfterRender) {
                    var n = {};
                    (n.isCallBack = t), (n.data = e), l.onAfterRender(n);
                  }
                } else l.afterRender && l.afterRender(e, t);
              };
            };
            window.setTimeout(n(e, t), 0);
          }),
          (this.Kb = function () {
            return 2 === l.api;
          }),
          (this.La = function (e, t) {
            return l.Ba.Ma()
              ? DayPilot.Util.escapeTextHtml(e, t)
              : DayPilot.Util.isNullOrUndefined(t)
              ? DayPilot.Util.isNullOrUndefined(e)
                ? ""
                : e
              : t;
          }),
          (this.ca = function (e) {
            var t = this.theme || this.cssClassPrefix;
            return t ? t + e : "";
          }),
          (this.tb = function () {
            if (this.events.list) {
              if ("function" == typeof this.onBeforeEventRender)
                for (var e = this.events.list.length, t = 0; t < e; t++)
                  this.Kg(t);
              this.cellMode ? this.Dj() : this.Ej();
            }
          }),
          (this.Qa = function (e) {
            var t = e ? 0 : 100;
            l.loadingTimeout && window.clearTimeout(l.loadingTimeout),
              (l.loadingTimeout = window.setTimeout(function () {
                l.loadingLabelVisible &&
                  l.nav.loading &&
                  ((l.nav.loading.style.top = s.headerHeight() + 5 + "px"),
                  (l.nav.loading.innerHTML = l.La(
                    l.loadingLabelText,
                    l.loadingLabelHtml
                  )),
                  (l.nav.loading.style.display = ""));
              }, t));
          }),
          (this.nb = function () {
            this.loadingTimeout && window.clearTimeout(this.loadingTimeout),
              l.nav.loading && (this.nav.loading.style.display = "none");
          }),
          (this.Ej = function () {
            if (this.events.list) {
              for (var e = 0; e < this.events.list.length; e++) {
                var t = this.events.list[e];
                if ("object" != typeof t)
                  throw new DayPilot.Exception(
                    "Event data item must be an object"
                  );
                if (!t.start)
                  throw new DayPilot.Exception(
                    "Event data item must specify 'start' property"
                  );
                var n = null;
                if (
                  ("function" == typeof l.onBeforeEventRender &&
                    (n = l.va.events[e]),
                  n)
                ) {
                  if (n.hidden) continue;
                } else if (t.hidden) continue;
                var i = new DayPilot.Date(t.start),
                  a = new DayPilot.Date(t.end);
                if (((a = l.Fj(a)), !(i.getTime() > a.getTime())))
                  for (var r = 0; r < this.rows.length; r++) {
                    var o = this.rows[r];
                    if (o.belongsHere(i, a)) {
                      var s = new DayPilot.Event(t, l);
                      if ("function" == typeof l.onEventFilter && l.events.eh) {
                        var d = {};
                        if (
                          ((d.filter = l.events.eh),
                          (d.visible = !0),
                          (d.e = s),
                          l.onEventFilter(d),
                          !d.visible)
                        )
                          break;
                      }
                      o.events.push(s),
                        "function" == typeof this.onBeforeEventRender &&
                          (s.cache = this.va.events[e]);
                    }
                  }
              }
              for (var c = 0; c < this.rows.length; c++) {
                var o = this.rows[c];
                o.events.sort(this.hh);
                for (var u = 0; u < this.rows[c].events.length; u++) {
                  var h = o.events[u],
                    f = o.getStartColumn(h),
                    v = o.getWidth(h);
                  o.putIntoLine(h, f, v, c);
                }
              }
            }
          }),
          (this.Dj = function () {
            this.cellEvents = [];
            for (var e = 0; e < this.Gj(); e++) {
              this.cellEvents[e] = [];
              for (var t = 0; t < this.rows.length; t++) {
                var n = {},
                  i = this.firstDate.addDays(7 * t + e);
                (n.start = i),
                  (n.end = i.addDays(1)),
                  (n.events = []),
                  (this.cellEvents[e][t] = n);
              }
            }
            for (var a = 0; a < this.events.list.length; a++) {
              var r = this.events.list[a];
              if ("object" != typeof r)
                throw new DayPilot.Exception(
                  "Event data item must be an object"
                );
              if (!r.start)
                throw new DayPilot.Exception(
                  "Event data item must specify 'start' property"
                );
              var o = null;
              if (
                ("function" == typeof l.onBeforeEventRender &&
                  (o = l.va.events[a]),
                o)
              ) {
                if (o.hidden) continue;
              } else if (r.hidden) continue;
              var s = new DayPilot.Date(r.start),
                d = new DayPilot.Date(r.start);
              if (((d = l.Fj(d)), !(s.getTime() > d.getTime())))
                for (var e = 0; e < this.Gj(); e++)
                  for (var t = 0; t < this.rows.length; t++) {
                    var n = this.cellEvents[e][t];
                    if (
                      s.getTime() >= n.start.getTime() &&
                      s.getTime() < n.end.getTime()
                    ) {
                      var c = new DayPilot.Event(r, l);
                      if ("function" == typeof l.onEventFilter && l.events.eh) {
                        var u = {};
                        if (
                          ((u.filter = l.events.eh),
                          (u.visible = !0),
                          (u.e = c),
                          l.onEventFilter(u),
                          !u.visible)
                        )
                          continue;
                      }
                      n.events.push(c),
                        "function" == typeof this.onBeforeEventRender &&
                          (c.cache = this.va.events[a]);
                    }
                  }
            }
            for (var e = 0; e < this.Gj(); e++)
              for (var t = 0; t < this.rows.length; t++) {
                var n = this.cellEvents[e][t];
                n.events.sort(this.hh);
              }
          }),
          (this.Ya = function () {
            for (var e = 0; e < this.elements.events.length; e++) {
              var t = this.elements.events[e];
              l.Qe(t);
            }
            this.elements.events = [];
          }),
          (this.Qe = function (e) {
            !(function () {
              var t = e.domArgs;
              if (
                ((e.domArgs = null),
                "function" == typeof l.onDomRemoveEvent &&
                  l.onDomRemoveEvent(t),
                t &&
                  "function" == typeof l.onBeforeEventDomRemove &&
                  l.onBeforeEventDomRemove(t),
                t && "function" == typeof l.onBeforeEventDomAdd)
              ) {
                var r = t && t.Le;
                if (r) {
                  var o = l.W.reactDOM && n(t.element),
                    s = l.Y.Ne && (i(t.element) || a(t.element));
                  o
                    ? l.W.ka(r)
                    : s && ((l.Y.Oe = !0), l.Y.la(r), (l.Y.Oe = !1));
                }
              }
            })(),
              (e.event = null),
              (e.click = null),
              e.parentNode && e.parentNode.removeChild(e);
          }),
          (this.Fb = function () {
            (this.va.events = {}),
              this.cellMode ? this.Hj() : this.Ij(),
              this.multiselect.redraw();
          }),
          (this.Hj = function () {
            if (((this.elements.events = []), 0 !== this.cellEvents.length))
              for (var e = 0; e < this.Gj(); e++)
                for (var t = 0; t < this.rows.length; t++)
                  for (
                    var n = this.cellEvents[e][t], i = 0;
                    i < n.events.length;
                    i++
                  ) {
                    var a = n.events[i];
                    (a.part.colStart = e),
                      (a.part.colWidth = 1),
                      (a.part.row = t),
                      (a.part.line = i),
                      (a.part.startsHere = !0),
                      (a.part.endsHere = !0),
                      this.Ue(a);
                  }
          }),
          (this.Ij = function () {
            this.elements.events = [];
            for (
              var e = "number" == typeof l.maxEvents ? l.maxEvents : 1e3, t = 0;
              t < this.rows.length;
              t++
            )
              for (var n = this.rows[t], i = 0; i < n.lines.length; i++) {
                var a = n.lines[i];
                if (!(i >= e)) for (var r = 0; r < a.length; r++) this.Ue(a[r]);
              }
          }),
          (this.gh = function (e, t) {
            if (!(e && t && e.start && t.start)) return 0;
            var n = e.start().ticks - t.start().ticks;
            return 0 !== n ? n : t.end().ticks - e.end().ticks;
          }),
          (this.hh = function (e, t) {
            if (!e || !t) return 0;
            if (
              !(
                e.data &&
                t.data &&
                e.data.sort &&
                t.data.sort &&
                0 !== e.data.sort.length &&
                0 !== t.data.sort.length
              )
            )
              return l.gh(e, t);
            for (
              var n = 0, i = 0;
              0 === n &&
              "undefined" != typeof e.data.sort[i] &&
              "undefined" != typeof t.data.sort[i];

            )
              (n =
                e.data.sort[i] === t.data.sort[i]
                  ? 0
                  : "number" == typeof e.data.sort[i] &&
                    "number" == typeof t.data.sort[i]
                  ? e.data.sort[i] - t.data.sort[i]
                  : l.ih(e.data.sort[i], t.data.sort[i], l.sortDirections[i])),
                i++;
            return n;
          }),
          (this.ih = function (e, t, n) {
            var i = "desc" !== n,
              a = i ? -1 : 1,
              r = -a;
            if (null === e && null === t) return 0;
            if (null === t) return r;
            if (null === e) return a;
            var o = [];
            return (o[0] = e), (o[1] = t), o.sort(), e === o[0] ? a : r;
          }),
          (this.Jj = function (e, n, i, a, r) {
            r || (r = 0);
            var o = (function () {
                for (var t = 0; t < a; t++) {
                  var i = e + 7 * n + t - r;
                  if (!(i < 0)) {
                    var o = i % 7,
                      s = Math.floor(i / 7);
                    if (!(s > l.rows.length - 1)) {
                      if (l.cells[o][s].props.disabled) return !0;
                    }
                  }
                }
              })(),
              s = a;
            (this.shadow = {}),
              (this.shadow.list = []),
              (this.shadow.start = { x: e, y: n }),
              (this.shadow.width = a),
              (this.shadow.disabled = o),
              this.eventMoveToPosition && ((s = 1), (this.shadow.position = i));
            var d = 7 * n + e - r;
            d < 0 && ((s += d), (e = 0), (n = 0));
            for (var c = r; c >= 7; ) n--, (c -= 7);
            if (c > e) {
              c > e + (7 - this.Gj())
                ? (n--, (e = e + 7 - c))
                : ((s = s - c + e), (e = 0));
            } else e -= c;
            n < 0 && ((n = 0), (e = 0));
            var u = null;
            for (
              t.resizingEvent
                ? (u = "w-resize")
                : t.movingEvent && (u = "move"),
                this.nav.top.style.cursor = u;
              s > 0 && n < this.rows.length;

            ) {
              var h = Math.min(this.Gj() - e, s),
                f = this.rows[n],
                v = this.Kj(n),
                p = f.getHeight();
              this.eventMoveToPosition && ((v = this.Lj(n, i)), (p = 2));
              var m = document.createElement("div");
              (m.style.position = "absolute"),
                (m.style.left = this.Mj() * e + "%"),
                (m.style.width = this.Mj() * h + "%"),
                (m.style.top = v + "px"),
                (m.style.height = p + "px"),
                (m.style.cursor = u);
              var g = document.createElement("div");
              m.appendChild(g),
                (m.className = this.ca("_shadow")),
                (g.className = this.ca("_shadow_inner")),
                o && DayPilot.Util.addClass(m, this.ca("_shadow_forbidden"));
              this.nav.events.appendChild(m),
                this.shadow.list.push(m),
                (s -= h + 7 - this.Gj()),
                (e = 0),
                n++;
            }
          }),
          (this.Nj = function () {
            this.shadow &&
              (DayPilot.de(this.shadow.list),
              (this.shadow = null),
              (this.nav.top.style.cursor = ""));
          }),
          (this.Lj = function (e, t) {
            for (var n = 0, i = 0; i < e; i++) n += this.rows[i].getHeight();
            return (n += this.cellHeaderHeight), (n += t * s.lineHeight());
          }),
          (this.Oj = function (e, t) {
            return this.firstDate.addDays(7 * t + e);
          }),
          (this.Kg = function (e) {
            var t = this.va.events,
              n = this.events.list[e],
              i = {};
            for (var a in n) i[a] = n[a];
            if ("function" == typeof this.onBeforeEventRender) {
              var r = {};
              (r.e = i),
                (r.data = i),
                (r.control = l),
                this.onBeforeEventRender(r);
            }
            t[e] = i;
          }),
          (this.Ue = function (e) {
            var t = this.cellMode,
              r = e.part.row,
              o = e.part.line,
              c = e.part.colStart,
              u = e.part.colWidth,
              h = e.cache || e.data,
              f = t ? 0 : this.Mj() * c,
              v = t ? 100 : this.Mj() * u,
              p = t ? o * s.lineHeight() : this.Lj(r, o),
              m = document.createElement("div");
            (m.style.height = s.eventHeight() + "px"),
              (m.style.position = "relative"),
              (m.style.overflow = "hidden"),
              (m.className = this.ca("_event")),
              h.cssClass && DayPilot.Util.addClass(m, h.cssClass),
              (m.event = e),
              t
                ? ((m.style.marginRight = "2px"),
                  (m.style.marginBottom = "2px"))
                : ((m.style.width = v + "%"),
                  (m.style.position = "absolute"),
                  (m.style.left = f + "%"),
                  (m.style.top = p + "px")),
              this.showToolTip &&
                h.toolTip &&
                !this.bubble &&
                (m.title = h.toolTip),
              l.eventTextWrappingEnabled || (m.style.whiteSpace = "nowrap"),
              (m.onclick = this.Pj),
              (m.ondblclick = this.Qj),
              (m.oncontextmenu = this.Rj),
              (m.onmousedown = this.Xe),
              (m.onmousemove = this.Ve),
              (m.onmouseout = this.We),
              DayPilot.reNonPassive(m, "touchstart", d.onEventTouchStart),
              DayPilot.rePassive(m, "touchmove", d.onEventTouchMove),
              DayPilot.rePassive(m, "touchend", d.onEventTouchEnd),
              e.part.startsHere ||
                DayPilot.Util.addClass(m, this.ca("_event_continueleft")),
              e.part.endsHere ||
                DayPilot.Util.addClass(m, this.ca("_event_continueright"));
            var g = document.createElement("div");
            if (
              ((g.className = this.ca("_event_inner")),
              h.fontColor && (g.style.color = h.fontColor),
              h.borderColor &&
                ("darker" === h.borderColor && h.backColor
                  ? (g.style.borderColor = DayPilot.ColorUtil.darker(
                      h.backColor,
                      2
                    ))
                  : (g.style.borderColor = h.borderColor)),
              h.backColor && (g.style.background = h.backColor),
              h.backImage &&
                ((g.style.backgroundImage = "url(" + h.backImage + ")"),
                h.backRepeat && (g.style.backgroundRepeat = h.backRepeat)),
              m.appendChild(g),
              e.client.barVisible())
            ) {
              var b = document.createElement("div");
              (b.className = this.ca("_event_bar")),
                (b.style.position = "absolute");
              var y = document.createElement("div");
              (y.className = this.ca("_event_bar_inner")),
                (y.style.top = "0%"),
                (y.style.height = "100%"),
                h.barColor && (y.style.backgroundColor = h.barColor),
                b.appendChild(y),
                m.appendChild(b);
            }
            var w = this.Ba.locale(),
              x = l.eventStartEndWidth;
            if (this.eventStartTime || h.htmlStart) {
              var k = 5;
              l.eventBarVisible && (k += 5);
              var C =
                  "Clock12Hours" === l.Ba.timeFormat()
                    ? e.start().toString("h tt", w)
                    : e.start().toString("H", w),
                _ = {
                  left: k,
                  top: 2,
                  width: x,
                  bottom: 2,
                  v: "Visible",
                  html: h.htmlStart || C,
                  css: l.ca("_event_timeleft"),
                },
                T = DayPilot.Areas.createArea(m, e, _);
              m.appendChild(T), (g.style.paddingLeft = x + "px");
            }
            if (this.eventEndTime || h.htmlEnd) {
              var C =
                  "Clock12Hours" === l.Ba.timeFormat()
                    ? e.end().toString("h tt", w)
                    : e.end().toString("H", w),
                _ = {
                  right: 5,
                  top: 2,
                  width: x,
                  bottom: 2,
                  v: "Visible",
                  html: h.htmlEnd || C,
                  css: l.ca("_event_timeright"),
                },
                T = DayPilot.Areas.createArea(m, e, _);
              m.appendChild(T), (g.style.paddingRight = x + "px");
            }
            if (h.areas)
              for (var S = h.areas, D = 0; D < S.length; D++) {
                var _ = S[D];
                if (DayPilot.Areas.isVisible(_)) {
                  var T = DayPilot.Areas.createArea(m, e, _);
                  m.appendChild(T);
                }
              }
            if (
              ((function () {
                var t = {};
                if (
                  ((t.e = e),
                  (t.control = l),
                  (t.element = null),
                  (m.domArgs = t),
                  "function" == typeof l.onDomAddEvent && l.onDomAddEvent(t),
                  "function" == typeof l.onBeforeEventDomAdd &&
                    l.onBeforeEventDomAdd(t),
                  t.element)
                ) {
                  var r = g;
                  if (r) {
                    t.Le = r;
                    var o = n(t.element),
                      s = i(t.element),
                      d = a(t.element);
                    if (o) l.W.Me(), l.W.V(t.element, r);
                    else if (s) {
                      if (!l.Y.Ne)
                        throw new DayPilot.Exception("Can't reach Vue");
                      (l.Y.Oe = !0),
                        l.Y.Z(t.element, r, t.props),
                        (l.Y.Oe = !1);
                    } else if (d) {
                      if (!l.Y.Ne)
                        throw new DayPilot.Exception("Can't reach Vue");
                      (l.Y.Oe = !0), l.Y.Pe(t.element, r), (l.Y.Oe = !1);
                    } else r.appendChild(t.element);
                  }
                } else g.innerHTML = e.client.innerHTML();
              })(),
              this.elements.events.push(m),
              t
                ? this.cells[c][r].body.appendChild(m)
                : this.nav.events.appendChild(m),
              l.multiselect.Dd(m.event) && l.multiselect.add(m.event, !0),
              l.Kb())
            ) {
              if ("function" == typeof l.onAfterEventRender) {
                var E = {};
                (E.e = m.event), (E.div = m), l.onAfterEventRender(E);
              }
            } else l.afterEventRender && l.afterEventRender(m.event, m);
          }),
          (this.Pj = function (e) {
            d.start || l.Zb(this, e);
          }),
          (this.Qj = function (e) {
            e.stopPropagation(), l.cc(this, e);
          }),
          (this.Ve = function (e) {
            var n = e.currentTarget,
              i = n.event;
            if ("undefined" != typeof t && !t.movingEvent && !t.resizingEvent) {
              var a = DayPilot.mo3(n, e);
              if (a) {
                !(function () {
                  if (!n.active) {
                    var e = [],
                      t = i.cache || i.data;
                    "Disabled" === l.eventDeleteHandling ||
                      t.deleteDisabled ||
                      e.push({
                        action: "JavaScript",
                        v: "Hover",
                        w: 17,
                        h: 17,
                        top: 2,
                        right: 2,
                        css: l.ca("_event_delete"),
                        js: function (e) {
                          l.jc(e);
                        },
                      });
                    var a = n.event.cache
                      ? n.event.cache.areas
                      : n.event.data.areas;
                    a && a.length > 0 && (e = e.concat(a)),
                      DayPilot.Areas.showAreas(n, n.event, null, e);
                  }
                })(),
                  l.Sj(n.event).forEach(function (e) {
                    DayPilot.Util.addClass(e, l.ca("_event_hover"));
                  });
                var r = 6;
                if (
                  (!l.cellMode && a.x <= r && i.client.resizeEnabled()
                    ? i.part.startsHere
                      ? ((n.style.cursor = "w-resize"), (n.dpBorder = "left"))
                      : (n.style.cursor = "not-allowed")
                    : !l.cellMode &&
                      n.clientWidth - a.x <= r &&
                      i.client.resizeEnabled()
                    ? i.part.endsHere
                      ? ((n.style.cursor = "e-resize"), (n.dpBorder = "right"))
                      : (n.style.cursor = "not-allowed")
                    : i.client.clickEnabled()
                    ? (n.style.cursor = "pointer")
                    : (n.style.cursor = "default"),
                  "undefined" != typeof DayPilot.Bubble &&
                    l.bubble &&
                    "Disabled" !== l.eventHoverHandling)
                )
                  if (t.movingEvent || t.resizingEvent)
                    DayPilot.Bubble.hideActive();
                  else {
                    var o = n.$g && a.x === n.$g.x && a.y === n.$g.y;
                    o || ((n.$g = a), l.bubble.showEvent(n.event));
                  }
              }
            }
          }),
          (this.We = function (e) {
            var t = e.currentTarget;
            "undefined" != typeof DayPilot.Bubble &&
              l.bubble &&
              l.bubble.hideOnMouseOut(),
              (t.style.cursor = ""),
              l.Sj(t.event).forEach(function (e) {
                DayPilot.Util.removeClass(e, l.ca("_event_hover"));
              }),
              DayPilot.Areas.hideAreas(t, e);
          }),
          (this.Rj = function (e) {
            var t = e.currentTarget;
            return l.dc(t.event), !1;
          }),
          (this.Xe = function (e) {
            if (!d.start) {
              "undefined" != typeof DayPilot.Bubble &&
                (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing());
              var n = e.currentTarget,
                i = n.event,
                a = i.part.row,
                r = i.part.colStart,
                o = i.part.line,
                s = i.part.colWidth,
                c = DayPilot.Util.mouseButton(e);
              if (((e.cancelBubble = !0), e.stopPropagation(), c.left))
                if (
                  ("undefined" != typeof DayPilot.Bubble &&
                    l.bubble &&
                    DayPilot.Bubble.hideActive(),
                  (t.movingEvent = null),
                  "w-resize" === n.style.cursor ||
                    "e-resize" === this.style.cursor)
                ) {
                  var u = {};
                  (u.start = {}),
                    (u.start.x = r),
                    (u.start.y = a),
                    (u.event = n.event),
                    (u.width =
                      DayPilot.DateUtil.daysSpan(
                        u.event.start(),
                        u.event.end()
                      ) + 1),
                    (u.direction = this.style.cursor),
                    (t.resizingEvent = u);
                } else if (
                  "move" === n.style.cursor ||
                  i.client.moveEnabled()
                ) {
                  l.Nj();
                  var h = DayPilot.mo3(l.nav.events, e);
                  if (!h) return;
                  var f = l.Tj(h.x, h.y);
                  if (!f) return;
                  var v = DayPilot.DateUtil.daysDiff(
                      i.start(),
                      l.rows[a].start
                    ),
                    p = 7 * f.y + f.x - (7 * a + r);
                  v && (p += v);
                  var m = {};
                  (m.start = {}),
                    (m.start.x = r),
                    (m.start.y = a),
                    (m.start.line = o),
                    (m.offset = l.eventMoveToPosition ? 0 : p),
                    (m.colWidth = s),
                    (m.event = n.event),
                    (m.coords = h),
                    (t.movingEvent = m);
                }
            }
          }),
          (this.temp = {}),
          (this.temp.getPosition = function () {
            if (!l.coords) return null;
            var e = l.Tj(l.coords.x, l.coords.y);
            if (!e) return null;
            var t = new DayPilot.Date(l.Oj(e.x, e.y));
            return { start: t, end: t.addDays(1) };
          }),
          (d.active = !1),
          (d.start = !1),
          (d.timeouts = []),
          (d.onEventTouchStart = function (e) {
            if (!d.active && !d.start) {
              d.clearTimeouts(), (d.start = !0), (d.active = !1);
              var t = e.currentTarget;
              if (t.event.client.moveEnabled()) {
                var n = l.tapAndHoldTimeout;
                d.timeouts.push(
                  window.setTimeout(function () {
                    (d.active = !0), (d.start = !1);
                    var n = d.relativeCoords(e);
                    d.startMoving(t, n), e.preventDefault();
                  }, n)
                );
              }
              e.stopPropagation();
            }
          }),
          (d.onEventTouchMove = function () {
            d.clearTimeouts(), (d.start = !1);
          }),
          (d.onEventTouchEnd = function (e) {
            d.clearTimeouts(),
              d.start && l.$b(this, e),
              window.setTimeout(function () {
                (d.start = !1), (d.active = !1);
              }, 500);
          }),
          (d.onMainTouchStart = function (e) {
            if (!d.active && !d.start) {
              d.clearTimeouts(), (d.start = !0), (d.active = !1);
              var t = l.tapAndHoldTimeout;
              d.timeouts.push(
                window.setTimeout(function () {
                  (d.active = !0), (d.start = !1), e.preventDefault();
                  var t = d.relativeCoords(e);
                  d.startRange(t);
                }, t)
              );
            }
          }),
          (d.onMainTouchMove = function (e) {
            if ((d.clearTimeouts(), (d.start = !1), d.active)) {
              e.preventDefault();
              var t = d.relativeCoords(e);
              if (d.moving) return void d.updateMoving(t);
              d.range && d.updateRange(t);
            }
          }),
          (d.onMainTouchEnd = function (e) {
            if ((d.clearTimeouts(), d.active)) {
              if (d.moving) {
                var t = d.moving.event,
                  n = l.shadow.start,
                  i = l.shadow.position,
                  a = d.moving.offset;
                l.Nj(), (d.moving = null), l.zc(t, n.x, n.y, a, e, i);
              }
              if (d.range) {
                var r = d.range,
                  n = new DayPilot.Date(l.Oj(r.from.x, r.from.y)),
                  o = n.addDays(r.width);
                (d.range = null), l.Jc(n, o);
              }
            }
            window.setTimeout(function () {
              (d.start = !1), (d.active = !1);
            }, 500);
          }),
          (d.clearTimeouts = function () {
            for (var e = 0; e < d.timeouts.length; e++)
              clearTimeout(d.timeouts[e]);
            d.timeouts = [];
          }),
          (d.relativeCoords = function (e) {
            var t = l.nav.events,
              n = e.touches ? e.touches[0] : e,
              i = n.pageX,
              a = n.pageY,
              r = DayPilot.abs(t);
            return {
              x: i - r.x,
              y: a - r.y,
              toString: function () {
                return "x: " + this.x + ", y:" + this.y;
              },
            };
          }),
          (d.startMoving = function (e, t) {
            l.Nj();
            var n = e.event,
              i = l.Tj(t.x, t.y);
            if (i) {
              var a = DayPilot.DateUtil.daysDiff(
                  n.start(),
                  l.rows[n.part.row].start
                ),
                r = 7 * i.y + i.x - (7 * n.part.row + n.part.colStart);
              a && (r += a);
              var o = {};
              (o.start = {}),
                (o.start.x = n.part.colStart),
                (o.start.y = n.part.row),
                (o.start.line = n.part.line),
                (o.offset = l.eventMoveToPosition ? 0 : r),
                (o.colWidth = n.part.colWidth),
                (o.event = n),
                (o.coords = t),
                (d.moving = o),
                d.updateMoving(t);
            }
          }),
          (d.updateMoving = function (e) {
            var t = l.Tj(e.x, e.y);
            if (t) {
              var n = l.Uj(t);
              l.Nj();
              var i = d.moving.event,
                a = d.moving.offset,
                r = l.cellMode
                  ? 1
                  : DayPilot.DateUtil.daysSpan(i.start(), i.end()) + 1;
              r < 1 && (r = 1), l.Jj(t.x, t.y, n, r, a, i);
            }
          }),
          (d.startRange = function (e) {
            var t = l.Tj(e.x, e.y);
            if (t) {
              l.Nj();
              var n = {};
              (n.start = {}),
                (n.start.x = t.x),
                (n.start.y = t.y),
                (n.x = t.x),
                (n.y = t.y),
                (n.width = 1),
                (d.range = n),
                d.updateRange(e);
            }
          }),
          (d.updateRange = function (e) {
            var t = l.Tj(e.x, e.y);
            if (t) {
              l.Nj();
              var n = d.range.start,
                i = 7 * n.y + n.x,
                a = 7 * t.y + t.x,
                r = Math.abs(a - i) + 1;
              r < 1 && (r = 1);
              var o = i < a ? n : t;
              (d.range.width = r),
                (d.range.from = { x: o.x, y: o.y }),
                l.Jj(o.x, o.y, 0, r, 0, null);
            }
          }),
          (this.isWeekend = function (e) {
            return 0 === e.dayOfWeek() || 6 === e.dayOfWeek();
          }),
          (this.Vj = function () {
            var e = this.startDate.lastDayOfMonth();
            if (this.showWeekend) return e;
            for (; this.isWeekend(e); ) e = e.addDays(-1);
            return e;
          }),
          (this.Aj = function () {
            if (
              ("string" == typeof this.startDate &&
                (this.startDate = new DayPilot.Date(this.startDate)),
              "Month" === this.viewType
                ? (this.startDate = this.startDate.firstDayOfMonth())
                : (this.startDate = this.startDate.getDatePart()),
              (this.firstDate = this.startDate.firstDayOfWeek(s.weekStarts())),
              !this.showWeekend)
            ) {
              for (
                var e = this.startDate.addMonths(-1).getMonth(),
                  t = new DayPilot.Date(this.firstDate).addDays(6);
                this.isWeekend(t);

              )
                t = t.addDays(-1);
              t.getMonth() === e &&
                (this.firstDate = this.firstDate.addDays(7));
            }
            var n;
            if ("Month" === this.viewType) {
              var i = this.Vj(),
                a = DayPilot.DateUtil.daysDiff(this.firstDate, i) + 1;
              n = Math.ceil(a / 7);
            } else n = this.weeks;
            (this.days = 7 * n), (this.rows = []);
            for (
              var r = function (e) {
                  var t = {};
                  (t.start = o.firstDate.addDays(7 * e)),
                    (t.end = t.start.addDays(o.Gj())),
                    (t.events = []),
                    (t.lines = []),
                    (t.index = e),
                    (t.minHeight = o.cellHeight),
                    (t.calendar = o),
                    (t.belongsHere = function (e, t) {
                      return (
                        (t.getTime() === e.getTime() &&
                          e.getTime() === this.start.getTime()) ||
                        !(
                          t.getTime() <= this.start.getTime() ||
                          e.getTime() >= this.end.getTime()
                        )
                      );
                    }),
                    (t.getPartStart = function (e) {
                      return DayPilot.DateUtil.max(this.start, e.start());
                    }),
                    (t.getPartEnd = function (e) {
                      return DayPilot.DateUtil.min(this.end, e.rawend());
                    }),
                    (t.getStartColumn = function (e) {
                      var t = this.getPartStart(e);
                      return DayPilot.DateUtil.daysDiff(this.start, t);
                    }),
                    (t.getWidth = function (e) {
                      var t = this.getPartStart(e),
                        n = this.getPartEnd(e);
                      return DayPilot.DateUtil.daysSpan(t, n) + 1;
                    }),
                    (t.putIntoLine = function (e, n, i, a) {
                      for (var r = t, o = 0; o < this.lines.length; o++) {
                        var l = this.lines[o];
                        if (l.isFree(n, i)) return l.addEvent(e, n, i, a, o), o;
                      }
                      var s = [];
                      return (
                        (s.isFree = function (e, t) {
                          for (var n = !0, i = 0; i < this.length; i++) {
                            var a = this[i];
                            e + t - 1 < a.part.colStart ||
                              e > a.part.colStart + a.part.colWidth - 1 ||
                              (n = !1);
                          }
                          return n;
                        }),
                        (s.addEvent = function (e, t, n, i, a) {
                          (e.part.colStart = t),
                            (e.part.colWidth = n),
                            (e.part.row = i),
                            (e.part.line = a),
                            (e.part.startsHere =
                              r.start.getTime() <= e.start().getTime()),
                            (e.part.endsHere =
                              r.end.getTime() >= e.end().getTime()),
                            this.push(e);
                        }),
                        s.addEvent(e, n, i, a, this.lines.length),
                        this.lines.push(s),
                        this.lines.length - 1
                      );
                    }),
                    (t.getHeight = function () {
                      var e =
                          "number" == typeof l.maxEvents ? l.maxEvents : 1e3,
                        t = Math.min(e, this.lines.length);
                      return Math.max(
                        t * s.lineHeight() +
                          l.cellHeaderHeight +
                          l.cellMarginBottom,
                        this.calendar.cellHeight
                      );
                    }),
                    o.rows.push(t);
                },
                o = this,
                d = 0;
              d < n;
              d++
            )
              r(d);
            this.Wj = this.firstDate.addDays(7 * n);
          }),
          (this.zh = function () {
            switch (this.heightSpec) {
              case "Auto":
                for (var e = s.headerHeight(), t = 0; t < this.rows.length; t++)
                  e += this.rows[t].getHeight();
                return e;
              case "Fixed":
                return this.height;
            }
          }),
          (this.yh = function (e, t) {
            return 7 * t.y + t.x - (7 * e.y + e.x) + 1;
          }),
          (this.kh = {}),
          (this.kh.scope = null),
          (this.kh.notify = function () {
            l.kh.scope && l.kh.scope["$apply"]();
          }),
          (this.debug = new DayPilot.Debug(this)),
          (this.ef = function () {
            var e = this.nav.top;
            (this.nav.top.dp = this),
              (e.style.userSelect = "none"),
              (e.style.webkitUserSelect = "none"),
              (e.style.WebkitTapHighlightColor = "rgba(0,0,0,0)"),
              (e.style.WebkitTouchCallout = "none"),
              (e.style.position = "relative"),
              this.width && (e.style.width = this.width),
              (e.onselectstart = function () {
                return !1;
              }),
              (e.className = this.ca("_main")),
              l.rtl &&
                ((e.style.direction = "rtl"),
                DayPilot.Util.addClass(e, this.ca("_direction_rtl"))),
              this.hideUntilInit && (e.style.visibility = "hidden"),
              this.visible || (e.style.display = "none"),
              (e.onmousemove = this.kf),
              DayPilot.reNonPassive(e, "touchstart", d.onMainTouchStart),
              DayPilot.reNonPassive(e, "touchmove", d.onMainTouchMove),
              DayPilot.rePassive(e, "touchend", d.onMainTouchEnd),
              (this.zj = document.createElement("div")),
              (this.zj.style.display = "none"),
              this.nav.top.appendChild(this.zj);
            var t = document.createElement("div");
            (t.style.position = "relative"),
              (t.style.height = s.headerHeight() + "px"),
              (t.oncontextmenu = function () {
                return !1;
              }),
              this.nav.top.appendChild(t),
              (this.nav.header = t);
            var n = document.createElement("div");
            n.style.zoom = "1";
            var i = document.createElement("div");
            (i.style.position = "relative"),
              (i.ondblclick = l.Xj),
              n.appendChild(i),
              (this.nav.loading = document.createElement("div")),
              (this.nav.loading.style.position = "absolute"),
              (this.nav.loading.style.top = "0px"),
              (this.nav.loading.style.left = "5px"),
              (this.nav.loading.className = l.ca("_loading")),
              (this.nav.loading.innerHTML = l.La(
                this.loadingLabelText,
                this.loadingLabelHtml
              )),
              (this.nav.loading.style.display = "none"),
              this.nav.top.appendChild(n),
              this.nav.top.appendChild(this.nav.loading),
              (this.nav.scrollable = n),
              (this.nav.events = i);
          }),
          (this.kf = function (e) {
            (e.insideMainD = !0), (l.coords = DayPilot.mo3(l.nav.events, e));
            var n = l.coords;
            if (n) {
              var i = l.Tj(n.x, n.y);
              if (i) {
                if (t.resizingEvent) {
                  l.Nj();
                  var a = t.resizingEvent,
                    r = void 0,
                    o = void 0;
                  if ("w-resize" === a.direction) {
                    o = i;
                    var s = a.event.rawend();
                    s.getDatePart().getTime() === s.getTime() &&
                      (s = s.addDays(-1));
                    var d = l.Yj(s);
                    r = l.yh(i, d);
                  } else (o = l.Yj(a.event.start())), (r = l.yh(o, i));
                  r < 1 && (r = 1), l.Jj(o.x, o.y, 0, r);
                } else if (t.movingEvent) {
                  if (
                    n.x === t.movingEvent.coords.x &&
                    n.y === t.movingEvent.coords.y
                  )
                    return;
                  var c = 3,
                    u =
                      Math.abs(n.x - t.movingEvent.coords.x) +
                      Math.abs(n.y - t.movingEvent.coords.y);
                  if (u <= c) return;
                  var h = l.Uj(i);
                  l.Nj();
                  var f = t.movingEvent.event,
                    v = t.movingEvent.offset,
                    r = l.cellMode
                      ? 1
                      : DayPilot.DateUtil.daysSpan(f.start(), f.rawend()) + 1;
                  r < 1 && (r = 1), l.Jj(i.x, i.y, h, r, v, f);
                } else if (t.timeRangeSelecting) {
                  l.Nj();
                  var o = t.timeRangeSelecting,
                    p = 7 * o.y + o.x,
                    m = 7 * i.y + i.x,
                    r = Math.abs(m - p) + 1;
                  r < 1 && (r = 1);
                  var g = p < m ? o : i;
                  (t.timeRangeSelecting.from = { x: g.x, y: g.y }),
                    (t.timeRangeSelecting.width = r),
                    (t.timeRangeSelecting.moved = !0),
                    l.Jj(g.x, g.y, 0, r, 0, null);
                }
                if (t.drag) {
                  if (
                    (t.gShadow && document.body.removeChild(t.gShadow),
                    (t.gShadow = null),
                    !t.movingEvent)
                  ) {
                    var b = DayPilot.Date.today(),
                      y = {
                        id: t.drag.id,
                        start: b,
                        end: b.addSeconds(t.drag.duration),
                        text: t.drag.text,
                      },
                      w = t.drag.data;
                    if (w) {
                      var x = ["duration", "element", "remove", "id", "text"];
                      for (var k in w) DayPilot.contains(x, k) || (y[k] = w[k]);
                    }
                    var C = new DayPilot.Event(y, l);
                    C.external = !0;
                    var _ = (t.movingEvent = {});
                    (_.event = C),
                      (_.coords = n),
                      (_.position = 0),
                      (_.offset = 0),
                      (_.external = !0),
                      (_.removeElement = t.drag.element);
                  }
                  e.cancelBubble = !0;
                }
              }
            }
          }),
          (this.Uj = function (e) {
            for (
              var t = e.relativeY,
                n = l.rows[e.y],
                i = l.cellHeaderHeight,
                a = s.lineHeight(),
                r = n.lines.length,
                o = 0;
              o < n.lines.length;
              o++
            ) {
              if (n.lines[o].isFree(e.x, 1)) {
                r = o;
                break;
              }
            }
            var d = Math.floor((t - i + a / 2) / a);
            return (d = Math.min(r, d)), (d = Math.max(0, d));
          }),
          (this.message = function (e, t) {
            if (null !== e && l.za) {
              var n,
                i = {};
              "object" == typeof arguments[1]
                ? ((i = arguments[1]), (n = i.delay))
                : (n = t);
              var a = "";
              (a = i.rawHtml ? e : DayPilot.Util.escapeHtml(e)),
                (n = n || this.messageHideAfter || 2e3);
              var r,
                o = s.headerHeight();
              if (this.nav.message) r = l.nav.message;
              else {
                (r = document.createElement("div")),
                  (r.style.position = "absolute"),
                  (r.style.right = "0px"),
                  (r.style.left = "0px"),
                  (r.style.top = o + "px"),
                  (r.style.display = "none"),
                  (r.onmousemove = function () {
                    r.messageTimeout &&
                      !r.status &&
                      clearTimeout(r.messageTimeout);
                  }),
                  (r.onmouseout = function () {
                    "none" !== l.nav.message.style.display &&
                      (r.messageTimeout = setTimeout(l.Xb, 500));
                  });
                var d = document.createElement("div");
                (d.onclick = function () {
                  l.nav.message.style.display = "none";
                }),
                  (d.className = this.ca("_message")),
                  r.appendChild(d);
                var c = document.createElement("div");
                (c.style.position = "absolute"),
                  (c.className = this.ca("_message_close")),
                  (c.onclick = function () {
                    l.nav.message.style.display = "none";
                  }),
                  r.appendChild(c),
                  this.nav.top.appendChild(r),
                  (this.nav.message = r);
              }
              var u = function () {
                if (l.nav.message) {
                  var e = l.nav.message.firstChild;
                  (e.className = l.ca("_message")),
                    i.cssClass && DayPilot.Util.addClass(e, i.cssClass),
                    (e.innerHTML = a);
                  var t = function () {
                    r.messageTimeout = setTimeout(l.Xb, n);
                  };
                  DayPilot.fade(l.nav.message, 0.2, t);
                }
              };
              clearTimeout(r.messageTimeout),
                "none" !== this.nav.message.style.display
                  ? DayPilot.fade(l.nav.message, -0.2, u)
                  : u();
            }
          }),
          (this.message.show = function (e) {
            l.message(e);
          }),
          (this.message.hide = function () {
            l.Xb();
          }),
          (this.Xb = function () {
            var e = function () {
              l.nav.message.style.display = "none";
            };
            DayPilot.fade(l.nav.message, -0.2, e);
          }),
          (this.cb = function () {
            "Parent100Pct" === l.heightSpec && l.Bb();
          }),
          (this.Bb = function () {
            var e = this.nav.scrollable;
            "Parent100Pct" === this.heightSpec || "Fixed" === this.heightSpec
              ? ((e.style.top = this.headerHeight + "px"),
                (e.style.bottom = "0px"),
                (e.style.left = "0px"),
                (e.style.right = "0px"),
                (e.style.overflow = "auto"),
                (e.style.position = "absolute"))
              : (e.style.position = "relative"),
              "Parent100Pct" === this.heightSpec
                ? (this.nav.top.style.height = "100%")
                : (this.nav.top.style.height = this.zh() + "px");
            for (var t = 0; t < this.cells.length; t++)
              for (var n = 0; n < this.cells[t].length; n++)
                (this.cells[t][n].style.top = this.Kj(n) + "px"),
                  (this.cells[t][n].style.height =
                    this.rows[n].getHeight() + "px");
            this.Zj();
          }),
          (this.Tj = function (e, t) {
            var n = l.Gj();
            e = Math.max(0, e);
            for (
              var i = Math.floor(this.nav.top.clientWidth / n),
                a = Math.min(Math.floor(e / i), n - 1),
                r = null,
                o = 0,
                s = 0,
                d = 0,
                c = 0;
              c < this.rows.length;
              c++
            ) {
              if (((s += this.rows[c].getHeight()), t < s)) {
                (o = t - d), (r = c);
                break;
              }
              d = s;
            }
            null === r && (r = this.rows.length - 1);
            var u = {};
            return (u.x = a), (u.y = r), (u.relativeY = o), u;
          }),
          (this.Yj = function (e) {
            for (
              var t = DayPilot.DateUtil.daysDiff(this.firstDate, e),
                n = { x: 0, y: 0 };
              t >= 7;

            )
              n.y++, (t -= 7);
            return (n.x = t), n;
          }),
          (this.Zj = function () {
            var e = DayPilot.sw(this.nav.scrollable);
            this.nav.header.style.marginRight = e + "px";
          });
        var c = null;
        (this.Cj = function () {
          var e = this.nav.header,
            t = this.nav.events,
            n = l.Gj();
          this.cells = [];
          for (
            var i = function (i) {
                var r = l.rtl ? 0 === i : i === n - 1;
                a.cells[i] = [];
                var o = a.headerProperties ? a.headerProperties[i] : null,
                  d = i + s.weekStarts();
                if (
                  (d > 6 && (d -= 7),
                  o || ((o = {}), (o.html = s.locale().dayNames[d])),
                  "function" == typeof l.onBeforeHeaderRender)
                ) {
                  var c = {};
                  (c.header = {}), (c.header.dayOfWeek = d);
                  var u = ["html", "backColor", "cssClass"];
                  DayPilot.Util.copyProps(o, c.header, u),
                    l.onBeforeHeaderRender(c),
                    DayPilot.Util.copyProps(c.header, o, u);
                }
                var h = document.createElement("div");
                (h.style.position = "absolute"),
                  l.rtl
                    ? (h.style.right = a.Mj() * i + "%")
                    : (h.style.left = a.Mj() * i + "%"),
                  r
                    ? ((h.style.right = "0px"),
                      l.rtl && (h.style.width = a.Mj() + "%"))
                    : (h.style.width = a.Mj() + "%"),
                  (h.style.top = "0px"),
                  (h.style.height = s.headerHeight() + "px"),
                  (function (e) {
                    h.onclick = function () {
                      l.fc(e);
                    };
                  })(d);
                var f = document.createElement("div");
                (f.className = a.ca("_header_inner")),
                  (f.innerHTML = o.html),
                  h.appendChild(f),
                  (h.className = a.ca("_header")),
                  o &&
                    (o.cssClass && DayPilot.Util.addClass(h, o.cssClass),
                    o.backColor && (f.style.background = o.backColor)),
                  e.appendChild(h);
                for (var v = 0; v < a.rows.length; v++) a._e(i, v, t);
              },
              a = this,
              r = 0;
            r < n;
            r++
          )
            i(r);
          if (
            !DayPilot.contains(this.nav.top.childNodes, c) &&
            DayPilot.Util.isNullOrUndefined(undefined)
          ) {
            var o = document.createElement("div");
            (o.style.position = "absolute"),
              (o.style.padding = "2px"),
              (o.style.top = "0px"),
              (o.style.left = "0px"),
              (o.style.backgroundColor = "#FF6600"),
              (o.style.color = "white"),
              (o.innerHTML = "\u0044\u0045" + "\u004D\u004F"),
              (c = o),
              this.nav.top.appendChild(o);
          }
        }),
          (this.Bj = function () {
            for (var e = 0; e < this.cells.length; e++)
              for (var t = 0; t < this.cells[e].length; t++) {
                var n = l.cells[e][t];
                l.Jf(n);
              }
            (this.nav.header.innerHTML = ""), (this.nav.events.innerHTML = "");
          }),
          (this.Jf = function (e) {
            !(function () {
              var t = e.domArgs;
              if (
                ((e.domArgs = null),
                t &&
                  "function" == typeof l.onBeforeCellDomRemove &&
                  l.onBeforeCellDomRemove(t),
                t && "function" == typeof l.onBeforeCellDomAdd)
              ) {
                var r = t && t.Le;
                if (r) {
                  var o = l.W.reactDOM && n(t.element),
                    s = l.Y.Ne && (i(t.element) || a(t.element));
                  o
                    ? l.W.ka(r)
                    : s && ((l.Y.Oe = !0), l.Y.la(r), (l.Y.Oe = !1));
                }
              }
            })(),
              (e.onclick = null);
          }),
          (this._e = function (t, r, o) {
            var d = this.rows[r],
              c = this.firstDate.addDays(7 * r + t),
              u = this.cellProperties
                ? this.cellProperties[r * this.Gj() + t]
                : null,
              h = l.Gj(),
              f = t === h - 1,
              v = null;
            if (u) v = u["headerHtml"];
            else {
              var p = c.getDay();
              v =
                1 === p
                  ? s.locale().monthNames[c.getMonth()] + " " + p
                  : p + "";
            }
            u ||
              ((u = {}),
              (u.business = !l.isWeekend(c)),
              (u.headerHtml = v),
              (u.disabled = !1),
              (u.backColor = null),
              (u.backImage = null),
              (u.backRepeat = null),
              (u.areas = null),
              (u.headerBackColor = null),
              (u.cssClass = null),
              (u.html = null));
            var m = {};
            (m.cell = {}),
              (m.cell.start = c),
              (m.cell.end = m.cell.start.addDays(1)),
              (m.cell.properties = u),
              (m.cell.events = function () {
                return l.events.forRange(m.cell.start, m.cell.end);
              }),
              "function" == typeof l.onBeforeCellRender &&
                (l.onBeforeCellRender(m),
                DayPilot.Util.copyProps(m.cell, u, [
                  "areas",
                  "backColor",
                  "backImage",
                  "backRepeat",
                  "business",
                  "disabled",
                  "headerHtml",
                  "headerBackColor",
                  "cssClass",
                  "html",
                ]));
            var g = this.Mj() * t,
              b = this.Mj(),
              y = document.createElement("div");
            (y.style.position = "absolute"),
              (y.style.cursor = "default"),
              l.rtl ? (y.style.right = g + "%") : (y.style.left = g + "%"),
              f
                ? l.rtl
                  ? ((y.style.left = "100%"), (y.style.width = b + "%"))
                  : (y.style.right = "0px")
                : (y.style.width = b + "%"),
              (y.style.top = this.Kj(r) + "px"),
              (y.style.height = d.getHeight() + "px"),
              (y.d = c),
              (y.x = t),
              (y.y = r),
              (y.props = u);
            var w = this.startDate.addMonths(-1).getMonth(),
              x = this.startDate.addMonths(1).getMonth(),
              k = this.startDate.getMonth(),
              C = document.createElement("div");
            y.appendChild(C),
              (C.className = this.ca("_cell_inner")),
              (C.className = this.ca("_cell_inner")),
              c.getMonth() === k
                ? (y.className = this.ca("_cell"))
                : c.getMonth() === w
                ? (y.className = this.ca("_cell") + " " + this.ca("_previous"))
                : c.getMonth() === x
                ? (y.className = this.ca("_cell") + " " + this.ca("_next"))
                : e(),
              u &&
                (u["cssClass"] && DayPilot.Util.addClass(y, u.cssClass),
                u["business"] &&
                  DayPilot.Util.addClass(y, this.ca("_cell_business")),
                u["backColor"] && (C.style.backgroundColor = u["backColor"]),
                u["backImage"] &&
                  (C.style.backgroundImage = "url('" + u["backImage"] + "')"),
                u["backRepeat"] &&
                  (C.style.backgroundRepeat = u["backRepeat"])),
              (y.onmousedown = this.Sc),
              (y.onmousemove = this.ed),
              (y.onmouseout = this.dd),
              (y.oncontextmenu = this.$j),
              (y.onclick = this._j),
              (y.ondblclick = this.Xj);
            var _ = document.createElement("div");
            if (
              ((_.style.height = this.cellHeaderHeight + "px"),
              u &&
                u["headerBackColor"] &&
                (_.style.background = u["headerBackColor"]),
              (_.className = this.ca("_cell_header")),
              (_.innerHTML = u.headerHtml),
              (_.onclick = function (e) {
                if ("Enabled" === l.cellHeaderClickHandling) {
                  e.stopPropagation();
                  var t = {};
                  (t.control = l),
                    (t.start = c),
                    (t.end = c.addDays(1)),
                    (t.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    ("function" == typeof l.onCellHeaderClick &&
                      (l.onCellHeaderClick(t), t.preventDefault.value)) ||
                      ("function" == typeof l.onCellHeaderClicked &&
                        l.onCellHeaderClicked(t));
                }
              }),
              C.appendChild(_),
              u && u["html"])
            ) {
              var T = document.createElement("div");
              (T.style.height = d.getHeight() - this.cellHeaderHeight + "px"),
                (T.style.overflow = "hidden"),
                (T.innerHTML = u["html"]),
                C.appendChild(T);
            }
            if (this.cellMode) {
              var S = document.createElement("div");
              (S.style.height = this.cellHeight - this.cellHeaderHeight + "px"),
                (S.style.overflow = "auto"),
                (S.style.position = "relative");
              var D = document.createElement("div");
              (D.style.paddingTop = "1px"),
                (D.style.paddingBottom = "1px"),
                S.appendChild(D),
                C.appendChild(S),
                (y.body = D),
                (y.scrolling = S);
            }
            if (y.props)
              for (var E = y.props.areas || [], H = 0; H < E.length; H++) {
                var M = E[H];
                if (DayPilot.Areas.isVisible(M)) {
                  var A = DayPilot.Areas.createArea(y, m.cell, M);
                  y.appendChild(A);
                }
              }
            !(function () {
              if (
                "function" == typeof l.onBeforeCellDomAdd ||
                "function" == typeof l.onBeforeCellDomRemove
              ) {
                var e = {};
                if (
                  ((e.control = l),
                  (e.cell = {}),
                  (e.cell.start = c),
                  (e.cell.end = e.cell.start.addDays(1)),
                  (e.cell.events = function () {
                    return l.events.forRange(e.cell.start, e.cell.end);
                  }),
                  (e.element = null),
                  (y.domArgs = e),
                  "function" == typeof l.onBeforeCellDomAdd &&
                    l.onBeforeCellDomAdd(e),
                  e.element)
                ) {
                  var t = C;
                  if (t) {
                    e.Le = t;
                    var r = n(e.element),
                      o = i(e.element),
                      s = a(e.element);
                    if (r) {
                      if (!l.W.reactDOM)
                        throw new DayPilot.Exception("Can't reach ReactDOM");
                      l.W.V(e.element, t);
                    } else if (o) {
                      if (!l.Y.Ne)
                        throw new DayPilot.Exception("Can't reach Vue");
                      (l.Y.Oe = !0),
                        l.Y.Z(e.element, t, e.props),
                        (l.Y.Oe = !1);
                    } else if (s) {
                      if (!l.Y.Ne)
                        throw new DayPilot.Exception("Can't reach Vue");
                      (l.Y.Oe = !0), l.Y.Pe(e.element, t), (l.Y.Oe = !1);
                    } else t.appendChild(e.element);
                  }
                }
              }
            })(),
              (this.cells[t][r] = y),
              o.appendChild(y),
              "function" == typeof l.onAfterCellRender &&
                ((m.cell.div = y),
                (m.cell.divHeader = _),
                l.onAfterCellRender(m));
          }),
          (this.ed = function (e) {
            var t = e.currentTarget;
            t.props && DayPilot.Areas.showAreas(t, t.props);
          }),
          (this.dd = function (e) {
            var t = e.currentTarget;
            t.props && DayPilot.Areas.hideAreas(t, e);
          }),
          (this.$j = function () {
            var e = this.d;
            return (
              (function (e) {
                var t = new DayPilot.Date(e),
                  n = t.addDays(1),
                  i = new DayPilot.Selection(t, n, null, l);
                l.contextMenuSelection && l.contextMenuSelection.show(i);
              })(e),
              !1
            );
          }),
          (this.Xj = function () {
            var e = l.coords,
              t = l.Tj(e.x, e.y),
              n = l.Oj(t.x, t.y);
            if (l.timeouts) {
              for (var i in l.timeouts) window.clearTimeout(l.timeouts[i]);
              l.timeouts = null;
            }
            if ("Disabled" !== l.timeRangeDoubleClickHandling) {
              var a = new DayPilot.Date(n),
                r = a.addDays(1);
              l.Lc(a, r);
            }
          }),
          (this._j = function (e) {
            var t = e.currentTarget,
              n = t.d;
            if (!t.props.disabled) {
              var i = function (e) {
                var t = new DayPilot.Date(e),
                  n = t.addDays(1);
                l.Jc(t, n);
              };
              if (
                "Disabled" !== l.timeRangeSelectedHandling &&
                "Disabled" === l.timeRangeDoubleClickHandling
              )
                return void i(n);
              l.timeouts || (l.timeouts = []);
              var a = function (e) {
                return function () {
                  "Disabled" !== l.timeRangeSelectedHandling && i(e);
                };
              };
              l.timeouts.push(window.setTimeout(a(n), l.doubleClickTimeout));
            }
          }),
          (this.Sc = function (e) {
            var n = e.currentTarget,
              i = n.x,
              a = n.y;
            if (n.scrolling) {
              var r = DayPilot.mo3(n.scrolling, e),
                o = DayPilot.sw(n.scrolling),
                s = n.scrolling.offsetWidth;
              if (r.x > s - o) return;
            }
            "Disabled" !== l.timeRangeSelectedHandling &&
              (l.Nj(),
              l.rtl && (i = l.Gj() - 1 - i),
              (t.timeRangeSelecting = {
                root: l,
                x: i,
                y: a,
                from: { x: i, y: a },
                width: 1,
              }),
              l.Jj(i, a, 0, 1));
          }),
          (this.Gj = function () {
            return this.showWeekend ? 7 : 5;
          }),
          (this.Mj = function () {
            return this.showWeekend ? 14.285 : 20;
          }),
          (this.Kj = function (e) {
            for (var t = 0, n = 0; n < e; n++) t += this.rows[n].getHeight();
            return t;
          }),
          (this.clearSelection = function () {
            this.Nj();
          }),
          (this.Na = function (e, t, n) {
            var i = {};
            (i.action = e),
              (i.parameters = n),
              (i.data = t),
              (i.header = this.Oa());
            var a = "JSON" + JSON.stringify(i);
            __doPostBack(l.uniqueID, a);
          }),
          (this.Pa = function (e, t, n, i) {
            if (!this.ja())
              return void l.debug.message(
                "Callback invoked without the server-side backend specified. Callback canceled.",
                "warning"
              );
            "undefined" == typeof i && (i = "CallBack"), l.Qa();
            var a = {};
            (a.action = e),
              (a.type = i),
              (a.parameters = t),
              (a.data = n),
              (a.header = this.Oa());
            var r = "JSON" + JSON.stringify(a);
            this.backendUrl
              ? DayPilot.request(this.backendUrl, this.Ra, r, this.Sa)
              : "function" == typeof WebForm_DoCallback &&
                WebForm_DoCallback(
                  this.uniqueID,
                  r,
                  this.Ta,
                  null,
                  this.callbackError,
                  !0
                );
          }),
          (this.ja = function () {
            return (
              ("javasc" !== l.Ga && l.Ga.indexOf("DCODE") === -1) || l.devsb
            );
          }),
          (this.Ua = function () {
            return !("function" != typeof WebForm_DoCallback || !this.uniqueID);
          }),
          (this.Sa = function (e) {
            if ("function" == typeof l.onAjaxError) {
              var t = {};
              (t.request = e), l.onAjaxError(t);
            } else "function" == typeof l.ajaxError && l.ajaxError(e);
          }),
          (this.Ra = function (e) {
            l.Ta(e.responseText);
          }),
          (this.Oa = function () {
            var e = {};
            return (
              (e.v = this.v),
              (e.control = "dpm"),
              (e.id = this.id),
              (e.visibleStart = new DayPilot.Date(this.firstDate)),
              (e.visibleEnd = e.visibleStart.addDays(this.days)),
              (e.clientState = this.clientState),
              (e.cssClassPrefix = l.cssClassPrefix),
              (e.startDate = l.startDate),
              (e.showWeekend = this.showWeekend),
              (e.locale = this.locale),
              (e.timeFormat = this.timeFormat),
              (e.weekStarts = this.weekStarts),
              (e.viewType = this.viewType),
              (e.weeks = this.weeks),
              (e.selected = l.multiselect.events()),
              (e.hashes = l.hashes),
              e
            );
          }),
          (this.visibleStart = function () {
            return new DayPilot.Date(this.firstDate);
          }),
          (this.visibleEnd = function () {
            return l.visibleStart().addDays(l.days);
          }),
          (this.kc = function (e, t, n, i) {
            if ("PostBack" === e) l.postBack2(t, n, i);
            else if ("CallBack" === e) l.Pa(t, n, i, "CallBack");
            else if ("Immediate" === e) l.Pa(t, n, i, "Notify");
            else if ("Queue" === e)
              l.queue.add(new DayPilot.Action(this, t, n, i));
            else {
              if ("Notify" !== e) throw "Invalid event invocation type";
              "Notify" === s.notifyType()
                ? l.Pa(t, n, i, "Notify")
                : l.queue.add(new DayPilot.Action(l, t, n, i));
            }
          }),
          (this.Fc = function (e, t) {
            var n = l.Gc(t),
              i = {};
            (i.args = e), (i.guid = n), l.Pa("Bubble", i);
          }),
          (this.Gc = function (e) {
            var t = DayPilot.guid();
            return (
              this.bubbles || (this.bubbles = []), (this.bubbles[t] = e), t
            );
          }),
          (this.eventClickPostBack = function (e, t) {
            this.Na("EventClick", t, e);
          }),
          (this.eventClickCallBack = function (e, t) {
            this.Pa("EventClick", e, t);
          }),
          (this.Zb = function (e, n) {
            if (
              ((t.movingEvent = null),
              (t.resizingEvent = null),
              (n.cancelBubble = !0),
              n.stopPropagation && n.stopPropagation(),
              "undefined" != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              "Disabled" === l.eventDoubleClickHandling)
            )
              return void l.$b(e, n);
            if (l.timeouts) {
              for (var i in l.timeouts) window.clearTimeout(l.timeouts[i]);
              l.timeouts = [];
            } else l.timeouts = [];
            var a = function (e, t) {
              return function () {
                l.$b(e, t);
              };
            };
            l.timeouts.push(window.setTimeout(a(e, n), l.doubleClickTimeout));
          }),
          (this.$b = function (e, t) {
            var n = e.event;
            if (n.client.clickEnabled()) {
              var i = t.ctrlKey,
                a = t.metaKey;
              if (l.Kb()) {
                var r = {};
                if (
                  ((r.e = n),
                  (r.control = l),
                  (r.div = e),
                  (r.originalEvent = t),
                  (r.meta = t.metaKey),
                  (r.ctrl = t.ctrlKey),
                  (r.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof l.onEventClick &&
                    (l.onEventClick(r), r.preventDefault.value))
                )
                  return;
                switch (l.eventClickHandling) {
                  case "PostBack":
                    l.eventClickPostBack(n);
                    break;
                  case "CallBack":
                    l.eventClickCallBack(n);
                    break;
                  case "Select":
                    l.bc(e, n, i, a);
                    break;
                  case "ContextMenu":
                    var o = n.client.contextMenu();
                    o ? o.show(n) : l.contextMenu && l.contextMenu.show(n);
                    break;
                  case "Bubble":
                    l.bubble && l.bubble.showEvent(n);
                }
                "function" == typeof l.onEventClicked && l.onEventClicked(r);
              } else
                switch (l.eventClickHandling) {
                  case "PostBack":
                    l.eventClickPostBack(n);
                    break;
                  case "CallBack":
                    l.eventClickCallBack(n);
                    break;
                  case "JavaScript":
                    l.onEventClick(n);
                    break;
                  case "Select":
                    l.bc(e, n, i, a);
                    break;
                  case "ContextMenu":
                    var o = n.client.contextMenu();
                    o ? o.show(n) : l.contextMenu && l.contextMenu.show(n);
                    break;
                  case "Bubble":
                    l.bubble && l.bubble.showEvent(n);
                }
            }
          }),
          (this.jc = function (e) {
            if (l.Kb()) {
              var t = {};
              if (
                ((t.e = e),
                (t.control = l),
                (t.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof l.onEventDelete &&
                  (l.onEventDelete(t), t.preventDefault.value))
              )
                return;
              switch (l.eventDeleteHandling) {
                case "PostBack":
                  l.eventDeletePostBack(e);
                  break;
                case "CallBack":
                  l.eventDeleteCallBack(e);
                  break;
                case "Update":
                  l.events.remove(e);
              }
              "function" == typeof l.onEventDeleted && l.onEventDeleted(t);
            } else
              switch (l.eventDeleteHandling) {
                case "PostBack":
                  l.eventDeletePostBack(e);
                  break;
                case "CallBack":
                  l.eventDeleteCallBack(e);
                  break;
                case "JavaScript":
                  l.onEventDelete(e);
              }
          }),
          (this.eventDeletePostBack = function (e, t) {
            this.Na("EventDelete", e, t);
          }),
          (this.eventDeleteCallBack = function (e, t) {
            this.Pa("EventDelete", e, t);
          }),
          (this.eventDoubleClickPostBack = function (e, t) {
            this.Na("EventDoubleClick", t, e);
          }),
          (this.eventDoubleClickCallBack = function (e, t) {
            this.Pa("EventDoubleClick", e, t);
          }),
          (this.cc = function (e, t) {
            if (
              ("undefined" != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              l.timeouts)
            ) {
              for (var n in l.timeouts) window.clearTimeout(l.timeouts[n]);
              l.timeouts = null;
            }
            var i = e.event;
            if (i.client.doubleClickEnabled())
              if (l.Kb()) {
                var a = {};
                if (
                  ((a.e = i),
                  (a.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof l.onEventDoubleClick &&
                    (l.onEventDoubleClick(a), a.preventDefault.value))
                )
                  return;
                switch (l.eventDoubleClickHandling) {
                  case "PostBack":
                    l.eventDoubleClickPostBack(i);
                    break;
                  case "CallBack":
                    l.eventDoubleClickCallBack(i);
                    break;
                  case "Select":
                    l.bc(e, i, t.ctrlKey, t.metaKey);
                    break;
                  case "Bubble":
                    l.bubble && l.bubble.showEvent(i);
                }
                "function" == typeof l.onEventDoubleClicked &&
                  l.onEventDoubleClicked(a);
              } else
                switch (l.eventDoubleClickHandling) {
                  case "PostBack":
                    l.eventDoubleClickPostBack(i);
                    break;
                  case "CallBack":
                    l.eventDoubleClickCallBack(i);
                    break;
                  case "JavaScript":
                    l.onEventDoubleClick(i);
                    break;
                  case "Select":
                    l.bc(e, i, t.ctrlKey, t.metaKey);
                    break;
                  case "Bubble":
                    l.bubble && l.bubble.showEvent(i);
                }
          }),
          (this.bc = function (e, t, n, i) {
            l.Nc(e, t, n, i);
          }),
          (this.eventSelectPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.change = t), this.Na("EventSelect", n, i);
          }),
          (this.eventSelectCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.change = t), this.Pa("EventSelect", i, n);
          }),
          (this.Nc = function (e, t, n, i) {
            var a = l.multiselect,
              r = a.isSelected(t),
              o = r ? "deselected" : "selected";
            if (n || i || !r || 1 !== a.list.length)
              if (l.Kb()) {
                a.previous = a.events();
                var s = {};
                if (
                  ((s.e = t),
                  (s.selected = a.isSelected(t)),
                  (s.ctrl = n),
                  (s.meta = i),
                  (s.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof l.onEventSelect &&
                    (l.onEventSelect(s), s.preventDefault.value))
                )
                  return;
                switch (l.eventSelectHandling) {
                  case "PostBack":
                    l.eventSelectPostBack(t, o);
                    break;
                  case "CallBack":
                    "undefined" != typeof WebForm_InitCallback &&
                      ((window.Pc = ""),
                      (window.Qc = []),
                      WebForm_InitCallback()),
                      l.eventSelectCallBack(t, o);
                    break;
                  case "Update":
                    a.Rc(e, n);
                }
                "function" == typeof l.onEventSelected &&
                  ((s.change = a.isSelected(t) ? "selected" : "deselected"),
                  (s.selected = a.isSelected(t)),
                  l.onEventSelected(s));
              } else
                switch (
                  ((a.previous = a.events()), a.Rc(e, n), l.eventSelectHandling)
                ) {
                  case "PostBack":
                    l.eventSelectPostBack(t, o);
                    break;
                  case "CallBack":
                    "undefined" != typeof WebForm_InitCallback &&
                      ((window.Pc = ""),
                      (window.Qc = []),
                      WebForm_InitCallback()),
                      l.eventSelectCallBack(t, o);
                    break;
                  case "JavaScript":
                    l.onEventSelect(t, o);
                }
          }),
          (this.eventRightClickPostBack = function (e, t) {
            this.Na("EventRightClick", t, e);
          }),
          (this.eventRightClickCallBack = function (e, t) {
            this.Pa("EventRightClick", e, t);
          }),
          (this.dc = function (e) {
            if (!e.client.rightClickEnabled()) return !1;
            if (l.Kb()) {
              var t = {};
              if (
                ((t.e = e),
                (t.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof l.onEventRightClick &&
                  (l.onEventRightClick(t), t.preventDefault.value))
              )
                return;
              switch (l.eventRightClickHandling) {
                case "PostBack":
                  l.eventRightClickPostBack(e);
                  break;
                case "CallBack":
                  l.eventRightClickCallBack(e);
                  break;
                case "ContextMenu":
                  var n = e.client.contextMenu();
                  n
                    ? n.show(e)
                    : l.contextMenu && l.contextMenu.show(this.event);
                  break;
                case "Bubble":
                  l.bubble && l.bubble.showEvent(e);
              }
              "function" == typeof l.onEventRightClicked &&
                l.onEventRightClicked(t);
            } else
              switch (l.eventRightClickHandling) {
                case "PostBack":
                  l.eventRightClickPostBack(e);
                  break;
                case "CallBack":
                  l.eventRightClickCallBack(e);
                  break;
                case "JavaScript":
                  l.onEventRightClick(e);
                  break;
                case "ContextMenu":
                  var n = e.client.contextMenu();
                  n
                    ? n.show(e)
                    : l.contextMenu && l.contextMenu.show(this.event);
                  break;
                case "Bubble":
                  l.bubble && l.bubble.showEvent(e);
              }
            return !1;
          }),
          (this.eventMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.command = t), this.Na("EventMenuClick", n, i);
          }),
          (this.eventMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.command = t), this.Pa("EventMenuClick", i, n);
          }),
          (this.Hc = function (e, t, n) {
            switch (n) {
              case "PostBack":
                l.eventMenuClickPostBack(t, e);
                break;
              case "CallBack":
                l.eventMenuClickCallBack(t, e);
            }
          }),
          (this.eventMovePostBack = function (e, t, n, i, a) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var r = {};
            (r.e = e),
              (r.newStart = t),
              (r.newEnd = n),
              (r.position = a),
              this.Na("EventMove", i, r);
          }),
          (this.eventMoveCallBack = function (e, t, n, i, a) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var r = {};
            (r.e = e),
              (r.newStart = t),
              (r.newEnd = n),
              (r.position = a),
              this.Pa("EventMove", r, i);
          }),
          (this.zc = function (e, t, n, i, a, r, o) {
            var s = e.start().getTimePart(),
              d = e.rawend().getDatePart();
            d.getTime() !== e.rawend().getTime() && (d = d.addDays(1));
            var c = DayPilot.DateUtil.diff(e.rawend(), d),
              u = this.Oj(t, n);
            u = u.addDays(-i);
            var h = DayPilot.DateUtil.daysSpan(e.start(), e.rawend()) + 1,
              f = u.addDays(h),
              v = u.addTime(s),
              p = f.addTime(c);
            if (((p = l.ak(p)), l.Kb())) {
              var m = {};
              if (
                ((m.e = e),
                (m.control = l),
                (m.newStart = v),
                (m.newEnd = p),
                (m.position = r),
                (m.external = o),
                (m.ctrl = !1),
                (m.shift = !1),
                (m.meta = !1),
                a &&
                  ((m.shift = a.shiftKey),
                  (m.ctrl = a.ctrlKey),
                  (m.meta = a.metaKey)),
                (m.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof l.onEventMove &&
                  (l.onEventMove(m), m.preventDefault.value))
              )
                return;
              switch (l.eventMoveHandling) {
                case "PostBack":
                  l.eventMovePostBack(e, v, p, null, r);
                  break;
                case "CallBack":
                  l.eventMoveCallBack(e, v, p, null, r);
                  break;
                case "Notify":
                  l.eventMoveNotify(e, v, p, null, r);
                  break;
                case "Update":
                  m.external
                    ? (e.start(v), e.end(p), e.commit(), l.events.add(e))
                    : (e.start(v), e.end(p), l.events.update(e)),
                    l.Dc();
              }
              "function" == typeof l.onEventMoved && l.onEventMoved(m);
            } else
              switch (l.eventMoveHandling) {
                case "PostBack":
                  l.eventMovePostBack(e, v, p, null, r);
                  break;
                case "CallBack":
                  l.eventMoveCallBack(e, v, p, null, r);
                  break;
                case "JavaScript":
                  l.onEventMove(e, v, p, a.ctrlKey, a.shiftKey, r);
                  break;
                case "Notify":
                  l.eventMoveNotify(e, v, p, null, r);
              }
          }),
          (this.eventMoveNotify = function (e, t, n, i, a) {
            var r = new DayPilot.Event(e.copy(), this);
            e.start(t),
              e.end(n),
              e.commit(),
              l.update(),
              this.Ec("Notify", r, t, n, i, a);
          }),
          (this.Ec = function (e, t, n, i, a, r) {
            var o = {};
            (o.e = t),
              (o.newStart = n),
              (o.newEnd = i),
              (o.position = r),
              this.kc(e, "EventMove", o, a);
          }),
          (this.eventResizePostBack = function (e, t, n, i) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var a = {};
            (a.e = e),
              (a.newStart = t),
              (a.newEnd = n),
              this.Na("EventResize", i, a);
          }),
          (this.eventResizeCallBack = function (e, t, n, i) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var a = {};
            (a.e = e),
              (a.newStart = t),
              (a.newEnd = n),
              this.Pa("EventResize", a, i);
          }),
          (this.qc = function (e, t, n) {
            var i = e.start().getTimePart(),
              a = e.rawend().getDatePart();
            a.getTime() !== e.rawend().getTime() && (a = a.addDays(1));
            var r = DayPilot.DateUtil.diff(e.rawend(), a),
              o = this.Oj(t.x, t.y),
              s = o.addDays(n),
              d = o.addTime(i),
              c = s.addTime(r);
            if (((c = l.ak(c)), l.Kb())) {
              var u = {};
              if (
                ((u.e = e),
                (u.control = l),
                (u.newStart = d),
                (u.newEnd = c),
                (u.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof l.onEventResize &&
                  (l.onEventResize(u), u.preventDefault.value))
              )
                return;
              switch (l.eventResizeHandling) {
                case "PostBack":
                  l.eventResizePostBack(e, d, c);
                  break;
                case "CallBack":
                  l.eventResizeCallBack(e, d, c);
                  break;
                case "Notify":
                  l.eventResizeNotify(e, d, c);
                  break;
                case "Update":
                  e.start(d), e.end(c), l.events.update(e);
              }
              "function" == typeof l.onEventResized && l.onEventResized(u);
            } else
              switch (l.eventResizeHandling) {
                case "PostBack":
                  l.eventResizePostBack(e, d, c);
                  break;
                case "CallBack":
                  l.eventResizeCallBack(e, d, c);
                  break;
                case "JavaScript":
                  l.onEventResize(e, d, c);
                  break;
                case "Notify":
                  l.eventResizeNotify(e, d, c);
              }
          }),
          (this.eventResizeNotify = function (e, t, n, i) {
            var a = new DayPilot.Event(e.copy(), this);
            e.start(t),
              e.end(n),
              e.commit(),
              l.update(),
              this.tc("Notify", a, t, n, i);
          }),
          (this.tc = function (e, t, n, i, a) {
            var r = {};
            (r.e = t),
              (r.newStart = n),
              (r.newEnd = i),
              this.kc(e, "EventResize", r, a);
          }),
          (this.timeRangeSelectedPostBack = function (e, t, n) {
            var i = {};
            (i.start = e), (i.end = t), this.Na("TimeRangeSelected", n, i);
          }),
          (this.timeRangeSelectedCallBack = function (e, t, n) {
            var i = {};
            (i.start = e), (i.end = t), this.Pa("TimeRangeSelected", i, n);
          }),
          (this.Jc = function (e, t) {
            if (((t = l.ak(t)), l.Kb())) {
              var n = {};
              if (
                ((n.start = e),
                (n.end = t),
                (n.control = l),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof l.onTimeRangeSelect &&
                  (l.onTimeRangeSelect(n), n.preventDefault.value))
              )
                return;
              switch (l.timeRangeSelectedHandling) {
                case "PostBack":
                  l.timeRangeSelectedPostBack(e, t), l.clearSelection();
                  break;
                case "CallBack":
                  l.timeRangeSelectedCallBack(e, t), l.clearSelection();
              }
              "function" == typeof l.onTimeRangeSelected &&
                l.onTimeRangeSelected(n);
            } else
              switch (l.timeRangeSelectedHandling) {
                case "PostBack":
                  l.timeRangeSelectedPostBack(e, t), l.clearSelection();
                  break;
                case "CallBack":
                  l.timeRangeSelectedCallBack(e, t), l.clearSelection();
                  break;
                case "JavaScript":
                  l.onTimeRangeSelected(e, t);
              }
          }),
          (this.timeRangeMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.selection = e),
              (i.command = t),
              this.Na("TimeRangeMenuClick", n, i);
          }),
          (this.timeRangeMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.selection = e),
              (i.command = t),
              this.Pa("TimeRangeMenuClick", i, n);
          }),
          (this.Ic = function (e, t, n) {
            switch (n) {
              case "PostBack":
                l.timeRangeMenuClickPostBack(t, e);
                break;
              case "CallBack":
                l.timeRangeMenuClickCallBack(t, e);
            }
          }),
          (this.headerClickPostBack = function (e, t) {
            this.Na("HeaderClick", t, e);
          }),
          (this.headerClickCallBack = function (e, t) {
            this.Pa("HeaderClick", e, t);
          }),
          (this.fc = function (e) {
            var t = { day: e };
            if (l.Kb()) {
              var n = {};
              if (
                ((n.header = {}),
                (n.header.dayOfWeek = e),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof l.onHeaderClick &&
                  (l.onHeaderClick(n), n.preventDefault.value))
              )
                return;
              switch (l.headerClickHandling) {
                case "PostBack":
                  l.headerClickPostBack(t);
                  break;
                case "CallBack":
                  l.headerClickCallBack(t);
              }
              "function" == typeof l.onHeaderClicked && l.onHeaderClicked(n);
            } else
              switch (l.headerClickHandling) {
                case "PostBack":
                  l.headerClickPostBack(t);
                  break;
                case "CallBack":
                  l.headerClickCallBack(t);
                  break;
                case "JavaScript":
                  l.onHeaderClick(t);
              }
          }),
          (this.timeRangeDoubleClickPostBack = function (e, t, n) {
            var i = {};
            (i.start = e), (i.end = t), this.Na("TimeRangeDoubleClick", n, i);
          }),
          (this.timeRangeDoubleClickCallBack = function (e, t, n) {
            var i = {};
            (i.start = e), (i.end = t), this.Pa("TimeRangeDoubleClick", i, n);
          }),
          (this.Lc = function (e, t) {
            if (l.Kb()) {
              var n = {};
              if (
                ((n.start = e),
                (n.end = t),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof l.onTimeRangeDoubleClick &&
                  (l.onTimeRangeDoubleClick(n), n.preventDefault.value))
              )
                return;
              switch (l.timeRangeDoubleClickHandling) {
                case "PostBack":
                  l.timeRangeDoubleClickPostBack(e, t);
                  break;
                case "CallBack":
                  l.timeRangeDoubleClickCallBack(e, t);
              }
              "function" == typeof l.onTimeRangeDoubleClicked &&
                l.onTimeRangeDoubleClicked(n);
            } else
              switch (l.timeRangeDoubleClickHandling) {
                case "PostBack":
                  l.timeRangeDoubleClickPostBack(e, t);
                  break;
                case "CallBack":
                  l.timeRangeDoubleClickCallBack(e, t);
                  break;
                case "JavaScript":
                  l.onTimeRangeDoubleClick(e, t);
              }
          }),
          (this.commandCallBack = function (e, t) {
            this.bk();
            var n = {};
            (n.command = e), this.Pa("Command", n, t);
          }),
          (this.commandPostBack = function (e, t) {
            this.bk();
            var n = {};
            (n.command = e), this.Na("Command", n, t);
          }),
          (this.jh = function (e) {
            for (var t = 0; t < l.elements.events.length; t++) {
              var n = l.elements.events[t];
              if (n.event === e || n.event.data === e.data) return n;
            }
            return null;
          }),
          (this.Sj = function (e) {
            var t = {};
            (t.list = []),
              (t.forEach = function (e) {
                if (e)
                  for (var t = 0; t < this.list.length; t++) e(this.list[t]);
              });
            for (var n = 0; n < this.elements.events.length; n++) {
              var i = this.elements.events[n];
              i.event.data === e.data && t.list.push(i);
            }
            return t;
          }),
          (this.uh = function (e) {
            var t = document.createElement("div");
            (t.style.position = "absolute"),
              (t.style.top = "-2000px"),
              (t.style.left = "-2000px"),
              (t.className = this.ca(e)),
              document.body.appendChild(t);
            var n = t.offsetHeight,
              i = t.offsetWidth;
            document.body.removeChild(t);
            var a = {};
            return (a.height = n), (a.width = i), a;
          }),
          (s.Ma = function () {
            return "Disabled" !== l.xssProtection;
          }),
          (s.clearCache = function () {
            delete l.va.eventHeight, delete l.va.headerHeight;
          }),
          (s.lineHeight = function () {
            return s.eventHeight() + l.lineSpace;
          }),
          (s.rounded = function () {
            return "Rounded" === l.eventCorners;
          }),
          (s.loadFromServer = function () {
            return !!l.backendUrl;
          }),
          (s.locale = function () {
            return DayPilot.Locale.find(l.locale);
          }),
          (s.getWeekStart = function () {
            return l.showWeekend ? l.weekStarts : 1;
          }),
          (s.weekStarts = function () {
            if (!l.showWeekend) return 1;
            if ("Auto" === l.weekStarts) {
              var e = s.locale();
              return e ? e.weekStarts : 0;
            }
            return l.weekStarts;
          }),
          (s.notifyType = function () {
            var e;
            if ("Immediate" === l.notifyCommit) e = "Notify";
            else {
              if ("Queue" !== l.notifyCommit)
                throw "Invalid notifyCommit value: " + l.notifyCommit;
              e = "Queue";
            }
            return e;
          }),
          (s.eventHeight = function () {
            if (l.va.eventHeight) return l.va.eventHeight;
            var e = l.uh("_event_height").height;
            return e || (e = l.eventHeight), (l.va.eventHeight = e), e;
          }),
          (s.headerHeight = function () {
            if (l.va.headerHeight) return l.va.headerHeight;
            var e = l.uh("_header_height").height;
            return e || (e = l.headerHeight), (l.va.headerHeight = e), e;
          }),
          (s.timeFormat = function () {
            return "Auto" !== l.timeFormat
              ? l.timeFormat
              : s.locale().timeFormat;
          }),
          (this.vg = function () {
            var e = l.nav.top;
            return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
          }),
          (this.vh = {});
        var u = this.vh;
        (this.exportAs = function (e, t) {
          if (!l.vg())
            throw new DayPilot.Exception(
              "DayPilot.Month.exportAs(): The instance must be visible during export."
            );
          var n = u.generate(e, t);
          return new DayPilot.Export(n);
        }),
          (u.A = null),
          (u.xh = null),
          (u.generate = function (e, t) {
            "object" == typeof e && ((t = e), (e = null)),
              (t = t || {}),
              (e = e || t.format || "svg");
            var n = t.scale || 1;
            if ("config" !== e) {
              "jpg" === e.toLowerCase() && (e = "jpeg");
              var i = t.area || "viewport";
              (u.A = t), (u.xh = i);
              var a,
                r = u.getWidth(),
                o = u.getHeight();
              switch (e.toLowerCase()) {
                case "svg":
                  a = new DayPilot.Svg(r, o);
                  break;
                case "png":
                  a = new DayPilot.Canvas(r, o, "image/png", n);
                  break;
                case "jpeg":
                  a = new DayPilot.Canvas(r, o, "image/jpeg", n, t.quality);
                  break;
                default:
                  throw "Export format not supported: " + e;
              }
              var d = u.getRectangles(),
                c = new DayPilot.StyleReader(l.nav.top).get("background-color"),
                h = new DayPilot.StyleReader(l.nav.top).get("border-top-color"),
                f = l.nav.header.firstChild.firstChild,
                v = new DayPilot.StyleReader(f).get("background-color"),
                p = new DayPilot.StyleReader(f).getFont(),
                m = new DayPilot.StyleReader(f).get("color"),
                g = l.cells[0][0].firstChild,
                b = new DayPilot.StyleReader(g).get("border-right-color"),
                y = (d.grid.w * l.Mj()) / 100,
                w = 0;
              a.fillRect(d.main, "white"),
                a.fillRect(d.main, c),
                DayPilot.list.for(l.Gj()).forEach(function (e) {
                  var t = l.headerProperties ? l.headerProperties[e] : null,
                    n = e + s.weekStarts();
                  n > 6 && (n -= 7),
                    t || ((t = {}), (t.html = s.locale().dayNames[n]));
                  var i = 0,
                    r = y,
                    o = s.headerHeight(),
                    d = t.html,
                    c = { x: w, y: i, w: r + 1, h: o + 1 },
                    u = DayPilot.Util.copyProps(c),
                    f = {};
                  (f.header = {}),
                    (f.header.dayOfWeek = n),
                    (f.backColor = v),
                    (f.text = d),
                    (f.horizontalAlignment = "center"),
                    (f.verticalAlignment = "center"),
                    (f.fontSize = p.size),
                    (f.fontFamily = p.family),
                    (f.fontStyle = p.style),
                    (f.fontColor = m),
                    "function" == typeof l.onBeforeHeaderExport &&
                      l.onBeforeHeaderExport(f);
                  var g = {
                    size: f.fontSize,
                    family: f.fontFamily,
                    style: f.fontStyle,
                  };
                  a.fillRect(c, f.backColor),
                    a.rect(c, h),
                    a.text(
                      u,
                      f.text,
                      g,
                      f.fontColor,
                      f.horizontalAlignment,
                      0,
                      f.verticalAlignment
                    ),
                    (w += r);
                });
              var x = d.grid.y;
              u.ck().forEach(function (e) {
                var t = e.getHeight(),
                  n = 0,
                  i = l.rows.indexOf(e);
                DayPilot.list.for(l.Gj()).forEach(function (e) {
                  var r = l.cells[e][i],
                    o = r.props,
                    s = y,
                    d = new DayPilot.StyleReader(l.cells[e][i].firstChild).get(
                      "background-color"
                    ),
                    c = l.cells[e][i].firstChild.firstChild,
                    u = new DayPilot.StyleReader(c).getFont(),
                    h = new DayPilot.StyleReader(c).get("color"),
                    f = new DayPilot.StyleReader(c).get("background-color"),
                    v = l.firstDate.addDays(7 * i + e),
                    p = {};
                  (p.cell = {}),
                    (p.cell.start = v),
                    (p.cell.end = v.addDays(1)),
                    (p.backColor = d),
                    (p.text = o.headerHtml),
                    (p.horizontalAlignment = "right"),
                    "function" == typeof l.onBeforeCellExport &&
                      l.onBeforeCellExport(p);
                  var m = { x: n, y: x, w: s + 1, h: t + 1 };
                  a.fillRect(m, p.backColor), a.rect(m, b);
                  var g = { x: n, y: x, w: s - 2, h: l.cellHeaderHeight };
                  a.fillRect(m, f),
                    a.text(g, p.text, u, h, p.horizontalAlignment),
                    (n += s);
                }),
                  (x += t);
              });
              var k = 0;
              return (
                u.ck().forEach(function (e) {
                  var t = e.getHeight();
                  DayPilot.list(e.lines).forEach(function (e) {
                    DayPilot.list(e).forEach(function (e) {
                      var t = e.cache || e.data,
                        n = u.Dh();
                      n.className += " " + t.cssClass;
                      var i = n.firstChild,
                        r = n.querySelector("." + l.ca("_event_bar")),
                        o = new DayPilot.StyleReader(i).get(
                          "border-right-color"
                        ),
                        c = new DayPilot.StyleReader(i).getFont(),
                        h = new DayPilot.StyleReader(i).get("color"),
                        f = new DayPilot.StyleReader(i).getBackColor(),
                        v = new DayPilot.StyleReader(
                          r.firstChild
                        ).getBackColor(),
                        p = new DayPilot.StyleReader(r.firstChild).getPx(
                          "width"
                        ),
                        m = {};
                      (m.left = new DayPilot.StyleReader(i).getPx(
                        "padding-left"
                      )),
                        (m.right = new DayPilot.StyleReader(i).getPx(
                          "padding-right"
                        )),
                        (m.top = new DayPilot.StyleReader(i).getPx(
                          "padding-top"
                        )),
                        (m.bottom = new DayPilot.StyleReader(i).getPx(
                          "padding-bottom"
                        )),
                        DayPilot.de(n);
                      var g = t.backColor || f,
                        b = {};
                      (b.e = e),
                        (b.text = e.text ? e.text() : e.client.html()),
                        (b.fontSize = c.size),
                        (b.fontFamily = c.family),
                        (b.fontStyle = c.style),
                        (b.fontColor = t.fontColor || h),
                        (b.backColor = t.backColor || g),
                        (b.borderColor = t.borderColor || o),
                        (b.horizontalAlignment = "left"),
                        (b.barWidth = p),
                        (b.barColor = t.barColor || v),
                        "function" == typeof l.onBeforeEventExport &&
                          l.onBeforeEventExport(b);
                      var w = y * e.part.colStart,
                        x = y * e.part.colWidth,
                        C =
                          k +
                          l.cellHeaderHeight +
                          e.part.line * s.lineHeight() +
                          d.grid.y +
                          2,
                        _ = s.eventHeight(),
                        T = 2,
                        S = { x: w + T, y: C, w: x + 1 - 4, h: _ },
                        D = DayPilot.Util.copyProps(S),
                        E = DayPilot.Util.copyProps(D);
                      if (
                        ((E.x += m.left),
                        (E.w -= m.left + m.right),
                        (E.y += m.top),
                        (E.h -= m.top + m.bottom),
                        a.fillRect(S, b.backColor),
                        e.client.barVisible())
                      ) {
                        var H = { x: S.x, y: S.y, w: b.barWidth, h: S.h };
                        a.fillRect(H, b.barColor);
                      }
                      a.text(
                        E,
                        b.text,
                        {
                          size: b.fontSize,
                          family: b.fontFamily,
                          style: b.fontStyle,
                        },
                        b.fontColor,
                        b.horizontalAlignment
                      ),
                        a.rect(S, b.borderColor);
                    });
                  }),
                    (k += t);
                }),
                a.rect(d.main, h),
                a.line(d.grid.x, 0, d.grid.x, d.main.h, h),
                a.line(0, d.grid.y, d.main.w, d.grid.y, h),
                a
              );
            }
          }),
          (u.Dh = function () {
            var e = document.createElement("div");
            (e.style.position = "absolute"),
              (e.style.top = "-2000px"),
              (e.style.left = "-2000px"),
              (e.style.display = "none"),
              (e.className = l.ca("_event"));
            var t = document.createElement("div");
            (t.className = l.ca("_event_inner")), e.appendChild(t);
            var n = document.createElement("div");
            n.className = l.ca("_event_bar");
            var i = document.createElement("div");
            return (
              (i.className = l.ca("_event_bar_inner")),
              n.appendChild(i),
              e.appendChild(n),
              l.nav.events.appendChild(e),
              e
            );
          }),
          (u.Bh = function () {
            var e = document.createElement("div");
            (e.style.position = "absolute"),
              (e.style.top = "-2000px"),
              (e.style.left = "-2000px"),
              (e.style.display = "none"),
              (e.className = l.ca("_cell"));
            var t = document.createElement("div");
            return (
              (t.className = l.ca("_cell_inner")),
              e.appendChild(t),
              l.nav.events.appendChild(e),
              e
            );
          }),
          (u.getWidth = function () {
            var e = u.xh,
              t = Math.floor(l.nav.top.clientWidth / l.Gj()) * l.Gj();
            switch (e) {
              case "viewport":
              case "full":
              case "range":
                return "number" == typeof u.A.width ? u.A.width : t;
              default:
                throw "Unsupported export mode: " + e;
            }
          }),
          (u.getHeight = function () {
            var e = u.xh;
            switch (e) {
              case "viewport":
              case "full":
                return l.nav.top.clientHeight;
              case "range":
                var t = s.headerHeight();
                return (
                  u.ck().forEach(function (e) {
                    t += e.getHeight();
                  }),
                  t
                );
              default:
                throw "Unsupported export mode: " + e;
            }
          }),
          (u.ck = function () {
            var e = new DayPilot.Date(u.A.dateFrom || l.visibleStart()),
              t = new DayPilot.Date(u.A.dateTo || l.visibleEnd());
            return l.rows.filter(function (n) {
              return (
                "range" !== u.xh || DayPilot.Util.overlaps(n.start, n.end, e, t)
              );
            });
          }),
          (u.getRectangles = function () {
            var e = s.headerHeight(),
              t = {};
            return (
              (t.main = { x: 0, y: 0, w: u.getWidth(), h: u.getHeight() }),
              (t.grid = { x: 0, y: e, w: u.getWidth(), h: u.getHeight() - e }),
              t
            );
          }),
          (this.multiselect = {}),
          (this.multiselect.initList = []),
          (this.multiselect.list = []),
          (this.multiselect.divs = []),
          (this.multiselect.previous = []),
          (this.multiselect.Bd = function () {
            var e = l.multiselect;
            return JSON.stringify(e.events());
          }),
          (this.multiselect.events = function () {
            var e = l.multiselect,
              t = [];
            t.ignoreToJSON = !0;
            for (var n = 0; n < e.list.length; n++) t.push(e.list[n]);
            return t;
          }),
          (this.multiselect.Cd = function () {}),
          (this.multiselect.Rc = function (e, t) {
            var n = l.multiselect;
            if (n.isSelected(e.event))
              if (l.allowMultiSelect)
                if (t) n.remove(e.event, !0);
                else {
                  var i = n.list.length;
                  n.clear(!0), i > 1 && n.add(e.event, !0);
                }
              else n.clear(!0);
            else
              l.allowMultiSelect && t
                ? n.add(e.event, !0)
                : (n.clear(!0), n.add(e.event, !0));
            n.redraw(), n.Cd();
          }),
          (this.multiselect.Dd = function (e) {
            var t = l.multiselect;
            return t.Ed(e, t.initList);
          }),
          (this.multiselect.Fd = function () {
            for (var e = l.multiselect, t = [], n = 0; n < e.list.length; n++) {
              var i = e.list[n];
              t.push(i.value());
            }
            alert(t.join("\n"));
          }),
          (this.multiselect.add = function (e, t) {
            var n = l.multiselect;
            n.Gd(e) === -1 && n.list.push(e), t || n.redraw();
          }),
          (this.multiselect.remove = function (e, t) {
            var n = l.multiselect,
              i = n.Gd(e);
            i !== -1 && n.list.splice(i, 1), t || n.redraw();
          }),
          (this.multiselect.clear = function (e) {
            var t = l.multiselect;
            (t.list = []), e || t.redraw();
          }),
          (this.multiselect.redraw = function () {
            for (
              var e = l.multiselect, t = 0;
              t < l.elements.events.length;
              t++
            ) {
              var n = l.elements.events[t];
              e.isSelected(n.event) ? e.Hd(n) : e.Id(n);
            }
          }),
          (this.multiselect.Hd = function (e) {
            var t = l.multiselect,
              n = l.ca("_selected"),
              i = t.Jd(e);
            DayPilot.Util.addClass(i, n), t.divs.push(i);
          }),
          (this.multiselect.Jd = function (e) {
            return e;
          }),
          (this.multiselect.Kd = function () {
            for (var e = l.multiselect, t = 0; t < e.divs.length; t++) {
              var n = e.divs[t];
              e.Id(n, !0);
            }
            e.divs = [];
          }),
          (this.multiselect.Id = function (e, t) {
            var n = l.multiselect,
              i = l.ca("_selected"),
              a = n.Jd(e);
            if (
              (a &&
                a.className &&
                a.className.indexOf(i) !== -1 &&
                (a.className = a.className.replace(i, "")),
              !t)
            ) {
              var r = DayPilot.indexOf(n.divs, e);
              r !== -1 && n.divs.splice(r, 1);
            }
          }),
          (this.multiselect.isSelected = function (e) {
            return l.multiselect.Ed(e, l.multiselect.list);
          }),
          (this.multiselect.Gd = function (e) {
            for (var t = e.data, n = 0; n < l.multiselect.list.length; n++) {
              var i = l.multiselect.list[n];
              if (l.Ld(i.data, t)) return n;
            }
            return -1;
          }),
          (this.multiselect.Ed = function (e, t) {
            if (!t) return !1;
            for (var n = 0; n < t.length; n++) {
              var i = t[n];
              if (l.Ld(e, i)) return !0;
            }
            return !1;
          }),
          (this.Ld = function (e, t) {
            return DayPilot.Util.isSameEvent(e, t);
          }),
          (this.events.forRange = function (e, t) {
            (e = new DayPilot.Date(e)), (t = new DayPilot.Date(t));
            var n = DayPilot.list(l.events.list).map(function (e) {
              return new DayPilot.Event(e);
            });
            return (
              n.sort(l.hh),
              n.filter(function (n) {
                var i = n.start(),
                  a = n.end();
                return (
                  (i === a && i === e) || DayPilot.Util.overlaps(e, t, i, a)
                );
              })
            );
          }),
          (this.events.find = function (e) {
            if (!l.events.list || "undefined" == typeof l.events.list.length)
              return null;
            if ("function" == typeof e) {
              for (var t = e, n = 0; n < l.events.list.length; n++) {
                var i = new DayPilot.Event(l.events.list[n], l);
                if (t(i)) return i;
              }
              return null;
            }
            for (var a = l.events.list.length, n = 0; n < a; n++)
              if (l.events.list[n].id === e)
                return new DayPilot.Event(l.events.list[n], l);
            return null;
          }),
          (this.events.findRecurrent = function (e, t) {
            if (!l.events.list || "undefined" == typeof l.events.list.length)
              return null;
            for (var n = l.events.list.length, i = 0; i < n; i++)
              if (
                l.events.list[i].recurrentMasterId === e &&
                l.events.list[i].start.getTime() === t.getTime()
              )
                return new DayPilot.Event(l.events.list[i], l);
            return null;
          }),
          (this.events.update = function (e, t) {
            if ("object" == typeof e && !(e instanceof DayPilot.Event)) {
              var n = l.events.find(e.id);
              if (!n)
                throw new DayPilot.Exception(
                  "The event to be updated was not found"
                );
              var i = DayPilot.indexOf(l.events.list, n.data);
              return (
                l.events.list.splice(i, 1, e),
                l.za && l.update(),
                void l.kh.notify()
              );
            }
            var a = {};
            (a.oldEvent = new DayPilot.Event(e.copy(), l)),
              (a.newEvent = new DayPilot.Event(e.temp(), l));
            var r = new DayPilot.Action(l, "EventUpdate", a, t);
            return e.commit(), l.za && l.update(), l.kh.notify(), r;
          }),
          (this.events.remove = function (e, t) {
            var n = {};
            n.e = new DayPilot.Event(e.data, l);
            var i = new DayPilot.Action(l, "EventRemove", n, t),
              a = DayPilot.indexOf(l.events.list, e.data);
            return (
              l.events.list.splice(a, 1), l.za && l.update(), l.kh.notify(), i
            );
          }),
          (this.events.add = function (e, t) {
            e instanceof DayPilot.Event || (e = new DayPilot.Event(e)),
              (e.calendar = l),
              l.events.list || (l.events.list = []),
              l.events.list.push(e.data);
            var n = {};
            n.e = e;
            var i = new DayPilot.Action(l, "EventAdd", n, t);
            return l.za && l.update(), l.kh.notify(), i;
          }),
          (this.events.filter = function (e) {
            (l.events.eh = e), l.Od();
          }),
          (this.events.load = function (e, t, n) {
            var i = function (e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  "function" == typeof n && n(t);
              },
              a = function (e) {
                var n,
                  a = e.request;
                try {
                  n = JSON.parse(a.responseText);
                } catch (e) {
                  var r = {};
                  return (r.exception = e), void i(r);
                }
                if (DayPilot.isArray(n)) {
                  var o = {};
                  if (
                    ((o.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (o.data = n),
                    "function" == typeof t && t(o),
                    o.preventDefault.value)
                  )
                    return;
                  (l.events.list = n), l.za && l.update();
                }
              };
            if (
              l.eventsLoadMethod &&
              "POST" === l.eventsLoadMethod.toUpperCase()
            )
              DayPilot.ajax({
                method: "POST",
                data: {
                  start: l.visibleStart().toString(),
                  end: l.visibleEnd().toString(),
                },
                url: e,
                success: a,
                error: i,
              });
            else {
              var r = e,
                o =
                  "start=" +
                  l.visibleStart().toString() +
                  "&end=" +
                  l.visibleEnd().toString();
              (r += r.indexOf("?") > -1 ? "&" + o : "?" + o),
                DayPilot.ajax({ method: "GET", url: r, success: a, error: i });
            }
          }),
          (this.W = {}),
          (this.W.reactDOM = null),
          (this.W.react = null),
          (this.W.Me = function () {
            if (!l.W.reactDOM)
              throw new DayPilot.Exception("Can't reach ReactDOM");
          }),
          (this.W.V = function (e, t) {
            var n = l.W.reactDOM;
            if ("function" == typeof n.createRoot) {
              var i = t.ma;
              i || ((i = n.createRoot(t)), (t.ma = i)), i.render(e);
            } else n.render(e, t);
          }),
          (this.W.ka = function (e) {
            var t = l.W.reactDOM;
            if ("function" == typeof t.createRoot) {
              var n = e.ma;
              setTimeout(function () {
                n.unmount();
              }, 0);
            } else t.unmountComponentAtNode(e);
          }),
          (this.queue = {}),
          (this.queue.list = []),
          (this.queue.list.ignoreToJSON = !0),
          (this.queue.add = function (e) {
            if (e) {
              if (!e.isAction)
                throw "DayPilot.Action object required for queue.add()";
              l.queue.list.push(e);
            }
          }),
          (this.queue.notify = function (e) {
            var t = {};
            (t.actions = l.queue.list),
              l.Pa("Notify", t, e, "Notify"),
              (l.queue.list = []);
          }),
          (this.queue.clear = function () {
            l.queue.list = [];
          }),
          (this.queue.pop = function () {
            return l.queue.list.pop();
          }),
          (this.ak = function (e) {
            return "DateTime" === l.eventEndSpec
              ? e
              : e.getDatePart().ticks === e.ticks
              ? e.addDays(-1)
              : e.getDatePart();
          }),
          (this.Fj = function (e) {
            return "DateTime" === l.eventEndSpec
              ? e
              : e.getDatePart().addDays(1);
          }),
          (this.dk = function (e) {
            return "DateTime" === l.eventEndSpec ? e : e.getDatePart();
          }),
          (this.Jb = function (e) {
            if (
              (e && (this.autoRefreshEnabled = !0),
              this.autoRefreshEnabled && !(this.ya >= this.autoRefreshMaxCount))
            ) {
              this.bk();
              var t = this.autoRefreshInterval;
              if (!t || t < 10)
                throw "The minimum autoRefreshInterval is 10 seconds";
              this.autoRefreshTimeout = window.setTimeout(function () {
                l.yg();
              }, 1e3 * this.autoRefreshInterval);
            }
          }),
          (this.bk = function () {
            this.autoRefreshTimeout &&
              window.clearTimeout(this.autoRefreshTimeout);
          }),
          (this.yg = function () {
            if (!t.eventResizing && !t.eventMoving && !t.timeRangeSelecting) {
              var e = !1;
              if ("function" == typeof this.onAutoRefresh) {
                var n = {};
                (n.i = this.ya),
                  (n.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  l.onAutoRefresh(n),
                  n.preventDefault.value && (e = !0);
              }
              !e && this.ja() && this.commandCallBack(this.autoRefreshCommand),
                this.ya++;
            }
            this.ya < this.autoRefreshMaxCount &&
              (this.autoRefreshTimeout = window.setTimeout(function () {
                l.yg();
              }, 1e3 * this.autoRefreshInterval));
          }),
          (this.Od = function (e) {
            if (this.cells) {
              e = e || {};
              var t = !e.eventsOnly;
              l.cssOnly || (l.cssOnly = !0),
                l.Ya(),
                l.Aj(),
                l.tb(),
                t && (l.Ba.clearCache(), l.Bj(), l.Cj()),
                l.Bb(),
                l.D(),
                l.Fb(),
                this.visible ? this.show() : this.hide();
            }
          }),
          (this.update = function (e) {
            l.qh(e);
          }),
          (this.Aa = !1),
          (this.qh = function (e) {
            if (!l.za)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Month instance that hasn't been initialized yet."
              );
            if (l.Aa)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Month instance that has been disposed."
              );
            this.rh(e), this.Od();
          }),
          (this.dispose = function () {
            var e = l;
            e.nav.top &&
              (e.bk(),
              e.Bj(),
              e.Ya(),
              e.nav.top.removeAttribute("style"),
              e.nav.top.removeAttribute("class"),
              (e.nav.top.innerHTML = ""),
              (e.nav.top.dp = null),
              (e.nav.top.onmousemove = null),
              DayPilot.ue(e.nav.top, "touchstart", d.onMainTouchStart),
              DayPilot.ue(e.nav.top, "touchmove", d.onMainTouchMove),
              DayPilot.ue(e.nav.top, "touchend", d.onMainTouchEnd),
              (e.nav.top = null),
              DayPilot.ue(window, "resize", e.cb),
              t.unregister(e),
              "undefined" != typeof DayPilot.Bubble &&
                (DayPilot.Bubble.cancelShowing(),
                DayPilot.Bubble.hide({ calendar: e })),
              "undefined" != typeof DayPilot.Menu &&
                DayPilot.Menu.hide({ calendar: e }),
              (this.Aa = !0));
          }),
          (this.disposed = function () {
            return this.Aa;
          }),
          (this.Eg = function () {
            t.globalHandlers ||
              ((t.globalHandlers = !0),
              DayPilot.re(document, "mousemove", t.gMouseMove),
              DayPilot.re(document, "mouseup", t.gMouseUp),
              DayPilot.reNonPassive(document, "touchmove", t.gMouseMove)),
              DayPilot.re(window, "resize", this.cb);
          }),
          (this.gb = function () {
            e();
          }),
          (this.Dc = function () {
            if (l.todo && l.todo.del) {
              var e = l.todo.del;
              e.parentNode.removeChild(e), (l.todo.del = null);
            }
          }),
          (this.bf = function () {
            switch (l.Ga) {
              case "aspnet":
                if (!this.Ua())
                  throw new DayPilot.Exception(
                    "ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/"
                  );
                break;
              case "netmvc":
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/"
                  );
                break;
              case "javaxx":
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/"
                  );
            }
          }),
          (this.D = function () {
            "hidden" === this.nav.top.style.visibility &&
              (this.nav.top.style.visibility = "visible");
          }),
          (this.show = function () {
            (l.visible = !0), (l.nav.top.style.display = "");
          }),
          (this.hide = function () {
            (l.visible = !1), (l.nav.top.style.display = "none");
          }),
          (this.Hh = function () {
            if (this.id && this.id.tagName) this.nav.top = this.id;
            else {
              if ("string" != typeof this.id)
                throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";
              if (
                ((this.nav.top = document.getElementById(this.id)),
                !this.nav.top)
              )
                throw (
                  "DayPilot.Month: The placeholder element not found: '" +
                  r +
                  "'."
                );
            }
            (function (t) {
              function _0x0E(h, E) {
                var o = _0x0h();
                return (
                  (_0x0E = function (R, p) {
                    R = R - 0x18c;
                    var e = o[R];
                    if (_0x0E["lYlZQH"] === undefined) {
                      var N = function (l) {
                        var C =
                          "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";
                        var V = "",
                          K = "";
                        for (
                          var m = 0x0, c, w, x = 0x0;
                          (w = l["charAt"](x++));
                          ~w && ((c = m % 0x4 ? c * 0x40 + w : w), m++ % 0x4)
                            ? (V += String["fromCharCode"](
                                0xff & (c >> ((-0x2 * m) & 0x6))
                              ))
                            : 0x0
                        ) {
                          w = C["indexOf"](w);
                        }
                        for (var b = 0x0, t = V["length"]; b < t; b++) {
                          K +=
                            "%" +
                            ("00" + V["charCodeAt"](b)["toString"](0x10))[
                              "slice"
                            ](-0x2);
                        }
                        return decodeURIComponent(K);
                      };
                      (_0x0E["vZHjuG"] = N),
                        (h = arguments),
                        (_0x0E["lYlZQH"] = !![]);
                    }
                    var n = o[0x0],
                      a = R + n,
                      D = h[a];
                    return (
                      !D ? ((e = _0x0E["vZHjuG"](e)), (h[a] = e)) : (e = D), e
                    );
                  }),
                  _0x0E(h, E)
                );
              }
              (function (h, E) {
                function K(h, E) {
                  return _0x0E(h - -0x372, E);
                }
                var o = h();
                function C(h, E) {
                  return _0x0E(E - -0x1ca, h);
                }
                function V(h, E) {
                  return _0x0E(h - -0x92, E);
                }
                while (!![]) {
                  try {
                    var R =
                      (parseInt(C(-0x13, -0x24)) / 0x1) *
                        (parseInt(V(0x105, 0x10d)) / 0x2) +
                      (-parseInt(V(0xfa, 0x102)) / 0x3) *
                        (-parseInt(C(-0x31, -0x2a)) / 0x4) +
                      -parseInt(C(-0x38, -0x34)) / 0x5 +
                      (-parseInt(K(-0x1d4, -0x1c5)) / 0x6) *
                        (parseInt(C(-0x33, -0x31)) / 0x7) +
                      -parseInt(K(-0x1d5, -0x1dd)) / 0x8 +
                      (-parseInt(K(-0x1d3, -0x1cb)) / 0x9) *
                        (parseInt(V(0x103, 0x108)) / 0xa) +
                      parseInt(K(-0x1e5, -0x1f5)) / 0xb;
                    if (R === E) break;
                    else o["push"](o["shift"]());
                  } catch (p) {
                    o["push"](o["shift"]());
                  }
                }
              })(_0x0h, 0x84e6a);
              function _0x0I(h, E) {
                return _0x0E(h - 0x234, E);
              }
              function _0x0t(h, E) {
                return _0x0E(E - -0x178, h);
              }
              function _0x0h() {
                var B = [
                  "mJK0C1LRzw5A",
                  "mtq0ndqXCfrJzKf6",
                  "mtu3nZjjuuDjrNu",
                  "B2DfA3u",
                  "uwTrBNK",
                  "AKXUqLC",
                  "zwr1yu4",
                  "ALz5t1y",
                  "nezIr25Tyq",
                  "AKTUt3a",
                  "zgf5CgLSB3qUB3jN",
                  "Aw5KzxHpzG",
                  "txzQvhK",
                  "BMf2",
                  "tNzhy24",
                  "nJC4Dhftqwfr",
                  "mti1mJy1mZzWvwfuugC",
                  "CMfUzg9T",
                  "sg5pExO",
                  "ww91igfYzsb1C2LUzYbHihrYAwfSihzLCNnPB24GB2yGrgf5ugLSB3qGuhjVlG",
                  "uKPsEem",
                  "Bg9JywXOB3n0",
                  "Aw5UzxjuzxH0",
                  "Ag9ZDg5HBwu",
                  "mtKWChPfCNjO",
                  "mZK3odmYnwvRqwj4wa",
                  "mZqYodK0uevRwxvX",
                  "Dg9W",
                  "ndm0odrvAvfJzhK",
                  "rM5kAgy",
                  "Bg9JyxrPB24",
                  "C2v0vgLTzw91Da",
                  "nJeZmdy4oeXXsvPJtW",
                ];
                _0x0h = function () {
                  return B;
                };
                return _0x0h();
              }
              (function (h) {
                var E = {
                  FnJhf: m(-0x1d4, -0x1d0),
                  RJRxC: function (D) {
                    return D();
                  },
                  HnOyz: function (D, l) {
                    return D != l;
                  },
                  QkQny: c(0x32, 0x2f),
                  jLnBW: function (D, l) {
                    return D != l;
                  },
                  NvGcn: w(-0x58, -0x67),
                  ogEku: function (D, l) {
                    return D * l;
                  },
                  jKnOp: function (D, l) {
                    return D + l;
                  },
                  jVyOV: function (D, l) {
                    return D * l;
                  },
                  eduaN: function (D, l) {
                    return D || l;
                  },
                  MvjTy: function (D) {
                    return D();
                  },
                };
                function c(h, E) {
                  return _0x0E(E - -0x179, h);
                }
                function o() {
                  return window;
                }
                var R = E[w(-0x76, -0x68)](o)[w(-0x64, -0x5e)][w(-0x58, -0x65)],
                  p = R ? ![] : 0x1,
                  e =
                    !p &&
                    E[c(0x1f, 0x16)](
                      R[c(0x23, 0x30)](E[m(-0x1c4, -0x1be)]),
                      -0x1
                    ),
                  N =
                    !p &&
                    E[w(-0x5b, -0x56)](
                      R[m(-0x1c4, -0x1b7)](E[m(-0x1c1, -0x1b4)]),
                      -0x1
                    );
                function w(h, E) {
                  return _0x0E(E - -0x1f9, h);
                }
                function m(h, E) {
                  return _0x0E(E - -0x360, h);
                }
                var n = E[w(-0x4e, -0x58)](
                    0x186a0,
                    E[w(-0x46, -0x52)](
                      E[c(0x25, 0x2c)](Math[w(-0x6d, -0x6b)](), 0x6),
                      0x6
                    )
                  ),
                  a = function () {
                    function b(h, E) {
                      return w(h, E - -0x4);
                    }
                    function x(h, E) {
                      return w(h, E - -0x11d);
                    }
                    h[x(-0x177, -0x183)] = E[x(-0x183, -0x17c)];
                  };
                if (E[w(-0x5c, -0x55)](e, N)) return;
                E[w(-0x4a, -0x4f)](o)[c(0x21, 0x23)](a, n);
              })(t[_0x0t(0x30, 0x33)][_0x0t(0x31, 0x20)]);
            })(this);
          }),
          (this.Ih = function () {
            this.Hh(),
              this.Aj(),
              this.ef(),
              this.Cj(),
              this.Bb(),
              this.Eg(),
              this.Jb(),
              this.Pa("Init"),
              t.register(this);
          }),
          (this.init = function () {
            if (this.za)
              throw new DayPilot.Exception(
                "This instance is already initialized. Use update() to change properties."
              );
            if ((this.Hh(), this.nav.top.dp)) {
              if (this.nav.top.dp === l) return l;
              if (this.Ua()) return l;
              throw new DayPilot.Exception(
                "The target placeholder was already initialized by another DayPilot component instance."
              );
            }
            this.bf();
            var e = s.loadFromServer();
            return (
              l.cssOnly || (l.cssOnly = !0),
              e
                ? (this.Ih(), (this.za = !0), this)
                : (this.Aj(),
                  this.tb(),
                  this.ef(),
                  this.Cj(),
                  this.D(),
                  this.Fb(),
                  this.Bb(),
                  this.Eg(),
                  this.messageHTML &&
                    window.setTimeout(function () {
                      l.message(l.messageHTML);
                    }, 0),
                  this.ob(null, !1),
                  l.initEventEnabled &&
                    setTimeout(function () {
                      l.Pa("Init");
                    }),
                  this.Jb(),
                  t.register(this),
                  (this.za = !0),
                  this.Kh(),
                  this)
            );
          }),
          (this.Lh = null),
          (this.rh = function (e) {
            if (e) {
              var t = {
                events: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (l.events.list = e.list)
                        : (l.events.list = e));
                  },
                },
              };
              this.Lh = t;
              for (var n in e)
                if (t[n]) {
                  var i = t[n];
                  (i.data = e[n]), i.preInit && i.preInit();
                } else l[n] = e[n];
            }
          }),
          (this.Kh = function () {
            var e = this.Lh;
            for (var t in e) {
              var n = e[t];
              n.postInit && n.postInit();
            }
          }),
          (this.Y = {}),
          (this.Y.Ne = null),
          (this.Y.Z = function (e, t, n) {
            var i = l.Y.Ne;
            if (
              "function" == typeof i.createVNode &&
              "function" == typeof i.render
            ) {
              var a = i.createVNode(e, n);
              i.render(a, t);
            }
          }),
          (this.Y.Pe = function (e, t) {
            var n = l.Y.Ne;
            if ("function" == typeof n.render) {
              var i = e;
              DayPilot.isArray(e) && (i = n.h("div", null, e)), n.render(i, t);
            }
          }),
          (this.Y.la = function (e) {
            var t = l.Y.Ne;
            "function" == typeof t.render && t.render(null, e);
          }),
          (this.internal = {}),
          (this.internal.initialized = function () {
            return l.za;
          }),
          (this.internal.invokeEvent = this.kc),
          (this.internal.eventMenuClick = this.Hc),
          (this.internal.timeRangeMenuClick = this.Ic),
          (this.internal.bubbleCallBack = this.Fc),
          (this.internal.findEventDiv = this.jh),
          (this.internal.adjustEndIn = this.Fj),
          (this.internal.xssTextHtml = l.La),
          (this.internal.touch = l.Ca),
          (this.internal.enableReact = function (e, t) {
            (l.W.react = e), (l.W.reactDOM = t);
          }),
          (this.internal.reactRefs = function () {
            return DayPilot.Util.copyProps(l.W, {}, ["react", "reactDOM"]);
          }),
          (this.internal.loadOptions = l.rh),
          (this.internal.upd = function (e) {
            l.qh(e);
          }),
          (this.internal.enableVue = function (e) {
            l.Y.Ne = e;
          }),
          (this.internal.vueRef = function () {
            return l.Y.Ne;
          }),
          (this.internal.vueRendering = function () {
            return l.Y.Oe;
          }),
          (this.Init = this.init),
          Object.defineProperty(this, "durationBarVisible", {
            get: function () {
              return l.eventBarVisible;
            },
          }),
          this.rh(o);
      }),
        (DayPilot.Month.makeDraggable = function (e) {
          function n() {
            var n = e.duration || 60;
            n instanceof DayPilot.Duration && (n = n.totalSeconds());
            var i = (t.drag = {});
            (i.element = a),
              (i.id = e.id),
              (i.duration = n),
              (i.text = e.text || ""),
              (i.data = e),
              (i.shadowType = "Fill");
          }
          var i = e.element,
            a = e.keepElement ? null : i;
          navigator.msPointerEnabled &&
            ((i.style.msTouchAction = "none"), (i.style.touchAction = "none"));
          var r = function (e) {
              n();
              var t = e.target || e.srcElement;
              if (t.tagName) {
                var i = t.tagName.toLowerCase();
                if ("textarea" === i || "select" === i || "input" === i)
                  return !1;
              }
              return e.preventDefault(), !1;
            },
            o = function (e) {
              if (!DayPilot.Util.isMouseEvent(e)) {
                window.setTimeout(function () {
                  n(), t.gMouseMove(e), e.preventDefault();
                }, 0),
                  e.preventDefault();
              }
            };
          DayPilot.us(i),
            DayPilot.re(i, "mousedown", r),
            DayPilot.re(i, DayPilot.touch.start, o),
            (i.cancelDraggable = function () {
              DayPilot.ue(i, "mousedown", r),
                DayPilot.ue(i, DayPilot.touch.start, o),
                delete i.cancelDraggable;
            });
        }),
        (t.createGShadow = function () {
          var e = document.createElement("div");
          return (
            (e.style.position = "absolute"),
            (e.style.width = "100px"),
            (e.style.height = "20px"),
            (e.style.border = "2px dotted #666666"),
            (e.style.zIndex = 101),
            (e.style.pointerEvents = "none"),
            (e.style.backgroundColor = "#aaaaaa"),
            (e.style.opacity = 0.5),
            (e.style.border = "2px solid #aaaaaa"),
            document.body.appendChild(e),
            e
          );
        }),
        (t.gMouseMove = function (e) {
          if (
            "undefined" != typeof t &&
            !(e.insideMainD || (e.srcElement && e.srcElement.inside))
          ) {
            var n = DayPilot.mc(e);
            if (t.drag) {
              (document.body.style.cursor = "move"),
                t.gShadow || (t.gShadow = t.createGShadow());
              var i = t.gShadow;
              (i.style.left = n.x + "px"),
                (i.style.top = n.y + "px"),
                (t.movingEvent = null),
                DayPilot.de(t.movingShadow),
                (t.movingShadow = null);
            }
            for (var a = 0; a < t.registered.length; a++)
              t.registered[a].gb && t.registered[a].gb();
          }
        }),
        (t.register = function (e) {
          t.registered || (t.registered = []);
          for (var n = 0; n < t.registered.length; n++)
            if (t.registered[n] === e) return;
          t.registered.push(e);
        }),
        (t.unregister = function (e) {
          var n = t.registered;
          if (n) {
            var i = DayPilot.indexOf(n, e);
            i !== -1 && n.splice(i, 1), 0 === n.length && (n = null);
          }
          n ||
            (DayPilot.ue(document, "mouseup", t.gMouseUp),
            (t.globalHandlers = !1));
        }),
        (t.gMouseUp = function (e) {
          function n() {
            t.drag && ((t.drag = null), (document.body.style.cursor = "")),
              t.gShadow &&
                (document.body.removeChild(t.gShadow), (t.gShadow = null));
          }
          if ((n(), t.movingEvent)) {
            var i = t.movingEvent;
            if (
              ((t.movingEvent = null),
              !(
                i.event &&
                i.event.calendar &&
                i.event.calendar.shadow &&
                i.event.calendar.shadow.start
              ))
            )
              return;
            var a = i.event.calendar,
              r = i.event,
              o = a.shadow.start,
              l = a.shadow.position,
              s = i.offset,
              d = i.external,
              c = i.removeElement;
            c && (a.todo || (a.todo = {}), (a.todo.del = c));
            var u = a.shadow.disabled;
            return (
              a.Nj(),
              u || a.zc(r, o.x, o.y, s, e, l, d),
              (e.cancelBubble = !0),
              e.stopPropagation(),
              !1
            );
          }
          if (t.resizingEvent) {
            var i = t.resizingEvent;
            if (
              ((t.resizingEvent = null),
              !(
                i.event &&
                i.event.calendar &&
                i.event.calendar.shadow &&
                i.event.calendar.shadow.start
              ))
            )
              return;
            var a = i.event.calendar,
              r = i.event,
              o = a.shadow.start,
              h = a.shadow.width,
              u = a.shadow.disabled;
            return a.Nj(), u || a.qc(r, o, h), (e.cancelBubble = !0), !1;
          }
          if (t.timeRangeSelecting) {
            if (t.timeRangeSelecting.moved) {
              var f = t.timeRangeSelecting,
                a = f.root,
                o = new DayPilot.Date(a.Oj(f.from.x, f.from.y)),
                v = o.addDays(f.width);
              a.shadow.disabled ? a.clearSelection() : a.Jc(o, v);
            } else {
              var f = t.timeRangeSelecting,
                a = f.root,
                p = a.cells[f.from.x][f.from.y];
              a._j({ currentTarget: p });
            }
            t.timeRangeSelecting = null;
          }
        }),
        "undefined" != typeof jQuery &&
          !(function (e) {
            e.fn.daypilotMonth = function (e) {
              var t = null,
                n = this.each(function () {
                  if (!this.daypilot) {
                    var n = new DayPilot.Month(this.id, e);
                    n.init(), (this.daypilot = n), t || (t = n);
                  }
                });
              return 1 === this.length ? t : n;
            };
          })(jQuery),
        (function () {
          var e = DayPilot.am();
          e &&
            e.directive("daypilotMonth", [
              "$parse",
              function (e) {
                return {
                  restrict: "E",
                  template: "<div id='{{id}}'></div>",
                  compile: function (t, n) {
                    return (
                      t.replaceWith(
                        this["template"].replace("{{id}}", n["id"])
                      ),
                      function (t, n, i) {
                        var a = new DayPilot.Month(n[0]);
                        (a.kh.scope = t), a.init();
                        var r = i["id"];
                        r && (t[r] = a);
                        var o = i["publishAs"];
                        if (o) {
                          (0, e(o).assign)(t, a);
                        }
                        for (var l in i)
                          if (0 === l.indexOf("on")) {
                            var s = DayPilot.Util.shouldApply(l);
                            s
                              ? !(function (n) {
                                  a[n] = function (a) {
                                    var r = e(i[n]);
                                    t["$apply"](function () {
                                      r(t, { args: a });
                                    });
                                  };
                                })(l)
                              : !(function (n) {
                                  a[n] = function (a) {
                                    e(i[n])(t, { args: a });
                                  };
                                })(l);
                          }
                        var d = t["$watch"],
                          c = i["config"] || i["daypilotConfig"],
                          u = i["events"] || i["daypilotEvents"];
                        d.call(
                          t,
                          c,
                          function (e) {
                            for (var t in e) a[t] = e[t];
                            a.update();
                          },
                          !0
                        ),
                          d.call(
                            t,
                            u,
                            function (e) {
                              (a.events.list = e), a.Od({ eventsOnly: !0 });
                            },
                            !0
                          );
                      }
                    );
                  },
                };
              },
            ]);
        })(),
        (DayPilot.Month.def = {}),
        "undefined" != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(DayPilot),
  (function (DayPilot) {
    if ("undefined" == typeof DayPilot.Navigator || !DayPilot.Navigator.def) {
      var e = DayPilot.Util.isReactComponent,
        t = DayPilot.Util.isVueComponent,
        n = DayPilot.Util.isVueVNode;
      (DayPilot.Navigator = function (i, a) {
        function r(e, t, n) {
          var i = this;
          if (e instanceof r) return e;
          if ("object" == typeof e) {
            var a = e;
            (this.month = a.month), (this.x = a.x), (this.y = a.y);
          } else (this.month = e), (this.x = t), (this.y = n);
          (this.is = function (e) {
            return this.month === e.month && this.x === e.x && this.y === e.y;
          }),
            (this.next = function () {
              var e = i;
              if (e.x < 6) return { month: e.month, x: e.x + 1, y: e.y };
              var t = o.months[e.month];
              return e.y < t.rowCount - 1
                ? { month: e.month, x: 0, y: e.y + 1 }
                : e.month < o.months.length - 1
                ? { month: e.month + 1, x: 0, y: 0 }
                : null;
            }),
            (this.visible = function () {
              var e = this.cell();
              return (
                !!e.isCurrentMonth ||
                !(!e.isPrevMonth || !e.showBefore) ||
                !(!e.isNextMonth || !e.showAfter)
              );
            }),
            (this.nextVisible = function () {
              for (var e = i; !e.visible(); ) {
                var t = e.next();
                if (!t) return null;
                e = new r(t);
              }
              return e;
            }),
            (this.previous = function () {
              var e = i;
              if (e.x > 0) return { month: e.month, x: e.x - 1, y: e.y };
              if (e.y > 0) return { month: e.month, x: 6, y: e.y - 1 };
              if (e.month > 0) {
                var t = o.months[e.month - 1];
                return { month: e.month - 1, x: 6, y: t.rowCount - 1 };
              }
              return null;
            }),
            (this.previousVisible = function () {
              for (var e = i; !e.visible(); ) {
                var t = e.previous();
                if (!t) return null;
                e = new r(t);
              }
              return e;
            }),
            (this.cell = function () {
              return o.months[this.month].cells[this.x][this.y];
            }),
            (this.date = function () {
              return this.cell().day;
            }),
            (this.before = function (e) {
              return this.date() < new r(e).date();
            });
        }
        this.v = "2025.3.6631";
        var o = this;
        (this.id = i),
          (this.api = 2),
          (this.isNavigator = !0),
          (this.autoFocusOnClick = !0),
          (this.weekStarts = "Auto"),
          (this.selectMode = "Day"),
          (this.titleHeight = 30),
          (this.dayHeaderHeight = 30),
          (this.bound = null),
          (this.cellWidth = 30),
          (this.cellHeight = 30),
          (this.cssClassPrefix = "navigator_default"),
          (this.freeHandSelectionEnabled = !1),
          (this.selectionStart = new DayPilot.Date().getDatePart()),
          (this.selectionEnd = null),
          (this.selectionDay = null),
          (this.showMonths = 1),
          (this.skipMonths = 1),
          (this.command = "navigate"),
          (this.year = new DayPilot.Date().getYear()),
          (this.month = new DayPilot.Date().getMonth() + 1),
          (this.showToday = !1),
          (this.showWeekNumbers = !1),
          (this.todayHtml = null),
          (this.todayHeight = 40),
          (this.todayPosition = "Bottom"),
          (this.todayText = "Today"),
          (this.weekNumberAlgorithm = "Auto"),
          (this.rowsPerMonth = "Six"),
          (this.orientation = "Vertical"),
          (this.locale = "en-us"),
          (this.rtl = !1),
          (this.visible = !0),
          (this.timeRangeSelectedHandling = "Bind"),
          (this.visibleRangeChangedHandling = "Enabled"),
          (this.onVisibleRangeChange = null),
          (this.onVisibleRangeChanged = null),
          (this.onTimeRangeSelect = null),
          (this.onTimeRangeSelected = null),
          (this.onTodayClick = null),
          (this.Ba = {});
        var l = this.Ba;
        this.ek = {};
        var s = this.ek;
        (this.nav = {}),
          (this.va = {}),
          (this.fk = function () {
            (this.root.dp = this),
              (this.root.className = this.ca("_main")),
              "Horizontal" === this.orientation
                ? (l.gk() ||
                    (this.root.style.width =
                      this.showMonths * (7 * l.cellWidth() + this.hk()) + "px"),
                  (this.root.style.height =
                    6 * this.cellHeight +
                    this.titleHeight +
                    this.dayHeaderHeight +
                    "px"))
                : l.gk() ||
                  (this.root.style.width =
                    7 * l.cellWidth() + this.hk() + "px"),
              this.rtl && (this.root.style.direction = "rtl"),
              (this.root.style.position = "relative"),
              this.visible || (this.root.style.display = "none");
            var e = document.createElement("input");
            (e.type = "hidden"),
              (e.name = o.id + "_state"),
              (e.id = e.name),
              this.root.appendChild(e),
              (this.state = e),
              this.startDate
                ? (this.startDate = new DayPilot.Date(
                    this.startDate
                  ).firstDayOfMonth())
                : this.selectionDay
                ? (this.startDate = new DayPilot.Date(
                    this.selectionDay
                  ).firstDayOfMonth())
                : (this.startDate = DayPilot.Date.fromYearMonthDay(
                    this.year,
                    this.month
                  )),
              (this.calendars = []),
              (this.selected = []),
              (this.months = []);
          }),
          (this.Kb = function () {
            return 2 === o.api;
          }),
          (this.Bj = function () {
            this.root.innerHTML = "";
          }),
          (this.ca = function (e) {
            var t = this.theme || this.cssClassPrefix;
            return t ? t + e : "";
          }),
          (this.ik = function (e, t) {
            var n = this.ca("_" + t);
            DayPilot.Util.addClass(e, n);
          }),
          (this.jk = function (e, t) {
            var n = this.ca("_" + t);
            DayPilot.Util.removeClass(e, n);
          }),
          (this.kk = function () {
            if (!l.gk()) return null;
            var e = 7;
            return this.showWeekNumbers && e++, 100 / e;
          }),
          (this.lk = function () {
            return l.gk() ? null : l.cellWidth();
          }),
          (this.mk = function (e) {
            return (
              "number" != typeof e && (e = 1),
              l.gk() ? this.kk() * e : this.lk() * e
            );
          }),
          (this.nk = function (e) {
            var t = l.gk() ? "%" : "px";
            return this.mk(e) + t;
          }),
          (this.Cj = function (i, a) {
            var r = {};
            (r.cells = []), (r.days = []), (r.weeks = []);
            var s = this.startDate.addMonths(i),
              d = a.before,
              c = a.after,
              u = s.firstDayOfMonth(),
              h = u.firstDayOfWeek(l.weekStarts()),
              f = u.addMonths(1),
              v = DayPilot.DateUtil.daysDiff(h, f),
              p = "Auto" === this.rowsPerMonth ? Math.ceil(v / 7) : 6;
            r.rowCount = p;
            var m = new DayPilot.Date().getDatePart(),
              g = 7 * l.cellWidth() + this.hk();
            r.width = g;
            var b =
              this.cellHeight * p + this.titleHeight + this.dayHeaderHeight;
            r.height = b;
            var y = document.createElement("div");
            if (
              (l.gk()
                ? "Horizontal" === this.orientation &&
                  (y.style.width = 100 / o.showMonths + "%")
                : (y.style.width = g + "px"),
              (y.style.height = b + "px"),
              "Horizontal" === this.orientation)
            )
              (y.style.position = "absolute"),
                l.gk()
                  ? ((y.style.left = (100 / o.showMonths) * i + "%"),
                    (r.leftPct = (100 / o.showMonths) * i))
                  : (y.style.left = g * i + "px"),
                (y.style.top = "0px"),
                (r.top = 0),
                (r.left = g * i);
            else {
              y.style.position = "relative";
              var w = i > 0 ? o.months[i - 1].top + o.months[i - 1].height : 0;
              (r.top = w), (r.left = 0), (r.leftPct = 0);
            }
            (y.className = this.ca("_month")),
              (y.style.cursor = "default"),
              (y.style.userSelect = "none"),
              (y.style.webkitUserSelect = "none"),
              (y.month = r),
              (r.div = y),
              this.root.appendChild(y);
            var x = this.titleHeight + this.dayHeaderHeight,
              k = document.createElement("div");
            (k.style.position = "absolute"),
              (k.style.left = "0px"),
              (k.style.right = "0px"),
              (k.style.top = "0px"),
              (k.style.width = o.nk()),
              (k.style.height = this.titleHeight + "px"),
              (k.style.lineHeight = this.titleHeight + "px"),
              (k.className = this.ca("_titleleft")),
              a.left &&
                ((k.style.cursor = "pointer"),
                (k.innerHTML = "<span>&lt;</span>"),
                (k.onclick = this.ok)),
              y.appendChild(k);
            var C = document.createElement("div");
            (C.style.position = "absolute"),
              (C.style.left = o.nk()),
              (C.style.top = "0px"),
              (C.style.width = o.nk(o.showWeekNumbers ? 6 : 5)),
              (C.style.height = this.titleHeight + "px"),
              (C.style.lineHeight = this.titleHeight + "px"),
              (C.className = this.ca("_title")),
              (C.innerHTML =
                l.locale().monthNames[s.getMonth()] + " " + s.getYear()),
              y.appendChild(C),
              (this.ti = C);
            var _ = document.createElement("div");
            (_.style.position = "absolute"),
              (_.style.left = o.nk(o.showWeekNumbers ? 7 : 6)),
              (_.style.right = o.nk(o.showWeekNumbers ? 7 : 6)),
              (_.style.top = "0px"),
              (_.style.width = o.nk()),
              (_.style.height = this.titleHeight + "px"),
              (_.style.lineHeight = this.titleHeight + "px"),
              (_.className = this.ca("_titleright")),
              a.right &&
                ((_.style.cursor = "pointer"),
                (_.innerHTML = "<span>&gt;</span>"),
                (_.onclick = this.pk)),
              y.appendChild(_),
              (this.tr = _);
            var T = o.showWeekNumbers ? 1 : 0;
            if (this.showWeekNumbers)
              for (var S = 0; S < p; S++) {
                var D = h.addDays(7 * S),
                  E = null;
                switch (this.weekNumberAlgorithm) {
                  case "Auto":
                    E =
                      1 === l.weekStarts() ? D.weekNumberISO() : D.weekNumber();
                    break;
                  case "US":
                    E = D.weekNumber();
                    break;
                  case "ISO8601":
                    E = D.weekNumberISO();
                    break;
                  default:
                    throw "Unknown weekNumberAlgorithm value.";
                }
                var H = document.createElement("div");
                (H.style.position = "absolute"),
                  (H.style.left = "0px"),
                  (H.style.right = "0px"),
                  (H.style.top = S * this.cellHeight + x + "px"),
                  (H.style.width = o.nk()),
                  (H.style.height = this.cellHeight + "px"),
                  (H.style.lineHeight = this.cellHeight + "px"),
                  (H.className = this.ca("_weeknumber")),
                  (H.innerHTML = "<span>" + E + "</span>"),
                  y.appendChild(H),
                  r.weeks.push(H);
              }
            if (o.showWeekNumbers) {
              var H = document.createElement("div");
              (H.style.position = "absolute"),
                (H.style.left = "0px"),
                (H.style.right = "0px"),
                (H.style.top = this.titleHeight + "px"),
                (H.style.width = o.nk()),
                (H.style.height = this.dayHeaderHeight + "px"),
                (H.className = this.ca("_dayheader")),
                y.appendChild(H);
            }
            for (var M = 0; M < 7; M++) {
              r.cells[M] = [];
              var H = document.createElement("div");
              (H.style.position = "absolute"),
                (H.style.left = o.nk(M + T)),
                (H.style.right = o.nk(M + T)),
                (H.style.top = this.titleHeight + "px"),
                (H.style.width = o.nk()),
                (H.style.height = this.dayHeaderHeight + "px"),
                (H.style.lineHeight = this.dayHeaderHeight + "px"),
                (H.className = this.ca("_dayheader")),
                (H.innerHTML = "<span>" + this.qk(M) + "</span>"),
                y.appendChild(H),
                r.days.push(H);
              for (
                var A = function (i) {
                    var a = h.addDays(7 * i + M),
                      u = R.rk(a) && "none" !== R.sk(),
                      f = a.firstDayOfMonth() === s,
                      v = a < s,
                      p = a >= s.addMonths(1);
                    if ("month" === R.sk()) u = u && f;
                    else if ("day" === R.sk())
                      u = u && (f || (d && v) || (c && p));
                    else if ("week" === R.sk()) {
                      var g = a.firstDayOfMonth() === s;
                      u = u && (g || (d && v) || (c && p));
                    }
                    var b = document.createElement("div");
                    r.cells[M][i] = b;
                    var w = o.tk(M, i),
                      x = w.x,
                      k = w.y,
                      C = l.gk() ? "%" : "px";
                    (b.day = a),
                      (b.x = M),
                      (b.y = i),
                      (b.left = x),
                      (b.top = k),
                      (b.isCurrentMonth = f),
                      (b.isNextMonth = p),
                      (b.isPrevMonth = v),
                      (b.showBefore = d),
                      (b.showAfter = c),
                      (b.className = R.ca(f ? "_day" : "_dayother")),
                      o.ik(b, "cell"),
                      a.getTime() === m.getTime() && f && R.ik(b, "today"),
                      (0 !== a.dayOfWeek() && 6 !== a.dayOfWeek()) ||
                        R.ik(b, "weekend"),
                      (b.style.position = "absolute"),
                      (b.style.left = x + C),
                      (b.style.right = x + C),
                      (b.style.top = k + "px"),
                      (b.style.width = o.nk()),
                      (b.style.height = R.cellHeight + "px"),
                      (b.style.lineHeight = R.cellHeight + "px");
                    var _ = document.createElement("div");
                    (_.style.position = "absolute"),
                      (_.className =
                        a.getTime() === m.getTime() && f
                          ? R.ca("_todaybox")
                          : R.ca("_daybox")),
                      o.ik(_, "cell_box"),
                      (_.style.left = "0px"),
                      (_.style.top = "0px"),
                      (_.style.right = "0px"),
                      (_.style.bottom = "0px"),
                      b.appendChild(_);
                    var T = null;
                    R.cells &&
                      R.cells[a.toStringSortable()] &&
                      (T = R.cells[a.toStringSortable()]);
                    var S = T || {};
                    if (
                      ((S.day = a),
                      (S.isCurrentMonth = f),
                      (S.isToday = a.getTime() === m.getTime() && f),
                      (S.isWeekend =
                        0 === a.dayOfWeek() || 6 === a.dayOfWeek()),
                      T
                        ? ((S.html = T.html || a.getDay()),
                          (S.cssClass = T.css))
                        : ((S.html = a.getDay()), (S.cssClass = null)),
                      "function" == typeof o.onBeforeCellRender)
                    ) {
                      var D = {};
                      (D.cell = S), o.onBeforeCellRender(D), (T = D.cell);
                    }
                    if (
                      (T && DayPilot.Util.addClass(b, T.cssClass || T.css),
                      f || (d && v) || (c && p))
                    ) {
                      var E = document.createElement("div");
                      (E.innerHTML = a.getDay()),
                        (E.style.position = "absolute"),
                        (E.style.left = "0px"),
                        (E.style.top = "0px"),
                        (E.style.right = "0px"),
                        (E.style.bottom = "0px"),
                        o.ik(E, "cell_text"),
                        (b.isClickable = !0),
                        T && T.html && (E.innerHTML = T.html),
                        b.appendChild(E);
                    }
                    (b.onclick = R.uk),
                      (function () {
                        if (
                          "function" == typeof o.onBeforeCellDomAdd ||
                          "function" == typeof o.onBeforeCellDomRemove
                        ) {
                          var i = {};
                          if (
                            ((i.control = o),
                            (i.cell = S),
                            (i.element = null),
                            (b.domArgs = i),
                            "function" == typeof o.onBeforeCellDomAdd &&
                              o.onBeforeCellDomAdd(i),
                            i.element)
                          ) {
                            var a = _;
                            if (a) {
                              i.Le = a;
                              var r = e(i.element),
                                l = t(i.element),
                                s = n(i.element);
                              if (r) {
                                if (!o.W.reactDOM)
                                  throw new DayPilot.Exception(
                                    "Can't reach ReactDOM"
                                  );
                                o.W.V(i.element, a);
                              } else if (l) {
                                if (!o.Y.Ne)
                                  throw new DayPilot.Exception(
                                    "Can't reach Vue"
                                  );
                                (o.Y.Oe = !0),
                                  o.Y.Z(i.element, a, i.props),
                                  (o.Y.Oe = !1);
                              } else if (s) {
                                if (!o.Y.Ne)
                                  throw new DayPilot.Exception(
                                    "Can't reach Vue"
                                  );
                                (o.Y.Oe = !0),
                                  o.Y.Pe(i.element, a),
                                  (o.Y.Oe = !1);
                              } else a.appendChild(i.element);
                            }
                          }
                        }
                      })(),
                      y.appendChild(b),
                      u && (o.vk(y, M, i), R.selected.push(b));
                  },
                  R = this,
                  S = 0;
                S < p;
                S++
              )
                A(S);
            }
            var B = document.createElement("div");
            (B.style.position = "absolute"),
              (B.style.left = "0px"),
              (B.style.top = x - 2 + "px"),
              (B.style.width = o.nk(7 + T)),
              (B.style.height = "1px"),
              (B.style.fontSize = "1px"),
              (B.style.lineHeight = "1px"),
              (B.className = this.ca("_line")),
              y.appendChild(B),
              this.months.push(r);
          }),
          (this.tk = function (e, t) {
            var n = this.titleHeight + this.dayHeaderHeight,
              i = this.showWeekNumbers ? 1 : 0;
            return { x: o.mk(e + i), y: t * this.cellHeight + n };
          }),
          (this.vk = function (e, t, n) {
            var i = e.month.cells[t][n];
            o.ik(i, "select");
          }),
          (this.wk = function (e, t, n) {
            var i = e.month.cells[t][n];
            o.jk(i, "select");
          }),
          (this.hk = function () {
            return this.showWeekNumbers ? l.cellWidth() : 0;
          }),
          (this.xk = function () {
            if (this.items)
              for (var e = 0; e < this.showMonths; e++)
                for (var t = 0; t < 7; t++)
                  for (var n = 0; n < 6; n++) {
                    var i = this.months[e].cells[t][n];
                    i &&
                      (1 === this.items[i.day.toStringSortable()]
                        ? (this.ik(i, "busy"), this.jk(i, "free"))
                        : (this.jk(i, "busy"), this.ik(i, "free")));
                  }
          }),
          (this.yk = function () {
            var e = {};
            (e.startDate = o.startDate),
              (e.selectionStart = o.selectionStart),
              (e.selectionEnd = o.selectionEnd.addDays(1)),
              (o.state.value = JSON.stringify(e));
          }),
          (this.sk = function () {
            return (this.selectMode || "").toLowerCase();
          }),
          (this.zk = function () {
            var e = this.selectionDay || this.selectionStart;
            switch (
              (e || (e = DayPilot.Date.today()),
              (e = new DayPilot.Date(e)),
              this.sk())
            ) {
              case "day":
                (this.selectionStart = e),
                  (this.selectionDay = e),
                  (this.selectionEnd = e);
                break;
              case "week":
                (this.selectionDay = e),
                  (this.selectionStart = e.firstDayOfWeek(l.weekStarts())),
                  (this.selectionEnd = this.selectionStart.addDays(6));
                break;
              case "month":
                (this.selectionDay = e),
                  (this.selectionStart = e.firstDayOfMonth()),
                  (this.selectionEnd = this.selectionStart.lastDayOfMonth());
                break;
              case "none":
                this.selectionEnd = e;
                break;
              default:
                throw "Unknown selectMode value.";
            }
          }),
          (this.Ak = null),
          (this.select = function (e, t, n) {
            var i = t && (t instanceof DayPilot.Date || "string" == typeof t),
              a = (t && "object" == typeof t) || "boolean" == typeof t,
              r = e,
              l = i ? t : null,
              s = a ? t : n;
            if (!this.za)
              return void (this.Ak = { date1: r, date2: l, options: s });
            var d = !0,
              c = !0;
            s && "object" == typeof s
              ? (s.dontFocus && (d = !1), s.dontNotify && (c = !1))
              : "boolean" == typeof s && (d = !s);
            var u = this.selectionStart,
              h = this.selectionEnd;
            (this.selectionStart = new DayPilot.Date(r).getDatePart()),
              (this.selectionDay = this.selectionStart);
            var f = !1;
            if (d) {
              var v = this.startDate;
              (this.selectionStart < this.Bk() ||
                this.selectionStart >= this.Ck()) &&
                (v = this.selectionStart.firstDayOfMonth()),
                v.toStringSortable() !== this.startDate.toStringSortable() &&
                  (f = !0),
                (this.startDate = v);
            }
            l && o.freeHandSelectionEnabled
              ? (o.selectionEnd = new DayPilot.Date(l))
              : this.zk(),
              this.Bj(),
              this.fk(),
              this.Dk(),
              this.xk(),
              this.yk(),
              !c ||
                (u.equals(this.selectionStart) &&
                  h.equals(this.selectionEnd)) ||
                this.Jc(),
              f && this.Ek();
          }),
          (this.update = function (e) {
            o.qh(e);
          }),
          (this.qh = function (e) {
            if ((o.rh(e), this.za)) {
              if (o.Aa)
                throw new DayPilot.Exception(
                  "You are trying to update a DayPilot.Navigator instance that has been disposed."
                );
              o.nh();
              var t = {
                day: o.selectionDay,
                start: o.selectionStart,
                end: o.selectionEnd,
              };
              o.Od(),
                (t.start === o.selectionStart &&
                  t.end === o.selectionEnd &&
                  t.day === o.selectionDay) ||
                  o.Jc();
            }
          }),
          (this.Od = function () {
            this.Bj(),
              this.fk(),
              this.zk(),
              this.Dk(),
              this.tb(),
              this.xk(),
              this.yk(),
              this.visible ? this.show() : this.hide();
          }),
          (this.nh = function () {
            o.va = {};
          }),
          (this.Lh = null),
          (this.rh = function (e) {
            if (e) {
              var t = {
                events: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (o.events.list = e.list)
                        : (o.events.list = e));
                  },
                },
              };
              this.Lh = t;
              for (var n in e)
                if (t[n]) {
                  var i = t[n];
                  (i.data = e[n]), i.preInit && i.preInit();
                } else o[n] = e[n];
            }
          }),
          (this.Kh = function () {
            var e = this.Lh;
            for (var t in e) {
              var n = e[t];
              n.postInit && n.postInit();
            }
          }),
          (this.Pa = function (e, t, n) {
            var i = {};
            (i.action = e),
              (i.parameters = n),
              (i.data = t),
              (i.header = this.Oa());
            var a = "JSON" + JSON.stringify(i);
            this.backendUrl
              ? DayPilot.request(this.backendUrl, this.Ra, a, this.Sa)
              : WebForm_DoCallback(
                  this.uniqueID,
                  a,
                  this.Ta,
                  null,
                  this.callbackError,
                  !0
                );
          }),
          (this.Sa = function (e) {
            if ("function" == typeof o.onAjaxError) {
              var t = {};
              (t.request = e), o.onAjaxError(t);
            } else "function" == typeof o.ajaxError && o.ajaxError(e);
          }),
          (this.Ra = function (e) {
            o.Ta(e.responseText);
          }),
          (this.Na = function (e, t, n) {
            var i = {};
            (i.action = e),
              (i.parameters = n),
              (i.data = t),
              (i.header = this.Oa());
            var a = "JSON" + JSON.stringify(i);
            __doPostBack(o.uniqueID, a);
          }),
          (this.Oa = function () {
            var e = {};
            return (
              (e.v = this.v),
              (e.startDate = this.startDate),
              (e.selectionStart = this.selectionStart),
              (e.showMonths = this.showMonths),
              e
            );
          }),
          (this.qk = function (e) {
            var t = e + l.weekStarts();
            return t > 6 && (t -= 7), l.locale().dayNamesShort[t];
          }),
          (this.rk = function (e) {
            return (
              null !== this.selectionStart &&
              null !== this.selectionEnd &&
              this.selectionStart.getTime() <= e.getTime() &&
              e.getTime() <= this.selectionEnd.getTime()
            );
          }),
          (this.Fk = function (e) {
            for (var t = 0; t < o.months.length; t++) {
              var n = o.months[t];
              if (!n) return null;
              if (e.x < n.left) return null;
              if (
                !(n.left + n.width < e.x) &&
                n.top <= e.y &&
                e.y < n.top + n.height
              )
                return t;
            }
            return null;
          }),
          (this.Gk = function () {
            if (!l.gk()) return void (o.Hk = o.cellWidth);
            var e = o.months[0].cells[0][0],
              t = e.clientWidth;
            (o.Hk = t),
              o.months.forEach(function (e) {
                (e.width = e.div.clientWidth),
                  "Horizontal" === o.orientation && (e.left = e.div.offsetLeft),
                  e.cells.forEach(function (e, n) {
                    e.forEach(function (e) {
                      (e.width = t), (e.left = n * t);
                    });
                  });
              });
          }),
          (this.Ik = function (e) {
            o.Gk();
            var t = DayPilot.mo3(o.nav.top, e),
              n = o.Fk(t);
            if (null === n) return null;
            var i = o.months[n],
              a = this.titleHeight + this.dayHeaderHeight;
            if (i.top <= t.y && t.y < i.top + a)
              return { month: n, x: 0, y: 0, coords: t, header: !0 };
            for (var r = 0; r < i.cells.length; r++)
              for (var l = 0; l < i.cells[r].length; l++) {
                var s = i.cells[r][l],
                  d = s.top + i.top,
                  c = s.left + i.left;
                if (
                  c <= t.x &&
                  t.x < c + o.Hk &&
                  d <= t.y &&
                  t.y < d + o.cellHeight
                )
                  return { month: n, x: r, y: l, coords: t };
              }
            return null;
          }),
          (this.Jk = function (e) {
            if (o.freeHandSelectionEnabled) {
              var t = o.Ik(e);
              t && !t.header && (s.start = t), e.preventDefault();
            }
          }),
          (this.Kk = function (e) {
            if (s.start) {
              var t = o.Ik(e);
              if (s.end) s.end = t;
              else if (t) {
                var n = 3,
                  i = DayPilot.distance(s.start.coords, t.coords);
                i > n && (s.end = t);
              }
              s.end && (s.clear(), s.draw());
            }
          }),
          (s.start = null),
          (s.drawCell = function (e) {
            var t = o.months[e.month],
              n = o.tk(e.x, e.y),
              i = t.top + n.y,
              a = t.left + n.x,
              r = "px",
              d = o.nk();
            if (l.gk()) {
              var c = "Horizontal" === o.orientation ? o.showMonths : 1;
              (a = t.leftPct + n.x / c), (r = "%"), (d = o.nk(1 / c));
            }
            var u = document.createElement("div");
            (u.style.position = "absolute"),
              (u.style.left = a + r),
              (u.style.top = i + "px"),
              (u.style.height = o.cellHeight + "px"),
              (u.style.width = d),
              (u.style.backgroundColor = "#ccc"),
              (u.style.opacity = 0.5),
              (u.style.cursor = "default"),
              o.nav.preselection.appendChild(u),
              s.cells.push(u);
          }),
          (s.clear = function () {
            if (s.cells) {
              for (var e = 0; e < s.cells.length; e++)
                o.nav.preselection.removeChild(s.cells[e]);
              s.cells = [];
            }
          }),
          (s.draw = function () {
            var e = s.ordered(),
              t = new r(e.start),
              n = e.end;
            if (n) {
              if (n === s.end && n.header && n.month > 0) {
                n.month -= 1;
                var i = o.months[n.month];
                (n.x = 6), (n.y = i.rowCount - 1);
              }
              for (s.cells = []; !t.is(n); ) {
                t.visible() && s.drawCell(t);
                var a = new r(t).next();
                if (!a) return;
                (t.month = a.month), (t.x = a.x), (t.y = a.y);
              }
              t.visible() && s.drawCell(t);
            }
          }),
          (s.ordered = function () {
            var e = s.start,
              t = s.end,
              n = {};
            return (
              !t || new r(e).before(t)
                ? ((n.start = e), (n.end = t))
                : ((n.start = t), (n.end = e)),
              n
            );
          }),
          (this.uk = function (e) {
            var t = e.currentTarget,
              n = t.parentNode,
              i = t.parentNode.month,
              a = t.x,
              r = t.y,
              l = i.cells[a][r].day;
            if (i.cells[a][r].isClickable) {
              switch ((o.clearSelection(), (o.selectionDay = l), o.sk())) {
                case "none":
                  (o.selectionStart = l), (o.selectionEnd = l);
                  break;
                case "day":
                  if (o.autoFocusOnClick && (l < o.Bk() || l >= o.Ck()))
                    return void o.select(l);
                  var s = i.cells[a][r];
                  o.vk(n, a, r),
                    o.selected.push(s),
                    (o.selectionStart = s.day),
                    (o.selectionEnd = s.day);
                  break;
                case "week":
                  if (o.autoFocusOnClick) {
                    var d = i.cells[0][r].day,
                      c = i.cells[6][r].day;
                    if (
                      d.firstDayOfMonth() === c.firstDayOfMonth() &&
                      (d < o.Bk() || c >= o.Ck())
                    )
                      return void o.select(l);
                  }
                  for (var u = 0; u < 7; u++)
                    o.vk(n, u, r), o.selected.push(i.cells[u][r]);
                  (o.selectionStart = i.cells[0][r].day),
                    (o.selectionEnd = i.cells[6][r].day);
                  break;
                case "month":
                  if (o.autoFocusOnClick && (l < o.Bk() || l >= o.Ck()))
                    return void o.select(l);
                  for (var d = null, c = null, h = 0; h < 6; h++)
                    for (var f = 0; f < 7; f++) {
                      var s = i.cells[f][h];
                      s &&
                        s.day.getYear() === l.getYear() &&
                        s.day.getMonth() === l.getMonth() &&
                        (o.vk(n, f, h),
                        o.selected.push(s),
                        null === d && (d = s.day),
                        (c = s.day));
                    }
                  (o.selectionStart = d), (o.selectionEnd = c);
                  break;
                default:
                  throw "unknown selectMode";
              }
              o.yk(), o.Jc();
            }
          }),
          (this.Jc = function (e) {
            var t = o.selectionStart,
              n = o.selectionEnd.addDays(1),
              i = DayPilot.DateUtil.daysDiff(t, n),
              a = o.selectionDay;
            if (((e = e || {}), o.Kb())) {
              var r = {};
              if (
                ((r.start = t),
                (r.end = n),
                (r.day = a),
                (r.days = i),
                (r.mode = e.mode || o.selectMode),
                (r.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof o.onTimeRangeSelect &&
                  (o.onTimeRangeSelect(r), r.preventDefault.value))
              )
                return;
              switch (o.timeRangeSelectedHandling) {
                case "Bind":
                  var l = DayPilot.Util.evalVariable(o.bound);
                  if (l) {
                    var s = {};
                    (s.start = t),
                      (s.end = n),
                      (s.days = i),
                      (s.day = a),
                      l.commandCallBack(o.command, s);
                  }
                  break;
                case "None":
                  break;
                case "PostBack":
                  o.timeRangeSelectedPostBack(t, n, a);
              }
              "function" == typeof o.onTimeRangeSelected &&
                o.onTimeRangeSelected(r);
            } else
              switch (o.timeRangeSelectedHandling) {
                case "Bind":
                  var l = DayPilot.Util.evalVariable(o.bound);
                  if (l) {
                    var s = {};
                    (s.start = t),
                      (s.end = n),
                      (s.days = i),
                      (s.day = a),
                      l.commandCallBack(o.command, s);
                  }
                  break;
                case "JavaScript":
                  o.onTimeRangeSelected(t, n, a);
                  break;
                case "None":
                  break;
                case "PostBack":
                  o.timeRangeSelectedPostBack(t, n, a);
              }
          }),
          (this.timeRangeSelectedPostBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.day = i),
              this.Na("TimeRangeSelected", n, a);
          }),
          (this.pk = function () {
            o.Lk(o.skipMonths);
          }),
          (this.ok = function () {
            o.Lk(-o.skipMonths);
          }),
          (this.Lk = function (e) {
            (this.startDate = this.startDate.addMonths(e)),
              this.Bj(),
              this.fk(),
              this.Dk(),
              this.yk(),
              this.Ek(),
              this.xk();
          }),
          (this.Bk = function () {
            return o.startDate.firstDayOfMonth();
          }),
          (this.Ck = function () {
            return o.startDate.firstDayOfMonth().addMonths(this.showMonths);
          }),
          (this.visibleStart = function () {
            return o.startDate.firstDayOfMonth().firstDayOfWeek(l.weekStarts());
          }),
          (this.visibleEnd = function () {
            return o.startDate
              .firstDayOfMonth()
              .addMonths(this.showMonths - 1)
              .firstDayOfWeek(l.weekStarts())
              .addDays(42);
          }),
          (this.Ek = function () {
            var e = this.visibleStart(),
              t = this.visibleEnd();
            if (o.Kb()) {
              var n = {};
              if (
                ((n.start = e),
                (n.end = t),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof o.onVisibleRangeChange &&
                  (o.onVisibleRangeChange(n), n.preventDefault.value))
              )
                return;
              switch (this.visibleRangeChangedHandling) {
                case "CallBack":
                  this.visibleRangeChangedCallBack(null);
                  break;
                case "PostBack":
                  this.visibleRangeChangedPostBack(null);
                  break;
                case "Disabled":
              }
              "function" == typeof o.onVisibleRangeChanged &&
                o.onVisibleRangeChanged(n);
            } else
              switch (this.visibleRangeChangedHandling) {
                case "CallBack":
                  this.visibleRangeChangedCallBack(null);
                  break;
                case "PostBack":
                  this.visibleRangeChangedPostBack(null);
                  break;
                case "JavaScript":
                  this.onVisibleRangeChanged(e, t);
                  break;
                case "Disabled":
              }
          }),
          (this.visibleRangeChangedCallBack = function (e) {
            var t = {};
            this.Pa("Visible", e, t);
          }),
          (this.visibleRangeChangedPostBack = function (e) {
            var t = {};
            this.Na("Visible", e, t);
          }),
          (this.Ta = function (e) {
            var t = JSON.parse(e);
            (o.items = t.Items),
              (o.cells = t.Cells),
              o.cells ? o.update() : o.xk();
          }),
          (this.Dk = function () {
            this.showToday && "Top" === this.todayPosition && this.Mk();
            for (var e = 0; e < this.showMonths; e++) {
              var t = this.Nk(e);
              this.Cj(e, t);
            }
            this.showToday && "Bottom" === this.todayPosition && this.Mk(),
              (this.root.style.height = this.zh() + "px"),
              (this.nav.preselection = document.createElement("div")),
              (this.nav.preselection.style.position = "absolute"),
              (this.nav.preselection.style.left = "0px"),
              (this.nav.preselection.style.right = "0px"),
              (this.nav.preselection.style.top = "0px"),
              this.root.appendChild(this.nav.preselection);
          }),
          (this.Mk = function () {
            if (this.showToday) {
              var e = document.createElement("span");
              (e.className = this.ca("_todaysection_button")),
                this.todayHtml
                  ? (e.innerHTML = this.todayHtml)
                  : (e.innerText = this.todayText),
                (e.onclick = function () {
                  if ("function" == typeof o.onTodayClick) {
                    var e = {};
                    if (
                      ((e.preventDefault = function () {
                        this.preventDefault.value = !0;
                      }),
                      o.onTodayClick(e),
                      e.preventDefault.value)
                    )
                      return;
                  }
                  o.select(DayPilot.Date.today());
                });
              var t = document.createElement("div");
              (t.style.height = this.todayHeight + "px"),
                (t.className = this.ca("_todaysection")),
                t.appendChild(e),
                this.root.appendChild(t);
            }
          }),
          (this.zh = function () {
            var e = 0;
            if (
              (this.showToday && (e += this.todayHeight),
              "Horizontal" === this.orientation)
            ) {
              for (var t = 0; t < this.months.length; t++) {
                var n = this.months[t];
                n.height > e && (e = n.height);
              }
              return e;
            }
            for (var t = 0; t < this.months.length; t++) {
              var n = this.months[t];
              e += n.height;
            }
            return e;
          }),
          (this.Nk = function (e) {
            if (this.internal.showLinks) return this.internal.showLinks;
            var t = {};
            return (
              (t.left = 0 === e),
              (t.right = 0 === e),
              (t.before = 0 === e),
              (t.after = e === this.showMonths - 1),
              "Horizontal" === this.orientation &&
                (t.right = e === this.showMonths - 1),
              t
            );
          }),
          (this.kh = {}),
          (this.kh.scope = null),
          (this.kh.notify = function () {
            o.kh.scope && o.kh.scope["$apply"]();
          }),
          (this.W = {}),
          (this.W.reactDOM = null),
          (this.W.react = null),
          (this.W.V = function (e, t) {
            var n = o.W.reactDOM;
            if ("function" == typeof n.createRoot) {
              var i = t.ma;
              i || ((i = n.createRoot(t)), (t.ma = i)), i.render(e);
            } else n.render(e, t);
          }),
          (this.W.ka = function (e) {
            var t = o.W.reactDOM;
            if ("function" == typeof t.createRoot) {
              var n = e.ma;
              setTimeout(function () {
                n.unmount();
              }, 0);
            } else t.unmountComponentAtNode(e);
          }),
          (this.Y = {}),
          (this.Y.Ne = null),
          (this.Y.Z = function (e, t, n) {
            var i = o.Y.Ne;
            if (
              "function" == typeof i.createVNode &&
              "function" == typeof i.render
            ) {
              var a = i.createVNode(e, n);
              i.render(a, t);
            }
          }),
          (this.Y.Pe = function (e, t) {
            var n = o.Y.Ne;
            if ("function" == typeof n.render) {
              var i = e;
              DayPilot.isArray(e) && (i = n.h("div", null, e)), n.render(i, t);
            }
          }),
          (this.Y.la = function (e) {
            var t = o.Y.Ne;
            "function" == typeof t.render && t.render(null, e);
          }),
          (this.internal = {}),
          (this.internal.loadOptions = o.rh),
          (this.internal.initialized = function () {
            return o.za;
          }),
          (this.internal.enableVue = function (e) {
            o.Y.Ne = e;
          }),
          (this.internal.vueRef = function () {
            return o.Y.Ne;
          }),
          (this.internal.vueRendering = function () {
            return o.Y.Oe;
          }),
          (this.internal.upd = function (e) {
            o.qh(e);
          }),
          (l.locale = function () {
            return DayPilot.Locale.find(o.locale);
          }),
          (l.weekStarts = function () {
            if ("Auto" === o.weekStarts) {
              var e = l.locale();
              return e ? e.weekStarts : 0;
            }
            return o.weekStarts;
          }),
          (l.cellWidth = function () {
            if (o.va.cellWidth) return o.va.cellWidth;
            var e = o.uh("_cell_dimensions").width;
            return e || (e = o.cellWidth), (o.va.cellWidth = e), e;
          }),
          (l.gk = function () {
            return "Auto" === o.Ba.cellWidth();
          }),
          (this.clearSelection = function () {
            for (var e = 0; e < this.selected.length; e++) {
              var t = this.selected[e];
              o.wk(t.parentNode, t.x, t.y);
            }
            this.selected = [];
          }),
          (this.Gh = function () {
            return (
              !!this.backendUrl && ("undefined" == typeof o.items || !o.items)
            );
          }),
          (this.events = {}),
          (this.tb = function () {
            if (DayPilot.isArray(this.events.list)) {
              this.items = {};
              for (var e = 0; e < this.events.list.length; e++) {
                var t = this.events.list[e];
                if (!t.hidden) {
                  var n = this.Ok(t);
                  for (var i in n) this.items[i] = 1;
                }
              }
            }
          }),
          (this.uh = function (e) {
            var t = document.createElement("div");
            (t.style.position = "absolute"),
              (t.style.top = "-2000px"),
              (t.style.left = "-2000px"),
              (t.className = this.ca(e));
            var n = o.root || document.body;
            n.appendChild(t);
            var i = t.offsetHeight,
              a = t.offsetWidth;
            n.removeChild(t);
            var r = {};
            return (r.height = i), (r.width = a), r;
          }),
          (this.Ok = function (e) {
            for (
              var t = new DayPilot.Date(e.start),
                n = new DayPilot.Date(e.end),
                i = {},
                a = t.getDatePart();
              a.getTime() <= n.getTime();

            )
              (i[a.toStringSortable()] = 1), (a = a.addDays(1));
            return i;
          }),
          (this.show = function () {
            (o.visible = !0), (o.root.style.display = "");
          }),
          (this.hide = function () {
            (o.visible = !1), (o.root.style.display = "none");
          }),
          (this.Hh = function () {
            if (this.id && this.id.tagName) this.nav.top = this.id;
            else {
              if ("string" != typeof this.id)
                throw "DayPilot.Navigator() constructor requires the target element or its ID as a parameter";
              if (
                ((this.nav.top = document.getElementById(this.id)),
                !this.nav.top)
              )
                throw (
                  "DayPilot.Navigator: The placeholder element not found: '" +
                  i +
                  "'."
                );
            }
            this.root = this.nav.top;
          }),
          (this.init = function () {
            if ((this.Hh(), !this.root.dp)) {
              this.zk(),
                this.fk(),
                this.Dk(),
                this.tb(),
                this.xk(),
                this.eb(),
                this.Pk(),
                this.Eg();
              if (
                (this.Gh() && this.Ek(), (this.za = !0), this.Kh(), this.Ak)
              ) {
                var e = this.Ak;
                this.select(e.date1, e.date2, e.options), (this.Ak = null);
              }
              return this;
            }
          }),
          (this.Pk = function () {
            (o.nav.top.onmousedown = this.Jk),
              (o.nav.top.onmousemove = this.Kk);
          }),
          (this.Eg = function () {
            DayPilot.re(document, "mouseup", o.Hg);
          }),
          (this.Hg = function (e) {
            if (s.start && s.end) {
              var t = DayPilot.mo3(o.nav.top, e);
              if (t.x === s.start.coords.x && t.y === s.start.coords.y)
                return (s.start = null), void s.clear();
              s.clear();
              var n = s.ordered();
              (n.start = new r(n.start).nextVisible()),
                (n.end = new r(n.end).previousVisible()),
                (o.selectionDay = new r(n.start).date()),
                (o.selectionStart = o.selectionDay),
                (o.selectionEnd = new r(n.end).date()),
                (s.start = null),
                (s.end = null),
                o.Bj(),
                o.fk(),
                o.Dk(),
                o.xk(),
                o.yk();
              o.Jc({ mode: "FreeHand" });
            }
            (s.start = null), (s.end = null);
          }),
          (this.dispose = function () {
            var e = o;
            e.root &&
              (e.root.removeAttribute("style"),
              e.root.removeAttribute("class"),
              (e.root.dp = null),
              (e.root.innerHTML = null),
              (e.root = null),
              (e.Aa = !0));
          }),
          (this.disposed = function () {
            return this.Aa;
          }),
          (this.eb = function () {
            this.root.dispose = this.dispose;
          }),
          (this.Init = this.init),
          this.rh(a);
      }),
        "undefined" != typeof jQuery &&
          !(function (e) {
            e.fn.daypilotNavigator = function (e) {
              var t = null,
                n = this.each(function () {
                  if (!this.daypilot) {
                    var n = new DayPilot.Navigator(this.id);
                    this.daypilot = n;
                    for (var i in e) n[i] = e[i];
                    n.Init(), t || (t = n);
                  }
                });
              return 1 === this.length ? t : n;
            };
          })(jQuery),
        (function () {
          var e = DayPilot.am();
          e &&
            e.directive("daypilotNavigator", [
              "$parse",
              function (e) {
                return {
                  restrict: "E",
                  template: "<div id='{{id}}'></div>",
                  compile: function (t, n) {
                    return (
                      t.replaceWith(
                        this["template"].replace("{{id}}", n["id"])
                      ),
                      function (t, n, i) {
                        var a = new DayPilot.Navigator(n[0]);
                        (a.kh.scope = t), a.init();
                        var r = i["id"];
                        r && (t[r] = a);
                        var o = i["publishAs"];
                        if (o) {
                          (0, e(o).assign)(t, a);
                        }
                        for (var l in i)
                          if (0 === l.indexOf("on")) {
                            var s = DayPilot.Util.shouldApply(l);
                            s
                              ? !(function (n) {
                                  a[n] = function (a) {
                                    var r = e(i[n]);
                                    t["$apply"](function () {
                                      r(t, { args: a });
                                    });
                                  };
                                })(l)
                              : !(function (n) {
                                  a[n] = function (a) {
                                    e(i[n])(t, { args: a });
                                  };
                                })(l);
                          }
                        var d = t["$watch"],
                          c = i["config"] || i["daypilotConfig"],
                          u = i["events"] || i["daypilotEvents"];
                        d.call(
                          t,
                          c,
                          function (e) {
                            for (var t in e) a[t] = e[t];
                            a.update();
                          },
                          !0
                        ),
                          d.call(
                            t,
                            u,
                            function (e) {
                              (a.events.list = e), a.tb(), a.xk();
                            },
                            !0
                          );
                      }
                    );
                  },
                };
              },
            ]);
        })(),
        (DayPilot.Navigator.def = {}),
        "undefined" != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(DayPilot),
  (function (DayPilot) {
    ("undefined" != typeof DayPilot.Queue && DayPilot.Queue.def) ||
      ((DayPilot.Queue = function (e, t) {
        this.v = "2025.3.6631";
        var n = this;
        (this.id = e),
          "function" == typeof DayPilot.Bubble
            ? (this.bubble = new DayPilot.Bubble())
            : (this.bubble = null),
          (this.contextMenu = null),
          (this.eventBarVisible = !0),
          (this.eventBorderRadius = null),
          (this.eventHeight = 35),
          (this.eventTextWrappingEnabled = !1),
          (this.lineSpace = 5),
          (this.theme = null),
          (this.emptyText = ""),
          (this.emptyHtml = null),
          (this.eventClickHandling = "Enabled"),
          (this.eventHoverHandling = "Bubble"),
          (this.eventRightClickHanding = "ContextMenu"),
          (this.eventSelectHandling = "Update"),
          (this.onBeforeEventRender = null),
          (this.onEventClick = null),
          (this.onEventClicked = null),
          (this.onEventRightClick = null),
          (this.onEventRightClicked = null),
          (this.onEventMove = null),
          (this.onEventMoving = null),
          (this.onEventSelect = null),
          (this.onEventSelected = null),
          (this.za = !1),
          (this.Qk = "queue_default"),
          (this.Rk = []),
          (this.Sk = !1),
          (this.Tk = !1),
          (this.nav = {}),
          (this.events = {}),
          (this.events.list = []),
          (this.elements = {}),
          (this.elements.events = []);
        var i = function () {
          return document.createElement("div");
        };
        (this.Hh = function () {
          if (this.id && this.id.tagName) this.nav.top = this.id;
          else {
            if ("string" != typeof this.id)
              throw new DayPilot.Exception(
                "DayPilot.Queue() constructor requires the target element or its ID as a parameter"
              );
            if (
              ((this.nav.top = document.getElementById(this.id)), !this.nav.top)
            )
              throw new DayPilot.Exception(
                "DayPilot.Queue: The placeholder element not found: '" +
                  e +
                  "'."
              );
          }
        }),
          (this.ca = function (e) {
            var t = this.theme || this.Qk;
            return t ? t + e : "";
          }),
          (this.Od = function () {
            (n.nav.container.innerHTML = ""),
              (n.Uk = null),
              n.uj(),
              n.tb(),
              n.Fb(),
              n.Vk();
          }),
          (this.uj = function () {
            var e = n.nav.top;
            (e.className = n.Wk), DayPilot.Util.addClass(e, n.ca("_main"));
          }),
          (this.tb = function () {
            var e = {},
              t = n.events.list || [];
            n.Rk = [];
            for (var i = 0; i < t.length; i++) {
              var a = t[i];
              if (!("string" == typeof a.id || "number" == typeof a.id))
                throw new DayPilot.Exception(
                  "All events must have an id property (string or number)"
                );
              var r = typeof a.id + "_" + a.id;
              if (e[r])
                throw new DayPilot.Exception(
                  "Duplicate IDs not allowed: '" + r + "'"
                );
              e[r] = !0;
              var o = DayPilot.Util.copyProps(a);
              n.Kg(o);
              var l = {};
              (l.data = a), (l.cache = o), n.Rk.push(l);
            }
          }),
          (this.Ia = {}),
          (this.Ia.Oc = []),
          (this.Ia.Rk = []);
        var a = n.Ia;
        (this.Ia.L = function (e) {
          var t = e.event;
          a.Xk(), a.Yk(e), (a.Oc[0] = t);
        }),
          (this.Ia.Yk = function (e) {
            a.Rk[0] = e;
            var t = n.ca("_selected");
            DayPilot.Util.addClass(e, t);
          }),
          (this.Ia.Zk = function (e) {
            a.Rk = [];
            var t = n.ca("_selected");
            DayPilot.Util.removeClass(e, t);
          }),
          (this.Ia.Dd = function (e) {
            return n.Ia.Rk.find(function (t) {
              return t.event.data.id === e;
            });
          }),
          (this.Ia.Xk = function () {
            var e = a.Rk[0];
            e && a.Zk(e), (a.Oc = []);
          }),
          (this.Kg = function (e) {
            var t = {};
            (t.data = e),
              "function" == typeof n.onBeforeEventRender &&
                n.onBeforeEventRender(t);
          }),
          (this.Vk = function () {
            if (0 === n.events.list.length) {
              var e = n.nav.container,
                t = i();
              n.emptyHtml
                ? (t.innerHTML = n.emptyHtml)
                : (t.innerText = n.emptyText),
                e.appendChild(t);
            }
          }),
          (this.Fb = function () {
            var e = n.Rk;
            (n.elements.events = []),
              e.forEach(function (e) {
                n.Ue(e);
              });
          }),
          (this.Ue = function (e) {
            var t = e.cache,
              a = e.data,
              r = t.borderRadius || n.eventBorderRadius;
            "number" == typeof r && (r += "px");
            var o = n.nav.container,
              l = i();
            (l.className = n.ca("_event")),
              (l.style.height = n.eventHeight + "px"),
              (l.style.boxSizing = "border-box"),
              (l.style.overflow = "hidden"),
              (l.style.marginTop = n.lineSpace + "px"),
              (l.style.position = "relative"),
              n.eventTextWrappingEnabled || (l.style.whiteSpace = "nowrap"),
              l.addEventListener("click", n.Pj),
              l.addEventListener("contextmenu", n.$k),
              n.Ia.Dd(a.id) && n.Ia.Yk(l);
            var s = i();
            if (
              ((s.className = n.ca("_event_inner")),
              "string" == typeof t.html
                ? (s.innerHTML = t.html)
                : (s.innerText = t.text),
              r && ((l.style.borderRadius = r), (s.style.borderRadius = r)),
              t.cssClass && DayPilot.Util.addClass(l, t.cssClass),
              t.backColor && (s.style.background = t.backColor),
              t.fontColor && (s.style.color = t.fontColor),
              "darker" === t.borderColor && t.backColor
                ? (s.style.borderColor = DayPilot.ColorUtil.darker(
                    t.backColor,
                    2
                  ))
                : (s.style.borderColor = t.borderColor),
              t.backImage &&
                ((s.style.backgroundImage = "url(" + t.backImage + ")"),
                t.backRepeat && (s.style.backgroundRepeat = t.backRepeat)),
              l.appendChild(s),
              (l.onmousemove = this.Ve),
              (l.onmouseleave = this.Ze),
              n.eventBarVisible && !t.barHidden)
            ) {
              var d = i();
              (d.className = n.ca("_event_bar")),
                (d.style.position = "absolute"),
                t.barColor && (d.style.backgroundColor = t.barColor),
                l.appendChild(d);
            }
            var c = {
                eventDiv: l,
                areas: t.areas,
                allowed: function () {
                  return !(n.Sk || n.Tk);
                },
              },
              u = new DayPilot.Event(a, n);
            (u.cache = t),
              (l.event = u),
              DayPilot.Areas.attach(l, u, c),
              n._k(l, a),
              o.appendChild(l),
              n.elements.events.push(l);
          }),
          (this.Ve = function () {
            "undefined" != typeof DayPilot.Bubble &&
              n.bubble &&
              "Bubble" === n.eventHoverHandling &&
              n.bubble.showEvent(this.event);
          }),
          (this.Ze = function () {
            n.bubble && n.bubble.hideOnMouseOut();
          }),
          (this.$k = function (e) {
            if (
              (e.preventDefault(), "Disabled" !== n.eventRightClickHandling)
            ) {
              var t = e.currentTarget,
                i = t.event,
                a = {};
              if (
                ((a.e = t.event),
                (a.preventDefault = function () {
                  a.preventDefault.value = !0;
                }),
                "function" == typeof n.onEventRightClick &&
                  n.onEventRightClick(a),
                !a.preventDefault.value)
              ) {
                switch (n.eventRightClickHanding) {
                  case "Enabled":
                    break;
                  case "ContextMenu":
                    var r = i.client.contextMenu();
                    r ? r.show(i) : n.contextMenu && n.contextMenu.show(i);
                }
                "function" == typeof n.onEventRightClicked &&
                  n.onEventRightClicked(a);
              }
            }
          }),
          (this.Pj = function (e) {
            if (
              (e.preventDefault(),
              e.stopPropagation(),
              "undefined" != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              "Disabled" !== n.eventClickHandling)
            ) {
              var t = e.currentTarget,
                i = t.event,
                a = {};
              if (
                ((a.e = i),
                (a.preventDefault = function () {
                  a.preventDefault.value = !0;
                }),
                "function" == typeof n.onEventClick && n.onEventClick(a),
                !a.preventDefault.value)
              ) {
                switch (n.eventClickHandling) {
                  case "Select":
                    n.Nc(t, i);
                    break;
                  case "Enabled":
                }
                "function" == typeof n.onEventClicked && n.onEventClicked(a);
              }
            }
          }),
          (this.Nc = function (e, t) {
            var i = {};
            if (
              ((i.e = t),
              (i.preventDefault = function () {
                this.preventDefault.value = !0;
              }),
              "function" != typeof n.onEventSelect ||
                (n.onEventSelect(i), !i.preventDefault.value))
            ) {
              switch (n.eventSelectHandling) {
                case "Update":
                  n.Ia.L(e);
              }
              "function" == typeof n.onEventSelected && n.onEventSelected(i);
            }
          }),
          (this.al = function (e, t) {
            var i = n.bl,
              a = {},
              r = function () {
                (a.loaded = function () {}),
                  a.preventDefault.value ||
                    (n.events.list.splice(i, 0, e), n.Od(), n.cl(a));
              };
            (a.async = !1),
              (a.e = new DayPilot.Event(e, n)),
              (a.position = i),
              (a.source = t),
              (a.external = !0),
              (a.control = n),
              (a.preventDefault = function () {
                a.preventDefault.value = !0;
              }),
              (a.loaded = function () {
                r();
              }),
              n.dl(a),
              a.async || r();
          }),
          (this.el = function (e) {
            var t = n.bl,
              i = n.events.list.indexOf(e),
              a = !1;
            n.Sk && i < t && ((t -= 1), (a = !0));
            var r = {},
              o = function () {
                (r.loaded = function () {}),
                  r.preventDefault.value ||
                    (n.fl(n.events.list, i, t), n.Od(), n.cl(r));
              };
            (r.async = !1),
              (r.e = new DayPilot.Event(e, n)),
              (r.position = t + (a ? 1 : 0)),
              (r.source = n),
              (r.external = !1),
              (r.preventDefault = function () {
                r.preventDefault.value = !0;
              }),
              (r.loaded = function () {
                o();
              }),
              n.dl(r),
              r.async || o();
          }),
          (this.dl = function (e) {
            "function" == typeof n.onEventMove && n.onEventMove(e);
          }),
          (this.cl = function (e) {
            "function" == typeof n.onEventMoved && n.onEventMoved(e);
          }),
          (this.fl = function (e, t, n) {
            var i = e[t];
            e.splice(t, 1), e.splice(n, 0, i);
          }),
          (this.gl = function () {
            var e = function () {};
            "undefined" != typeof DayPilot.Scheduler
              ? (e = DayPilot.Scheduler.registerDropTarget)
              : "undefined" != typeof DayPilot.Calendar &&
                (e = DayPilot.Calendar.registerDropTarget),
              e({
                element: n.nav.top,
                onDrop: function (e) {
                  n.Tk = !1;
                  var t = e.e,
                    i = t.data,
                    a = e.e.calendar;
                  n.al(i, a);
                },
                onDragOver: function () {
                  n.Tk = !0;
                },
                onDragLeave: function () {
                  n.Tk = !1;
                },
              });
          }),
          (this.Uk = null),
          (this.hl = function (e) {
            n.bl = e;
            var t = n.Uk || i(),
              a = n.nav.container,
              r = n.eventHeight + n.lineSpace,
              o = n.lineSpace / 2 + 1,
              l = e * r - o;
            (t.style.top = l + "px"),
              n.Uk ||
                ((t.className = n.ca("_shadow")),
                (t.style.position = "absolute"),
                (t.style.left = "0px"),
                (t.style.right = "0px"),
                (t.style.height = "2px"),
                (n.Uk = t),
                a.appendChild(t));
          }),
          (this.il = function () {
            (n.bl = null), DayPilot.de(n.Uk), (n.Uk = null);
          }),
          (this.Ei = null),
          (this.bl = null),
          (this.jl = function (e) {
            var t = n.nav.container,
              i = DayPilot.mo3(t, e);
            if (((n.Ei = i), n.Sk || n.Tk)) {
              var a = n.eventHeight + n.lineSpace,
                r = Math.floor((i.y + n.eventHeight / 2) / a);
              r < 0 && (r = 0), r > n.Rk.length && (r = n.Rk.length), n.hl(r);
            }
          }),
          (this.kl = function () {
            n.il();
          }),
          (this.ll = function () {
            if (n.Sk) {
              var e = n.ml;
              n.el(e), (n.ml = null);
            }
          }),
          (this.nl = function () {
            var e = i();
            n.nav.container = e;
            var t = n.nav.top;
            (n.Wk = t.className || ""),
              (e.style.position = "relative"),
              (t.onmousemove = n.jl),
              (t.onmouseleave = n.kl),
              (t.onmouseup = n.ll),
              t.appendChild(e);
          }),
          (this._k = function (e, t) {
            var i = e,
              a = {
                element: i,
                data: t,
                keepElement: !0,
                externalCssClass: "",
                externalHtml: "",
                onDragStart: function () {
                  (n.Sk = !0), (n.ml = t), (i.style.opacity = "0.5");
                },
                onDrop: function () {
                  (n.Sk = !1), (i.style.opacity = "");
                },
              },
              r = function () {};
            "undefined" != typeof DayPilot.Scheduler
              ? (r = DayPilot.Scheduler.makeDraggable)
              : "undefined" != typeof DayPilot.Calendar &&
                (r = DayPilot.Calendar.makeDraggable),
              r(a);
          }),
          (this.rh = function (e) {
            if (e) {
              var t = {
                events: {
                  preInit: function () {
                    var e = this.data;
                    e && (n.events.list = e);
                  },
                },
              };
              for (var i in e)
                if (t[i]) {
                  var a = t[i];
                  (a.data = e[i]), a.preInit && a.preInit();
                } else n[i] = e[i];
            }
          }),
          (this.W = {}),
          (this.W.reactDOM = null),
          (this.W.react = null),
          (this.W.V = function (e, t) {
            var i = n.W.reactDOM;
            if ("function" == typeof i.createRoot) {
              var a = t.ma;
              a || ((a = i.createRoot(t)), (t.ma = a)), a.render(e);
            } else i.render(e, t);
          }),
          (this.W.ka = function (e) {
            var t = n.W.reactDOM;
            if ("function" == typeof t.createRoot) {
              var i = e.ma;
              setTimeout(function () {
                i.unmount();
              }, 0);
            } else t.unmountComponentAtNode(e);
          }),
          (this.jh = function (e) {
            if (!e) return null;
            for (var t = 0; t < n.elements.events.length; t++) {
              var i = n.elements.events[t];
              if (DayPilot.Util.isSameEvent(i.event, e)) return i;
            }
            return null;
          }),
          (this.multiselect = {}),
          (this.multiselect.add = function (e) {
            ("number" != typeof e && "string" != typeof e) ||
              (e = n.events.find(e)),
              e instanceof DayPilot.Event && (e = e.data);
            var t = n.jh(e);
            t && n.Ia.L(t);
          }),
          (this.multiselect.clear = function () {
            n.Ia.Xk();
          }),
          (this.multiselect.get = function () {
            var e = [],
              t = a.Oc[0];
            if (t) {
              var n = t.event;
              e.push(n);
            }
            return e;
          }),
          (this.events.add = function (e) {
            e instanceof DayPilot.Event && (e = e.data),
              n.events.list.push(e),
              n.Od();
          }),
          (this.events.remove = function (e) {
            if (e) {
              ("number" != typeof e && "string" != typeof e) ||
                (e = n.events.find(e)),
                e instanceof DayPilot.Event && (e = e.data);
              var t = n.lh(e);
              t && n.events.list.splice(t.index, 1),
                n.Ia.Dd(e.id) && n.multiselect.clear(),
                n.Od();
            }
          }),
          (this.events.update = function (e) {
            if (
              (e instanceof DayPilot.Event && (e = e.data), n.events.find(e.id))
            ) {
              var t = n.lh(e);
              t && n.events.list.splice(t.index, 1, e), n.Od();
            }
          }),
          (this.events.find = function (e) {
            var t = n.events.list.find(function (t) {
              return t.id === e;
            });
            return t ? new DayPilot.Event(t, n) : null;
          }),
          (this.lh = function (e) {
            if (!n.events.list) return null;
            for (var t = 0; t < this.events.list.length; t++) {
              var i = this.events.list[t];
              if (n.Ld(i, e)) {
                var a = {};
                return (a.ex = i), (a.index = t), (a.modified = !n.mh(e, i)), a;
              }
            }
            return null;
          }),
          (this.Ld = function (e, t) {
            return DayPilot.Util.isSameEvent(e, t);
          }),
          (this.mh = function (e, t) {
            for (var n in e)
              if (
                ("object" != typeof e[n] || e[n] instanceof DayPilot.Date) &&
                e[n] !== t[n]
              )
                return !1;
            for (var i in t)
              if ("object" != typeof t[i] && e[i] !== t[i]) return !1;
            return !0;
          }),
          (this.init = function () {
            if (this.za)
              throw new DayPilot.Exception(
                "This instance is already initialized. Use update() to change properties."
              );
            if ((this.Hh(), this.nav.top.dp)) {
              if (this.nav.top.dp === n) return n;
              throw new DayPilot.Exception(
                "The target placeholder was already initialized by another DayPilot component instance."
              );
            }
            return this.gl(), this.nl(), this.Od(), (this.za = !0), this;
          }),
          (this.update = function (e) {
            if (!n.za)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Queue object that hasn't been initialized."
              );
            if (n.Aa)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Queue object that has been disposed already. Calling .dispose() destroys the object and makes it unusable."
              );
            n.rh(e), n.Od();
          }),
          (this.dispose = function () {
            var e = n.nav.top,
              t = function () {};
            "undefined" != typeof DayPilot.Scheduler
              ? (t = DayPilot.Scheduler.unregisterDropTarget)
              : "undefined" != typeof DayPilot.Calendar &&
                (t = DayPilot.Calendar.unregisterDropTarget),
              t({ element: e }),
              (e.innerHTML = ""),
              (n.Aa = !0);
          }),
          (this.disposed = function () {
            return this.Aa;
          }),
          (this.Y = {}),
          (this.Y.Ne = null),
          (this.Y.Z = function (e, t, i) {
            var a = n.Y.Ne;
            if (
              "function" == typeof a.createVNode &&
              "function" == typeof a.render
            ) {
              var r = a.createVNode(e, i);
              a.render(r, t);
            }
          }),
          (this.Y.Pe = function (e, t) {
            var i = n.Y.Ne;
            if ("function" == typeof i.render) {
              var a = e;
              DayPilot.isArray(e) && (a = i.h("div", null, e)), i.render(a, t);
            }
          }),
          (this.Y.la = function (e) {
            var t = n.Y.Ne;
            "function" == typeof t.render && t.render(null, e);
          }),
          (this.internal = {}),
          (this.internal.loadOptions = function (e) {
            n.rh(e);
          }),
          (this.internal.enableReact = function (e, t) {
            (n.W.react = e), (n.W.reactDOM = t);
          }),
          (this.internal.reactRefs = function () {
            return DayPilot.Util.copyProps(n.W, {}, ["react", "reactDOM"]);
          }),
          (this.internal.findEventDiv = this.jh),
          (this.internal.enableVue = function (e) {
            n.Y.Ne = e;
          }),
          (this.internal.vueRef = function () {
            return n.Y.Ne;
          }),
          (this.internal.vueRendering = function () {
            return n.Y.Oe;
          }),
          this.rh(t);
      }),
      (DayPilot.Queue.def = {}));
  })(DayPilot),
  (function (DayPilot) {
    function e(e) {
      for (
        var t = e.touches[0].clientX,
          n = e.touches[0].clientY,
          i = document.elementFromPoint(t, n);
        i && i.parentNode;

      )
        if (((i = i.parentNode), i.daypilotMainD)) return i.calendar;
      return !1;
    }
    function t(e) {
      var t = e.touches[0].pageX,
        n = e.touches[0].pageY,
        i = {};
      return (i.x = t), (i.y = n), i;
    }
    if ("undefined" == typeof DayPilot.Scheduler || !DayPilot.Scheduler.def) {
      var n = {},
        i = function () {},
        a = !1,
        r = function () {
          return document.body;
        },
        o = function () {
          return document.createElement("div");
        },
        l = DayPilot.Util.overlaps,
        s = DayPilot.Util.removeClass,
        d = DayPilot.Util.addClass,
        c = DayPilot.Util.div,
        u = DayPilot.Util.atLeast,
        h = DayPilot.Util.isNullOrUndefined,
        f = DayPilot.Util.copyProps,
        v = DayPilot.Util.isReactComponent,
        p = DayPilot.Util.isVueComponent,
        m = DayPilot.Util.isVueVNode,
        g = DayPilot.Util.mouseButton,
        b = DayPilot.Global,
        y = DayPilot.list,
        w = DayPilot.contains,
        x = DayPilot.de,
        k = DayPilot.indexOf,
        C = DayPilot.isArray,
        _ = {},
        T = {};
      (DayPilot.Scheduler = function (e, a) {
        function S(e) {
          (e.div.style.height = e.height + "px"),
            (e.div.style.top = e.top + "px"),
            E.Au(e.div, e.enabled()),
            (e.divHeader.style.height = e.heightRes + "px"),
            (e.divHeader.style.top = e.top + "px"),
            E.Au(e.divHeader, e.enabled()),
            e.divSpace && (e.divSpace.style.top = e.height + "px");
        }
        function D(e, t) {
          return 1 - e / t;
        }
        this.v = "2025.3.6631";
        var E = this;
        (this.id = e),
          (this.isScheduler = !0),
          (this.allowDefaultContextMenu = !1),
          (this.allowEventOverlap = !0),
          (this.allowMultiMove = !1),
          (this.allowMultiRange = !1),
          (this.allowMultiResize = !1),
          (this.allowMultiSelect = !0),
          (this.api = 2),
          (this.autoRefreshCommand = "refresh"),
          (this.autoRefreshEnabled = !1),
          (this.autoRefreshInterval = 60),
          (this.autoRefreshMaxCount = 20),
          (this.autoScroll = "Drag"),
          (this.autoScrollDelay = 100),
          (this.autoScrollHorizontal = !0),
          (this.autoScrollRectangleSelection = !0),
          (this.autoScrollSpeed = 50),
          (this.autoScrollVertical = !0),
          (this.blockOnCallBack = !1),
          (this.navigatorBackSync = null),
          (this.backendUrl = null),
          (this.beforeCellRenderCaching = !0),
          (this.businessBeginsHour = 9),
          (this.businessEndsHour = 18),
          (this.businessWeekends = !1),
          (this.cellDuration = 60),
          (this.cellGroupBy = "Day"),
          (this.cellSweeping = !0),
          (this.cellSweepingCacheSize = 1e3),
          (this.cellWidth = 40),
          (this.cellWidthMin = 1),
          (this.cellWidthSpec = "Fixed"),
          (this.cellsMarkBusiness = !0),
          (this.cornerText = ""),
          (this.cornerHtml = null),
          (this.crosshairTimeHeaderLevel = "Last"),
          (this.crosshairType = "Header"),
          (this.cssClass = null),
          (this.cssClassPrefix = "scheduler_default"),
          (this.days = 1),
          (this.doubleClickTimeout = 300),
          (this.dragOutAllowed = !1),
          (this.drawBlankCells = !0),
          (this.durationBarHeight = null),
          (this.durationBarVisible = !0),
          (this.durationBarMode = "Duration"),
          (this.dynamicEventRendering = "Progressive"),
          (this.dynamicEventRenderingMargin = 50),
          (this.dynamicEventRenderingMarginX = null),
          (this.dynamicEventRenderingMarginY = null),
          (this.dynamicEventRenderingCacheSweeping = !1),
          (this.dynamicEventRenderingCacheSize = 200),
          (this.dynamicLoading = !1),
          (this.eventBorderRadius = null),
          (this.eventBubbleShowForMargins = !1),
          (this.eventEditMinWidth = 100),
          (this.eventEditTabNext = !1),
          (this.eventEndSpec = "DateTime"),
          (this.eventHeight = 35),
          (this.eventHtmlLeftMargin = 10),
          (this.eventHtmlRightMargin = 10),
          (this.eventMarginLeft = 0),
          (this.eventMarginRight = 0),
          (this.eventMarginBottom = 0),
          (this.eventMinWidth = 1),
          (this.eventMoveMargin = 5),
          (this.eventMoveToPosition = !1),
          (this.eventMoveSkipNonBusiness = !1),
          (this.eventPadding = null),
          (this.eventResizeMargin = 5),
          (this.eventStackingLineHeight = 100),
          (this.eventTapAndHoldHandling = "Move"),
          (this.eventTextWrappingEnabled = !1),
          (this.eventUpdateInplaceOptimization = !1),
          (this.eventsLoadMethod = "GET"),
          (this.eventVersionHeight = 25),
          (this.eventVersionMargin = 2),
          (this.eventVersionPosition = "Above"),
          (this.eventVersionsEnabled = !1),
          (this.eventVersionsReserveSpace = !1),
          (this.floatingEvents = !DayPilot.browser.ios),
          (this.floatingTimeHeaders = !0),
          (this.groupConcurrentEvents = !1),
          (this.groupConcurrentEventsLimit = 1),
          (this.headerHeight = 30),
          (this.heightSpec = "Max"),
          (this.height = 600),
          (this.hideBorderFor100PctHeight = !1),
          (this.hideUntilInit = !0),
          (this.infiniteScrollingEnabled = !1),
          (this.infiniteScrollingMargin = 50),
          (this.infiniteScrollingStepDays = 30),
          (this.initEventEnabled = !0),
          (this.jointEventsResize = !0),
          (this.jointEventsMove = !0),
          (this.keyboardEnabled = !1),
          (this.keyboardTarget = "document"),
          (this.layout = "Auto"),
          (this.linkCreateHandling = "Disabled"),
          (this.linkBottomMargin = 17),
          (this.linkDotSize = 8),
          (this.linkLayer = "Above"),
          (this.linkPointSize = 10),
          (this.linkShape = "Curved"),
          (this.linksLoadMethod = "GET"),
          (this.linkWidth = "Auto"),
          (this.locale = "en-us"),
          (this.loadingLabelText = "Loading..."),
          (this.loadingLabelHtml = null),
          (this.loadingLabelVisible = !0),
          (this.overrideWheelScrolling = !1),
          (this.messageBarPosition = "Top"),
          (this.messageHideAfter = 5e3),
          (this.messageHideOnMouseOut = !0),
          (this.multiRangeMode = "CtrlOrMeta"),
          (this.multiMoveVerticalMode = "Disabled"),
          (this.moveBy = "Full"),
          (this.notifyCommit = "Immediate"),
          (this.progressiveRowRendering = !0),
          (this.progressiveRowRenderingPreload = 25),
          (this.rectangleSelectMode = "Free"),
          (this.rectangleSelectHandling = "Disabled"),
          (this.rowCreateHeight = null),
          (this.rowCreateHtml = null),
          (this.rowCreateText = "New row..."),
          (this.rowDragHandleWidth = 10),
          (this.rowEmptyHeight = null),
          (this.rowFilterParentsAlwaysVisible = !0),
          (this.rowHeaderColumnDefaultWidth = 80),
          (this.rowHeaderColumnHeaderHeight = null),
          (this.rowHeaderColumnsResizable = !0),
          (this.rowHeaderColumnsMode = "Tabular"),
          (this.rowHeaderColumns = null),
          (this.rowHeaderColumnsMergeParents = !0),
          (this.rowHeaderHideIconEnabled = !1),
          (this.rowHeaderScrolling = !1),
          (this.rowHeaderSplitterWidth = 3),
          (this.rowHeaderWidthAutoFit = !0),
          (this.rowHeaderWidthAutoFitShrink = !1),
          (this.rowHeaderWidthMarginRight = 0),
          (this.rowHeaderWidthMin = 20),
          (this.rowHeaderWidth = 80),
          (this.rowMarginBottom = 0),
          (this.rowMarginTop = 0),
          (this.rowMinHeight = 0),
          (this.rowReverseLines = !1),
          (this.rowsLoadMethod = "GET"),
          (this.rowSortingMode = "LeavesOnly"),
          (this.scale = "CellDuration"),
          (this.scaleManualLimitBeyond = !0),
          (this.scrollDelayDynamic = 500),
          (this.scrollDelayEvents = 200),
          (this.scrollDelayCells = DayPilot.browser.ios ? 100 : 0),
          (this.scrollDelayFloats = 0),
          (this.scrollDelayRows = 0),
          (this.scrollStep = null),
          (this.scrollX = 0),
          (this.scrollY = 0),
          (this.selectedRows = []),
          (this.separators = []),
          (this.showCurrentTimeHeader = !1),
          (this.showNonBusiness = !0),
          (this.showNonBusinessForceHours = !1),
          (this.showToolTip = !0),
          (this.snapToGrid = !0),
          (this.snapToGridTimeRangeSelecting = !0),
          (this.snapToGridEventMoving = !0),
          (this.snapToGridEventResizing = !0),
          (this.startDate = DayPilot.Date.today()),
          (this.syncResourceTree = !1),
          (this.tapAndHoldTimeout = 300),
          (this.timeHeaders = [{ groupBy: "Default" }, { groupBy: "Cell" }]),
          (this.timeHeaderPosition = "Top"),
          (this.timeHeaderTextWrappingEnabled = !1),
          (this.treeAnimation = !0),
          (this.treeAutoExpand = !0),
          (this.treeEnabled = !1),
          (this.treeIndent = 20),
          (this.treeImageMarginLeft = 0),
          (this.treeImageMarginTop = 3),
          (this.treeImageMarginRight = 5),
          (this.treeImageWidth = 10),
          (this.treeImageHeight = 10),
          (this.treePreventParentUsage = !1),
          (this.timeFormat = "Auto"),
          (this.timeline = null),
          (this.useEventBoxes = "Always"),
          (this.viewType = "Resources"),
          (this.visible = !0),
          (this.watchWidthChanges = !0),
          (this.weekStarts = "Auto"),
          (this.width = null),
          (this.xssProtection = "Enabled"),
          (this.zoomLevels = []),
          (this.zoomPosition = "left"),
          (this.eventClickHandling = "Enabled"),
          (this.eventDeleteHandling = "Disabled"),
          (this.eventHoverHandling = "Bubble"),
          (this.eventDoubleClickHandling = "Disabled");
        this.eventEditHandling = "Update";
        (this.eventMoveHandling = "Update"),
          (this.eventResizeHandling = "Update"),
          (this.eventRightClickHandling = "ContextMenu"),
          (this.eventSelectHandling = "Update"),
          (this.resourceCollapseHandling = "Enabled"),
          (this.resourceExpandHandling = "Enabled"),
          (this.rowClickHandling = "Enabled"),
          (this.rowDoubleClickHandling = "Disabled"),
          (this.rowRightClickHandling = "ContextMenu"),
          (this.rowCreateHandling = "Disabled"),
          (this.rowEditHandling = "Update"),
          (this.rowHeaderColumnResizedHandling = "Update"),
          (this.rowSelectHandling = "Update"),
          (this.rowMoveHandling = "Disabled"),
          (this.rowMoveSameLevelOnly = !1),
          (this.timeHeaderClickHandling = "Enabled"),
          (this.timeHeaderRightClickHandling = "Enabled"),
          (this.timeRangeClickHandling = "Enabled"),
          (this.timeRangeDoubleClickHandling = "Disabled"),
          (this.timeRangeSelectedHandling = "Enabled"),
          (this.timeRangeRightClickHandling = "ContextMenu"),
          (this.timeRangeSelectingStartEndEnabled = !1),
          (this.timeRangeSelectingStartEndFormat = "MMMM d, yyyy"),
          (this.eventMovingStartEndEnabled = !1),
          (this.eventMovingStartEndFormat = "MMMM d, yyyy"),
          (this.eventResizingStartEndEnabled = !1),
          (this.eventResizingStartEndFormat = "MMMM d, yyyy"),
          "function" == typeof DayPilot.Bubble
            ? (this.bubble = new DayPilot.Bubble())
            : (this.bubble = null),
          (this.cellBubble = null),
          (this.resourceBubble = null),
          (this.linkBubble = null),
          (this.groupBubble = null),
          (this.rowHeaderColumnBubble = null),
          (this.timeHeaderBubble = null),
          (this.contextMenu = null),
          (this.contextMenuResource = null),
          (this.contextMenuSelection = null),
          (this.contextMenuLink = null),
          1 === E.api &&
            ((this.onEventMove = function () {}),
            (this.onEventResize = function () {}),
            (this.onResourceExpand = function () {}),
            (this.onResourceCollapse = function () {})),
          (this.onEventClick = null),
          (this.onEventClicked = null),
          (this.onEventEdit = null),
          (this.onEventEdited = null),
          (this.onEventEditKeyDown = null),
          (this.onEventMove = null),
          (this.onEventMoved = null),
          (this.onEventMoving = null),
          (this.onEventResize = null),
          (this.onEventResized = null),
          (this.onEventResizing = null),
          (this.onEventRightClick = null),
          (this.onEventRightClicked = null),
          (this.onEventMouseEnter = null),
          (this.onEventMouseLeave = null),
          (this.onEventMouseOver = null),
          (this.onEventMouseOut = null),
          (this.onIncludeTimeCell = null),
          (this.onKeyboardFocusChange = null),
          (this.onKeyboardFocusChanged = null),
          (this.onLinkClick = null),
          (this.onLinkClicked = null),
          (this.onLinkCreate = null),
          (this.onLinkCreated = null),
          (this.onRowClick = null),
          (this.onRowClicked = null),
          (this.onRowDoubleClick = null),
          (this.onRowDoubleClicked = null),
          (this.onRowMouseOver = null),
          (this.onRowMouseOut = null),
          (this.onRowRightClick = null),
          (this.onRowRightClicked = null),
          (this.onScroll = null),
          (this.onScrollEnd = null),
          (this.onTimeHeaderClick = null),
          (this.onTimeHeaderClicked = null),
          (this.onTimeHeaderRightClick = null),
          (this.onTimeHeaderRightClicked = null),
          (this.onTimeRangeClick = null),
          (this.onTimeRangeClicked = null),
          (this.onTimeRangeDoubleClick = null),
          (this.onTimeRangeDoubleClicked = null),
          (this.onTimeRangeSelect = null),
          (this.onTimeRangeSelected = null),
          (this.onTimeRangeSelecting = null),
          (this.onTimeRangeRightClick = null),
          (this.onTimeRangeRightClicked = null),
          (this.onRowHeaderColumnResized = null),
          (this.onRowHeaderResized = null),
          (this.onCellMouseEnter = null),
          (this.onCellMouseLeave = null),
          (this.onCellMouseOver = null),
          (this.onCellMouseOut = null),
          (this.onGridMouseDown = null),
          (this.onBeforeCellRender = null),
          (this.onBeforeCellDomAdd = null),
          (this.onBeforeCellDomRemove = null),
          (this.onBeforeCornerRender = null),
          (this.onBeforeCornerDomAdd = null),
          (this.onBeforeCornerDomRemove = null),
          (this.onBeforeEventRender = null),
          (this.onBeforeEventDomAdd = null),
          (this.onBeforeEventDomRemove = null),
          (this.onBeforeGridLineRender = null),
          (this.onBeforeLinkRender = null),
          (this.onBeforeTimeHeaderRender = null),
          (this.onBeforeTimeHeaderDomAdd = null),
          (this.onBeforeTimeHeaderDomRemove = null),
          (this.onBeforeResHeaderRender = null),
          (this.onBeforeRowHeaderRender = null),
          (this.onBeforeRowHeaderColumnRender = null),
          (this.onBeforeRowHeaderDomAdd = null),
          (this.onBeforeRowHeaderDomRemove = null),
          (this.onBeforeCellExport = null),
          (this.onBeforeCornerExport = null),
          (this.onBeforeEventExport = null),
          (this.onBeforeTimeHeaderExport = null),
          (this.onBeforeRowHeaderExport = null),
          (this.onAfterEventRender = null),
          (this.onAfterCellRender = null),
          (this.onAfterEventEditRender = null),
          (this.onEventFilter = null),
          (this.onRowFilter = null),
          (this.onRectangleSelecting = null),
          (this.onRectangleSelect = null),
          (this.onRectangleSelected = null),
          (this.onDimensionsChanged = null),
          (this.onAfterUpdate = null),
          (this.onAfterRender = null),
          (this.ya = 0),
          (this.ol = !0),
          (this.ql = !1),
          (this.rl = !1),
          (this.sl = !1),
          (this.tl = -1),
          (this.ul = -1),
          (this.Aa = !1),
          (this.vl = -1),
          (this.wl = !1),
          (this.xl = !0),
          (this.rowlist = y()),
          (this.itline = y()),
          (this.events = {}),
          (this.cells = {}),
          (this.elements = {}),
          (this.elements.events = []),
          (this.elements.bars = []),
          (this.elements.text = []),
          (this.elements.cells = []),
          (this.elements.linesVertical = []),
          (this.elements.separators = []),
          (this.elements.range = []),
          (this.elements.breaks = []),
          (this.elements.links = []),
          (this.elements.linkpoints = []),
          (this.elements.rectangle = []),
          (this.elements.hover = []),
          (this.elements.timeHeader = []),
          (this.va = {}),
          (this.va.cells = []),
          (this.va.yl = {}),
          (this.va.zl = {}),
          (this.va.timeHeaderGroups = []),
          (this.va.timeHeader = {}),
          (this.va.pixels = []),
          (this.va.breaks = []),
          (this.va.events = []),
          (this.va.Al = []),
          (this.clientState = {}),
          (this.Ba = {});
        var H = this.Ba;
        this.Bl = {};
        var M = this.Bl;
        this.Cl = {};
        var A = this.Cl;
        this.Ca = {};
        var R = E.Ca,
          B = {};
        this.Dl = {};
        var N = this.Dl;
        this.El = {};
        var P = this.El,
          L = {};
        (this.rows = {}), (this.rows.selection = {});
        var z = this.rows.selection;
        this.Fl = {};
        var I = this.Fl,
          O = {};
        (this.Gl = O), (this.Hl = {});
        var j = this.Hl;
        this.Il = {};
        var U = this.Il,
          W = {};
        (this.Jl = W), (this.Kl = {});
        var Y = this.Kl;
        this.Ll = {};
        var F = this.Ll;
        this.Fa = {};
        var q = this.Fa;
        this.Ml = {};
        var V = this.Ml,
          J = {};
        (this.nav = {}),
          (this.Ta = function (e) {
            var t = JSON.parse(e);
            if (((E.onScrollCalled = !1), t.VsUpdate)) {
              var n = document.createElement("input");
              (n.type = "hidden"),
                (n.name = E.id + "_vsupdate"),
                (n.id = n.name),
                (n.value = t.VsUpdate),
                (E.zj.innerHTML = ""),
                E.zj.appendChild(n);
            }
            if (t.CallBackRedirect)
              return void (document.location.href = t.CallBackRedirect);
            if (t.BubbleGuid) {
              var i = t.BubbleGuid,
                a = this.bubbles[i];
              return (
                delete this.bubbles[i],
                E.nb(),
                "undefined" != typeof t.Result.BubbleHTML &&
                  a &&
                  a.updateView(t.Result.BubbleHTML, a),
                void E.Nl()
              );
            }
            if ("function" == typeof E.onCallBackResult) {
              var r = {};
              if (
                ((r.result = t),
                (r.preventDefault = function () {
                  r.preventDefault.value = !0;
                }),
                E.onCallBackResult(r),
                r.preventDefault.value)
              )
                return (
                  E.Dc(),
                  E.nb(),
                  E.Jb(),
                  t.Message && E.message && E.message(t.Message),
                  E.ob(t.CallBackData, !0),
                  E.Nl(),
                  void E.Ka()
                );
            }
            return (
              "undefined" != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              "undefined" != typeof t.ClientState &&
                (null === t.ClientState
                  ? (E.clientState = {})
                  : (E.clientState = t.ClientState)),
              "None" === t.UpdateType
                ? (E.nb(),
                  E.Nl(),
                  t.Message && E.message(t.Message),
                  void E.ob(t.CallBackData, !0))
                : ("undefined" != typeof t.TagFields &&
                    (E.tagFields = t.TagFields),
                  "undefined" != typeof t.SortDirections &&
                    (E.sortDirections = t.SortDirections),
                  (E.va.drawArea = null),
                  "Full" === t.UpdateType &&
                    ((E.resources = t.Resources),
                    (E.colors = t.Colors),
                    (E.palette = t.Palette),
                    (E.dirtyColors = t.DirtyColors),
                    (E.cellProperties = t.CellProperties),
                    (E.cellConfig = t.CellConfig),
                    (E.separators = t.Separators),
                    (E.timeline = t.Timeline),
                    (E.timeHeader = t.TimeHeader),
                    (E.timeHeaders = t.TimeHeaders),
                    "undefined" != typeof t.Links && (E.links.list = t.Links),
                    "undefined" != typeof t.RowHeaderColumns &&
                      (E.rowHeaderColumns = t.RowHeaderColumns),
                    (E.startDate = t.StartDate
                      ? new DayPilot.Date(t.StartDate)
                      : E.startDate),
                    (E.days = t.Days ? t.Days : E.days),
                    (E.cellDuration = t.CellDuration
                      ? t.CellDuration
                      : E.cellDuration),
                    (E.cellGroupBy = t.CellGroupBy
                      ? t.CellGroupBy
                      : E.cellGroupBy),
                    (E.cellWidth = t.CellWidth ? t.CellWidth : E.cellWidth),
                    "undefined" != typeof t.CellWidthSpec &&
                      (E.cellWidthSpec = t.CellWidthSpec),
                    "undefined" != typeof t.Scale && (E.scale = t.Scale),
                    (E.viewType = t.ViewType ? t.ViewType : E.viewType),
                    "undefined" != typeof t.ShowNonBusiness &&
                      (E.showNonBusiness = t.ShowNonBusiness),
                    (E.businessBeginsHour = t.BusinessBeginsHour
                      ? t.BusinessBeginsHour
                      : E.businessBeginsHour),
                    (E.businessEndsHour = t.BusinessEndsHour
                      ? t.BusinessEndsHour
                      : E.businessEndsHour),
                    "undefined" != typeof t.DynamicLoading &&
                      (E.dynamicLoading = t.DynamicLoading),
                    "undefined" != typeof t.TreeEnabled &&
                      (E.treeEnabled = t.TreeEnabled),
                    (E.locale = t.Locale ? t.Locale : E.locale),
                    "undefined" != typeof t.TimeZone &&
                      (E.timeZone = t.TimeZone),
                    (E.timeFormat = t.TimeFormat ? t.TimeFormat : E.timeFormat),
                    (E.rowHeaderCols = t.RowHeaderCols
                      ? t.RowHeaderCols
                      : E.rowHeaderCols),
                    "undefined" != typeof t.DurationBarMode &&
                      (E.durationBarMode = t.DurationBarMode),
                    "undefined" != typeof t.CornerHTML &&
                      (E.cornerHtml = t.CornerHTML),
                    (E.hashes = t.Hashes),
                    E.Ol(),
                    E.Pl(),
                    E.Ql(),
                    E.sb(),
                    E.Rl()),
                  "Scroll" !== t.Action && (E.tb(t.Events), W.Sl()),
                  "Full" === t.UpdateType && (E.Tl(), E.Ul(), E.Vl(), E.Wl()),
                  E.Xl(),
                  E.D(),
                  E.Hb(),
                  (E.va.drawArea = null),
                  "Scroll" !== t.Action
                    ? (E.Yl(),
                      E.ub(),
                      ("Auto" !== E.heightSpec && "Max" !== E.heightSpec) ||
                        E.Bb(),
                      E.Zl(),
                      E.Ya(),
                      E.$l(),
                      E.multiselect.clear(!0),
                      E.multiselect._l(t.SelectedEvents),
                      E.bm(),
                      E.cm(),
                      E.Fb())
                    : (E.multiselect.clear(!0),
                      E.multiselect._l(t.SelectedEvents),
                      E.dm(t.Events)),
                  "HoldForever" !== E.timeRangeSelectedHandling && E.em(),
                  "Full" === t.UpdateType &&
                    (E.setScroll(t.ScrollX, t.ScrollY), E.yk()),
                  E.fm(),
                  E.Dc(),
                  t.SelectedRows && E.gm(t.SelectedRows),
                  E.nb(),
                  "Full" === t.UpdateType &&
                    navigator.appVersion.indexOf("MSIE 7.") !== -1 &&
                    window.setTimeout(function () {
                      E.Tl(), E.Ul(), E.Bb();
                    }, 0),
                  E.Jb(),
                  t.Message && E.message && E.message(t.Message),
                  E.ob(t.CallBackData, !0),
                  E.Nl(),
                  E.Ka(),
                  void (
                    "Full" !== t.UpdateType ||
                    "Scroll" === t.Action ||
                    E.onScrollCalled ||
                    setTimeout(function () {
                      E.hm();
                    }, 0)
                  ))
            );
          }),
          (this.Dc = function () {
            if (E.im && E.im.jm) {
              var e = E.im.jm;
              e.parentNode.removeChild(e), (E.im.jm = null);
            }
          }),
          (this.ob = function (e, t) {
            var n = function (e, t) {
              return function () {
                if (E.Kb()) {
                  if ("function" == typeof E.onAfterRender) {
                    var n = {};
                    (n.isCallBack = t),
                      (n.isScroll = !1),
                      (n.data = e),
                      E.onAfterRender(n);
                  }
                } else E.afterRender && E.afterRender(e, t);
              };
            };
            window.setTimeout(n(e, t), 0);
          }),
          (this.scrollTo = function (e, t, n) {
            if (E.infiniteScrollingEnabled) {
              if (E.za) {
                var i = E.getPixels(E.visibleEnd()).left,
                  a = i - E.infiniteScrollingMargin - E.nav.scroll.clientWidth,
                  r = E.getDate(a, !0, !0);
                if (!l(E.visibleStart(), r, e, e))
                  return void E.infinite.scrollTo(e);
              }
              return void E.km(e, t, n);
            }
            E.lm.enabled
              ? ((E.lm.scrollToRequested = e),
                setTimeout(function () {
                  var e = E.lm.scrollToRequested;
                  e && ((E.mm = null), E.km(e, t, n));
                }, 0))
              : E.km(e, t, n);
          }),
          (this.km = function (e, t, n) {
            if (e) {
              if (!E.za)
                return void (E.mm = { date: e, animated: t, position: n });
              if (E.nm && E.nav.scroll) {
                if ("Days" === E.viewType) {
                  var i = new DayPilot.Date(e),
                    a = E.om(i);
                  if (!a) return;
                  if (E.W.react) {
                    var r = a.top - E.pm.top.height;
                    E.nav.scroll.scrollTop = r;
                  } else
                    setTimeout(function () {
                      var e = a.top - E.pm.top.height;
                      E.nav.scroll && (E.nav.scroll.scrollTop = e);
                    }, 100);
                  var o = i.getTimePart();
                  e = E.visibleStart().getDatePart().addTime(o);
                }
                var l;
                if (e instanceof DayPilot.Date) l = this.getPixels(e).left;
                else if ("string" == typeof e)
                  l = this.getPixels(new DayPilot.Date(e)).left;
                else {
                  if ("number" != typeof e)
                    throw new DayPilot.Exception(
                      "Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object"
                    );
                  l = e;
                }
                var s = E.nm.clientWidth,
                  d = E.nav.scroll.clientWidth;
                switch (((n = n || "left"), n.toLowerCase())) {
                  case "left":
                    break;
                  case "middle":
                    l -= d / 2;
                    break;
                  case "right":
                    l -= d;
                }
                if ((l < 0 && (l = 0), l > s - d && (l = s - d), !t))
                  return void E.qm(l);
                var c = Math.abs(E.nav.scroll.scrollLeft - l),
                  u = c / s,
                  h = 50;
                if ("number" == typeof t) h = t;
                else if ("string" == typeof t)
                  switch (t) {
                    case "fast":
                      h = 30;
                      break;
                    case "normal":
                      h = 50;
                      break;
                    case "slow":
                      h = 100;
                      break;
                    case "linear":
                      h = Math.floor(100 * u);
                  }
                u > 0.6 && (h = Math.min(h, 80)), E.rm(l, h);
              }
            }
          }),
          (this.rm = function (e, t) {
            function n(e) {
              var t,
                i = e.next();
              return "undefined" == typeof i
                ? void (null === (t = e.finished) || void 0 === t
                    ? void 0
                    : t.call(e))
                : (E.setScrollX(i),
                  window.clearTimeout(E.refreshTimeout),
                  void setTimeout(function () {
                    n(e);
                  }, e.delay));
            }
            var i = {};
            (i.steps = []),
              (i.index = 0),
              (i.delay = 10),
              (i.next = function () {
                var e = i.steps[i.index];
                return (i.index += 1), e;
              }),
              (i.finished = function () {
                E.hm();
              });
            var a = E.getScrollX();
            t = t || 100;
            for (var r = e - a, o = 0; o < t; o++) {
              var l = o / t,
                s = (2 * (l - 0.5)) / (Math.pow(2 * (l - 0.5), 2) + 1) + 0.5;
              i.steps.push(a + r * s);
            }
            i.steps.push(e), n(i);
          }),
          (this.scrollToResource = function (e) {
            DayPilot.complete(function () {
              var t;
              if ("string" == typeof e || "number" == typeof e) t = E.sm(e);
              else {
                if (!(e instanceof DayPilot.Row))
                  throw new DayPilot.Exception(
                    "Invalid scrollToResource() argument: id or DayPilot.Row expected"
                  );
                t = E.sm(e.id);
              }
              t &&
                setTimeout(function () {
                  var e = 0;
                  "main" === t.grid &&
                    ((e = E.pm.top.height),
                    (E.nav.scroll.scrollTop = t.top - e));
                }, 100);
            });
          }),
          (this.tm = function () {
            if (this.floatingTimeHeaders && this.timeHeader) {
              var e = E.xd();
              if (e) {
                E.um();
                for (
                  var t = e.pixels.left + Y.vm,
                    n = e.pixels.right + Y.vm + e.sw,
                    i = [],
                    a = 0;
                  a < this.timeHeader.length;
                  a++
                )
                  for (var r = 0; r < this.timeHeader[a].length; r++) {
                    var o = this.timeHeader[a][r],
                      l = o.left,
                      s = o.left + o.width,
                      d = null;
                    if (
                      (l < t &&
                        t < s &&
                        ((d = {}),
                        (d.x = r),
                        (d.y = a),
                        (d.marginLeft = t - l),
                        (d.marginRight = 0),
                        (d.div = E.va.timeHeader[r + "_" + a]),
                        i.push(d)),
                      l < n && n < s)
                    ) {
                      d ||
                        ((d = {}),
                        (d.x = r),
                        (d.y = a),
                        (d.marginLeft = 0),
                        (d.div = E.va.timeHeader[r + "_" + a]),
                        i.push(d)),
                        (d.marginRight = s - n);
                      break;
                    }
                  }
                for (var c = 0; c < i.length; c++) {
                  var d = i[c];
                  E.wm(d.div, d.marginLeft, d.marginRight);
                }
              }
            }
          }),
          (this.fm = function () {
            E.tm(), E.xm();
          }),
          (this.ym = {});
        var G = E.ym;
        (G.zm = function (e, t, n, i) {
          for (
            var a = e,
              r = e + n,
              o = t,
              s = t + i,
              d = E.Am(t),
              c = d.i,
              u = E.Am(t + i),
              h = u.i,
              f = [],
              v = c;
            v <= h;
            v++
          )
            f.push(E.rowlist[v]);
          return y(
            f
              .map(function (e) {
                return e.events;
              })
              .reduce(function (e, t) {
                return e.concat(t);
              }, [])
          ).filter(function (e) {
            var t = e.part.left,
              n = e.part.left + e.part.width,
              i = E.rowlist[e.part.dayIndex],
              d = i.top + e.part.top,
              c = d + e.part.height;
            if (l(t, n, a, r) && l(d, c, o, s)) return !0;
          });
        }),
          (G.Rk = function (e) {
            var t = [],
              n = e || "All",
              i = E.xd();
            if (!i) return y(t);
            for (
              var a = i.pixels.left, r = i.pixels.right, o = 0;
              o < E.elements.events.length;
              o++
            ) {
              var s = E.elements.events[o],
                d = s.event,
                c = d.part.left,
                u = d.part.left + d.part.width;
              switch (n) {
                case "Left":
                  c < a && a < u && t.push(s);
                  break;
                case "All":
                  l(c, u, a, r) && t.push(s);
              }
            }
            return y(t).addProps({ area: i });
          }),
          (this.xm = function () {
            if (this.floatingEvents) {
              var e = G.Rk("Left");
              E.Bm(),
                e
                  .filter(function (e) {
                    return "Milestone" !== e.event.data.type;
                  })
                  .forEach(function (t) {
                    var n = t.event,
                      i = e.area.pixels.left,
                      a = n.part.left,
                      r = i - a;
                    E.Cm(t, r, 0);
                  });
            }
          }),
          (this.elements.sections = []),
          (this.elements.hsections = []),
          (this.wm = function (e, t, n) {
            var i = o();
            (i.className = E.ca("_timeheader_float")),
              (i.style.position = "absolute"),
              (i.style.left = t + "px"),
              (i.style.right = n + "px"),
              (i.style.top = "0px"),
              (i.style.bottom = "0px"),
              (i.style.overflow = "hidden");
            var a = o();
            a.className = E.ca("_timeheader_float_inner");
            var r = e.cell.th;
            if (
              ((a.innerHTML = E.La(r.text, r.innerHTML)),
              r.fontColor && (a.style.color = r.fontColor),
              i.appendChild(a),
              (e.section = i),
              e.insertBefore(i, e.firstChild.nextSibling),
              e.domArgs && e.domArgs.element)
            ) {
              var l = e.firstChild && e.firstChild.firstChild;
              l && (l.style.display = "none");
            } else e.firstChild.innerHTML = "";
            this.elements.hsections.push(e);
          }),
          (this.um = function () {
            for (var e = 0; e < this.elements.hsections.length; e++) {
              var t = this.elements.hsections[e],
                n = t.cell;
              if (n && t.firstChild)
                if (t.domArgs && t.domArgs.element) {
                  var i = t.firstChild && t.firstChild.firstChild;
                  i && (i.style.display = "");
                } else t.firstChild.innerHTML = E.La(n.th.text, n.th.innerHTML);
              x(t.section), (t.section = null);
            }
            this.elements.hsections = [];
          }),
          (this.Cm = function (e, t, n) {
            var i = o();
            (i.className = E.ca(A.eventFloat)),
              (i.style.position = "absolute"),
              (i.style.left = t + "px"),
              (i.style.right = n + "px"),
              (i.style.top = "0px"),
              (i.style.bottom = "0px"),
              (i.style.overflow = "hidden");
            var a = 2;
            "number" == typeof E.durationBarHeight && (a = E.durationBarHeight);
            var r = o();
            if (
              ((r.className = E.ca(A.eventFloatInner)),
              (r.style.marginTop = a + "px"),
              (r.style.paddingTop = "0px"),
              (r.innerHTML = e.event.client.html()),
              i.appendChild(r),
              (e.section = i),
              e.insertBefore(i, e.firstChild.nextSibling),
              e.domArgs && e.domArgs.element)
            ) {
              var l = e && e.firstChild && e.firstChild.firstChild;
              l && (l.style.display = "none");
            } else e.firstChild.innerHTML = "";
            var s = e.event,
              d = s.cache || s.data,
              c = s.cache ? s.cache.areas : s.data.areas;
            (c = c || []), d.fontColor && (r.style.color = d.fontColor);
            var u = {
              offsetX: E.Dm(r),
              eventDiv: e,
              areas: c.filter(function (e) {
                return !(e.start || e.end || e.nonFloating);
              }),
            };
            DayPilot.Areas.attach(i, e.event, u),
              DayPilot.Areas.disable(e),
              this.elements.sections.push(e);
          }),
          (this.Em = null),
          (this.Dm = function (e) {
            return (
              null === E.Em &&
                (E.Em = parseInt(
                  new DayPilot.StyleReader(e).get("padding-left")
                )),
              E.Em
            );
          }),
          (this.Bm = function () {
            for (var e = 0; e < this.elements.sections.length; e++) {
              var t = this.elements.sections[e],
                n = t.event;
              if (n)
                if (t.domArgs && t.domArgs.element) {
                  var i = t && t.firstChild && t.firstChild.firstChild;
                  i && (i.style.display = "");
                } else t.firstChild.innerHTML = n.client.html();
              x(t.section), DayPilot.Areas.enable(t), (t.section = null);
            }
            this.elements.sections = [];
          }),
          (this.setScrollX = function (e) {
            E.lm.enabled
              ? ((E.lm.scrollXRequested = e),
                setTimeout(function () {
                  var e = E.lm.scrollXRequested;
                  "number" == typeof e && E.qm(e);
                }, 0))
              : E.qm(e);
          }),
          (this.qm = function (e) {
            var t = E.nav.scroll,
              n = E.Fm();
            t.clientWidth + e > n && (e = n - t.clientWidth),
              (E.divTimeScroll.scrollLeft = e),
              (t.scrollLeft = e);
          }),
          (this.setScrollY = function (e) {
            E.lm.enabled
              ? ((E.lm.scrollYRequested = e),
                setTimeout(function () {
                  var e = E.lm.scrollYRequested;
                  "number" == typeof e && E.Gm(e);
                }, 0))
              : E.Gm(e);
          }),
          (this.Gm = function (e) {
            var t = E.nav.scroll,
              n = E.vl;
            t.clientHeight + e > n && (e = n - t.clientHeight),
              (E.divResScroll.scrollTop = e),
              (t.scrollTop = e);
          }),
          (this.setScroll = function (e, t) {
            E.setScrollX(e), E.setScrollY(t);
          }),
          (this.Hm = function () {
            return E.Im() + H.Jm() - 1;
          }),
          (this.message = function (e, t) {
            if (null !== e && E.za) {
              var n,
                i = {};
              "object" == typeof arguments[1]
                ? ((i = arguments[1]), (n = i.delay))
                : (n = t);
              var a = "";
              (a = i.rawHtml ? e : DayPilot.Util.escapeHtml(e)),
                (n = n || this.messageHideAfter || 2e3);
              var r,
                l = E.Km() + 1,
                s = E.Hm(),
                c = DayPilot.sw(E.nav.scroll) + 1,
                u = DayPilot.sh(E.nav.scroll);
              if (this.nav.message) r = E.nav.message;
              else {
                (r = o()),
                  (r.style.position = "absolute"),
                  (r.style.left = s + "px"),
                  (r.style.right = c + "px"),
                  (r.style.display = "none"),
                  DayPilot.rePassive(r, DayPilot.touch.start, function (e) {
                    (E.nav.message.style.display = "none"), e.stopPropagation();
                  }),
                  (r.onmousemove = function () {
                    E.messageHideOnMouseOut &&
                      r.messageTimeout &&
                      !r.status &&
                      clearTimeout(r.messageTimeout);
                  }),
                  (r.onmouseout = function () {
                    E.messageHideOnMouseOut &&
                      "none" !== E.nav.message.style.display &&
                      (r.messageTimeout = setTimeout(E.Xb, 500));
                  });
                var h = o();
                (h.onclick = function () {
                  E.nav.message.style.display = "none";
                }),
                  (h.className = E.ca("_message")),
                  r.appendChild(h);
                var f = o();
                (f.style.position = "absolute"),
                  (f.className = E.ca("_message_close")),
                  (f.onclick = function () {
                    E.nav.message.style.display = "none";
                  }),
                  r.appendChild(f),
                  this.nav.top.appendChild(r),
                  (this.nav.message = r);
              }
              var v = function () {
                if (E.nav.message) {
                  var e = E.nav.message.firstChild;
                  (e.className = E.ca("_message")),
                    i.cssClass && d(e, i.cssClass),
                    (e.innerHTML = a);
                  var t = DayPilot.sw(E.nav.scroll);
                  E.nav.message.style.right = t + "px";
                  var o = E.messageBarPosition || "Top";
                  "Bottom" === o
                    ? ((E.nav.message.style.bottom = u + "px"),
                      (E.nav.message.style.top = ""))
                    : "Top" === o &&
                      ((E.nav.message.style.bottom = ""),
                      (E.nav.message.style.top = l + "px"));
                  var s = function () {
                    r.messageTimeout = setTimeout(E.Xb, n);
                  };
                  DayPilot.fade(E.nav.message, 0.2, s);
                }
              };
              clearTimeout(r.messageTimeout),
                "none" !== this.nav.message.style.display
                  ? DayPilot.fade(E.nav.message, -0.2, v)
                  : v();
            }
          }),
          (this.Xb = function () {
            if (E.nav && E.nav.message) {
              var e = function () {
                E.nav.message.style.display = "none";
              };
              DayPilot.fade(E.nav.message, -0.2, e);
            }
          }),
          (this.Lm = function () {
            E.nav && E.nav.message && (E.nav.message.style.display = "none");
          }),
          (this.message.show = function (e) {
            E.message(e);
          }),
          (this.message.hide = function () {
            E.Xb();
          }),
          (this.Mm = null),
          (this.Bb = function () {
            if (this.nav.scroll) {
              !(function () {
                var e = E.Fm();
                (E.nm.style.height = E.vl + "px"),
                  (E.nm.style.width = e + "px"),
                  "Auto" !== E.cellWidthSpec || E.Nm
                    ? e > E.nav.scroll.clientWidth
                      ? (E.nav.scroll.style.overflowX = "auto")
                      : (E.nav.scroll.style.overflowX = "hidden")
                    : ((E.nav.scroll.style.overflowX = "hidden"),
                      (E.nav.scroll.scrollLeft = 0));
              })();
              var e = "None" === E.timeHeaderPosition ? 0 : 1;
              null !== this.Mm &&
                ((this.nav.top.style.border = this.Mm), (this.Mm = null)),
                ("Parent100Pct" !== this.heightSpec &&
                  "Max100Pct" !== this.heightSpec) ||
                  ((this.nav.top.style.height = "100%"),
                  this.hideBorderFor100PctHeight &&
                    ((this.Mm = this.nav.top.style.border),
                    (this.nav.top.style.border = "0 none")),
                  (this.height =
                    parseInt(this.nav.top.clientHeight, 10) - this.Km() - e)),
                (this.nav.scroll.style.height = "30px");
              var t = this.df(),
                n = t + this.Km() + e;
              if (
                (t >= 0 &&
                  ((this.nav.scroll.style.height = t + "px"),
                  (this.Om.style.height = t + "px")),
                this.nav.divider &&
                  ((!n || isNaN(n) || n < 0) && (n = 0),
                  (this.nav.divider.style.height = n + "px")),
                "Parent100Pct" !== this.heightSpec &&
                  (this.nav.top.style.height = n + "px"),
                E.nav.resScrollSpace)
              ) {
                var i = 60 + E.pm.bottom.height;
                "Auto" === E.heightSpec && (i = DayPilot.sh(E.nav.scroll)),
                  (E.nav.resScrollSpace.style.height = i + "px");
              }
              for (var a = 0; a < this.elements.separators.length; a++)
                this.elements.separators[a].style.height = this.vl + "px";
              for (var a = 0; a < this.elements.linesVertical.length; a++)
                this.elements.linesVertical[a].style.height = this.vl + "px";
              E.Pm(), E.Qm();
            }
          }),
          (this.Pl = function () {
            (this.startDate = new DayPilot.Date(this.startDate).getDatePart()),
              (this.va.pixels = []),
              (this.itline = y());
            var e = "Auto" === this.cellWidthSpec;
            if (
              ((function () {
                if (e) {
                  var t = 0;
                  E.ja() && E.timeline
                    ? (t = E.timeline.length)
                    : "Manual" === E.scale
                    ? (t = E.timeline.length)
                    : (E.Rm(), (t = E.itline.length), (E.itline = y()));
                  var n = E.Sm();
                  if (t > 0 && n > 0) {
                    var i = n / t;
                    (E.cellWidth = u(i, E.cellWidthMin)),
                      (E.Nm = i < E.cellWidthMin);
                  }
                }
              })(),
              this.ja() && this.timeline)
            ) {
              if (this.timeline) {
                this.itline = y();
                for (
                  var t = null, n = 0, i = 0;
                  i < this.timeline.length;
                  i++
                ) {
                  var a = this.timeline[i],
                    r = {};
                  if (
                    ((r.start = new DayPilot.Date(a.start)),
                    (r.end = a.end
                      ? new DayPilot.Date(a.end)
                      : r.start.addMinutes(this.cellDuration)),
                    a.width)
                  )
                    (r.left = a.left || n),
                      (r.width = a.width || this.cellWidth),
                      (n += r.width);
                  else {
                    var o = Math.floor(n + this.cellWidth),
                      l = o - Math.floor(n);
                    (r.left = Math.floor(n)),
                      (r.width = l),
                      (n += this.cellWidth);
                  }
                  (r.breakBefore = t && t.ticks !== r.start.ticks),
                    (t = r.end),
                    this.itline.push(r);
                }
              }
              e && this.Tm();
            } else {
              if (((this.timeHeader = []), "Manual" === this.scale)) {
                this.itline = y();
                for (
                  var n = 0, t = null, i = 0;
                  this.timeline && i < this.timeline.length;
                  i++
                ) {
                  var a = this.timeline[i],
                    r = {};
                  if (
                    ((r.start = new DayPilot.Date(a.start)),
                    (r.end = a.end
                      ? new DayPilot.Date(a.end)
                      : r.start.addMinutes(this.cellDuration)),
                    t && r.start.ticks < t.ticks)
                  )
                    throw new DayPilot.Exception(
                      "The timeline must be sequential"
                    );
                  var s = a.width || this.cellWidth,
                    o = Math.floor(n + s),
                    l = o - Math.floor(n);
                  (r.left = Math.floor(n)),
                    (r.width = l),
                    (n += s),
                    (r.breakBefore = t && t.ticks !== r.start.ticks),
                    (t = r.end),
                    this.itline.push(r);
                }
              } else this.Rm();
              this.Um();
            }
          }),
          (this.infinite = {}),
          (this.infinite.shiftStart = function (e) {
            Y.Vm(e);
          }),
          (this.infinite.scrollTo = function (e) {
            Y.Wm(e);
          }),
          (Y.vm = 0),
          (Y.s = !1),
          (Y.Xm = function () {
            E.Ym().forEach(function (e) {
              (e.start = E.Ub()), (e.data = null), E.Zm(e.index, e.grid);
            });
          }),
          (Y.$m = function () {
            return E.infiniteScrollingEnabled && !E.ja();
          }),
          (Y.Wm = function (e) {
            e = new DayPilot.Date(e);
            var t = e.addDays(-E.infiniteScrollingStepDays).getDatePart(),
              n = new DayPilot.Duration(
                t.getTime() - E.startDate.getDatePart().getTime()
              ).totalDays();
            Y.Vm(n, e);
          }),
          (Y.Vm = function (e, t) {
            var i;
            Y.s = !0;
            var a = E.startDate,
              r = E.startDate.addDays(e);
            e > 0 && (i = -E.getPixels(r).left),
              (E.startDate = E.startDate.addDays(e)),
              (E.itline = y()),
              (E.va.pixels = []),
              (E._m = {}),
              E.Rm(),
              Y.Xm(),
              e < 0 && (i = E.getPixels(a).left),
              (E.timeHeader = []),
              E.Um(),
              E.Wl(),
              (E.cellProperties = {}),
              E.Zl(),
              E.$l(),
              E.tb(),
              W.Sl(),
              E.Ya(),
              E.Xl(),
              E.Yl(),
              E.Bb(),
              "undefined" != typeof t
                ? (E.scrollTo(new DayPilot.Date(t)), E.hm())
                : ("number" != typeof Y.an && (Y.an = E.nav.scroll.scrollLeft),
                  (E.nav.scroll.scrollLeft = Y.an + i),
                  (Y.an = null)),
              E.cm(),
              E.Fb();
            var o = n.bn;
            o && ((o.start.x += i), (o.start.width += i), P.draw()), (Y.s = !1);
          }),
          (this.Rm = function () {
            !E.za &&
              Y.$m() &&
              (this.startDate = this.startDate.addDays(
                -this.infiniteScrollingStepDays
              ));
            for (
              var e =
                  "Days" !== this.viewType
                    ? this.startDate.addDays(this.days)
                    : this.startDate.addDays(1),
                t = this.startDate,
                n = this.cn(t),
                i = !1,
                a = 0,
                r = null;
              n.ticks <= e.ticks && n.ticks > t.ticks;

            ) {
              var o = t,
                l = n;
              E.showNonBusinessForceHours &&
                "Day" === E.scale &&
                ((o = t.addHours(E.businessBeginsHour)),
                (l = t.addHours(E.businessEndsHour)));
              var s = this.dn(o, l, !0);
              if (!s.cell.start || !s.cell.end)
                throw new DayPilot.Exception(
                  "Invalid timeline cell start/end: start and/or end not specified"
                );
              if (
                ((s.cell.start = new DayPilot.Date(s.cell.start)),
                (s.cell.end = new DayPilot.Date(s.cell.end)),
                s.cell.start >= s.cell.end)
              )
                throw new DayPilot.Exception(
                  "Invalid timeline cell start/end: end before start"
                );
              if (r && r.ticks > s.cell.start.ticks)
                throw new DayPilot.Exception(
                  "Invalid timeline cell start/end: overlapping cells"
                );
              i = !!(r && r.ticks < s.cell.start.ticks);
              var d = s.cell.width || E.cellWidth;
              if (s.cell.visible) {
                var c = Math.floor(a + d),
                  u = c - Math.floor(a),
                  h = {};
                (h.start = s.cell.start),
                  (h.end = s.cell.end),
                  (h.left = Math.floor(a)),
                  (h.width = u),
                  (h.breakBefore = i),
                  this.itline.push(h),
                  (a += d),
                  (r = s.cell.end);
              }
              (t = n), (n = this.cn(t));
            }
          }),
          (this.Tm = function () {
            if (this.timeHeader)
              for (var e = 0; e < this.timeHeader.length; e++)
                for (var t = this.timeHeader[e], n = 0; n < t.length; n++) {
                  var i = t[n];
                  i.left = this.getPixels(new DayPilot.Date(i.start)).left;
                  var a = this.getPixels(new DayPilot.Date(i.end)).left,
                    r = a - i.left;
                  i.width = r;
                }
          }),
          (this.Um = function () {
            var e = this.timeHeaders;
            if (
              (e || (e = [{ groupBy: this.cellGroupBy }, { groupBy: "Cell" }]),
              this.itline.isEmpty())
            ) {
              this.timeHeader = [];
              for (var t = 0; t < e.length; t++) this.timeHeader[t] = [];
            } else
              for (var n = E.je(), t = 0; t < e.length; t++) {
                var i = e[t].groupBy,
                  a = e[t].format;
                "Default" === i && (i = this.cellGroupBy);
                for (var r = [], o = this.Ub(); o.ticks < n.ticks; ) {
                  var l = {};
                  if (
                    ((l.start = o),
                    (l.end = this.en(l.start, i)),
                    l.start.ticks === l.end.ticks)
                  )
                    break;
                  l.left = this.getPixels(l.start).left;
                  var s = this.getPixels(l.end).left,
                    d = s - l.left;
                  if (
                    ((l.width = d),
                    (l.colspan = Math.ceil(d / (1 * this.cellWidth))),
                    "string" == typeof a
                      ? (l.text = l.start.toString(a, H.Xc()))
                      : (l.text = this.gn(l, i)),
                    d > 0)
                  ) {
                    if ("function" == typeof this.onBeforeTimeHeaderRender) {
                      var c = {};
                      (c.start = l.start),
                        (c.end = l.end),
                        (c.text = l.text),
                        (c.html = null),
                        (c.toolTip = E.La(l.text)),
                        (c.backColor = null),
                        (c.fontColor = null),
                        (c.level = this.timeHeader.length),
                        (c.cssClass = null),
                        (c.bubbleHtml = null);
                      var u = {};
                      (u.header = c),
                        (u.control = E),
                        this.onBeforeTimeHeaderRender(u),
                        (l.innerHTML = E.La(c.text, c.html)),
                        (l.bubbleHtml = c.bubbleHtml),
                        (l.text = c.text),
                        (l.html = c.html),
                        (l.backColor = c.backColor),
                        (l.fontColor = c.fontColor),
                        (l.toolTip = c.toolTip),
                        (l.areas = c.areas),
                        (l.cssClass = c.cssClass),
                        (l.$ = c.$);
                    }
                    r.push(l);
                  }
                  o = l.end;
                }
                this.timeHeader.push(r);
              }
          }),
          (this.dn = function (e, t) {
            var n = {};
            (n.start = e), (n.end = t), (n.visible = !0), (n.width = null);
            var i = {};
            if (((i.cell = n), "function" == typeof this.onIncludeTimeCell))
              return this.onIncludeTimeCell(i), i;
            if (this.showNonBusiness) return i;
            var a = "Days" === E.viewType;
            return (
              (i.cell.visible = this.isBusiness({ start: e, end: t }, a)), i
            );
          }),
          (this.getPixels = function (e) {
            var t = e.ticks,
              n = this.va.pixels[t];
            if (n) return n;
            var i = 2218768416e5,
              a = null;
            if (0 === this.itline.length || t < this.itline[0].start.ticks)
              return (
                (a = {}),
                (a.cut = !1),
                (a.left = 0),
                (a.boxLeft = a.left),
                (a.boxRight = a.left),
                (a.i = null),
                a
              );
            for (
              var r = this.hn(e), o = u(r.i - 1, 0), l = o;
              l < this.itline.length;
              l++
            ) {
              var s = this.itline[l],
                d = s.start.ticks,
                c = s.end.ticks;
              if (d < t && t < c) {
                var h = t - d;
                (a = {}),
                  (a.cut = !1),
                  (a.left = s.left + this.Tf(s, h)),
                  (a.boxLeft = s.left),
                  (a.boxRight = s.left + s.width),
                  (a.i = l);
                break;
              }
              if (d === t) {
                (a = {}),
                  (a.cut = !1),
                  (a.left = s.left),
                  (a.boxLeft = a.left),
                  (a.boxRight = a.left + s.width),
                  (a.i = l);
                break;
              }
              if (c === t) {
                (a = {}),
                  (a.cut = !1),
                  (a.left = s.left + s.width),
                  (a.boxLeft = a.left),
                  (a.boxRight = a.left),
                  (a.i = l + 1);
                break;
              }
              if (t < d && t > i) {
                (a = {}),
                  (a.cut = !0),
                  (a.left = s.left),
                  (a.boxLeft = a.left),
                  (a.boxRight = a.left),
                  (a.i = l);
                break;
              }
              i = c;
            }
            if (!a) {
              var f = this.itline[this.itline.length - 1];
              (a = {}),
                (a.cut = !0),
                (a.left = f.left + f.width),
                (a.boxLeft = a.left),
                (a.boxRight = a.left),
                (a.i = null);
            }
            return (this.va.pixels[t] = a), a;
          }),
          (this.getDate = function (e, t, n) {
            var i = this.in(e, n);
            if (!i) return null;
            var a = i.x,
              r = this.itline[a];
            if (!r) return null;
            var o = n && !t ? r.end : r.start;
            return t ? o.addTime(this.jn(i.cell, i.offset)) : o;
          }),
          (this.in = function (e, t) {
            if (0 === this.itline.length) return null;
            for (var n = 0, i = 0, a = 0; a < this.itline.length; a++) {
              var r = this.itline[a];
              if (((n += r.width || this.cellWidth), e < n || (t && e === n))) {
                var o = {};
                return (o.x = a), (o.offset = e - i), (o.cell = r), o;
              }
              i = n;
            }
            var l = E.itline.last(),
              s = {};
            return (
              (s.x = this.itline.length - 1),
              (s.offset = l.width || this.cellWidth),
              (s.cell = l),
              s
            );
          }),
          (this.kn = function (e, t) {
            return this.hn(e, t);
          }),
          (this.hn = function (e, t) {
            var n = new DayPilot.Date(e),
              i = 0,
              a = this.itline[0];
            if (n.ticks < a.start.ticks) {
              var r = {};
              return (
                (r.hidden = !0),
                (r.previous = null),
                (r.current = null),
                (r.next = this.itline[0]),
                (r.i = -1),
                r
              );
            }
            var o = this.itline.length - 1,
              l = this.itline[o];
            if (n.ticks > l.end.ticks) {
              var s = {};
              return (
                (s.past = !0),
                (s.previous = this.itline[this.itline.length - 1]),
                (s.i = this.itline.length),
                s
              );
            }
            if (n.ticks === l.end.ticks) {
              var d = {};
              return (
                (d.past = !1),
                (d.current = this.itline[this.itline.length - 1]),
                (d.i = this.itline.length - 1),
                d
              );
            }
            for (
              var c = (function () {
                  for (var e = E.itline; i <= o; ) {
                    var a = Math.floor((i + o) / 2);
                    if (e[a].start.ticks > n.ticks) o = a - 1;
                    else {
                      if (
                        !(t
                          ? e[a].end.ticks < n.ticks
                          : e[a].end.ticks <= n.ticks)
                      )
                        return t &&
                          a > 0 &&
                          e[a].start.ticks === n.ticks &&
                          e[a - 1].end.ticks === n.ticks
                          ? a - 1
                          : a;
                      i = a + 1;
                    }
                  }
                  return i;
                })(),
                u = c;
              u < this.itline.length;
              u++
            ) {
              var h = this.itline[u],
                f = this.itline[u + 1],
                v = h.start.ticks <= n.ticks && n.ticks < h.end.ticks,
                p = n.ticks === h.end.ticks && f && f.breakBefore,
                m = n.ticks === h.end.ticks && t;
              if (v || p || m) {
                var g = {};
                return (g.hidden = !1), (g.current = h), (g.i = u), g;
              }
              if (n.ticks < h.start.ticks) {
                var b = {};
                return (
                  (b.hidden = !0),
                  (b.previous = u > 0 ? this.itline[u - 1] : null),
                  (b.current = null),
                  (b.next = this.itline[u]),
                  (b.i = u),
                  b
                );
              }
            }
            var y = {};
            return (
              (y.past = !0),
              (y.previous = this.itline[this.itline.length - 1]),
              (y.i = this.itline.length),
              y
            );
          }),
          (this.Tf = function (e, t) {
            var n = e.width || this.cellWidth,
              i = e.end.ticks - e.start.ticks;
            return Math.floor((n * t) / i);
          }),
          (this.jn = function (e, t) {
            var n = e.end.ticks - e.start.ticks,
              i = e.width || this.cellWidth;
            return Math.floor((t / i) * n);
          }),
          (this.Pj = function (e) {
            b.touch.start || n.ln || ((E.mn = {}), E.Zb(this, e));
          }),
          (this.eventClickPostBack = function (e, t) {
            this.Na("EventClick", e, t);
          }),
          (this.eventClickCallBack = function (e, t) {
            this.Pa("EventClick", e, t);
          }),
          (this.Zb = function (e, t) {
            var n = e.event;
            if (n) {
              if (
                ("undefined" != typeof DayPilot.Bubble &&
                  DayPilot.Bubble.hideActive(),
                !n.client.doubleClickEnabled())
              )
                return void E.$b(e, t);
              E.nn.click || (E.nn.click = []);
              var i = function (e, t) {
                return function () {
                  E.$b(e, t);
                };
              };
              E.nn.click.push(window.setTimeout(i(e, t), E.doubleClickTimeout));
            }
          }),
          (this.on = function (e) {
            return E.itline[e];
          }),
          (this.$b = function (e, t) {
            if ("boolean" == typeof t)
              throw new DayPilot.Exception(
                "Invalid _eventClickSingle parameters"
              );
            var n = e.event;
            if (n) {
              var i = t.ctrlKey,
                a = t.metaKey;
              if (n.client.clickEnabled()) {
                if (
                  (!!(t.clientX || t.clientY || t.changedTouches) && E.pn(t),
                  E.Kb())
                ) {
                  var r = {};
                  if (
                    ((r.e = n),
                    (r.control = E),
                    (r.div = e),
                    (r.originalEvent = t),
                    (r.ctrl = i),
                    (r.meta = a),
                    (r.shift = t.shiftKey),
                    (r.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (r.toJSON = function () {
                      return f(r, {}, ["e", "ctrl", "meta", "shift"]);
                    }),
                    "function" == typeof E.onEventClick &&
                      (E.onEventClick(r), r.preventDefault.value))
                  )
                    return;
                  switch (E.eventClickHandling) {
                    case "PostBack":
                      E.eventClickPostBack(n);
                      break;
                    case "CallBack":
                      E.eventClickCallBack(n);
                      break;
                    case "Edit":
                      E._b(e);
                      break;
                    case "Select":
                      E.bc(e, n, i, a);
                      break;
                    case "ContextMenu":
                      var o = n.client.contextMenu();
                      o ? o.show(n) : E.contextMenu && E.contextMenu.show(n);
                      break;
                    case "Bubble":
                      E.bubble && E.bubble.showEvent(n);
                      break;
                    case "RectangleSelect":
                      if ("Disabled" !== H.qn()) return P.start(), !1;
                  }
                  "function" == typeof E.onEventClicked && E.onEventClicked(r);
                } else
                  switch (E.eventClickHandling) {
                    case "PostBack":
                      E.eventClickPostBack(n);
                      break;
                    case "CallBack":
                      E.eventClickCallBack(n);
                      break;
                    case "JavaScript":
                      E.onEventClick(n);
                      break;
                    case "Edit":
                      E._b(e);
                      break;
                    case "Select":
                      E.bc(e, n, i, a);
                      break;
                    case "ContextMenu":
                      var o = n.client.contextMenu();
                      o ? o.show(n) : E.contextMenu && E.contextMenu.show(n);
                      break;
                    case "Bubble":
                      E.bubble && E.bubble.showEvent(n);
                      break;
                    case "RectangleSelect":
                      if ("Disabled" !== H.qn()) return P.start(), !1;
                  }
              }
            }
          }),
          (this.jc = function (e) {
            if (E.Kb()) {
              var t = {},
                n = function () {
                  if (!t.preventDefault.value) {
                    switch (
                      ((t.loaded = function () {}), E.eventDeleteHandling)
                    ) {
                      case "PostBack":
                        E.eventDeletePostBack(e);
                        break;
                      case "CallBack":
                        E.eventDeleteCallBack(e);
                        break;
                      case "Update":
                        E.events.remove(e),
                          "undefined" != typeof DayPilot.Bubble &&
                            DayPilot.Bubble.hideActive();
                    }
                    "function" == typeof E.onEventDeleted &&
                      E.onEventDeleted(t);
                  }
                };
              (t.async = !1),
                (t.e = e),
                (t.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                (t.control = E),
                (t.toJSON = function () {
                  return f(t, {}, ["e"]);
                }),
                (t.loaded = function () {
                  n();
                }),
                "function" == typeof E.onEventDelete && E.onEventDelete(t),
                t.async || n();
            } else
              switch (E.eventDeleteHandling) {
                case "PostBack":
                  E.eventDeletePostBack(e);
                  break;
                case "CallBack":
                  E.eventDeleteCallBack(e);
                  break;
                case "JavaScript":
                  E.onEventDelete(e);
              }
          }),
          (this.eventDeletePostBack = function (e, t) {
            this.Na("EventDelete", e, t);
          }),
          (this.eventDeleteCallBack = function (e, t) {
            this.Pa("EventDelete", e, t);
          }),
          (this.setHScrollPosition = function (e) {
            this.nav.scroll.scrollLeft = e;
          }),
          (this.getScrollX = function () {
            return this.nav.scroll.scrollLeft;
          }),
          (this.getHScrollPosition = this.getScrollX),
          (this.getScrollY = function () {
            return this.nav.scroll.scrollTop;
          }),
          (this.bc = function (e, t, n, i) {
            E.Nc(e, t, n, i);
          }),
          (this.eventSelectPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.change = t), this.Na("EventSelect", i, n);
          }),
          (this.eventSelectCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.change = t), this.Pa("EventSelect", i, n);
          }),
          (this.Nc = function (e, t, n, i) {
            var a = E.multiselect,
              r = a.isSelected(t),
              o = r ? "deselected" : "selected";
            if (n || i || !r || 1 !== a.Oc.length)
              if (E.Kb()) {
                a.Ad = a.events();
                var l = {};
                if (
                  ((l.e = t),
                  (l.selected = r),
                  (l.ctrl = n),
                  (l.meta = i),
                  (l.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof E.onEventSelect &&
                    (E.onEventSelect(l), l.preventDefault.value))
                )
                  return;
                switch (E.eventSelectHandling) {
                  case "PostBack":
                    E.eventSelectPostBack(t, o);
                    break;
                  case "CallBack":
                    "undefined" != typeof WebForm_InitCallback &&
                      ((window.Pc = ""),
                      (window.Qc = []),
                      WebForm_InitCallback()),
                      E.eventSelectCallBack(t, o);
                    break;
                  case "Update":
                    a.Rc(e, n, i);
                }
                "function" == typeof E.onEventSelected &&
                  ((l.change = a.isSelected(t) ? "selected" : "deselected"),
                  (l.selected = a.isSelected(t)),
                  E.onEventSelected(l));
              } else
                switch (
                  ((a.Ad = a.events()), a.Rc(e, n, i), E.eventSelectHandling)
                ) {
                  case "PostBack":
                    E.eventSelectPostBack(t, o);
                    break;
                  case "CallBack":
                    "undefined" != typeof WebForm_InitCallback &&
                      ((window.Pc = ""),
                      (window.Qc = []),
                      WebForm_InitCallback()),
                      E.eventSelectCallBack(t, o);
                    break;
                  case "JavaScript":
                    E.onEventSelect(t, o);
                }
          }),
          (this.eventRightClickPostBack = function (e, t) {
            this.Na("EventRightClick", e, t);
          }),
          (this.eventRightClickCallBack = function (e, t) {
            this.Pa("EventRightClick", e, t);
          }),
          (this.dc = function (e) {
            if (!b.touch.active && !b.touch.start) {
              var t = e.currentTarget,
                n = t.event;
              if (
                ((e.cancelBubble = !0),
                E.allowDefaultContextMenu || e.preventDefault(),
                !this.event.client.rightClickEnabled())
              )
                return !1;
              if ((E.pn(e), E.Kb())) {
                var i = {};
                if (
                  ((i.e = n),
                  (i.div = this),
                  (i.originalEvent = e),
                  (i.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof E.onEventRightClick &&
                    (E.onEventRightClick(i), i.preventDefault.value))
                )
                  return !1;
                switch (E.eventRightClickHandling) {
                  case "PostBack":
                    E.eventRightClickPostBack(n);
                    break;
                  case "CallBack":
                    E.eventRightClickCallBack(n);
                    break;
                  case "ContextMenu":
                    var a = n.client.contextMenu();
                    a ? a.show(n) : E.contextMenu && E.contextMenu.show(n);
                    break;
                  case "Bubble":
                    E.bubble && E.bubble.showEvent(n);
                }
                "function" == typeof E.onEventRightClicked &&
                  E.onEventRightClicked(i);
              } else
                switch (E.eventRightClickHandling) {
                  case "PostBack":
                    E.eventRightClickPostBack(n);
                    break;
                  case "CallBack":
                    E.eventRightClickCallBack(n);
                    break;
                  case "JavaScript":
                    E.onEventRightClick(n);
                    break;
                  case "ContextMenu":
                    var a = n.client.contextMenu();
                    a ? a.show(n) : E.contextMenu && E.contextMenu.show(n);
                    break;
                  case "Bubble":
                    E.bubble && E.bubble.showEvent(n);
                }
              return !1;
            }
          }),
          (this.eventDoubleClickPostBack = function (e, t) {
            this.Na("EventDoubleClick", e, t);
          }),
          (this.eventDoubleClickCallBack = function (e, t) {
            this.Pa("EventDoubleClick", e, t);
          }),
          (this.cc = function (e) {
            if (
              ("undefined" != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              E.nn.click)
            ) {
              for (var t in E.nn.click) window.clearTimeout(E.nn.click[t]);
              E.nn.click = null;
            }
            var n = e.currentTarget,
              i = n.event;
            if ((e.stopPropagation(), (e.cancelBubble = !0), E.Kb())) {
              var a = {};
              if (
                ((a.e = i),
                (a.originalEvent = e),
                (a.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof E.onEventDoubleClick &&
                  (E.onEventDoubleClick(a), a.preventDefault.value))
              )
                return;
              switch (E.eventDoubleClickHandling) {
                case "PostBack":
                  E.eventDoubleClickPostBack(i);
                  break;
                case "CallBack":
                  E.eventDoubleClickCallBack(i);
                  break;
                case "Edit":
                  E._b(this);
                  break;
                case "Select":
                  E.bc(n, i, e.ctrlKey, e.metaKey);
                  break;
                case "Bubble":
                  E.bubble && E.bubble.showEvent(i);
                  break;
                case "ContextMenu":
                  var r = i.client.contextMenu();
                  r ? r.show(i) : E.contextMenu && E.contextMenu.show(i);
              }
              "function" == typeof E.onEventDoubleClicked &&
                E.onEventDoubleClicked(a);
            } else
              switch (E.eventDoubleClickHandling) {
                case "PostBack":
                  E.eventDoubleClickPostBack(i);
                  break;
                case "CallBack":
                  E.eventDoubleClickCallBack(i);
                  break;
                case "JavaScript":
                  E.onEventDoubleClick(i);
                  break;
                case "Edit":
                  E._b(this);
                  break;
                case "Select":
                  E.bc(n, i, e.ctrlKey, e.metaKey);
                  break;
                case "Bubble":
                  E.bubble && E.bubble.showEvent(i);
                  break;
                case "ContextMenu":
                  var r = i.client.contextMenu();
                  r ? r.show(i) : E.contextMenu && E.contextMenu.show(i);
              }
          }),
          (this.eventResizePostBack = function (e, t, n, i) {
            this.tc("PostBack", e, t, n, i);
          }),
          (this.eventResizeCallBack = function (e, t, n, i) {
            this.tc("CallBack", e, t, n, i);
          }),
          (this.tc = function (e, t, n, i, a) {
            var r = t && !!t.preventDefault,
              o = {};
            if (r) {
              var l = t;
              (o.e = l.e),
                (o.newStart = l.newStart),
                (o.newEnd = l.newEnd),
                (o.multiresize = []),
                l.multiresize.forEach(function (e) {
                  var t = {};
                  (t.e = e.event),
                    (t.newStart = e.start),
                    (t.newEnd = e.end),
                    o.multiresize.push(t);
                });
            } else (o.e = t), (o.newStart = n), (o.newEnd = i);
            this.kc(e, "EventResize", o, a);
          }),
          (this.qc = function (e, t, n, i) {
            if ("Disabled" !== this.eventResizeHandling) {
              n = E.ak(n);
              var a = {},
                r = function () {
                  if ((q.B(), !a.preventDefault.value)) {
                    switch (
                      ((a.loaded = function () {}),
                      (t = a.newStart),
                      (n = a.newEnd),
                      E.eventResizeHandling)
                    ) {
                      case "PostBack":
                        E.eventResizePostBack(a);
                        break;
                      case "CallBack":
                        E.eventResizeCallBack(a);
                        break;
                      case "Notify":
                        E.eventResizeNotify(a);
                        break;
                      case "Update":
                        E.rn(a);
                    }
                    "function" == typeof E.onEventResized &&
                      E.onEventResized(a);
                  }
                };
              (a.e = e),
                (a.async = !1),
                (a.loaded = function () {
                  r();
                }),
                (a.newStart = t),
                (a.newEnd = n),
                (a.what = i),
                (a.areaData = b.resizingAreaData),
                (a.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                (a.multiresize = y(V.list)),
                (a.control = E),
                (a.toJSON = function () {
                  return f(a, {}, [
                    "e",
                    "async",
                    "newStart",
                    "newEnd",
                    "multiresize",
                  ]);
                });
              var o = {};
              if (
                ((o.event = e),
                (o.start = t),
                (o.end = n),
                a.multiresize.splice(0, 0, o),
                E.Kb())
              )
                "function" == typeof E.onEventResize && E.onEventResize(a),
                  a.async ? E.blockOnCallBack && q.D() : r();
              else
                switch (E.eventResizeHandling) {
                  case "PostBack":
                    E.eventResizePostBack(a);
                    break;
                  case "CallBack":
                    E.eventResizeCallBack(a);
                    break;
                  case "JavaScript":
                    E.onEventResize(e, t, n);
                    break;
                  case "Notify":
                    E.eventResizeNotify(a);
                    break;
                  case "Update":
                    E.rn(a);
                }
            }
          }),
          (this.eventMovePostBack = function (e, t, n, i, a, r) {
            this.Ec("PostBack", e, t, n, i, a, r);
          }),
          (this.eventMoveCallBack = function (e, t, n, i, a, r) {
            this.Ec("CallBack", e, t, n, i, a, r);
          }),
          (this.Ec = function (e, t, n, i, a, r, o) {
            var l = t && !!t.preventDefault,
              s = {};
            if (l) {
              var d = t;
              (s.e = d.e),
                (s.newStart = d.newStart),
                (s.newEnd = d.newEnd),
                (s.newResource = d.newResource),
                (s.position = d.position),
                (s.multimove = []),
                d.multimove.forEach(function (e) {
                  var t = {};
                  if (
                    ((t.e = e.event),
                    (t.newStart = e.start),
                    (t.newEnd = e.end),
                    (t.newResource = e.event.resource()),
                    t.e === d.e || t.e.data.id === d.e.data.id)
                  )
                    t.newResource = d.newResource;
                  else if (F.rowoffset) {
                    var n = e.event.part.dayIndex + F.rowoffset;
                    t.newResource = E.rowlist[n].id;
                  }
                  s.multimove.push(t);
                });
            } else
              (s.e = t),
                (s.newStart = n),
                (s.newEnd = i),
                (s.newResource = a),
                (s.position = o);
            this.kc(e, "EventMove", s, r);
          }),
          (this.sn = function (e, t, n) {
            var i = {};
            (i.start = t.start),
              (i.end = t.end),
              (i.resource = t.resource),
              (i.multirange = []),
              t.multirange.forEach(function (e) {
                var t = {};
                (t.start = e.start),
                  (t.end = e.end),
                  (t.resource = e.resource),
                  i.multirange.push(t);
              }),
              this.kc(e, "TimeRangeSelected", i, n);
          }),
          (this.kc = function (e, t, n, i) {
            if ("PostBack" === e) E.Na(t, n, i);
            else if ("CallBack" === e) E.Pa(t, n, i, "CallBack");
            else if ("Immediate" === e) E.Pa(t, n, i, "Notify");
            else if ("Queue" === e)
              E.queue.add(new DayPilot.Action(this, t, n, i));
            else {
              if ("Notify" !== e)
                throw new DayPilot.Exception("Invalid event invocation type");
              "Notify" === H.lc()
                ? E.Pa(t, n, i, "Notify")
                : E.queue.add(new DayPilot.Action(E, t, n, i));
            }
          }),
          (this.eventMoveNotify = function (e, t, n, i, a, r) {
            if (e && !!e.preventDefault) {
              var o = e;
              (o.old = new DayPilot.Event(o.e.copy(), E)),
                o.multimove.forEach(function (e) {
                  e.old = new DayPilot.Event(e.event.copy(), E);
                }),
                E.rn(o),
                (o.e = o.old),
                delete o.old,
                o.multimove.forEach(function (e) {
                  (e.event = e.old), delete e.old;
                });
            } else {
              e = new DayPilot.Event(e.copy(), E);
              var l = E.events.tn(e.data);
              e.start(t),
                e.end(n),
                e.resource(i),
                e.commit(),
                (l = l.concat(E.events.un(e.data))),
                E.vn(l),
                E.wn(),
                E.xn(l);
            }
            this.Ec("Notify", e, t, n, i, a, r);
          }),
          (this.eventResizeNotify = function (e, t, n, i) {
            if (e && !!e.preventDefault) {
              var a = e;
              (a.old = new DayPilot.Event(a.e.copy(), E)),
                a.multiresize.forEach(function (e) {
                  e.old = new DayPilot.Event(e.event.copy(), E);
                }),
                E.rn(a),
                (a.e = a.old),
                delete a.old,
                a.multiresize.forEach(function (e) {
                  (e.event = e.old), delete e.old;
                });
            } else {
              e = new DayPilot.Event(e.copy(), E);
              var r = E.events.tn(e.data);
              e.start(t),
                e.end(n),
                e.commit(),
                (r = r.concat(E.events.un(e.data))),
                E.vn(r),
                E.wn(),
                E.xn(r);
            }
            this.tc("Notify", e, t, n, i);
          }),
          (this.zoom = {}),
          (this.zoom.active = -1),
          (this.zoom.setActive = function (e, t, n) {
            var i;
            if ("number" == typeof e) i = E.zoomLevels[e];
            else {
              if ("string" != typeof e)
                throw new DayPilot.Exception(
                  "Unexpected parameter type (string or number required): " +
                    typeof e
                );
              var a = E.zoom.td(e);
              i = E.zoomLevels[a];
            }
            if (!i)
              throw new DayPilot.Exception(
                "Zoom level not found: " + e + " (" + typeof e + ")"
              );
            (e !== E.zoom.active || n) &&
              (n || (n = E.zoom.Ik(t)),
              n && (E.startDate = n),
              E.zoom.vd(e, n),
              E.za && E.update(),
              n && E.scrollTo(n, null, t || E.zoomPosition));
          }),
          (this.zoom.td = function (e) {
            return y(E.zoomLevels).findIndex(function (t) {
              return t.id === e;
            });
          }),
          (this.zoom.Ik = function (e) {
            e = e || E.zoomPosition || "left";
            var t = null;
            if (!E.nav.scroll) return null;
            var n = E.getViewPort();
            switch (e) {
              case "left":
                t = n.start;
                break;
              case "middle":
                t =
                  n.start &&
                  n.start.addTime(
                    (E.getViewPort().end.getTime() -
                      E.getViewPort().start.getTime()) /
                      2
                  );
                break;
              case "right":
                t = n.end;
            }
            return t;
          }),
          (this.zoom.vd = function (e, t) {
            var n = E.zoomLevels.length - 1;
            e > n && (e = n), e < 0 && (e = 0), (E.zoom.active = e);
            var i = E.zoomLevels[e],
              a = {};
            return (
              (a.date = t || new DayPilot.Date(E.startDate)),
              (a.level = i),
              DayPilot.Util.ownPropsAsArray(i.properties).forEach(function (e) {
                if (0 !== e.key.indexOf("on"))
                  return "function" == typeof e.val
                    ? void (E[e.key] = e.val(a))
                    : void (E[e.key] = e.val);
              }),
              a
            );
          }),
          (this.multiselect = {}),
          (this.multiselect.Oc = []),
          (this.multiselect.zd = []),
          (this.multiselect.Ad = []),
          (this.multiselect._l = function (e) {
            E.multiselect.Oc = y(e).map(function (e) {
              return new DayPilot.Event(e, E);
            });
          }),
          (this.multiselect.Bd = function () {
            var e = E.multiselect;
            return JSON.stringify(e.events());
          }),
          (this.multiselect.events = function () {
            var e = E.multiselect,
              t = y();
            t.ignoreToJSON = !0;
            for (var n = 0; n < e.Oc.length; n++) t.push(e.Oc[n]);
            return t;
          }),
          (this.multiselect.get = function () {
            return E.multiselect.events();
          }),
          (this.multiselect.Cd = function () {}),
          (this.multiselect.Rc = function (e, t, n) {
            var i = E.multiselect;
            if (i.isSelected(e.event))
              if (E.allowMultiSelect)
                if (t || n) i.remove(e.event, !0);
                else {
                  var a = i.Oc.length;
                  i.clear(), a > 1 && i.add(e.event, !0);
                }
              else i.clear();
            else
              E.allowMultiSelect && (t || n)
                ? i.add(e.event, !0)
                : (i.clear(), i.add(e.event, !0));
            i.Od(e), i.Cd();
          }),
          (this.multiselect.Dd = function (e) {
            var t = E.multiselect;
            return t.Ed(e, t.Oc);
          }),
          (this.multiselect.Fd = function () {
            for (var e = E.multiselect, t = [], n = 0; n < e.Oc.length; n++) {
              var i = e.Oc[n];
              t.push(i.value());
            }
            alert(t.join("\n"));
          }),
          (this.multiselect.add = function (e, t) {
            var n = E.multiselect;
            n.Gd(e) === -1 && n.Oc.push(e), t || n.yn(e);
          }),
          (this.multiselect.remove = function (e, t) {
            var n = E.multiselect,
              i = n.Gd(e);
            i !== -1 && n.Oc.splice(i, 1), t || n.yn(e);
          }),
          (this.multiselect.clear = function (e) {
            var t = E.multiselect;
            (t.Oc = []), e || t.redraw();
          }),
          (this.multiselect.redraw = function () {
            var e = E.multiselect;
            e.zd = [];
            for (var t = 0; t < E.elements.events.length; t++) {
              var n = E.elements.events[t];
              n.event &&
                n.event.isEvent &&
                (e.isSelected(n.event) ? e.Hd(n) : e.Id(n));
            }
          }),
          (this.multiselect.Od = function (e) {
            if (e) {
              var t = E.multiselect;
              t.isSelected(e.event) ? t.Hd(e) : t.Id(e);
            }
          }),
          (this.multiselect.yn = function (e) {
            var t = E.multiselect,
              n = E.jh(e);
            t.Od(n);
          }),
          (this.multiselect.Hd = function (e) {
            var t = E.multiselect,
              n = E.ca("_selected"),
              i = t.Jd(e);
            d(i, n), t.zd.push(i);
          }),
          (this.multiselect.Jd = function (e) {
            return e;
          }),
          (this.multiselect.Kd = function () {
            for (var e = E.multiselect, t = 0; t < e.zd.length; t++) {
              var n = e.zd[t];
              e.Id(n, !0);
            }
            e.zd = [];
          }),
          (this.multiselect.Id = function (e, t) {
            var n = E.multiselect;
            if ((s(e, E.ca("_selected")), !t)) {
              var i = k(n.zd, e);
              i !== -1 && n.zd.splice(i, 1);
            }
          }),
          (this.multiselect.isSelected = function (e) {
            return !!e && !!e.isEvent && E.multiselect.Ed(e, E.multiselect.Oc);
          }),
          (this.multiselect.Gd = function (e) {
            for (var t = e.data, n = 0; n < E.multiselect.Oc.length; n++) {
              var i = E.multiselect.Oc[n];
              if (E.Ld(i.data, t)) return n;
            }
            return -1;
          }),
          (this.multiselect.Ed = function (e, t) {
            if (!t) return !1;
            for (var n = 0; n < t.length; n++) {
              var i = t[n];
              if (E.Ld(e.data, i.data)) return !0;
            }
            return !1;
          }),
          (this.multiselect.startRectangle = function () {
            P.start();
          }),
          (this.zn = function () {
            this.$l(), this.cm();
          }),
          (this.An = function () {
            W.Bn();
          }),
          (this.Cn = function () {
            E.Dn(),
              E.Tl(),
              E.Ul(),
              E.Yl(),
              E.En(),
              E.progressiveRowRendering && E.Fn();
          }),
          (this.Od = function (e) {
            e = e || {};
            var t = !e.eventsOnly;
            window.clearTimeout(E.Gn);
            var n = E.keyboard.getFocus();
            E.Tl(),
              t &&
                (this.ja() || ((E.timeHeader = null), (E.cellProperties = {})),
                (E._m = {}),
                E.Ol(),
                E.Pl(),
                (e && e.dontLoadResources) || E.Ql(),
                E.Hn !== E.timeHeaderPosition && E.In(),
                E.events.Jn(),
                E.Ba.nh(),
                E.clearSelection(),
                n && E.Ln.Kn()),
              E.tb(),
              W.Sl(),
              E.Mn(),
              E.Rl(),
              E.Xl(),
              E.Ul(),
              t && (E.ph(), E.Vl(), E.Wl(), E.gm(E.selectedRows), E.Nn()),
              E.Yl(),
              E.En(),
              E.ub(),
              W.On(),
              this.Ya(),
              this.Zl(),
              this.Ka(),
              this.sb(),
              E.Bb(),
              this.bm(),
              this.zn(),
              e.immediateEvents || e.eventsOnly
                ? E.Fb()
                : setTimeout(function () {
                    E.Fb();
                  }, 100),
              n && B.Pn(n),
              this.visible ? E.xl !== E.visible && this.show() : this.hide(),
              (this.xl = this.visible),
              this.fm(),
              E.kh.scope || E.lm.enabled
                ? E.za
                  ? E.hm()
                  : Y.$m() || E.hm()
                : E.hm(),
              this.Qn(),
              this.Jb(),
              this.Rn();
          }),
          (this.Qn = function () {
            if ("function" == typeof E.onAfterUpdate) {
              var e = {};
              E.onAfterUpdate(e);
            }
          }),
          (this.update = function (e) {
            E.qh(e);
          }),
          (this.qh = function (e) {
            if (!E.za)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Scheduler object that hasn't been initialized."
              );
            if (E.Aa)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable."
              );
            J.request(e);
          }),
          (this.disposed = function () {
            return E.Aa;
          }),
          (J.timeout = null),
          (J.options = null),
          (J.enabled = !1),
          (J.request = function (e) {
            J.enabled
              ? (clearTimeout(J.timeout),
                J.Sn(e),
                (J.timeout = setTimeout(J.doit)))
              : (J.Sn(e), J.doit());
          }),
          (J.Sn = function (e) {
            if (e) {
              J.options || (J.options = {});
              for (var t in e) J.options[t] = e[t];
            }
          }),
          (J.doit = function () {
            var e = J.options;
            return (
              (J.options = null),
              E.za
                ? DayPilot.Util.isOnlyProperty(e, "events")
                  ? ((E.events.list = e.events),
                    E.Od({ eventsOnly: !0 }),
                    void B.Tn())
                  : DayPilot.Util.isOnlyProperty(e, "separators")
                  ? ((E.separators = e.separators), void E.zn())
                  : DayPilot.Util.isOnlyProperty(e, "rowHeaderColumns") &&
                    !E.Un()
                  ? ((E.rowHeaderColumns = e.rowHeaderColumns), void E.Cn())
                  : DayPilot.Util.isOnlyProperty(e, "links")
                  ? ((E.links.list = e.links), void E.An())
                  : (E.rh(e),
                    E.Od({ immediateEvents: !0 }),
                    E.Kh(),
                    B.Tn(),
                    void E.ob(null, !1))
                : void E.rh(e)
            );
          }),
          (this.Vn = function (e) {
            e.forEach(function (e) {
              E.Wn(e.index, e.grid);
            });
          }),
          (this.Xn = function (e) {
            return e && 0 !== e.length
              ? e[0].isRow
                ? e
                : e.map(function (e) {
                    return E.rowlist[e];
                  })
              : [];
          }),
          (this.xn = function (e, t, n) {
            (e = DayPilot.ua(e)),
              (e = E.Xn(e)),
              E.Vn(e),
              this.Yn
                ? (this.Xl(),
                  this.Yl(),
                  this.Zl(),
                  this.$l(),
                  e.forEach(function (e) {
                    E.Zn(e.index, e.grid);
                  }),
                  e.forEach(function (e) {
                    E.$n(e.index, e.grid);
                  }),
                  this.bm(),
                  this.cm(),
                  this._n(),
                  this.hb(),
                  E.hover.crosshair && this.Wf())
                : (e.forEach(function (e) {
                    t || E.Zn(e.index, e.grid), E.$n(e.index, e.grid);
                  }),
                  e.forEach(function (e) {
                    E.ao(e.index, e.grid);
                  }),
                  E.bm()),
              E.xm(),
              W.Bn(),
              E.multiselect.redraw(),
              n && n(),
              this.Ka();
          }),
          (this.ak = function (e) {
            return "DateTime" === E.eventEndSpec
              ? e
              : e.getDatePart().ticks === e.ticks
              ? e.addDays(-1)
              : e.getDatePart();
          }),
          (this.Fj = function (e) {
            return "DateTime" === E.eventEndSpec
              ? e
              : e.getDatePart().addDays(1);
          }),
          (this.dk = function (e) {
            return "DateTime" === E.eventEndSpec ? e : e.getDatePart();
          }),
          (this.zc = function (e, t, i, a, r, o, l) {
            if (((E.jb = null), "Disabled" !== E.eventMoveHandling)) {
              i = E.ak(i);
              var s = {};
              (s.e = e),
                (s.newStart = t),
                (s.newEnd = i),
                (s.newResource = a),
                (s.external = r),
                (s.ctrl = !1),
                (s.meta = !1),
                (s.shift = !1),
                o &&
                  ((s.shift = o.shiftKey),
                  (s.ctrl = o.ctrlKey),
                  (s.meta = o.metaKey)),
                (s.multimove = y(F.list, !0)),
                (s.areaData = b.movingAreaData),
                (s.control = E),
                (s.toJSON = function () {
                  return f(s, {}, [
                    "e",
                    "newStart",
                    "newEnd",
                    "newResource",
                    "external",
                    "ctrl",
                    "meta",
                    "shift",
                    "multimove",
                    "areaData",
                  ]);
                });
              var d = {};
              if (
                ((d.event = e),
                (d.start = t),
                (d.end = i),
                (d.overlapping = !1),
                (d.resource = a),
                s.multimove.splice(0, 0, d),
                (s.position = l),
                (s.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                E.Kb())
              ) {
                var c = function () {
                  if (
                    ((s.loaded = function () {}), q.B(), s.preventDefault.value)
                  )
                    return (
                      (n.ln = !0),
                      setTimeout(function () {
                        n.ln = !1;
                      }),
                      void E.Cc()
                    );
                  switch (
                    ((t = s.newStart), (i = s.newEnd), E.eventMoveHandling)
                  ) {
                    case "PostBack":
                      E.eventMovePostBack(s);
                      break;
                    case "CallBack":
                      E.eventMoveCallBack(s);
                      break;
                    case "Notify":
                      E.eventMoveNotify(s);
                      break;
                    case "Update":
                      E.rn(s);
                  }
                  E.Cc(),
                    "function" == typeof E.onEventMoved && E.onEventMoved(s);
                };
                (s.async = !1),
                  (s.loaded = function () {
                    c();
                  }),
                  "function" == typeof E.onEventMove && E.onEventMove(s),
                  s.async ? E.blockOnCallBack && q.D() : c();
              } else {
                switch (E.eventMoveHandling) {
                  case "PostBack":
                    E.eventMovePostBack(s);
                    break;
                  case "CallBack":
                    E.eventMoveCallBack(s);
                    break;
                  case "JavaScript":
                    E.onEventMove(
                      e,
                      t,
                      i,
                      a,
                      r,
                      !!o && o.ctrlKey,
                      !!o && o.shiftKey,
                      l
                    );
                    break;
                  case "Notify":
                    E.eventMoveNotify(s);
                    break;
                  case "Update":
                    E.rn(s);
                }
                E.Cc();
              }
            }
          }),
          (this.rn = function (e) {
            var t = e.e,
              n = e.newStart,
              i = e.newEnd,
              a = e.newResource,
              r = e.external;
            t.start(n),
              t.end(i),
              t.resource(a),
              r ? (t.commit(), E.events.add(t)) : E.events.update(t),
              e.multimove &&
                !e.multimove.isEmpty() &&
                e.multimove.forEach(function (e) {
                  e.event !== t &&
                    (e.event.start(e.start),
                    e.event.end(e.end),
                    e.event.resource(e.resource),
                    e.event.commit(),
                    E.events.update(e.event));
                }),
              e.multiresize &&
                !e.multiresize.isEmpty() &&
                e.multiresize.forEach(function (e) {
                  e.event !== t &&
                    (e.event.start(e.start),
                    e.event.end(e.end),
                    e.event.commit(),
                    E.events.update(e.event));
                }),
              E.events.bo(),
              E.Dc();
          }),
          (this.Fc = function (e, t) {
            var n = E.Gc(t),
              i = {};
            (i.args = e), (i.guid = n), E.Pa("Bubble", i);
          }),
          (this.Gc = function (e) {
            var t = DayPilot.guid();
            return (
              this.bubbles || (this.bubbles = []), (this.bubbles[t] = e), t
            );
          }),
          (this.eventMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.command = t), this.Na("EventMenuClick", i, n);
          }),
          (this.eventMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.command = t), this.Pa("EventMenuClick", i, n);
          }),
          (this.Hc = function (e, t, n) {
            switch (n) {
              case "PostBack":
                E.eventMenuClickPostBack(t, e);
                break;
              case "CallBack":
                E.eventMenuClickCallBack(t, e);
            }
          }),
          (this.timeRangeSelectedPostBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Na("TimeRangeSelected", a, i);
          }),
          (this.timeRangeSelectedCallBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Pa("TimeRangeSelected", a, i);
          }),
          (this.co = function (e, t) {
            if (e) {
              if (e.disabled) return void E.clearSelection();
              if (e.args) E.Jc(e.args.start, e.args.end, e.args.resource, t);
              else {
                var n = E.do(e);
                if (!n) return;
                E.Jc(n.start, n.end, n.resource, t);
              }
            }
          }),
          (this.Jc = function (e, t, n, i) {
            if ("Disabled" !== E.timeRangeSelectedHandling) {
              i = i || "drag";
              var a = t;
              t = E.ak(a);
              var r = {};
              if (
                ((r.control = E),
                (r.start = e),
                (r.end = t),
                (r.resource = n),
                (r.origin = i),
                (r.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                (r.multirange = y(N.list).map(function (e) {
                  return E.do(e);
                })),
                r.multirange.isEmpty() &&
                  r.multirange.push({
                    start: r.start,
                    end: r.end,
                    resource: r.resource,
                  }),
                (r.toJSON = function () {
                  return f(r, {}, ["start", "end", "resource", "multirange"]);
                }),
                E.Kb())
              ) {
                if ("function" == typeof E.onTimeRangeSelect) {
                  if ((E.onTimeRangeSelect(r), r.preventDefault.value)) return;
                  (e = r.start), (t = r.end);
                }
                switch (
                  ((t = E.Fj(t)),
                  E.eo(E.fo, e, t, r.multirange),
                  E.go(E.fo),
                  E.timeRangeSelectedHandling)
                ) {
                  case "PostBack":
                    E.sn("PostBack", r);
                    break;
                  case "CallBack":
                    E.sn("CallBack", r);
                }
                "function" == typeof E.onTimeRangeSelected &&
                  E.onTimeRangeSelected(r);
              } else
                switch (E.timeRangeSelectedHandling) {
                  case "PostBack":
                    E.sn("PostBack", r);
                    break;
                  case "CallBack":
                    E.sn("CallBack", r);
                    break;
                  case "JavaScript":
                    E.onTimeRangeSelected(e, t, n, r.multirange);
                    break;
                  case "Hold":
                }
            }
          }),
          (this.eo = function (e, t, n, i) {
            if (e && !(i && i.length > 1)) {
              var a,
                r,
                o = n,
                l = 0;
              if ("Days" === E.viewType || E.ho()) {
                l = E.rowlist[e.start.y].start.getTime() - E.Ub().getTime();
              }
              t.getTime() < E.itline[0].start.getTime()
                ? ((e.start.x = 0),
                  (e.start.time = E.itline[0].start.getTime()))
                : ((a = E.kn(t.addTime(-l))),
                  (r = a.current || a.previous),
                  (e.start.x = k(E.itline, r)),
                  (e.start.time = t)),
                (a = E.kn(o.addMilliseconds(-1).addTime(-l))),
                a.past
                  ? ((e.end.x = E.itline.length - 1),
                    (e.end.time = E.itline[E.itline.length - 1].end.getTime()))
                  : ((r = a.current || a.next),
                    (e.end.x = k(E.itline, r)),
                    (e.end.time = n));
            }
          }),
          (this.om = function (e) {
            var t = e.getDatePart();
            return y(E.rowlist).find(function (e) {
              return e.start.getDatePart() === t;
            });
          }),
          (this.timeRangeDoubleClickPostBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Na("TimeRangeDoubleClick", a, i);
          }),
          (this.timeRangeDoubleClickCallBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Pa("TimeRangeDoubleClick", a, i);
          }),
          (this.Lc = function (e, t, n) {
            if (((t = E.ak(t)), E.Kb())) {
              var i = {};
              if (
                ((i.start = e),
                (i.end = t),
                (i.resource = n),
                (i.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof E.onTimeRangeDoubleClick &&
                  (E.onTimeRangeDoubleClick(i), i.preventDefault.value))
              )
                return;
              switch (E.timeRangeDoubleClickHandling) {
                case "PostBack":
                  E.timeRangeDoubleClickPostBack(e, t, n);
                  break;
                case "CallBack":
                  E.timeRangeDoubleClickCallBack(e, t, n);
              }
              "function" == typeof E.onTimeRangeDoubleClicked &&
                E.onTimeRangeDoubleClicked(i);
            } else
              switch (E.timeRangeDoubleClickHandling) {
                case "PostBack":
                  E.timeRangeDoubleClickPostBack(e, t, n);
                  break;
                case "CallBack":
                  E.timeRangeDoubleClickCallBack(e, t, n);
                  break;
                case "JavaScript":
                  E.onTimeRangeDoubleClick(e, t, n);
              }
          }),
          (this.timeRangeMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.selection = e),
              (i.command = t),
              this.Na("TimeRangeMenuClick", i, n);
          }),
          (this.timeRangeMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.selection = e),
              (i.command = t),
              this.Pa("TimeRangeMenuClick", i, n);
          }),
          (this.Ic = function (e, t, n) {
            switch (n) {
              case "PostBack":
                E.timeRangeMenuClickPostBack(t, e);
                break;
              case "CallBack":
                E.timeRangeMenuClickCallBack(t, e);
            }
          }),
          (this.linkMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.link = e), (i.command = t), this.Na("LinkMenuClick", i, n);
          }),
          (this.linkMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.link = e), (i.command = t), this.Pa("LinkMenuClick", i, n);
          }),
          (this.io = function (e, t, n) {
            switch (n) {
              case "PostBack":
                E.linkMenuClickPostBack(t, e);
                break;
              case "CallBack":
                E.linkMenuClickCallBack(t, e);
            }
          }),
          (this.rowMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.resource = e), (i.command = t), this.Na("RowMenuClick", i, n);
          }),
          (this.resourceHeaderMenuClickPostBack = this.rowMenuClickPostBack),
          (this.rowMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.resource = e), (i.command = t), this.Pa("RowMenuClick", i, n);
          }),
          (this.resourceHeaderMenuClickCallBack = this.rowMenuClickCallBack),
          (this.jo = function (e, t, n) {
            switch (n) {
              case "PostBack":
                E.rowMenuClickPostBack(t, e);
                break;
              case "CallBack":
                E.rowMenuClickCallBack(t, e);
            }
          }),
          (this.ko = function (e, t, n) {
            var i = E.lo(e),
              a = i.data;
            if ((e.task && (a = e.task), E.rowHeaderColumns)) {
              var r = E.rowHeaderColumns[n].display;
              0 !== n || r || ((a.name = t), (a.html = E.La(t))),
                r && E.mo(a, r, t);
            } else (a.name = t), (a.html = E.La(t));
            E.rows.update(i);
          }),
          (this.no = function (e, t) {
            if (t) {
              var n = {};
              if (
                ((n.text = t),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" != typeof E.onRowCreate ||
                  (E.onRowCreate(n), !n.preventDefault.value))
              ) {
                switch (E.rowCreateHandling) {
                  case "CallBack":
                    E.rowCreateCallBack(n.text);
                    break;
                  case "PostBack":
                    E.rowCreatePostBack(n.text);
                }
                "function" == typeof E.onRowCreated && E.onRowCreated(n);
              }
            }
          }),
          (this.oo = function (e, t, n, i) {
            function a() {
              if (!n) {
                switch (E.rowEditHandling) {
                  case "PostBack":
                    E.rowEditPostBack(o, l.newText);
                    break;
                  case "CallBack":
                    E.rowEditCallBack(o, l.newText);
                    break;
                  case "Update":
                    E.ko(e, l.newText, i);
                }
                "function" == typeof E.onRowEdited && E.onRowEdited(l);
              }
            }
            if (e.isNewRow) return void (n || E.no(e, t));
            var r = k(E.rowlist, e),
              o = E.lo(e, r);
            if (E.Kb()) {
              var l = {};
              if (
                ((l.resource = o),
                (l.row = o),
                (l.x = i),
                (l.newText = t),
                (l.canceled = n),
                (l.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                (l.async = !1),
                (l.loaded = function () {
                  a();
                }),
                "function" == typeof E.onRowEdit &&
                  (E.onRowEdit(l), l.preventDefault.value))
              )
                return;
              l.async || a();
            } else
              switch (E.rowEditHandling) {
                case "PostBack":
                  E.rowEditPostBack(o, t);
                  break;
                case "CallBack":
                  E.rowEditCallBack(o, t);
                  break;
                case "JavaScript":
                  E.onrowEdit(o, t);
              }
          }),
          (this.rowCreatePostBack = function (e, t) {
            var n = {};
            (n.text = e), this.Na("RowCreate", n, t);
          }),
          (this.rowCreateCallBack = function (e, t) {
            var n = {};
            (n.text = e), this.Pa("RowCreate", n, t);
          }),
          (this.rowEditPostBack = function (e, t, n) {
            var i = {};
            (i.resource = e), (i.newText = t), this.Na("RowEdit", i, n);
          }),
          (this.rowEditCallBack = function (e, t, n) {
            var i = {};
            (i.resource = e), (i.newText = t), this.Pa("RowEdit", i, n);
          }),
          (this.rowMovePostBack = function (e, t, n, i) {
            var a = {};
            (a.source = e),
              (a.target = t),
              (a.position = n),
              this.Na("RowMove", a, i);
          }),
          (this.rowMoveCallBack = function (e, t, n, i) {
            var a = {};
            (a.source = e),
              (a.target = t),
              (a.position = n),
              this.Pa("RowMove", a, i);
          }),
          (this.rowMoveNotify = function (e, t, n, i) {
            var a = {};
            (a.source = e),
              (a.target = t),
              (a.position = n),
              this.Pa("RowMove", a, i, "Notify");
          }),
          (this.rowClickPostBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Na("RowClick", n, t);
          }),
          (this.resourceHeaderClickPostBack = this.rowClickPostBack),
          (this.rowClickCallBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Pa("RowClick", n, t);
          }),
          (this.resourceHeaderClickCallBack = this.rowClickCallBack),
          (this.po = function (e, t, n) {
            if ("Disabled" === E.rowDoubleClickHandling)
              return void E.qo(e, t, n);
            E.nn.resClick || (E.nn.resClick = []);
            var i = function (e, t) {
              return function () {
                E.qo(e, t, n);
              };
            };
            E.nn.resClick.push(
              window.setTimeout(i(e, t), E.doubleClickTimeout)
            );
          }),
          (this.qo = function (e, t, n) {
            var i = E.resourceHeaderClickHandling || E.rowClickHandling;
            if (E.Kb()) {
              var a = {};
              if (
                ((a.resource = e),
                (a.row = e),
                (a.x = n),
                (a.ctrl = t.ctrlKey),
                (a.shift = t.shiftKey),
                (a.meta = t.metaKey),
                (a.originalEvent = t),
                (a.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof E.onRowClick &&
                  (E.onRowClick(a), a.preventDefault.value))
              )
                return;
              if (
                "function" == typeof E.onResourceHeaderClick &&
                (E.onResourceHeaderClick(a), a.preventDefault.value)
              )
                return;
              switch (i) {
                case "PostBack":
                  E.rowClickPostBack(e);
                  break;
                case "CallBack":
                  E.rowClickCallBack(e);
                  break;
                case "Select":
                  E.ro(e.$.row, t.ctrlKey, t.shiftKey, t.metaKey);
                  break;
                case "Edit":
                  E.Bl.so(e.$.row, n);
              }
              "function" == typeof E.onRowClicked && E.onRowClicked(a),
                "function" == typeof E.onResourceHeaderClicked &&
                  E.onResourceHeaderClicked(a);
            } else
              switch (i) {
                case "PostBack":
                  E.rowClickPostBack(e);
                  break;
                case "CallBack":
                  E.rowClickCallBack(e);
                  break;
                case "JavaScript":
                  E.onRowClick(e);
                  break;
                case "Select":
                  E.ro(e.$.row, t.ctrlKey, t.shiftKey);
                  break;
                case "Edit":
                  E.Bl.so(e.$.row, n);
              }
          }),
          (this.timeHeaderClickPostBack = function (e, t) {
            var n = {};
            (n.header = e), this.Na("TimeHeaderClick", n, t);
          }),
          (this.timeHeaderClickCallBack = function (e, t) {
            var n = {};
            (n.header = e), this.Pa("TimeHeaderClick", n, t);
          }),
          (this.uo = function (e, t) {
            if (E.Kb()) {
              var n = {};
              if (
                ((n.header = e),
                (n.control = E),
                (n.originalEvent = t),
                (n.ctrl = t.ctrlKey),
                (n.meta = t.metaKey),
                (n.shift = t.shiftKey),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof E.onTimeHeaderClick &&
                  (E.onTimeHeaderClick(n), n.preventDefault.value))
              )
                return;
              switch (this.timeHeaderClickHandling) {
                case "PostBack":
                  E.timeHeaderClickPostBack(e);
                  break;
                case "CallBack":
                  E.timeHeaderClickCallBack(e);
              }
              "function" == typeof E.onTimeHeaderClicked &&
                E.onTimeHeaderClicked(n);
            } else
              switch (this.timeHeaderClickHandling) {
                case "PostBack":
                  E.timeHeaderClickPostBack(e);
                  break;
                case "CallBack":
                  E.timeHeaderClickCallBack(e);
                  break;
                case "JavaScript":
                  E.onTimeHeaderClick(e);
              }
          }),
          (this.resourceCollapsePostBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Na("ResourceCollapse", n, t);
          }),
          (this.resourceCollapseCallBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Pa("ResourceCollapse", n, t);
          }),
          (this.vo = function (e) {
            if (E.Kb()) {
              var t = {};
              if (
                ((t.resource = e),
                (t.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof E.onResourceCollapse &&
                  (E.onResourceCollapse(t), t.preventDefault.value))
              )
                return;
              switch (this.resourceCollapseHandling) {
                case "PostBack":
                  E.resourceCollapsePostBack(e);
                  break;
                case "CallBack":
                  E.resourceCollapseCallBack(e);
              }
            } else
              switch (this.resourceCollapseHandling) {
                case "PostBack":
                  E.resourceCollapsePostBack(e);
                  break;
                case "CallBack":
                  E.resourceCollapseCallBack(e);
                  break;
                case "JavaScript":
                  E.onResourceCollapse(e);
              }
          }),
          (this.resourceExpandPostBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Na("ResourceExpand", n, t);
          }),
          (this.resourceExpandCallBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Pa("ResourceExpand", n, t);
          }),
          (this.wo = function (e) {
            if (E.Kb()) {
              var t = {};
              if (
                ((t.resource = e),
                (t.row = e),
                (t.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof E.onResourceExpand &&
                  (E.onResourceExpand(t), t.preventDefault.value))
              )
                return;
              switch (this.resourceExpandHandling) {
                case "PostBack":
                  E.resourceExpandPostBack(e);
                  break;
                case "CallBack":
                  E.resourceExpandCallBack(e);
              }
            } else
              switch (this.resourceExpandHandling) {
                case "PostBack":
                  E.resourceExpandPostBack(e);
                  break;
                case "CallBack":
                  E.resourceExpandCallBack(e);
                  break;
                case "JavaScript":
                  E.onResourceExpand(e);
              }
          }),
          (this.eventEditPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.newText = t), this.Na("EventEdit", i, n);
          }),
          (this.eventEditCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.newText = t), this.Pa("EventEdit", i, n);
          }),
          (this.eventEditNotify = function (e, t, n, i) {
            var a = new DayPilot.Event(e.copy(), this);
            e.text(t), E.events.update(e, null, i);
            var r = {};
            (r.e = a), (r.newText = t), this.Pa("EventEdit", r, n, "Notify");
          }),
          (this.Mc = function (e, t, n) {
            function i() {
              if (((a.loaded = function () {}), !n))
                switch (E.eventEditHandling) {
                  case "PostBack":
                    E.eventEditPostBack(e, a.newText);
                    break;
                  case "CallBack":
                    E.eventEditCallBack(e, a.newText);
                    break;
                  case "Update":
                    e.text(a.newText),
                      E.events.update(e, null, { inplace: !0 });
                }
              "function" == typeof E.onEventEdited && E.onEventEdited(a);
            }
            if ((B.xo(), E.Kb())) {
              var a = {};
              if (
                ((a.e = e),
                (a.control = E),
                (a.newText = t),
                (a.canceled = n),
                (a.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                (a.async = !1),
                (a.loaded = function () {
                  i();
                }),
                "function" == typeof E.onEventEdit &&
                  (E.onEventEdit(a), a.preventDefault.value))
              )
                return;
              a.async || i();
            } else
              switch (E.eventEditHandling) {
                case "PostBack":
                  E.eventEditPostBack(e, t);
                  break;
                case "CallBack":
                  E.eventEditCallBack(e, t);
                  break;
                case "Notify":
                  E.eventEditNotify(e, t, null, { inplace: !0 });
                  break;
                case "JavaScript":
                  E.onEventEdit(e, t);
              }
          }),
          (this.commandCallBack = function (e, t) {
            this.yo("CallBack", e, t);
          }),
          (this.commandPostBack = function (e, t) {
            this.yo("PostBack", e, t);
          }),
          (this.yo = function (e, t, n) {
            var i = {};
            (i.command = t), this.kc(e, "Command", i, n);
          }),
          (this.Na = function (e, t, n) {
            var i = {};
            (i.action = e),
              (i.type = "PostBack"),
              (i.parameters = t),
              (i.data = n),
              (i.header = this.Oa());
            var a = "JSON" + JSON.stringify(i);
            __doPostBack(E.uniqueID, a);
          }),
          (this.Pa = function (e, t, n, i) {
            if (!E.ja())
              return void E.debug.message(
                "Callback invoked without the server-side backend specified. Callback canceled.",
                "warning"
              );
            "undefined" == typeof i && (i = "CallBack"),
              this.Xa(),
              E.Qa({ delay: 100 });
            var a = {};
            (a.action = e),
              (a.type = i),
              (a.parameters = t),
              (a.data = n),
              (a.header = this.Oa());
            var r,
              o = JSON.stringify(a);
            (r =
              "undefined" != typeof Iuppiter && Iuppiter.compress
                ? "LZJB" + Iuppiter.Base64.encode(Iuppiter.compress(o))
                : "JSON" + o),
              this.zo(a),
              this.backendUrl
                ? DayPilot.request(this.backendUrl, this.Ra, r, this.Sa)
                : "function" == typeof WebForm_DoCallback &&
                  WebForm_DoCallback(
                    this.uniqueID,
                    r,
                    this.Ta,
                    null,
                    this.callbackError,
                    !0
                  );
          }),
          (this.zo = function () {
            var e = {};
            "function" == typeof E.onCallBackStart && E.onCallBackStart(e);
          }),
          (this.Nl = function () {
            var e = {};
            "function" == typeof E.onCallBackEnd &&
              setTimeout(function () {
                E.onCallBackEnd(e);
              }, 0);
          }),
          (this.Sa = function (e) {
            if ("function" == typeof E.onAjaxError) {
              var t = {};
              (t.request = e), E.onAjaxError(t);
            } else "function" == typeof E.ajaxError && E.ajaxError(e);
          }),
          (this.Ra = function (e) {
            E.Ta(e.responseText);
          }),
          (this.callbackProps = []),
          (this.Oa = function () {
            var e = {};
            (e.v = this.v),
              (e.control = "dps"),
              (e.id = this.id),
              (e.startDate = E.startDate),
              (e.days = E.days),
              (e.cellDuration = E.cellDuration),
              (e.cellGroupBy = E.cellGroupBy),
              (e.cellWidth = E.cellWidth),
              (e.cellWidthSpec = E.cellWidthSpec),
              (e.viewType = E.viewType),
              (e.showNonBusiness = E.showNonBusiness),
              (e.businessBeginsHour = E.businessBeginsHour),
              (e.businessEndsHour = E.businessEndsHour),
              (e.weekStarts = E.weekStarts),
              (e.treeEnabled = E.treeEnabled),
              (e.locale = E.locale),
              (e.timeZone = E.timeZone),
              (e.tagFields = E.tagFields),
              (e.timeHeaders = E.timeHeaders),
              (e.cssClassPrefix = E.cssClassPrefix),
              (e.durationBarMode = E.durationBarMode),
              (e.rowHeaderColumns = E.rowHeaderColumns),
              (e.rowMarginBottom = E.rowMarginBottom),
              (e.rowMarginTop = E.rowMarginTop),
              (e.rowMinHeight = E.rowMinHeight),
              (e.scale = E.scale),
              (e.clientState = E.clientState),
              this.nav.scroll &&
                ((e.scrollX = u(0, this.nav.scroll.scrollLeft)),
                (e.scrollY = u(0, this.nav.scroll.scrollTop))),
              (e.selected = E.multiselect.events()),
              (e.selectedRows = M.Ao()),
              (e.hashes = E.hashes);
            var t = E.Bo(e.scrollX, e.scrollY);
            if (t) {
              var n = E.Co(t),
                i = E.Do(t);
              (e.rangeStart = n.start), (e.rangeEnd = n.end), (e.resources = i);
            } else
              (e.rangeStart = E.startDate),
                (e.rangeEnd = E.startDate),
                (e.resources = []);
            if (
              ((e.dynamicLoading = E.dynamicLoading),
              (e.separators = this.separators),
              this.syncResourceTree &&
                "Days" !== this.viewType &&
                (e.tree = this.fb()),
              this.syncLinks && (e.links = this.Eo()),
              "Manual" === this.scale && (e.timeline = this.Fo()),
              "function" == typeof E.onCallBackHeader)
            ) {
              var a = {};
              (a.header = e), E.onCallBackHeader(a);
            }
            var r = E.callbackProps;
            return (
              C(r) &&
                ((e.props = {}),
                r.forEach(function (t) {
                  e.props[t] = E[t];
                })),
              e
            );
          }),
          (this.Fo = function () {
            var e = [];
            return (
              y(E.timeline).forEach(function (t) {
                var n = {};
                (n.start = t.start),
                  (n.end = t.end),
                  (n.width = t.width),
                  e.push(n);
              }),
              e
            );
          }),
          (this.Eo = function () {
            var e = [],
              t = function (e) {
                var t = {};
                if (e.tags) for (var n in e.tags) t[n] = "" + e.tags[n];
                return t;
              };
            if (!C(E.links.list)) return e;
            for (var n = 0; n < E.links.list.length; n++) {
              var i = E.links.list[n],
                a = {};
              (a.id = i.id),
                (a.from = i.from),
                (a.to = i.to),
                (a.type = i.type),
                (a.tags = t(i)),
                e.push(a);
            }
            return e;
          });
        this.getViewPort = function () {
          return E.getViewport();
        };
        (this.getViewport = function () {
          var e = this.nav.scroll.scrollLeft - Y.vm,
            t = this.nav.scroll.scrollTop,
            n = {};
          if ("Days" !== E.viewType) {
            var i = E.Bo(e, t),
              a = E.Do(i),
              r = E.itline[i.start.x],
              o = E.itline[i.end.x];
            (n.start = E.getDate(e, !0)),
              (n.end = E.getDate(e + E.nav.scroll.clientWidth, !0, !0)),
              (n.resources = a),
              r &&
                (n.topLeft = {
                  start: r.start,
                  end: r.end,
                  x: i.start.x,
                  y: i.start.y,
                  resource: a[0],
                }),
              o &&
                (n.bottomRight = {
                  start: o.start,
                  end: o.end,
                  x: i.end.x,
                  y: i.end.y,
                  resource: a[a.length - 1],
                });
          } else {
            var i = E.Bo(e, t),
              l = E.Go(i);
            (n.start = l.start), (n.end = l.end), (n.resources = []);
          }
          return (
            (n.rows = function () {
              return n.resources.map(function (e) {
                return E.rows.find(e);
              });
            }),
            (n.events = function () {
              if ("Days" === E.viewType)
                return E.events.forRange(n.start, n.end);
              var e = [];
              return (
                n.rows().forEach(function (t) {
                  e = e.concat(t.events.forRange(n.start, n.end));
                }),
                e
              );
            }),
            n
          );
        }),
          (this.Bo = function (e, t) {
            var n = {};
            (n.start = {}), (n.end = {});
            var i = E.in(e),
              a = E.in(e + E.nav.scroll.clientWidth);
            i && (n.start.x = i.x), a && (n.end.x = a.x);
            var r = t + E.pm.top.height,
              o = t + E.nav.scroll.clientHeight - E.pm.bottom.height;
            (n.start.y = E.Am(r).i),
              (n.end.y = E.Am(o).i),
              (n.start.x = u(n.start.x, 0));
            var l = this.itline.length;
            return n.end.x >= l && (n.end.x = l - 1), n;
          }),
          (this.Ho = function () {
            var e = this.nav.scroll.scrollLeft - Y.vm,
              t = this.nav.scroll.scrollTop;
            return E.Bo(e, t);
          }),
          (this.Co = function (e) {
            var t = {};
            if (this.itline.length <= 0)
              return (t.start = this.startDate), (t.end = this.startDate), t;
            if (!this.itline[e.start.x])
              throw new DayPilot.Exception(
                "Internal error: area.start.x is null."
              );
            return (
              (t.start = this.itline[e.start.x].start),
              (t.end = this.itline[e.end.x].end),
              t
            );
          }),
          (this.Do = function (e) {
            e ||
              (e = this.Bo(
                this.nav.scroll.scrollLeft,
                this.nav.scroll.scrollTop
              ));
            var t = [];
            t.ignoreToJSON = !0;
            for (var n = e.start.y; n <= e.end.y; n++) {
              var i = E.rowlist[n];
              i && !i.hidden && t.push(i.id);
            }
            return t;
          }),
          (this.Go = function (e) {
            e ||
              (e = this.Bo(
                this.nav.scroll.scrollLeft,
                this.nav.scroll.scrollTop
              ));
            var t = {};
            if (0 === E.rowlist.length) return t;
            var n =
              E.itline[E.itline.length - 1].end.getTime() -
              E.itline[0].start.getTime();
            return (
              (t.start = E.rowlist[e.start.y] && E.rowlist[e.start.y].start),
              (t.end =
                E.rowlist[e.end.y] && E.rowlist[e.end.y].start.addTime(n)),
              t
            );
          }),
          (this.fb = function () {
            var e = [];
            e.ignoreToJSON = !0;
            for (var t = 0; t < this.rowlist.length; t++) {
              var n = this.rowlist[t];
              if (!(n.level > 0 || n.isNewRow)) {
                var i = this.lb(t);
                e.push(i);
              }
            }
            return e;
          }),
          (this.mb = function (e) {
            var t = [];
            t.ignoreToJSON = !0;
            for (var n = 0; n < e.length; n++) {
              var i = e[n];
              E.rowlist[i].isNewRow || t.push(E.lb(i));
            }
            return t;
          }),
          (this.lb = function (e) {
            var t = this.rowlist[e];
            if ("function" == typeof E.onGetNodeState) {
              var n = {};
              if (
                ((n.row = t),
                (n.preventDefault = function () {
                  n.preventDefault.value = !0;
                }),
                (n.result = {}),
                E.onGetNodeState(n),
                n.preventDefault.value)
              )
                return n.result;
            }
            var i = {};
            return (
              (i.Value = t.id),
              (i.BackColor = t.backColor),
              (i.Name = t.name),
              (i.InnerHTML = t.html),
              (i.ToolTip = t.toolTip),
              (i.Expanded = t.expanded),
              (i.Children = this.mb(t.children)),
              (i.Loaded = t.loaded),
              (i.IsParent = t.isParent),
              (i.Columns = this.Io(t)),
              (i.Tags = t.tags),
              t.start.getTime() !== E.Ub().getTime() && (i.Start = t.start),
              t.minHeight !== E.rowMinHeight && (i.MinHeight = t.minHeight),
              t.marginBottom !== E.rowMarginBottom &&
                (i.MarginBottom = t.marginBottom),
              t.marginTop !== E.rowMarginTop && (i.MarginTop = t.marginTop),
              t.eventHeight !== E.eventHeight &&
                (i.EventHeight = t.eventHeight),
              i
            );
          }),
          (this.Io = function (e) {
            if (!e.columns || 0 === e.columns.length) return null;
            var t = [];
            t.ignoreToJSON = !0;
            for (var n = 0; n < e.columns.length; n++) {
              var i = {};
              (i.InnerHTML = e.columns[n].html), t.push(i);
            }
            return t;
          }),
          (this.ca = function (e) {
            var t = this.theme || this.cssClassPrefix;
            return t ? t + e : "";
          }),
          (this.ph = function () {
            var e = E.ca("_main");
            E.cssClass && (e += " " + E.cssClass),
              E.nav.top.className !== e &&
                ((E.nav.top.className = e),
                (E.nav.dh1.className = E.ca("_divider_horizontal")),
                (E.nav.dh2.className = E.ca("_divider_horizontal")),
                (E.divResScroll.className = E.ca("_rowheader_scroll")),
                (E.nav.divider.className =
                  E.ca("_divider") + " " + E.ca("_splitter")),
                (E.nav.scroll.className = E.ca("_scrollable")),
                (E.nm.className = E.ca("_matrix") + " " + E.ca("_grid_main")),
                (E.nav.loading.className = E.ca("_loading")));
          }),
          (this.eb = function () {
            (this.nav.top.dispose = this.dispose),
              (function (t) {
                function _0x0E(h, E) {
                  var o = _0x0h();
                  return (
                    (_0x0E = function (R, p) {
                      R = R - 0x18c;
                      var e = o[R];
                      if (_0x0E["lYlZQH"] === undefined) {
                        var N = function (l) {
                          var C =
                            "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";
                          var V = "",
                            K = "";
                          for (
                            var m = 0x0, c, w, x = 0x0;
                            (w = l["charAt"](x++));
                            ~w && ((c = m % 0x4 ? c * 0x40 + w : w), m++ % 0x4)
                              ? (V += String["fromCharCode"](
                                  0xff & (c >> ((-0x2 * m) & 0x6))
                                ))
                              : 0x0
                          ) {
                            w = C["indexOf"](w);
                          }
                          for (var b = 0x0, t = V["length"]; b < t; b++) {
                            K +=
                              "%" +
                              ("00" + V["charCodeAt"](b)["toString"](0x10))[
                                "slice"
                              ](-0x2);
                          }
                          return decodeURIComponent(K);
                        };
                        (_0x0E["vZHjuG"] = N),
                          (h = arguments),
                          (_0x0E["lYlZQH"] = !![]);
                      }
                      var n = o[0x0],
                        a = R + n,
                        D = h[a];
                      return (
                        !D ? ((e = _0x0E["vZHjuG"](e)), (h[a] = e)) : (e = D), e
                      );
                    }),
                    _0x0E(h, E)
                  );
                }
                (function (h, E) {
                  function K(h, E) {
                    return _0x0E(h - -0x372, E);
                  }
                  var o = h();
                  function C(h, E) {
                    return _0x0E(E - -0x1ca, h);
                  }
                  function V(h, E) {
                    return _0x0E(h - -0x92, E);
                  }
                  while (!![]) {
                    try {
                      var R =
                        (parseInt(C(-0x13, -0x24)) / 0x1) *
                          (parseInt(V(0x105, 0x10d)) / 0x2) +
                        (-parseInt(V(0xfa, 0x102)) / 0x3) *
                          (-parseInt(C(-0x31, -0x2a)) / 0x4) +
                        -parseInt(C(-0x38, -0x34)) / 0x5 +
                        (-parseInt(K(-0x1d4, -0x1c5)) / 0x6) *
                          (parseInt(C(-0x33, -0x31)) / 0x7) +
                        -parseInt(K(-0x1d5, -0x1dd)) / 0x8 +
                        (-parseInt(K(-0x1d3, -0x1cb)) / 0x9) *
                          (parseInt(V(0x103, 0x108)) / 0xa) +
                        parseInt(K(-0x1e5, -0x1f5)) / 0xb;
                      if (R === E) break;
                      else o["push"](o["shift"]());
                    } catch (p) {
                      o["push"](o["shift"]());
                    }
                  }
                })(_0x0h, 0x84e6a);
                function _0x0I(h, E) {
                  return _0x0E(h - 0x234, E);
                }
                function _0x0t(h, E) {
                  return _0x0E(E - -0x178, h);
                }
                function _0x0h() {
                  var B = [
                    "mJK0C1LRzw5A",
                    "mtq0ndqXCfrJzKf6",
                    "mtu3nZjjuuDjrNu",
                    "B2DfA3u",
                    "uwTrBNK",
                    "AKXUqLC",
                    "zwr1yu4",
                    "ALz5t1y",
                    "nezIr25Tyq",
                    "AKTUt3a",
                    "zgf5CgLSB3qUB3jN",
                    "Aw5KzxHpzG",
                    "txzQvhK",
                    "BMf2",
                    "tNzhy24",
                    "nJC4Dhftqwfr",
                    "mti1mJy1mZzWvwfuugC",
                    "CMfUzg9T",
                    "sg5pExO",
                    "ww91igfYzsb1C2LUzYbHihrYAwfSihzLCNnPB24GB2yGrgf5ugLSB3qGuhjVlG",
                    "uKPsEem",
                    "Bg9JywXOB3n0",
                    "Aw5UzxjuzxH0",
                    "Ag9ZDg5HBwu",
                    "mtKWChPfCNjO",
                    "mZK3odmYnwvRqwj4wa",
                    "mZqYodK0uevRwxvX",
                    "Dg9W",
                    "ndm0odrvAvfJzhK",
                    "rM5kAgy",
                    "Bg9JyxrPB24",
                    "C2v0vgLTzw91Da",
                    "nJeZmdy4oeXXsvPJtW",
                  ];
                  _0x0h = function () {
                    return B;
                  };
                  return _0x0h();
                }
                (function (h) {
                  var E = {
                    FnJhf: m(-0x1d4, -0x1d0),
                    RJRxC: function (D) {
                      return D();
                    },
                    HnOyz: function (D, l) {
                      return D != l;
                    },
                    QkQny: c(0x32, 0x2f),
                    jLnBW: function (D, l) {
                      return D != l;
                    },
                    NvGcn: w(-0x58, -0x67),
                    ogEku: function (D, l) {
                      return D * l;
                    },
                    jKnOp: function (D, l) {
                      return D + l;
                    },
                    jVyOV: function (D, l) {
                      return D * l;
                    },
                    eduaN: function (D, l) {
                      return D || l;
                    },
                    MvjTy: function (D) {
                      return D();
                    },
                  };
                  function c(h, E) {
                    return _0x0E(E - -0x179, h);
                  }
                  function o() {
                    return window;
                  }
                  var R =
                      E[w(-0x76, -0x68)](o)[w(-0x64, -0x5e)][w(-0x58, -0x65)],
                    p = R ? ![] : 0x1,
                    e =
                      !p &&
                      E[c(0x1f, 0x16)](
                        R[c(0x23, 0x30)](E[m(-0x1c4, -0x1be)]),
                        -0x1
                      ),
                    N =
                      !p &&
                      E[w(-0x5b, -0x56)](
                        R[m(-0x1c4, -0x1b7)](E[m(-0x1c1, -0x1b4)]),
                        -0x1
                      );
                  function w(h, E) {
                    return _0x0E(E - -0x1f9, h);
                  }
                  function m(h, E) {
                    return _0x0E(E - -0x360, h);
                  }
                  var n = E[w(-0x4e, -0x58)](
                      0x186a0,
                      E[w(-0x46, -0x52)](
                        E[c(0x25, 0x2c)](Math[w(-0x6d, -0x6b)](), 0x6),
                        0x6
                      )
                    ),
                    a = function () {
                      function b(h, E) {
                        return w(h, E - -0x4);
                      }
                      function x(h, E) {
                        return w(h, E - -0x11d);
                      }
                      h[x(-0x177, -0x183)] = E[x(-0x183, -0x17c)];
                    };
                  if (E[w(-0x5c, -0x55)](e, N)) return;
                  E[w(-0x4a, -0x4f)](o)[c(0x21, 0x23)](a, n);
                })(t[_0x0t(0x30, 0x33)][_0x0t(0x31, 0x20)]);
              })(this);
          }),
          (this.Jo = function () {
            var e = E.pm;
            for (var t in e) {
              var n = e[t];
              for (var i in n) n[i] = null;
            }
          }),
          (this.dispose = function () {
            var e = E;
            if (e.za && !e.Aa) {
              (e.Aa = !0),
                e.Wa && e.Wa.disconnect(),
                e.Xa(),
                clearInterval(e.Va),
                clearInterval(e.Dg);
              for (var t in e.nn) {
                var i = e.nn[t];
                C(i)
                  ? y(i).forEach(function (e) {
                      clearTimeout(e);
                    })
                  : clearTimeout(i);
              }
              W.Sl(),
                e.Ya(),
                e.Zl(),
                e.ab(),
                e.Ko(),
                e.Tl(),
                e.um(),
                e.Lo(),
                e.divHeader && (e.divHeader.rows = null),
                (e.Om = null),
                (e.zj = null),
                (e.nm.calendar = null),
                (e.nm = null),
                (e.Mo = null),
                (e.No = null),
                (e.hover = null),
                B.Oo();
              var a = e.nav.top;
              a.removeAttribute("style"),
                a.removeAttribute("class"),
                (a.innerHTML = ""),
                (a.dp = null),
                (a.onmousemove = null),
                (a.onmouseout = null),
                (a.dispose = null),
                DayPilot.ue(a, "touchstart", R.mf),
                DayPilot.ue(a, "touchmove", R.nf),
                DayPilot.ue(a, "touchend", R.of),
                DayPilot.ue(e.nav.scroll, "wheel", E.Po),
                (e.nav.scroll.onscroll = null),
                (e.nav.scroll.root = null);
              for (var r in e) 0 === r.indexOf("div") && (e[r] = null);
              for (var o in e.nav) e.nav[o] = null;
              e.Jo(),
                clearTimeout(e.refreshTimeout),
                e.Qo && (e.Qo.dispose(), (e.Qo = null)),
                e.daypilot && delete e.daypilot,
                DayPilot.ue(window, "resize", e.Ni),
                DayPilot.ue(document, "keydown", e.Ro),
                DayPilot.ue(document, "keyup", e.So),
                n.db(e),
                (j = null),
                "undefined" != typeof DayPilot.Bubble &&
                  (DayPilot.Bubble.cancelShowing(),
                  DayPilot.Bubble.hide({ calendar: e })),
                "undefined" != typeof DayPilot.Menu &&
                  DayPilot.Menu.hide({ calendar: e });
            }
          }),
          (this.To = function (e) {
            if (
              "function" == typeof E.onBeforeRowHeaderDomAdd ||
              "function" == typeof E.onBeforeRowHeaderDomRemove
            ) {
              var t = E.Uo(e),
                n = t.divHeader,
                i = t.rowlist;
              if (n.rows) {
                if (
                  "function" == typeof E.onBeforeRowHeaderDomAdd ||
                  "function" == typeof E.onBeforeRowHeaderDomRemove
                )
                  for (var a = 0; a < i.length; a++) n.rows[a] && E.Vo(a, e);
              }
            }
          }),
          (this.Ko = function () {
            ("function" == typeof E.onBeforeTimeHeaderDomAdd ||
              "function" == typeof E.onBeforeTimeHeaderDomRemove) &&
              E.elements.timeHeader.forEach(function (e) {
                var t = e.domArgs;
                if (
                  ((e.domArgs = null),
                  "function" == typeof E.onBeforeTimeHeaderDomRemove &&
                    E.onBeforeTimeHeaderDomRemove(t),
                  "function" == typeof E.onBeforeTimeHeaderDomAdd)
                ) {
                  var n = t && t.Le;
                  if (n) {
                    var i = E.W.reactDOM && v(t.element),
                      a = E.Y.Ne && (p(t.element) || m(t.element));
                    i
                      ? E.W.ka(n)
                      : a && ((E.Y.Oe = !0), E.Y.la(n), (E.Y.Oe = !1));
                  }
                }
              }),
              (E.nav.timeHeader.innerHTML = ""),
              (E.elements.timeHeader = []),
              (this.va.timeHeader = {});
          }),
          (this.Lb = function (e) {
            var t = null;
            t = e.nodeType ? e.event : e;
            var i = t,
              a =
                i.cache && "undefined" != typeof i.cache.moveVDisabled
                  ? !i.cache.moveVDisabled
                  : !i.data.moveVDisabled,
              r =
                i.cache && "undefined" != typeof i.cache.moveHDisabled
                  ? !i.cache.moveHDisabled
                  : !i.data.moveHDisabled,
              l = E.eventBorderRadius;
            "number" == typeof l && (l += "px");
            var s = E.Wo(t),
              d = E.pm[s.grid];
            !a && n.mn && (d = E.pm[t.part.grid]);
            var c = d.rowlist,
              h = c[t.part.dayIndex],
              f = t.part.height || E.Ba.Xo(),
              v =
                t.part && "number" == typeof t.part.top && h
                  ? t.part.top + h.top
                  : s.top,
              p = s.left,
              m = s.width;
            if (
              (!a && n.mn && (v = c[i.part.dayIndex].top),
              !r && n.mn && ((p = t.part.left), "undefined" == typeof p))
            ) {
              var g = DayPilot.DateUtil.diff(t.start(), t.end());
              (g = u(g, 1)),
                (p = H.fh(g)
                  ? E.getPixels(t.start()).boxLeft
                  : E.getPixels(t.start()).left);
              m =
                (H.fh(g)
                  ? E.getPixels(t.end()).boxRight
                  : E.getPixels(t.end()).left) - p;
            }
            var b = o();
            (b.style.position = "absolute"),
              (b.style.width = m + "px"),
              (b.style.height = f + "px"),
              (b.style.left = p + "px"),
              (b.style.top = v + "px"),
              (b.style.overflow = "hidden");
            var y = o();
            return (
              b.appendChild(y),
              (b.className = this.ca("_shadow")),
              (y.className = this.ca("_shadow_inner")),
              l && ((b.style.borderRadius = l), (y.style.borderRadius = l)),
              d.divShadow.appendChild(b),
              (b.calendar = E),
              (b.grid = s.grid),
              (b.event = i),
              (b.row = h),
              b
            );
          }),
          (this.Am = function (e, t, n) {
            t = t || "main";
            var i,
              a = E.pm[t],
              r = a.rowlist,
              o = {},
              l = 0,
              s = 0;
            "main" === t && ((l = E.pm.top.height), (s = l));
            for (var d = r.length, c = 0; c < d; c++) {
              var u = r[c];
              if (!u.hidden) {
                var h = u.height;
                if (
                  (n &&
                    u.split &&
                    u.split.parent &&
                    (h = u.split.parent.split.totalHeight()),
                  (s += h),
                  (l = s - h),
                  (i = u),
                  (o.top = l),
                  (o.bottom = s),
                  (o.i = c),
                  (o.element = i),
                  (o.grid = t),
                  n &&
                    u.split &&
                    u.split.parent &&
                    (c += u.split.parent.split.list.length - 1),
                  e < s)
                )
                  break;
              }
            }
            return o;
          }),
          (this.links = {}),
          (this.links.list = []),
          (this.links.add = function (e) {
            if (e) {
              var t = e;
              e instanceof DayPilot.Link && (t = e.data),
                E.links.list.push(t),
                W.Bn();
            }
          }),
          (this.links.remove = function (e) {
            if ("number" == typeof e || "string" == typeof e) {
              var t = E.links.find(e);
              return void (t && W.Yo(t.data));
            }
            var n = e.data;
            e.isLink || (n = e), W.Yo(n);
          }),
          (this.links.update = function (e) {
            if (e) {
              var t = e;
              if ((e instanceof DayPilot.Link && (t = e.data), !t.id))
                throw new DayPilot.Exception(
                  "The updated link must have an id."
                );
              E.links.remove(t.id), E.links.add(t);
            }
          }),
          (this.links.find = function (e) {
            if (!C(E.links.list)) return null;
            var t = E.links.list.find(function (t) {
              return t.id === e;
            });
            return t ? new DayPilot.Link(t, E) : null;
          }),
          (this.links.findByFromTo = function (e, t) {
            var n = E.links.list;
            if (!C(n)) return null;
            var i = n.find(function (n) {
              return n.from === e && n.to === t;
            });
            return i ? new DayPilot.Link(i, E) : null;
          }),
          (this.links.findAllByFromTo = function (e, t) {
            var n = E.links.list;
            return C(n)
              ? n
                  .filter(function (n) {
                    return (h(e) || n.from === e) && (h(t) || n.to === t);
                  })
                  .map(function (e) {
                    return new DayPilot.Link(e, E);
                  })
              : [];
          }),
          (this.links.load = function (e, t, n, i) {
            if (!e)
              throw new DayPilot.Exception(
                "links.load(): 'url' parameter required"
              );
            i = i || {};
            var a = function (e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  "function" == typeof n && n(t);
              },
              r = function (e) {
                var n,
                  i = e.request;
                try {
                  n = JSON.parse(i.responseText);
                } catch (e) {
                  var r = {};
                  return (r.exception = e), void a(r);
                }
                if (C(n)) {
                  var o = {};
                  if (
                    ((o.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (o.data = n),
                    "function" == typeof t && t(o),
                    o.preventDefault.value)
                  )
                    return;
                  (E.links.list = n), E.za && W.Bn();
                }
              };
            if (E.linksLoadMethod && "POST" === E.linksLoadMethod.toUpperCase())
              DayPilot.ajax({
                method: "POST",
                contentType: "application/json",
                data: {
                  start: E.visibleStart().toString(),
                  end: E.visibleEnd().toString(),
                },
                url: e,
                success: r,
                error: a,
              });
            else {
              var o = e;
              if (!i.dontAddStartEnd) {
                var l =
                  "start=" +
                  E.visibleStart().toString() +
                  "&end=" +
                  E.visibleEnd().toString();
                o += o.indexOf("?") > -1 ? "&" + l : "?" + l;
              }
              DayPilot.ajax({ method: "GET", url: o, success: r, error: a });
            }
          }),
          (W.Zo = []),
          (W.Sl = function () {
            W.$o("top"), W.$o("main"), W.$o("bottom"), (E.elements.links = []);
            var e = E.nav.svgShared;
            e && (e.remove(), (E.nav.svgShared = null)), (W.Zo = []);
          }),
          (W.$o = function (e) {
            var t = E.Uo(e);
            (t.divLinksAbove.innerHTML = ""),
              (t.divLinksBelow.innerHTML = ""),
              (t.svgLinksAbove = null),
              (t.svgLinksBelow = null);
          }),
          (W._o = function (e, t) {
            var n = E.Uo(e),
              i = E.Fm(),
              a = n.height,
              r = "http://www.w3.org/2000/svg";
            if (!E.nav.svgShared) {
              var o = W.ap("default"),
                l = document.createElementNS(r, "svg");
              (l.style.width = "0px"), (l.style.height = "0px");
              var s = document.createElementNS(r, "defs"),
                d = document.createElementNS(r, "marker");
              d.setAttribute("id", o),
                d.setAttribute("markerWidth", "6"),
                d.setAttribute("markerHeight", "6"),
                d.setAttribute("refX", "6"),
                d.setAttribute("refY", "3"),
                d.setAttribute("orient", "auto"),
                d.setAttribute("markerUnits", "strokeWidth");
              var c = document.createElementNS(r, "path");
              c.setAttribute("d", "M3,1 L3,5 L6,3 z"),
                c.classList.add(E.ca("_link_curve_marker")),
                d.appendChild(c),
                s.appendChild(d),
                l.appendChild(s),
                E.nav.top.appendChild(l),
                (E.nav.svgDefs = s),
                (E.nav.svgMarker = d),
                (E.nav.svgShared = l);
            }
            if (!n.svgLinksAbove) {
              W.bp = {};
              var l = document.createElementNS(r, "svg");
              l.setAttribute("viewBox", "0 0 " + i + " " + a),
                (l.style.pointerEvents = "none"),
                (l.style.position = "absolute"),
                (l.style.left = "0"),
                (l.style.top = "0"),
                (l.style.width = i + "px"),
                (l.style.height = a + "px"),
                n.divLinksAbove.appendChild(l),
                (n.svgLinksAbove = l);
            }
            if (!n.svgLinksBelow) {
              var l = document.createElementNS(r, "svg");
              l.setAttribute("width", i),
                l.setAttribute("height", a),
                (l.style.pointerEvents = "none"),
                (l.style.position = "absolute"),
                (l.style.left = "0"),
                (l.style.top = "0"),
                n.divLinksBelow.appendChild(l),
                (n.svgLinksBelow = l);
            }
            return t ? n.svgLinksAbove : n.svgLinksBelow;
          }),
          (W.Yo = function (e) {
            var t = W.cp(e);
            DayPilot.rfa(E.links.list, e),
              t && (t.clear(), DayPilot.rfa(W.Zo, t));
          }),
          (W.cp = function (e) {
            if (!e) return null;
            e = e.ep || e;
            for (var t = 0; t < W.Zo.length; t++) {
              var n = W.Zo[t];
              if (n.props === e || n.props.ep === e) return n;
            }
            return null;
          }),
          (W.fp = function () {
            G.Rk().forEach(function (e) {
              W.gp(e);
            });
          }),
          (W.gp = function (e) {
            var t = e.event,
              n = t.cache || t.data;
            if (!n.linkCreateDisabled && !t.hp) {
              var i = !n.linkCreateStartDisabled,
                a = !n.linkCreateFinishDisabled,
                r = E.linkPointSize,
                o = r / 2,
                l = e.event.part.left,
                s = E.rowlist[e.event.part.dayIndex].top + e.event.part.top,
                d = e.event.part.height,
                u = e.event.part.right;
              if (i) {
                var h = c(E.divLinkpoints, l - o, s - o + d / 2, r, r);
                (h.className = E.ca("_linkpoint")),
                  (h.style.boxSizing = "border-box"),
                  (h.coords = { x: l, y: s + d / 2 }),
                  (h.type = "Start"),
                  (h.event = e.event),
                  W.ip(h),
                  E.elements.linkpoints.push(h);
              }
              if (a) {
                var f = c(E.divLinkpoints, u - o, s - o + d / 2, r, r);
                (f.className = E.ca("_linkpoint")),
                  (f.style.boxSizing = "border-box"),
                  (f.coords = { x: u, y: s + d / 2 }),
                  (f.type = "Finish"),
                  (f.event = e.event),
                  W.ip(f),
                  E.elements.linkpoints.push(f);
              }
            }
          }),
          (W.ip = function (e) {
            (e.onmousedown = function (t) {
              return (
                (T.source = e),
                (T.calendar = E),
                W.fp(),
                t.preventDefault(),
                t.stopPropagation(),
                !1
              );
            }),
              (e.onmousemove = function () {
                d(e, E.ca("_linkpoint_hover")), W.jp();
              }),
              (e.onmouseout = function () {
                (T.source && T.source.event === e.event) ||
                  s(e, E.ca("_linkpoint_hover"));
              }),
              (e.onmouseup = function () {
                if (T.source) {
                  var t = T.source.type + "To" + e.type,
                    n = T.source.event.id(),
                    i = e.event.id(),
                    a = {};
                  if (
                    ((a.from = n),
                    (a.to = i),
                    (a.type = t),
                    (a.id = null),
                    (a.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    "function" == typeof E.onLinkCreate &&
                      (E.onLinkCreate(a), a.preventDefault.value))
                  )
                    return;
                  var r = function () {
                    C(E.links.list) || (E.links.list = []),
                      E.links.list.push({ from: n, to: i, type: t, id: a.id }),
                      W.Bn();
                  };
                  switch (E.linkCreateHandling) {
                    case "Update":
                      r();
                      break;
                    case "CallBack":
                      E.kp(a);
                      break;
                    case "PostBack":
                      E.lp(a);
                      break;
                    case "Notify":
                      r(), E.mp(a);
                  }
                  "function" == typeof E.onLinkCreated && E.onLinkCreated(a);
                }
              });
          }),
          (W.On = function () {
            (E.divLinkpoints.innerHTML = ""), (E.elements.linkpoints = []);
          }),
          (W.np = null),
          (W.pp = function () {
            W.np = setTimeout(function () {
              W.On();
            }, 100);
          }),
          (W.jp = function () {
            W.np && (clearTimeout(W.np), (W.np = null));
          }),
          (W.Bn = function () {
            W.Sl(), W.qp();
          }),
          (W.qp = function () {
            if (C(E.links.list))
              for (var e = 0; e < E.links.list.length; e++) {
                var t = E.links.list[e];
                W.rp(t.from, t.to, t);
              }
          }),
          (W.sp = function (e) {
            var t = E.tp["_" + e];
            return t && t.up ? t.up : null;
          }),
          (W.vp = function (e) {
            var t = E.tp["_" + e];
            if (!t) return null;
            if (t.wp) return t.wp;
            if (!t.up) return null;
            var n = t.up,
              i = n.part.block;
            return i && !i.expanded ? i : n;
          }),
          (W.rp = function (e, t, n) {
            if (!W.yp(n)) {
              var i = W.vp(e);
              if (i) {
                var a = W.vp(t);
                if (a && (!i.hp || i !== a))
                  return (i && i.rendered) || (a && a.rendered)
                    ? W.zp(i, a, n)
                    : void 0;
              }
            }
          }),
          (W.Ap = function (e, t) {
            var n = e && e.tagName && "div" === e.tagName.toLowerCase();
            if (e) {
              if (n) {
                var i = e;
                return {
                  top: i.offsetTop,
                  right: i.offsetLeft + i.offsetWidth,
                  left: i.offsetLeft,
                  height: i.offsetHeight,
                };
              }
              if (e.hp) {
                var a = e,
                  r = a.min,
                  o = E.eventHeight;
                return { top: a.row.top, right: a.max, left: r, height: o };
              }
              if (e instanceof DayPilot.Event || e.part) {
                var l = e,
                  s = E.Uo(l.part.grid),
                  d = s.rowlist[l.part.dayIndex];
                if (d.hidden) return null;
                var c = t ? d.absTop : d.top,
                  o = l.part.height;
                return (
                  "undefined" == typeof o &&
                    (o = d.eventHeight ? d.eventHeight : E.eventHeight),
                  {
                    top: c + (l.part.top || 0),
                    right: l.part.left + l.part.width,
                    left: l.part.left,
                    height: o,
                  }
                );
              }
              return null;
            }
            return null;
          }),
          (W.yp = function (e) {
            return W.Zo.some(function (t) {
              return t.props === e;
            });
          }),
          (W.Bp = function (e) {
            if ("function" != typeof E.onBeforeLinkRender) return e;
            var t = {};
            return (
              (t.data = DayPilot.Util.copyProps(e)),
              (t.from = W.sp(e.from)),
              (t.to = W.sp(e.to)),
              E.onBeforeLinkRender(t),
              (t.data.ep = e),
              t.data
            );
          }),
          (W.zp = function (e, t, n) {
            if (W.yp(n)) return null;
            if (e.part.grid !== t.part.grid) return null;
            n.Cp || (n = W.Bp(n));
            var i = "Curved" === E.linkShape,
              a = !i,
              r = null;
            if ((i && (r = W.Dp(e, t, n)), a)) {
              var o = W.Ep(e, t, n);
              if (!o) return null;
              r = W.Fp(o, n);
            }
            return r ? (W.Zo.push(r), r) : null;
          }),
          (W.Gp = function (e, t) {
            (e.onmousedown = function (e) {
              e.cancelBubble = !0;
            }),
              (e.onmouseup = function (e) {
                e.cancelBubble = !0;
              }),
              (e.oncontextmenu = function (e) {
                if (E.contextMenuLink) {
                  var n = new DayPilot.Link(t, E);
                  E.contextMenuLink.show(n);
                }
                (e.cancelBubble = !0), e.preventDefault();
              });
          }),
          (W.Hp = function (e, t) {
            (e.onmouseenter = function () {
              d(e.divs, E.ca("_link_hover")),
                E.linkBubble && E.linkBubble.showLink(new DayPilot.Link(t, E));
            }),
              (e.onmouseleave = function () {
                s(e.divs, E.ca("_link_hover")),
                  E.linkBubble && E.linkBubble.hideOnMouseOut();
              });
          }),
          (W.Ip = function (e, t) {
            e.onclick = function () {
              var e = {};
              (e.link = new DayPilot.Link(t)),
                "function" == typeof E.onLinkClick && E.onLinkClick(e),
                "function" == typeof E.onLinkClicked && E.onLinkClicked(e);
            };
          }),
          (W.Fp = function (e, t) {
            if (!e) return null;
            var n = {
                divs: [],
                props: t,
                clear: function () {
                  var e = n;
                  x(e.divs),
                    e.divs.forEach(function (e) {
                      DayPilot.rfa(E.elements.links, e);
                    });
                },
              },
              i = E.Uo(e.grid),
              a = t.width || ("Auto" === E.linkWidth ? null : E.linkWidth) || 1,
              r = t.color,
              o = t.style,
              l = t.layer || E.linkLayer || "Above",
              s = "Above" === l,
              u = s ? i.divLinksAbove : i.divLinksBelow,
              h = t.Cp ? E.ca("_link_mshadow") : null,
              f = function (e, t) {
                r && (e.style["border" + t + "Color"] = r),
                  o && (e.style["border" + t + "Style"] = o);
              },
              v = [],
              p = function (e, i) {
                E.elements.links.push(e),
                  W.Hp(e, t),
                  W.Gp(e, t),
                  W.Ip(e, t),
                  (e.divs = v),
                  i || v.push(e),
                  n.divs.push(e);
              };
            return (
              e.forEach(function (e) {
                switch (e.type) {
                  case "Dot":
                    var n = E.linkDotSize,
                      i = void 0;
                    r
                      ? ((i = c(u, e.endX - n / 2, e.endY - n / 2, n, n)),
                        (i.style.borderRadius = n + "px"),
                        (i.style.backgroundColor = r))
                      : ((i = c(u, e.endX - n / 2, e.endY - n / 2, n, n)),
                        (i.className = E.ca("_link_dot")),
                        d(i, t.cssClass),
                        d(i, h)),
                      p(i, !0);
                    break;
                  case "HorizontalLine":
                    var o = c(u, e.startX, e.startY, e.endX - e.startX, a);
                    (o.style.boxSizing = "border-box"),
                      (o.style.borderBottomWidth = a + "px"),
                      (o.className = E.ca("_link_horizontal")),
                      d(o, t.cssClass),
                      d(o, h),
                      f(o, "Bottom"),
                      p(o);
                    break;
                  case "VerticalLine":
                    var l = c(u, e.startX, e.startY, a, e.endY - e.startY);
                    (l.style.boxSizing = "border-box"),
                      (l.style.borderRightWidth = a + "px"),
                      (l.className = E.ca("_link_vertical")),
                      d(l, t.cssClass),
                      d(l, h),
                      f(l, "Right"),
                      p(l);
                    break;
                  case "ArrowUp":
                    var i = void 0;
                    r
                      ? ((i = c(
                          u,
                          e.endX - 5 + Math.floor(a / 2),
                          e.endY - 5,
                          0,
                          0
                        )),
                        (i.style.borderColor =
                          "transparent transparent " + r + " transparent"),
                        (i.style.borderStyle = "solid"),
                        (i.style.borderWidth = "5px"))
                      : ((i = c(
                          u,
                          e.endX - 6 + Math.floor(a / 2),
                          e.endY - 6,
                          6,
                          6
                        )),
                        (i.className = E.ca("_link_arrow_up")),
                        d(i, t.cssClass),
                        d(i, h)),
                      p(i, !0);
                    break;
                  case "ArrowDown":
                    var i = void 0;
                    r
                      ? ((i = c(
                          u,
                          e.endX - 5 + Math.floor(a / 2),
                          e.endY - 5,
                          0,
                          0
                        )),
                        (i.style.borderColor =
                          r + " transparent transparent transparent"),
                        (i.style.borderStyle = "solid"),
                        (i.style.borderWidth = "5px"))
                      : ((i = c(
                          u,
                          e.endX - 5 + Math.floor(a / 2),
                          e.endY - 6,
                          6,
                          6
                        )),
                        (i.className = E.ca("_link_arrow_down")),
                        d(i, t.cssClass),
                        d(i, h)),
                      p(i, !0);
                    break;
                  case "ArrowRight":
                    var i = void 0;
                    r
                      ? ((i = c(u, e.endX - 6, e.endY - 5, 0, 0)),
                        (i.style.borderWidth = "6px"),
                        (i.style.borderColor =
                          "transparent transparent transparent " + r),
                        (i.style.borderStyle = "solid"))
                      : ((i = c(u, e.endX - 6, e.endY - 5, 6, 6)),
                        (i.className = E.ca("_link_arrow_right")),
                        d(i, t.cssClass),
                        d(i, h)),
                      p(i, !0);
                    break;
                  case "ArrowLeft":
                    var i = void 0;
                    r
                      ? ((i = c(u, e.endX - 6, e.endY - 5, 0, 0)),
                        (i.style.borderColor =
                          "transparent " + r + " transparent transparent"),
                        (i.style.borderStyle = "solid"),
                        (i.style.borderWidth = "6px"))
                      : ((i = c(u, e.endX - 6, e.endY - 5, 6, 6)),
                        (i.className = E.ca("_link_arrow_left")),
                        d(i, t.cssClass),
                        d(i, h)),
                      p(i, !0);
                    break;
                  default:
                    throw new DayPilot.Exception("Invalid segment type");
                }
              }),
              n
            );
          }),
          (W.Jp = null),
          (W.bp = {}),
          (W.ap = function (e) {
            return W.Jp || (W.Jp = DayPilot.guid()), W.Jp + e;
          }),
          (W.Kp = function (e, t) {
            function n(e) {
              return e.replace(/[^a-zA-Z0-9-_]/g, "_");
            }
            var i = e ? e.replace(/[^a-zA-Z0-9-_]/g, "_") : "def",
              a = t && t.length > 0 ? t.map(n).join("_") : "def",
              r = i.replace("#", "_") + "_" + a,
              o = W.ap(r);
            if (!W.bp[r]) {
              var l = E.nav.svgMarker,
                s = l.cloneNode(!0);
              s.setAttribute("id", o);
              var c = s.firstChild;
              (c.style.fill = e),
                t &&
                  t.length > 0 &&
                  t.forEach(function (e) {
                    d(c, e);
                  }),
                E.nav.svgDefs.appendChild(s),
                (W.bp[r] = s);
            }
            return o;
          }),
          (W.Dp = function (e, t, n, i) {
            function a(e, t) {
              var n = E.linkDotSize / 2,
                i = document.createElementNS(A, "circle");
              return (
                i.setAttribute("cx", e),
                i.setAttribute("cy", t),
                i.setAttribute("r", "" + n),
                i.classList.add(E.ca("_link_curve_dot")),
                R.appendChild(i),
                i
              );
            }
            function r(e, t, n, i) {
              var a = 50 + Math.abs(n - e) / 10,
                r = 0,
                o = 0;
              e < n ? (r = i > t ? 40 : -40) : e > n && (o = i > t ? 40 : -40);
              var l = document.createElementNS(A, "path"),
                s =
                  "M" +
                  e +
                  " " +
                  t +
                  " C " +
                  (e - a) +
                  " " +
                  (t + r) +
                  ", " +
                  (n - a) +
                  " " +
                  (i - o) +
                  ", " +
                  n +
                  " " +
                  i;
              return l.setAttribute("d", s), l;
            }
            function o(e, t, n, i) {
              var a = Math.abs(i - t) / 10 + 20;
              e !== n && (a = 50);
              var r = a + Math.abs(n - e) / 8,
                o = 0,
                l = 0;
              e < n ? (l = i > t ? 40 : -40) : e > n && (o = i > t ? 40 : -40);
              var s = document.createElementNS(A, "path"),
                d =
                  "M" +
                  e +
                  " " +
                  t +
                  " C " +
                  (e + r) +
                  " " +
                  (t + o) +
                  ", " +
                  (n + r) +
                  " " +
                  (i - l) +
                  ", " +
                  n +
                  " " +
                  i;
              return s.setAttribute("d", d), s;
            }
            function l(e, t, n, i) {
              var a = 18,
                r = document.createElementNS(A, "path"),
                o =
                  "M" +
                  e +
                  " " +
                  t +
                  " C " +
                  (e + a) +
                  " " +
                  t +
                  ", " +
                  (e + a) +
                  " " +
                  t +
                  ", " +
                  (e + a) +
                  " " +
                  i;
              return r.setAttribute("d", o), r;
            }
            function s(e, t, n, i) {
              var a = 100 + Math.abs(n - e) / 10,
                r = 40,
                o = document.createElementNS(A, "path"),
                l =
                  "M" +
                  e +
                  " " +
                  t +
                  " C " +
                  (e - a) +
                  " " +
                  (t + r) +
                  ", " +
                  (n + a) +
                  " " +
                  (i + r) +
                  ", " +
                  n +
                  " " +
                  i;
              return o.setAttribute("d", l), o;
            }
            function c(e, t, n, i) {
              var a = DayPilot.Util.atLeast(
                  40,
                  Math.abs(n - e) / 2 + Math.abs(i - t) / 8
                ),
                r = document.createElementNS(A, "path"),
                o =
                  "M" +
                  e +
                  " " +
                  t +
                  " C " +
                  (e + a) +
                  " " +
                  t +
                  ", " +
                  (n - a) +
                  " " +
                  i +
                  ", " +
                  n +
                  " " +
                  i;
              return r.setAttribute("d", o), r;
            }
            function u(e, t, n, i) {
              var a = DayPilot.Util.atLeast(
                  40,
                  Math.abs(n - e) / 2 + Math.abs(i - t) / 8
                ),
                r = document.createElementNS(A, "path"),
                o =
                  "M" +
                  e +
                  " " +
                  t +
                  " C " +
                  (e - a) +
                  " " +
                  t +
                  ", " +
                  (n + a) +
                  " " +
                  i +
                  ", " +
                  n +
                  " " +
                  i;
              return r.setAttribute("d", o), r;
            }
            function h(e, t, n, i) {
              var a = document.createElementNS(A, "path"),
                r = n - e,
                o = i - t,
                l = o / 7,
                s = 2 * Math.abs(l),
                d = 3 * Math.abs(l);
              d > Math.abs(r / 2) &&
                (0 === r && Math.abs(o) < 45
                  ? ((d = Math.min(20, d)), (s = d))
                  : (d = Math.min(Math.abs(r / 2), d)));
              var c = 0.2,
                u = 0,
                h = Math.abs(r) / Math.abs(o),
                f = 2.8;
              0 === h && (f = 3.5);
              var v = f * l;
              if (h < 1) {
                var p = Math.abs(o) - 2 * Math.abs(v),
                  m = p / 2,
                  g = m / Math.abs(v);
                (c = 0.5), (c = g);
              }
              var b = { x: e, y: t },
                y = { x: e + s, y: t },
                w = { x: e + u + d, y: t + (1 - c) * v },
                x = { x: e + u, y: t + v },
                k = { x: e + r + d, y: i - (1 + c) * v },
                C = { x: n - u, y: i - v },
                _ = { x: n - u - s, y: i },
                T = { x: n, y: i };
              a.setAttribute(
                "d",
                "M " +
                  b.x +
                  " " +
                  b.y +
                  " C " +
                  y.x +
                  " " +
                  y.y +
                  "," +
                  w.x +
                  " " +
                  w.y +
                  "," +
                  x.x +
                  " " +
                  x.y +
                  " S " +
                  k.x +
                  " " +
                  k.y +
                  "," +
                  C.x +
                  " " +
                  C.y +
                  " S " +
                  _.x +
                  " " +
                  _.y +
                  "," +
                  T.x +
                  " " +
                  T.y
              );
              return a;
            }
            function f(e, t, n, i) {
              var a = document.createElementNS(A, "path"),
                r = n - e,
                o = i - t,
                l = o / 7,
                s = 2 * Math.abs(l),
                d = 3 * Math.abs(l);
              d > Math.abs(r / 2) &&
                (0 === r && Math.abs(o) < 45
                  ? ((d = Math.min(20, d)), (s = d))
                  : (d = Math.min(Math.abs(r / 2), d)));
              var c = 0.2,
                u = 0,
                h = Math.abs(r) / Math.abs(o),
                f = 2.8;
              0 === h && (f = 3.5);
              var v = f * l;
              if (h < 1) {
                var p = Math.abs(o) - 2 * Math.abs(v),
                  m = p / 2,
                  g = m / Math.abs(v);
                (c = 0.5), (c = g);
              }
              var b = { x: e, y: t },
                y = { x: e - s, y: t },
                w = { x: e - u - d, y: t + (1 - c) * v },
                x = { x: e - u, y: t + v },
                k = { x: e + r - d, y: i - (1 + c) * v },
                C = { x: n + u, y: i - v },
                _ = { x: n + u + s, y: i },
                T = { x: n, y: i };
              a.setAttribute(
                "d",
                "M " +
                  b.x +
                  " " +
                  b.y +
                  " C " +
                  y.x +
                  " " +
                  y.y +
                  "," +
                  w.x +
                  " " +
                  w.y +
                  "," +
                  x.x +
                  " " +
                  x.y +
                  " S " +
                  k.x +
                  " " +
                  k.y +
                  "," +
                  C.x +
                  " " +
                  C.y +
                  " S " +
                  _.x +
                  " " +
                  _.y +
                  "," +
                  T.x +
                  " " +
                  T.y
              );
              return a;
            }
            var v = W.Ap(e, i),
              p = W.Ap(t, i),
              m = e.part.grid;
            if (!v) return null;
            if (!p) return null;
            var g,
              b,
              y = n.type || "FinishToStart";
            switch (y) {
              case "FinishToStart":
                (g = { x: v.right, y: v.top }),
                  (b = { x: p.left, y: p.top }),
                  g.y > b.y && p.top + p.height > v.top && (b.y = g.y);
                break;
              case "StartToFinish":
                (g = { x: v.left, y: v.top }), (b = { x: p.right, y: p.top });
                break;
              case "StartToStart":
                (g = { x: v.left, y: v.top }), (b = { x: p.left, y: p.top });
                break;
              case "FinishToFinish":
                (g = { x: v.right, y: v.top }), (b = { x: p.right, y: p.top });
            }
            var w,
              k = {
                divs: [],
                props: n.ep || n,
                clear: function () {
                  var e = k;
                  x(e.divs),
                    e.divs.forEach(function (e) {
                      DayPilot.rfa(E.elements.links, e);
                    });
                },
              },
              C = n.width || ("Auto" === E.linkWidth ? null : E.linkWidth),
              _ = n.color,
              T = n.style,
              S = n.layer || E.linkLayer || "Above",
              D = "Above" === S,
              H = n.cssClass,
              M = n.Cp ? E.ca("_link_curve_mshadow") : null,
              A = "http://www.w3.org/2000/svg",
              R = W._o(m, D),
              B = v.height / 2,
              N = p.height / 2;
            if (g.x === b.x && g.y + B === b.y + N) w = a(g.x, g.y + B);
            else if ("FinishToStart" === y)
              if (g.x < b.x) w = c(g.x, g.y + B, b.x, b.y + N);
              else if (g.x === b.x) {
                var P = 0;
                g.y > b.y && (P = p.height),
                  (w = l(g.x, g.y + B, b.x, b.y + P));
              } else
                w =
                  g.y === b.y
                    ? s(g.x, g.y + B, b.x, b.y + N)
                    : h(g.x, g.y + B, b.x, b.y + N);
            else
              "StartToFinish" === y
                ? (w =
                    g.x <= b.x
                      ? g.y === b.y
                        ? s(g.x, g.y + B, b.x, b.y + N)
                        : f(g.x, g.y + B, b.x, b.y + N)
                      : u(g.x, g.y + B, b.x, b.y + N))
                : "StartToStart" === y
                ? (w = r(g.x, g.y + B, b.x, b.y + N))
                : "FinishToFinish" === y && (w = o(g.x, g.y + B, b.x, b.y + N));
            if (
              (0 === w.classList.length &&
                (w.setAttribute("style", "pointer-events: stroke"),
                w.setAttribute("marker-end", "url(#" + W.ap("default") + ")"),
                w.classList.add(E.ca("_link_curve"))),
              H || _ || M)
            ) {
              var L = [H, M].filter(Boolean),
                z = W.Kp(_, L);
              w.setAttribute("marker-end", "url(#" + z + ")");
            }
            var I = "circle" === w.tagName;
            if (
              (H && d(w, H),
              M && d(w, M),
              _ && (I ? (w.style.fill = _) : (w.style.stroke = _)),
              C && !I && (w.style.strokeWidth = C),
              T && !I)
            )
              switch (T) {
                case "dashed":
                  w.style.strokeDasharray = "5,3";
                  break;
                case "dotted":
                  w.style.strokeDasharray = "2,2";
              }
            if (
              (W.Ip(w, n),
              W.Hp(w, n),
              W.Gp(w, n),
              R.appendChild(w),
              n.text && "FinishToStart" === y)
            ) {
              var O = DayPilot.guid();
              w.setAttribute("id", O);
              var j = document.createElementNS(A, "text");
              j.setAttribute("transform", "translate(2, -4)"),
                j.classList.add(E.ca("_link_curve_text")),
                H && d(j, H),
                M && d(j, M),
                _ && (j.style.fill = _);
              var U = document.createElementNS(A, "textPath");
              if (
                (U.setAttribute("href", "#" + O),
                (U.textContent = n.text),
                "center" === n.textAlignment)
              )
                U.setAttribute("startOffset", "50%"),
                  U.setAttribute("text-anchor", "middle");
              else if ("end" === n.textAlignment) {
                var Y = 10,
                  F = w.getTotalLength(),
                  q = F - Y;
                U.setAttribute("startOffset", q),
                  U.setAttribute("text-anchor", "end");
              }
              j.appendChild(U), R.appendChild(j), k.divs.push(j);
            }
            return E.elements.links.push(w), k.divs.push(w), k;
          }),
          (W.Ep = function (e, t, n, i) {
            var a = W.Ap(e, i),
              r = W.Ap(t, i);
            if (!a) return null;
            if (!r) return null;
            var o,
              l,
              s = n.type || "FinishToStart",
              d = n.width || ("Auto" === E.linkWidth ? null : E.linkWidth) || 1,
              c = E.eventHeight,
              u = E.linkBottomMargin,
              h = E.eventHeight / 2;
            switch (s) {
              case "FinishToStart":
                (o = { x: a.right, y: a.top }),
                  (l = { x: r.left, y: r.top }),
                  o.y > l.y &&
                    (r.top + r.height > a.top
                      ? (l.y = o.y)
                      : o.x <= l.x && ((l.y += r.height), (l.bottom = !0)));
                break;
              case "StartToFinish":
                (o = { x: a.left, y: a.top }), (l = { x: r.right, y: r.top });
                break;
              case "StartToStart":
                (o = { x: a.left, y: a.top }), (l = { x: r.left, y: r.top });
                break;
              case "FinishToFinish":
                (o = { x: a.right, y: a.top }), (l = { x: r.right, y: r.top });
            }
            var f = [];
            if (((f.grid = e.part.grid), "FinishToStart" === s))
              if (o.y !== l.y || o.x !== l.x || l.bottom)
                if (o.y > l.y || (o.y === l.y && l.bottom))
                  if (o.x <= l.x) {
                    var v = o.x,
                      p = o.y + c - u,
                      m = l.x + h,
                      g = l.y;
                    f.push({
                      type: "HorizontalLine",
                      startX: v,
                      startY: p,
                      endX: m,
                      endY: p,
                    }),
                      f.push({
                        type: "VerticalLine",
                        startX: m,
                        startY: p + d,
                        endX: m,
                        endY: g,
                      }),
                      f.push({
                        type: o.y < l.y ? "ArrowDown" : "ArrowUp",
                        startX: m,
                        startY: g,
                        endX: m,
                        endY: g,
                      });
                  } else {
                    var b = 5,
                      y = l.y + c + b;
                    f.push({
                      type: "HorizontalLine",
                      startX: o.x,
                      startY: o.y + c - u,
                      endX: o.x + h + d,
                      endY: o.y + c - u,
                    }),
                      f.push({
                        type: "VerticalLine",
                        startX: o.x + h,
                        startY: o.y + c - u,
                        endX: o.x + h,
                        endY: y,
                      }),
                      f.push({
                        type: "HorizontalLine",
                        startX: l.x - h,
                        startY: y,
                        endX: o.x + h + d,
                        endY: y,
                      }),
                      f.push({
                        type: "VerticalLine",
                        startX: l.x - h,
                        startY: y,
                        endX: l.x - h,
                        endY: l.y + c - u,
                      }),
                      f.push({
                        type: "HorizontalLine",
                        startX: l.x - h,
                        startY: l.y + c - u,
                        endX: l.x - h + h,
                        endY: l.y + c - u,
                      }),
                      f.push({
                        type: "ArrowRight",
                        startX: l.x,
                        startY: l.y + c - u,
                        endX: l.x,
                        endY: l.y + c - u,
                      });
                  }
                else if (o.y === l.y)
                  if (o.x < l.x) {
                    var v = o.x,
                      p = o.y + c - u,
                      m = l.x;
                    f.push({
                      type: "HorizontalLine",
                      startX: v,
                      startY: p,
                      endX: m,
                      endY: p,
                    }),
                      f.push({
                        type: "ArrowRight",
                        startX: l.x,
                        startY: l.y + c - u,
                        endX: l.x,
                        endY: l.y + c - u,
                      });
                  } else {
                    var b = 5,
                      y = l.y + c + b;
                    f.push({
                      type: "HorizontalLine",
                      startX: o.x,
                      startY: o.y + c - u,
                      endX: o.x + h + d,
                      endY: o.y + c - u,
                    }),
                      f.push({
                        type: "VerticalLine",
                        startX: o.x + h,
                        startY: o.y + c - u,
                        endX: o.x + h,
                        endY: y,
                      }),
                      f.push({
                        type: "HorizontalLine",
                        startX: l.x - h,
                        startY: y,
                        endX: o.x + h + d,
                        endY: y,
                      }),
                      f.push({
                        type: "VerticalLine",
                        startX: l.x - h,
                        startY: y,
                        endX: l.x - h,
                        endY: l.y + c - u,
                      }),
                      f.push({
                        type: "HorizontalLine",
                        startX: l.x - h,
                        startY: l.y + c - u,
                        endX: l.x,
                        endY: l.y + c - u,
                      }),
                      f.push({
                        type: "ArrowRight",
                        startX: l.x,
                        startY: l.y + c - u,
                        endX: l.x,
                        endY: l.y + c - u,
                      });
                  }
                else if (o.x > l.x) {
                  var w = 5,
                    y = l.y - w;
                  f.push({
                    type: "HorizontalLine",
                    startX: o.x,
                    startY: o.y + c - u,
                    endX: o.x + h,
                    endY: o.y + c - u,
                  }),
                    f.push({
                      type: "VerticalLine",
                      startX: o.x + h,
                      startY: o.y + c - u,
                      endX: o.x + h,
                      endY: y + d,
                    }),
                    f.push({
                      type: "HorizontalLine",
                      startX: l.x - h,
                      startY: y,
                      endX: o.x + h,
                      endY: y,
                    }),
                    f.push({
                      type: "VerticalLine",
                      startX: l.x - h,
                      startY: y,
                      endX: l.x - h,
                      endY: l.y + c - u,
                    }),
                    f.push({
                      type: "HorizontalLine",
                      startX: l.x - h,
                      startY: l.y + c - u,
                      endX: l.x - h + h,
                      endY: l.y + c - u,
                    }),
                    f.push({
                      type: "ArrowRight",
                      startX: l.x,
                      startY: l.y + c - u,
                      endX: l.x,
                      endY: l.y + c - u,
                    });
                } else {
                  var v = o.x,
                    p = o.y + c - u,
                    m = l.x + h,
                    g = l.y;
                  f.push({
                    type: "HorizontalLine",
                    startX: v,
                    startY: p,
                    endX: m,
                    endY: p,
                  }),
                    f.push({
                      type: "VerticalLine",
                      startX: m,
                      startY: p,
                      endX: m,
                      endY: g,
                    }),
                    f.push({
                      type: o.y < l.y ? "ArrowDown" : "ArrowUp",
                      startX: m,
                      startY: g,
                      endX: m,
                      endY: g,
                    });
                }
              else {
                var m = o.x,
                  g = o.y + c - u;
                f.push({ type: "Dot", startX: m, startY: g, endX: m, endY: g });
              }
            else if ("StartToFinish" === s) {
              var w = 5,
                y = l.y - w;
              f.push({
                type: "HorizontalLine",
                startX: l.x,
                startY: l.y + c - u,
                endX: l.x + h + d,
                endY: l.y + c - u,
              }),
                f.push({
                  type: "VerticalLine",
                  startX: l.x + h,
                  startY: l.y + c - u,
                  endX: l.x + h,
                  endY: y,
                }),
                f.push({
                  type: "HorizontalLine",
                  startX: o.x - h,
                  startY: y,
                  endX: l.x + h + d,
                  endY: y,
                }),
                f.push({
                  type: "VerticalLine",
                  startX: o.x - h,
                  startY: y,
                  endX: o.x - h,
                  endY: o.y + c - u,
                }),
                f.push({
                  type: "HorizontalLine",
                  startX: o.x - h,
                  startY: o.y + c - u,
                  endX: o.x,
                  endY: o.y + c - u,
                }),
                f.push({
                  type: "ArrowLeft",
                  startX: l.x,
                  startY: l.y + c - u,
                  endX: l.x,
                  endY: l.y + c - u,
                });
            } else if ("StartToStart" === s) {
              var x = Math.min(o.x, l.x) - h;
              f.push({
                type: "HorizontalLine",
                startX: x,
                startY: o.y + c - u,
                endX: o.x,
                endY: o.y + c - u,
              }),
                f.push({
                  type: "VerticalLine",
                  startX: x,
                  startY: o.y + c - u,
                  endX: x,
                  endY: l.y + c - u,
                }),
                f.push({
                  type: "HorizontalLine",
                  startX: x,
                  startY: l.y + c - u,
                  endX: l.x,
                  endY: l.y + c - u,
                }),
                f.push({
                  type: "ArrowRight",
                  startX: l.x,
                  startY: l.y + c - u,
                  endX: l.x,
                  endY: l.y + c - u,
                });
            } else if ("FinishToFinish" === s) {
              var k = Math.max(l.x, o.x) + h;
              f.push({
                type: "HorizontalLine",
                startX: o.x,
                startY: o.y + c - u,
                endX: k,
                endY: o.y + c - u,
              }),
                f.push({
                  type: "VerticalLine",
                  startX: k,
                  startY: o.y + c - u,
                  endX: k,
                  endY: c - u + l.y + d,
                }),
                f.push({
                  type: "HorizontalLine",
                  startX: l.x,
                  startY: l.y + c - u,
                  endX: k,
                  endY: l.y + c - u,
                }),
                f.push({
                  type: "ArrowLeft",
                  startX: l.x,
                  startY: l.y + c - u,
                  endX: l.x,
                  endY: l.y + c - u,
                });
            }
            return f;
          }),
          (W.Nj = function () {
            (E.divLinkShadow.innerHTML = ""), (E.elements.linkshadow = []);
          }),
          (W.Jj = function (e, t) {
            W.Nj();
            var n = E.divLinkShadow,
              i = DayPilot.line(e.x, e.y, t.x, t.y, {
                arrow: !0,
                cssClass: E.ca("_link_shadow"),
              });
            n.appendChild(i), E.elements.linkshadow.push(i);
          }),
          (this.kp = function (e, t) {
            var n = {};
            (n.from = e.from),
              (n.to = e.to),
              (n.type = e.type),
              E.Pa("LinkCreate", n, t);
          }),
          (this.mp = function (e, t) {
            var n = {};
            (n.from = e.from),
              (n.to = e.to),
              (n.type = e.type),
              E.Pa("LinkCreate", n, t, "Notify");
          }),
          (this.lp = function (e, t) {
            var n = {};
            (n.from = e.from),
              (n.to = e.to),
              (n.type = e.type),
              E.Na("LinkCreate", n, t);
          }),
          (this.Lp = function (e, t) {
            var n = 0,
              i = 0,
              a = 0,
              r = E.Uo(t),
              o = r.rowlist;
            if (e > o.length - 1)
              throw new DayPilot.Exception("Row index too high");
            for (var l = null, s = 0; s <= e; s++)
              (l = o[s]), l.hidden || ((i += l.height), a++);
            n = i - l.height;
            var d = {};
            return (
              (d.top = n),
              (d.height = l.height),
              (d.bottom = i),
              (d.i = a - 1),
              (d.data = l),
              d
            );
          }),
          (this.Gh = function () {
            return !!this.backendUrl;
          }),
          (this.events.find = function (e) {
            if (!E.events.list || "undefined" == typeof E.events.list.length)
              return null;
            if ("function" == typeof e) return E.Mp(e);
            for (var t = E.events.list.length, n = 0; n < t; n++)
              if (E.events.list[n].id === e)
                return new DayPilot.Event(E.events.list[n], E);
            return null;
          }),
          (this.events.findAll = function (e) {
            if ("function" == typeof e) {
              for (var t = E.events.list.length, n = [], i = 0; i < t; i++) {
                var a = new DayPilot.Event(E.events.list[i], E);
                e(a) && n.push(a);
              }
              return n;
            }
            if ("object" == typeof e)
              return E.events.findAll(function (t) {
                for (var n in e) if (e[n] !== t.data[n]) return !1;
                return !0;
              });
            throw new DayPilot.Exception(
              "function or object argument expected"
            );
          }),
          (this.Mp = function (e) {
            for (var t = E.events.list.length, n = 0; n < t; n++) {
              var i = new DayPilot.Event(E.events.list[n], E);
              if (e(i)) return i;
            }
            return null;
          }),
          (this.events.focus = function (e) {
            var t = E.Np(e);
            null === t || void 0 === t ? void 0 : t.focus();
          }),
          (this.events.scrollIntoView = function (e) {
            if (E.Np(e)) {
              var t = e.start(),
                n = E.getViewPort();
              !l(n.start, n.end, e.start(), e.end()) &&
                l(E.Ub(), E.je(), e.start(), e.end()) &&
                E.scrollTo(t, "fast", "middle");
              var i = e.resource();
              E.getViewPort().resources.indexOf(i) === -1 &&
                E.scrollToResource(i);
            }
          }),
          (this.events.all = function () {
            for (var e = [], t = 0; t < E.events.list.length; t++) {
              var n = new DayPilot.Event(E.events.list[t], E);
              e.push(n);
            }
            return y(e);
          }),
          (this.events.forRange = function (e, t) {
            function n(e, t) {
              for (var n = E.Op, i = [], a = 0; a < n.length; a++) {
                var r = n[a];
                if ((r.end <= e || r.start >= t || i.push(n[a]), r.start > t))
                  break;
              }
              return i;
            }
            (e = e ? new DayPilot.Date(e) : E.visibleStart()),
              (t = t ? new DayPilot.Date(t) : E.visibleEnd());
            var i = E.events.list,
              a = n(e.getTime(), t.getTime()),
              r = [];
            return (
              a.forEach(function (e) {
                r.push(new DayPilot.Event(i[e.i], E));
              }),
              r
            );
          }),
          (this.events.filter = function (e, t) {
            (E.events.eh = e), !t && E.za && E.Od({ eventsOnly: !0 });
          }),
          (this.events.edit = function (e) {
            e instanceof DayPilot.Event || (e = new DayPilot.Event(e));
            var t = n.Pp;
            if (t) {
              if (E.Ld(t.event, e)) return;
              B.Qp(), (B.Rp = !0), n.Pp.blur();
            }
            !y(E.events.Sp.rows).isEmpty() &&
              ((B.Rp = !0), E.events.bo({ dontResetFocus: !0 })),
              (B.Rp = !1);
            var i = E.jh(e);
            i ? (B.Qp(), E._b(i)) : B.xo();
          }),
          (this.events.load = function (e, t, n) {
            if (!e)
              throw new DayPilot.Exception(
                "events.load(): 'url' parameter required"
              );
            var i = function (e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  "function" == typeof n && n(t);
              },
              a = function (e) {
                var n,
                  a = e.request;
                try {
                  n = JSON.parse(a.responseText);
                } catch (e) {
                  var r = {};
                  return (r.exception = e), void i(r);
                }
                if (C(n)) {
                  var o = {};
                  if (
                    ((o.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (o.data = n),
                    "function" == typeof t && t(o),
                    o.preventDefault.value)
                  )
                    return;
                  (E.events.list = o.data), E.za && E.update();
                }
              };
            if (
              E.eventsLoadMethod &&
              "POST" === E.eventsLoadMethod.toUpperCase()
            )
              DayPilot.ajax({
                method: "POST",
                contentType: "application/json",
                data: {
                  start: E.visibleStart().toString(),
                  end: E.visibleEnd().toString(),
                },
                url: e,
                success: a,
                error: i,
              });
            else {
              var r = e,
                o =
                  "start=" +
                  E.visibleStart().toString() +
                  "&end=" +
                  E.visibleEnd().toString();
              (r += r.indexOf("?") > -1 ? "&" + o : "?" + o),
                DayPilot.ajax({ method: "GET", url: r, success: a, error: i });
            }
          }),
          (this.events.findRecurrent = function (e, t) {
            if (!E.events.list || "undefined" == typeof E.events.list.length)
              return null;
            for (var n = E.events.list.length, i = 0; i < n; i++)
              if (
                E.events.list[i].recurrentMasterId === e &&
                E.events.list[i].start.getTime() === t.getTime()
              )
                return new DayPilot.Event(E.events.list[i], E);
            return null;
          }),
          (this.events.tn = function (e) {
            var t = [];
            E.Ym().forEach(function (n) {
              if (!n.isNewRow) {
                E.Zm(n.index, n.grid);
                for (var i = 0; i < n.events.length; i++) {
                  var a = n.events[i].data;
                  if (E.Ld(a, e)) {
                    t.push(n), n.events.splice(i, 1);
                    break;
                  }
                }
              }
            });
            var n = "_" + e.id;
            return (E.tp[n] = null), t;
          }),
          (this.events.xp = function (e) {
            if (!e) return null;
            for (var t = E.Ym(), n = 0; n < t.length; n++) {
              var i = t[n];
              if (!i.hidden && !i.isNewRow) {
                E.Zm(i.index, i.grid);
                var a = i.blocks.find(function (t) {
                  return (
                    !t.expanded &&
                    (!!t.events.find(function (t) {
                      return E.Ld(t.data, e);
                    }) ||
                      void 0)
                  );
                });
                if (a) return a;
                for (var r = 0; r < i.events.length; r++) {
                  var o = i.events[r];
                  if (E.Ld(o.data, e)) return i.events[r];
                }
              }
            }
            return null;
          }),
          (this.events.un = function (e) {
            var t = [],
              n = E.Tp() || "Days" === E.viewType,
              i = "_" + e.id;
            if (!E.temp.allowDuplicateEventIds && E.tp[i])
              throw new DayPilot.Exception(
                "Duplicate event IDs are not allowed: " + i
              );
            E.tp[i] = {};
            var a = k(E.events.list, e);
            E.Kg(a);
            var r = E.Ym();
            "Days" === E.viewType && (r = E.rowlist);
            var o = !1;
            return (
              r.forEach(function (r) {
                if (!o && !r.isNewRow) {
                  E.Zm(r.index, r.grid);
                  var l = E.Up(e, r, a);
                  l &&
                    ((E.tp[i].up = l),
                    "function" == typeof E.onBeforeEventRender &&
                      (l.cache = E.va.events[a]),
                    (l.Vp = a),
                    t.push(r),
                    n || (o = !0));
                }
              }),
              t
            );
          }),
          (this.Ld = function (e, t) {
            return DayPilot.Util.isSameEvent(e, t);
          }),
          (this.events.update = function (e, t, n) {
            var a = function (e) {
                var t = B.bl;
                if (t && "event" === t.type) {
                  E.Ld(t.event.data, e) && (t.event = E.events.xp(e));
                }
              },
              r = e instanceof DayPilot.Event;
            if ("object" == typeof e && !r) {
              var o = E.events.find(e.id);
              return E.events.remove(o), E.events.add(e), void a(e);
            }
            var l = {};
            (l.oldEvent = new DayPilot.Event(e.copy(), E)),
              (l.newEvent = new DayPilot.Event(e.temp(), E)),
              (n = n || {});
            var s = new DayPilot.Action(E, "EventUpdate", l, t);
            if (
              y(E.events.list).find(function (t) {
                return E.Ld(t, e.data);
              })
            ) {
              if (E.kh.scope)
                E.kh.notify(function () {
                  e.commit();
                });
              else if (
                (E.lm.Wp && (E.lm.skip = !0),
                (E.eventUpdateInplaceOptimization || n.inplace) &&
                  l.oldEvent.resource() === l.newEvent.resource() &&
                  l.oldEvent.start() === l.newEvent.start() &&
                  l.oldEvent.end() === l.newEvent.end())
              ) {
                e.commit(), E.Xp();
                var d = E.jh(e);
                if (d) {
                  var c = d.event.part;
                  E.Qe(d), DayPilot.rfa(E.elements.events, d), (e.part = c);
                } else i("Old div not found");
                var u = E.events.tn(e.data);
                (u = u.concat(E.events.un(e.data))), E.vn(u);
                var h = E.events.xp(e.data);
                h && E.Ue(h), E.Yp();
              } else {
                var u = E.events.tn(e.data);
                e.commit(),
                  (u = u.concat(E.events.un(e.data))),
                  E.Xp(),
                  E.events.Zp(u);
              }
              return a(e.data), s;
            }
          }),
          (this.events.remove = function (e, t) {
            if (e) {
              if ("string" == typeof e || "number" == typeof e) {
                var n = E.events.find(e);
                return void E.events.remove(n);
              }
              var i = {};
              i.e = new DayPilot.Event(e.data, E);
              var a = new DayPilot.Action(E, "EventRemove", i, t),
                r = E.lh(e.data);
              if (r) {
                E.events.list.splice(r.index, 1);
                var o = "_" + e.data.id;
                E.tp[o] = null;
              }
              if (E.kh.scope) E.kh.notify();
              else {
                E.lm.Wp && (E.lm.skip = !0);
                var l = E.events.tn(e.data);
                if (
                  E.eventUpdateInplaceOptimization &&
                  1 === l.length &&
                  !E.events.Yc(e)
                ) {
                  E.$p(l[0]), E.Xp();
                  var s = E.jh(e);
                  if (s) {
                    var d = E.elements.events.indexOf(s);
                    E.elements.events.splice(d, 1), E.Qe(s), E.Yp();
                  }
                } else E.events.Zp(l);
              }
              return a;
            }
          }),
          (this.events.add = function (e, t, n) {
            n = n || {};
            var i = n.renderOnly;
            e instanceof DayPilot.Event || (e = new DayPilot.Event(e)),
              (e.calendar = E),
              E.events.list || (E.events.list = []);
            var a = E.lh(e);
            if (i) {
              if (!a)
                throw new DayPilot.Exception(
                  "Unexpected: event not found in list"
                );
            } else {
              if (a && !E.temp.allowDuplicateEventIds)
                throw new DayPilot.Exception(
                  "The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required."
                );
              a || E.events.list.push(e.data);
            }
            var r = {},
              o = new DayPilot.Action(E, "EventAdd", r, t);
            if (!E.za) return o;
            if (E.kh.scope) E.kh.notify();
            else {
              E.lm.Wp && (E.lm.skip = !0), (r.e = e);
              var l = E.events.un(e.data),
                s = e.data.height || E.eventHeight;
              if (
                E.eventUpdateInplaceOptimization &&
                1 === l.length &&
                !E.events.Yc(e) &&
                s <= E.eventHeight &&
                !E.eventVersionsEnabled
              ) {
                var d = l[0];
                E.$p(d), E.Xp();
                var c = d.events.find(function (t) {
                  return t.data === e.data;
                });
                (c.part.top = 0),
                  (c.part.height = s),
                  (c.part.line = 0),
                  E.Ue(c),
                  E.Yp(),
                  B.Tn();
              } else E.events.Zp(l);
            }
            return o;
          }),
          (this.events.Yc = function (e) {
            var t = e instanceof DayPilot.Event ? e.data : e,
              n = new DayPilot.Date(t.start),
              i = new DayPilot.Date(t.end);
            return !!y(E.events.list).find(function (e) {
              return (
                !E.Ld(t, e) &&
                t.resource === e.resource &&
                l(n, i, new DayPilot.Date(e.start), new DayPilot.Date(e.end))
              );
            });
          }),
          (this.events.addByData = function (e) {
            E.events.add(new DayPilot.Event(e));
          }),
          (this.events.removeByData = function (e) {
            var t = E.events.find(e.id);
            if (!t)
              throw new DayPilot.Exception(
                "The event to be removed was not found"
              );
            E.events.remove(t);
          }),
          (this.events.updateByData = function (e) {
            var t = E.events.find(e.id);
            if (!t)
              throw new DayPilot.Exception(
                "The event to be updated was not found"
              );
            E.events.remove(t), E.events.add(new DayPilot.Event(e));
          }),
          (this.events.removeById = function (e) {
            var t = E.events.find(e);
            if (!t)
              throw new DayPilot.Exception(
                "The event to be removed was not found"
              );
            E.events.remove(t);
          }),
          (this.events.Sp = { rows: [] }),
          (this.events._p = null),
          (this.events.Jn = function () {
            clearTimeout(E.events._p),
              (E.events._p = null),
              (E.events.Sp.rows = []);
          }),
          (this.events.aq = 0),
          (this.events.Zp = function (e) {
            var t = E.events.Sp.rows;
            y(e).forEach(function (e) {
              t.push(e);
            }),
              (E.events.Sp.rows = DayPilot.ua(t));
            var n = function () {
              E.Xp(), E.events.bo();
            };
            E.events._p || (E.events._p = setTimeout(n, E.events.aq));
          }),
          (this.events.bo = function (e) {
            (e = e || {}), clearTimeout(E.events._p), (E.events._p = null);
            var t = E.events.Sp.rows;
            (E.events.Sp.rows = []),
              E.vn(t),
              E.wn(),
              E.za &&
                ("Gantt" === E.viewType
                  ? E.update()
                  : (E.Yn && E.Xl(),
                    E.Bb(),
                    E.xn(t),
                    E.Yp(),
                    e.dontResetFocus || B.Tn()));
          }),
          (this.lm = {}),
          (this.lm.enabled = !1),
          (this.lm.skip = !1),
          (this.lm.skipUpdate = function () {
            return E.lm.skip;
          }),
          (this.lm.skipped = function () {
            E.lm.skip = !1;
          }),
          (this.lm.bq = !1),
          (this.lm.Wp = !1),
          (this.W = {}),
          (this.W.reactDOM = null),
          (this.W.react = null),
          (this.W.V = function (e, t) {
            var n = E.W.reactDOM;
            if ("function" == typeof n.createRoot) {
              var i = t.ma;
              i || ((i = n.createRoot(t)), (t.ma = i)), i.render(e);
            } else n.render(e, t);
          }),
          (this.W.ka = function (e) {
            var t = E.W.reactDOM;
            if ("function" == typeof t.createRoot) {
              var n = e.ma;
              setTimeout(function () {
                n.unmount(), (e.ma = null);
              }, 0);
            } else t.unmountComponentAtNode(e);
          }),
          (this.Y = {}),
          (this.Y.Ne = null),
          (this.Y.Z = function (e, t, n) {
            var i = E.Y.Ne;
            if (
              "function" == typeof i.createVNode &&
              "function" == typeof i.render
            ) {
              var a = i.createVNode(e, n);
              i.render(a, t);
            }
          }),
          (this.Y.Pe = function (e, t) {
            var n = E.Y.Ne;
            if ("function" == typeof n.render) {
              var i = e;
              C(e) && (i = n.h("div", null, e)), n.render(i, t);
            }
          }),
          (this.Y.la = function (e) {
            var t = E.Y.Ne;
            "function" == typeof t.render && t.render(null, e);
          }),
          (this.queue = {}),
          (this.queue.list = []),
          (this.queue.list.ignoreToJSON = !0),
          (this.queue.add = function (e) {
            if (e) {
              if (!e.isAction)
                throw new DayPilot.Exception(
                  "DayPilot.Action object required for queue.add()"
                );
              E.queue.list.push(e);
            }
          }),
          (this.queue.notify = function (e) {
            var t = {};
            (t.actions = E.queue.list),
              E.Pa("Notify", t, e, "Notify"),
              (E.queue.list = []);
          }),
          (this.queue.clear = function () {
            E.queue.list = [];
          }),
          (this.queue.pop = function () {
            return E.queue.list.pop();
          }),
          (this.cells.find = function (e, t) {
            var n = E.cq(e, t);
            return n ? this.findXy(n.x, n.y, n.grid) : E.dq();
          }),
          (this.cells.findByPixels = function (e, t) {
            var n = E.in(e);
            if (!n) return E.dq();
            var i = n.x,
              a = E.Am(t);
            if (!a) return E.dq();
            var r = a.i;
            return this.findXy(i, r);
          }),
          (this.cells.all = function () {
            for (
              var e = [], t = E.itline.length, n = E.rowlist.length, i = 0;
              i < t;
              i++
            )
              for (var a = 0; a < n; a++) {
                var r = E.cells.findXy(i, a);
                e.push(r[0]);
              }
            return E.dq(e);
          }),
          (this.cells.qe = function (e, t, n) {
            n = n || "main";
            var i = E.pm[n],
              a = i.rowlist,
              r = E.on(e),
              o = a[t];
            if (!r) return null;
            if (!o) return null;
            var l = o.start.getTime() - E.Ub().getTime(),
              s = r.start.addTime(l),
              d = r.end.addTime(l),
              c = {};
            (c.x = e),
              (c.y = t),
              (c.grid = n),
              (c.displayY = o.displayY),
              (c.i = n + "_" + e + "_" + t),
              !o.id,
              (c.resource = o.id),
              (function () {
                var e;
                Object.defineProperty(c, "row", {
                  get: function () {
                    return e || (e = new DayPilot.Row(o, E)), e;
                  },
                });
              })(),
              (c.start = s),
              (c.end = d),
              (c.calendar = E),
              (c.isParent = !(!o.children || !o.children.length)),
              (c.update = function () {
                if (!a[c.y].hidden) {
                  var e = E.va.cells[c.i];
                  E.Jf(e);
                  var t = E.xd();
                  t.xStart <= c.x &&
                    c.x <= t.xEnd &&
                    t.yStart <= c.y &&
                    c.y <= t.yEnd &&
                    E._e(c.x, c.y, c.grid);
                }
              }),
              (c.utilization = function (e) {
                return o.isNewRow
                  ? 0
                  : (o.sections || o.eq(), o.sections.forRange(s, d).maxSum(e));
              }),
              (c.events = function () {
                return o.events.forRange(s, d);
              }),
              (c.div = E.va.cells[c.i]);
            var u = E.fq(e, t, n);
            return (c.properties = u), c;
          }),
          (this.cells.findXy = function (e, t, n) {
            if (((n = n || "main"), C(e))) {
              for (var i = [], a = 0; a < e.length; a++) {
                var r = e[a];
                i.push(E.cells.qe(r.x, r.y, n));
              }
              return E.dq(i);
            }
            if (null === e || null === t) return E.dq();
            var o = E.cells.qe(e, t, n);
            return E.dq(o);
          }),
          (this.cq = function (e, t) {
            var n;
            if (
              ((n =
                t instanceof DayPilot.Row ? t.$.row : t.isRow ? t : E.sm(t)),
              !n)
            )
              return null;
            if (!E.itline || 0 === E.itline.length) return null;
            var i = n.start.getTime() - E.Ub().getTime(),
              a = new DayPilot.Date(e).addTime(-i),
              r = E.getPixels(a);
            if (!r) return null;
            if (null === r.i) return null;
            var o = {};
            return (o.x = r.i), (o.y = n.index), (o.grid = n.grid), o;
          }),
          (this.dq = function (e) {
            var t = y();
            if (C(e)) for (var n = 0; n < e.length; n++) t.push(e[n]);
            else "object" == typeof e && e && t.push(e);
            return (
              (t.cssClass = function (e) {
                return (
                  this.forEach(function (t) {
                    (t.properties.cssClass = DayPilot.Util.addClassToString(
                      t.properties.cssClass,
                      e
                    )),
                      t.update();
                  }),
                  this
                );
              }),
              (t.removeClass = function (e) {
                return (
                  this.forEach(function (t) {
                    (t.properties.cssClass =
                      DayPilot.Util.removeClassFromString(
                        t.properties.cssClass,
                        e
                      )),
                      t.update();
                  }),
                  this
                );
              }),
              (t.addClass = t.cssClass),
              (t.html = function (e) {
                return (
                  this.forEach(function (t) {
                    (t.properties.html = e), t.update();
                  }),
                  this
                );
              }),
              (t.invalidate = function () {
                return (
                  this.forEach(function (e) {
                    delete E._m[e.i], (E.cellProperties[e.i] = null);
                  }),
                  this
                );
              }),
              t
            );
          }),
          (this.kh = {}),
          (this.kh.scope = null),
          (this.kh.notify = function (e) {
            E.kh.scope && DayPilot.Util.safeApply(E.kh.scope, e);
          }),
          (this.debug = new DayPilot.Debug(this)),
          (this.gq = function (e) {
            if ("Days" !== E.viewType)
              throw new DayPilot.Exception(
                "Checking row start when viewType !== 'Days'"
              );
            if (e.getTime() < E.visibleStart().getTime())
              return E.visibleStart();
            for (var t = 0; t < E.rowlist.length; t++) {
              var n = E.rowlist[t],
                i = n.element ? n.element.data : n.data,
                a = i.start;
              if (
                e.getTime() >= a.getTime() &&
                e.getTime() < a.addDays(1).getTime()
              )
                return a;
            }
            return null;
          }),
          (this.hq = function (e) {
            var t = E.Ub();
            if (e.ticks === t.ticks) return e;
            var n = t;
            if (e.ticks < t.ticks) {
              for (
                var i = this.itline[0].end.ticks - this.itline[0].start.ticks;
                n.ticks > e.ticks;

              )
                n = n.addTime(-i);
              return n;
            }
            if ("Days" === E.viewType) {
              var a = 0,
                r = this.kn(e.addTime(-0));
              if (r.current) return r.current.start.addTime(a);
              if (r.past) return r.previous.end.addTime(a);
              throw new DayPilot.Exception("getBoxStart(): time not found");
            }
            var r = this.kn(e);
            if (r.current) return r.current.start;
            if (r.past) return r.previous.end;
            if (r.hidden) {
              var o = r.next.start.getTime() - e.getTime(),
                l = r.next.end.getTime() - r.next.start.getTime(),
                s = Math.ceil(o / l) * l;
              return r.next.start.addTime(-s);
            }
            throw new DayPilot.Exception("getBoxStart(): time not found");
          }),
          (this.Wo = function (e) {
            var t = this.Am(E.coords.y, E.coords.grid),
              i = E.scaleManualLimitBeyond;
            if ("function" != typeof e.end)
              throw new DayPilot.Exception("e.end function is not defined");
            if (!e.end()) throw new DayPilot.Exception("e.end() returns null");
            var a = DayPilot.DateUtil.diff(e.rawend(), e.start());
            a = u(a, 1);
            var r = H.fh(a),
              o = e.data && "Milestone" === e.data.type,
              l = E.eventHeight,
              s = 0,
              d = E.coords.x;
            o && (d += l / 2);
            var c = e.cache || e.data,
              h = E.eventMoveSkipNonBusiness && !c.moveSkipNonBusinessDisabled;
            if (i && "Manual" === E.scale && !h) {
              var f = (function () {
                  var e = E.getDate(E.coords.x, !0, !0),
                    t = e.addTime(-a),
                    n = E.getPixels(t).boxLeft,
                    i = E.getPixels(e).boxRight;
                  return Math.min(i, E.coords.x) - n;
                })(),
                v = Math.min(n.iq ? n.iq : 0, f);
              d = E.coords.x - v;
            }
            var p = n.jq ? n.jq.calendar : E,
              m = 0,
              g = "Days" === this.viewType || this.ho(),
              b = !e.part.external && p === E;
            if (
              (g &&
                b &&
                (m =
                  this.rowlist[e.part.dayIndex].start.getTime() -
                  this.Ub().getTime()),
              r && !o && p === E)
            ) {
              var y = E.kn(e.start()),
                w = !y.hidden && !y.past;
              (s =
                e.start().getTime() -
                this.hq(e.start().addTime(-m)).addTime(m).getTime()),
                w &&
                  (s = (function (e, t) {
                    var n = E.kq(E.kn(e).current),
                      i = E.kq(E.in(d).cell);
                    if (n > 1.2 * i) {
                      var a = t > 0 ? 1 : -1;
                      for (t = Math.abs(t); t >= i; ) t -= i;
                      t *= a;
                    }
                    return t;
                  })(e.start(), s));
            }
            p && p !== E && p.lq() !== E.lq() && (s = 0);
            var x = 0;
            if (!n.mq || ("Manual" === E.scale && i) || p !== E) x = 0;
            else if (r) {
              var k = e.start().addTime(-m),
                C = this.hq(k);
              x = n.mq.getTime() - C.getTime();
              var _ = 60 * E.lq() * 1e3;
              x = Math.floor(x / _) * _;
            } else x = n.mq.getTime() - e.start().addTime(-m).getTime();
            if ((this.eventMoveToPosition && (x = 0), o)) {
              var T = E.getDate(d, !0);
              x = -((E.getDate(d + l / 2, !0).getTime() - T.getTime()) / 2);
            }
            var S = this.getDate(d, !0).addTime(-x).addTime(m);
            n.nq && (S = e.start());
            var D = E.snapToGrid;
            n.mn
              ? (D = D && E.snapToGridEventMoving)
              : n.nq
              ? (D = D && E.snapToGridEventResizing)
              : n.oq && (D = D && E.snapToGridTimeRangeSelecting),
              D && (S = this.hq(S.addTime(-m)).addTime(m)),
              (S = S.addTime(s));
            var M = S.addTime(a),
              A = S,
              R = M;
            if (g) {
              (A = S.addTime(-m)), (R = A.addTime(a));
              var B = t.element.data.start.getTime() - this.Ub().getTime();
              if (
                ((S = A.addTime(B)), (M = S.addTime(a)), M > t.element.data.end)
              ) {
                var N = M.getTime() - t.element.data.end.getTime(),
                  P = t.element.start.getTime() - this.Ub().getTime();
                R = M.addTime(-N).addTime(-P);
              }
            }
            if (i && "Manual" === E.scale) {
              var L = t.element.pq();
              if (M > L) {
                var N = M.getTime() - L.getTime();
                (S = S.addTime(-N)), (M = M.addTime(-N));
              }
              (A = S.addTime(-m)), (R = M.addTime(-m));
            }
            if (n.mn && h) {
              var z = t.i,
                I = 0;
              n.mq &&
                ((I = n.mq.addTime(m)),
                D && (I = this.hq(I.addTime(-m)).addTime(m)));
              var O = !e.part.dayIndex,
                j = 0;
              O || (j = E.qq(e.start(), I, e.part.dayIndex));
              var U = E.rq(e),
                W = E.getDate(d, !0);
              D && (W = E.getDate(d));
              var v = E.sq(W, j, z, t.grid);
              (S = W.addTime(-v).addTime(m)),
                D && (S = this.hq(S.addTime(-m)).addTime(m)),
                (s = O
                  ? 0
                  : E.qq(
                      this.hq(e.start().addTime(-m)).addTime(m),
                      e.start(),
                      z,
                      t.grid
                    )),
                (S = S.addTime(s)),
                S <= E.visibleStart() &&
                  (S = E.tq(E.visibleStart(), z, t.grid).start),
                (M = E.uq(S, U, z, t.grid)),
                M >= E.visibleEnd() &&
                  ((M = E.vq(E.visibleEnd(), z, t.grid).end),
                  (S = M.addTime(-E.sq(M, U, z)))),
                (A = S.addTime(-m)),
                (R = M.addTime(-m));
            }
            var Y = this.getPixels(A),
              F = this.getPixels(R),
              q = D ? Y.boxLeft : Y.left,
              V = D && r ? F.boxRight - q : F.left - q;
            o && ((V = l), (q -= V / 2));
            var J = {};
            return (
              (J.top = t.top),
              (J.left = q),
              (J.row = t.element),
              (J.rowIndex = t.i),
              (J.grid = E.coords.grid),
              (J.width = V),
              (J.start = S),
              (J.end = M),
              (J.relativeY = E.coords.y - t.top),
              J
            );
          }),
          (this.wq = function (e, t) {
            var n = E.kn(e),
              i = E.kn(t),
              a = null,
              r = 0;
            n.hidden && (a = e);
            for (var o = n.i; o <= i.i; o++) {
              var l = E.itline[o];
              a && a < l.start && (r += l.start.getTime() - a.getTime()),
                (a = l.end);
            }
            return r;
          }),
          (this.uq = function (e, t, n, i) {
            i = i || "main";
            var a = t,
              r = E.rowlist[n],
              o = r.data.start.getTime() - E.Ub().getTime(),
              l = e.addTime(-o),
              s = E.tq(l, n, i);
            if (!s) throw new DayPilot.Exception("No next cell found");
            var d = k(E.itline, s);
            if (s.start > e);
            else {
              if (((a -= s.end.getTime() - l.getTime()), a <= 0))
                return e.addTime(t);
              d += 1;
            }
            for (var c = d; c < E.itline.length; c++) {
              var u = E.fq(c, n, i),
                h = E.itline[c];
              if (u.business) {
                var f = h.start.addTime(o),
                  v = h.end.addTime(o),
                  p = v.getTime() - f.getTime();
                if (a <= p) return f.addTime(a);
                a -= p;
              }
            }
            return E.itline[E.itline.length - 1].end.addTime(a);
          }),
          (this.qq = function (e, t, n, i) {
            i = i || "main";
            var a = E.Uo(i),
              r = a.rowlist,
              o = r[n],
              l = o.data.start.getTime() - E.Ub().getTime(),
              s = e.addTime(-l),
              d = t.addTime(-l),
              c = E.tq(s, n, i);
            if (!c) throw new DayPilot.Exception("No next cell found");
            var h = 0,
              f = k(E.itline, c);
            if (c.start <= d) {
              if (t < c.end.addTime(l))
                return c.start > s
                  ? t.getTime() - c.start.addTime(l).getTime()
                  : t.getTime() - e.getTime();
              (h +=
                s > c.start
                  ? c.end.getTime() - s.getTime()
                  : c.end.getTime() - c.start.getTime()),
                (f += 1);
            }
            for (var v = f; v < E.itline.length; v++) {
              if (E.fq(v, n, i).business) {
                var p = E.itline[v],
                  m = p.start.addTime(l),
                  g = p.end.addTime(l),
                  b = g.getTime() - m.getTime();
                if (t < m) return h;
                if (t <= g) return (h += t.getTime() - m.getTime());
                h += b;
              }
            }
            return (h += u(
              0,
              t.getTime() - E.itline.last().end.addTime(l).getTime()
            ));
          }),
          (this.rq = function (e) {
            if (e.part.duration) {
              if (isNaN(e.part.duration))
                throw new DayPilot.Exception(
                  "Unable to get calculated duration"
                );
              return e.part.duration;
            }
            var t = e.part.dayIndex;
            return E.qq(e.start(), e.rawend(), t);
          }),
          (this.sq = function (e, t, n, i) {
            i = i || "main";
            var a = 0,
              r = t,
              o = E.kn(e);
            if (!o.current)
              throw new DayPilot.Exception("Current cell not found.");
            var l = k(E.itline, o.current);
            if (E.fq(l, n, i).business) {
              if (e.addTime(-t) >= o.current.start) return t;
            } else if (0 === t || e.addTime(-t) >= o.current.start) {
              var s = E.tq(e, n, i);
              if (s) return e.getTime() - s.start.getTime();
              var d = E.vq(e, n, i);
              return e.getTime() - d.start.getTime();
            }
            (a += e.getTime() - o.current.start.getTime()),
              (r -= e.getTime() - o.current.start.getTime()),
              (l -= 1);
            for (var c = o.current.start; l >= 0; ) {
              var u = E.itline[l];
              c > u.end && (a += c.getTime() - u.end.getTime()), (c = u.start);
              var h = u.end.getTime() - u.start.getTime();
              if (E.fq(l, n, i).business) {
                if (r <= h) return (a += r);
                (a += h), (r -= h);
              } else a += h;
              l -= 1;
            }
            return a + r;
          }),
          (this.vq = function (e, t, n) {
            n = n || "main";
            var i = E.kn(e),
              a = 0;
            if (i.past) return null;
            if (i.current) a = i.i;
            else {
              if (!i.previous) return null;
              a = k(E.itline, i.previous);
            }
            for (var r = a; r >= 0; r--) {
              if (E.Pf(r, t, n)) return E.itline[r];
            }
            return null;
          }),
          (this.tq = function (e, t, n) {
            n = n || "main";
            var i = E.kn(e),
              a = 0;
            if (i.past) return null;
            if (i.current) a = i.i;
            else {
              if (!i.next) return null;
              a = k(E.itline, i.next);
            }
            for (var r = a; r < E.itline.length; r++) {
              if (E.Pf(r, t, n)) return E.itline[r];
            }
            return null;
          }),
          (this.Pf = function (e, t, n) {
            return (n = n || "main"), E.fq(e, t, n).business;
          }),
          (this.lq = function () {
            switch (this.scale) {
              case "CellDuration":
                return this.cellDuration;
              case "Minute":
                return 1;
              case "Hour":
                return 60;
              case "Day":
                return 1440;
              case "Week":
                return 10080;
              case "Month":
                return 43200;
              case "Year":
                return 525600;
              case "Manual":
                if (E.itline.length > 0) {
                  var e = E.itline[0];
                  return (e.end.getTime() - e.start.getTime()) / 6e4;
                }
                return E.cellDuration;
            }
            throw new DayPilot.Exception("can't guess cellDuration value");
          }),
          (this.kq = function (e) {
            return e.end.ticks - e.start.ticks;
          }),
          (this.xq = function (e, t) {
            return (
              (t = t || "main"),
              !(
                "main" !== t ||
                !this.treePreventParentUsage ||
                !this.yq(e, t)
              ) || !!this.zq(e, t)
            );
          }),
          (this.yq = function (e, t) {
            t = t || "main";
            var n = E.pm[t],
              i = n.rowlist,
              a = i[e];
            return (
              !!a.isParent ||
              !!(this.treeEnabled && a.children && a.children.length > 0)
            );
          }),
          (this.zq = function (e, t) {
            t = t || "main";
            var n = E.pm[t],
              i = n.rowlist,
              a = i[e];
            return !!a.isNewRow || !!a.resource.preventUsage;
          }),
          (this.Aq = {}),
          (this.Bq = function () {
            if (E.treeAutoExpand) {
              var e = this.Wo(n.jq),
                t = e.rowIndex,
                i = this.yq(t),
                a = this.Aq;
              if (
                (a.timeout &&
                  a.y !== t &&
                  (clearTimeout(a.timeout), (a.timeout = null), (a.y = null)),
                i)
              ) {
                a.y = t;
                var r = !E.rowlist[a.y].expanded;
                !a.timeout &&
                  r &&
                  (a.timeout = setTimeout(function () {
                    !E.rowlist[a.y].expanded &&
                      (E.Cq(a.y, { notAnimated: !0 }), E.Dq()),
                      (a.timeout = null),
                      (a.y = null);
                  }, 500));
              }
            }
          }),
          (this.Eq = function () {
            clearTimeout(E.Aq.timeout), (E.Aq.timeout = null), (E.Aq.y = null);
          }),
          (this.Xf = function () {
            var e = n.Fq.width,
              t = n.Fq.left,
              i = n.Gq,
              a = n.nq.dpBorder,
              r = E.rowlist[i.part.dayIndex],
              o = 0;
            o = r.start.getTime() - E.Ub().getTime();
            var l = null,
              s = null,
              d = E.snapToGrid && E.snapToGridEventResizing,
              c = !d;
            "left" === a
              ? ((l = E.getDate(t, c).addTime(o)), (s = i.rawend()))
              : "right" === a &&
                ((l = i.start()), (s = E.getDate(t + e, c, !0).addTime(o))),
              (n.Fq.start = l),
              (n.Fq.end = s);
          }),
          (this.vh = {});
        var X = this.vh;
        (this.exportAs = function (e, t) {
          if (!E.vg())
            throw new DayPilot.Exception(
              "DayPilot.Scheduler.exportAs(): The instance must be visible during export."
            );
          var n = X.wh(e, t);
          return new DayPilot.Export(n);
        }),
          (this["export"] = this.exportAs);
        var Z = function () {
          return E.nav.dummy;
        };
        (X.yh = function () {
          var e = X.xh;
          switch (e) {
            case "viewport":
              return E.nav.top.offsetWidth;
            case "full":
              return E.Fm() + X.Eh();
            case "range":
              return (
                E.getPixels(X.Hq()).boxRight -
                E.getPixels(X.Iq()).boxLeft +
                X.Eh()
              );
            default:
              throw new DayPilot.Exception("Unsupported export mode: " + e);
          }
        }),
          (X.zh = function () {
            var e = X.xh;
            switch (e) {
              case "viewport":
                return E.nav.top.offsetHeight - DayPilot.sh(E.nav.scroll) - 1;
              case "full":
                return E.Jq() + E.Km() - DayPilot.sh(E.nav.scroll);
              case "range":
                var t = X.ck();
                if (0 === t.length) return E.Km();
                var n = t.first(),
                  i = t.last(),
                  a = X.Kq(i) - X.Kq(n) + i.height + E.Km();
                return (a += E.pm.top.height), (a += E.pm.bottom.height);
              default:
                throw new DayPilot.Exception("Unsupported export mode: " + e);
            }
          }),
          (X.Kq = function (e) {
            var t = X.A.includeHiddenRows ? e.absTop : e.top;
            return (
              "bottom" === e.grid &&
                ("viewport" === X.xh
                  ? (t += E.pm.bottom.top - E.Km())
                  : "full" === X.xh
                  ? (t += E.vl)
                  : "range" === X.xh &&
                    (t += X.zh() - E.Km() - E.pm.bottom.height)),
              t
            );
          }),
          (X.Lq = function (e, t) {
            var n = "number" == typeof e.top ? e.top : null,
              i = "number" == typeof e.bottom ? e.bottom : null,
              a =
                "number" == typeof e.height
                  ? e.height
                  : "number" == typeof e.h
                  ? e.h
                  : null;
            return (
              null !== n && null !== a && null !== i && (i = null),
              null === n && null !== a && null !== i
                ? (n = t - i - a)
                : null === a && null !== n && null !== i && (a = t - n - i),
              null === n && (n = 0),
              null === a && (a = t - n),
              { top: n, height: a }
            );
          }),
          (X.Mq = function (e) {
            var t = X.Ch();
            return "main" !== e.grid && (t = 0), t;
          }),
          (X.Iq = function () {
            var e = X.A.dateFrom || E.Ub();
            return new DayPilot.Date(e);
          }),
          (X.Hq = function () {
            var e = X.A.dateTo || E.je();
            return new DayPilot.Date(e);
          }),
          (X.Nq = function () {
            return X.A.resourceFrom
              ? E.sm(X.A.resourceFrom)
              : E.rowlist.find(function (e) {
                  return !e.hidden;
                });
          }),
          (X.Oq = function () {
            return X.A.resourceTo ? E.sm(X.A.resourceTo) : E.rowlist.last();
          }),
          (X.Eh = function () {
            return E.Im();
          }),
          (X.Pq = function () {
            return E.Km();
          }),
          (X.Ah = function () {
            var e = X.Eh(),
              t = X.Pq(),
              n = {};
            (n.main = { x: 0, y: 0, w: X.yh(), h: X.zh() }),
              (n.corner = { x: 0, y: 0, w: e, h: t }),
              (n.grid = { x: e, y: t, w: X.yh() - e, h: X.zh() - t });
            var i = n.grid.w,
              a = E.itline.last();
            a && a.left + a.width < n.grid.w && (i = a.left + a.width);
            var r = n.grid.h,
              o = E.rowlist.last();
            return (
              o && o.top + o.height < n.grid.h && (r = o.top + o.height),
              (n.gridContent = { x: e, y: t, w: i, h: r }),
              n
            );
          }),
          (X.ck = function () {
            var e,
              t,
              n,
              i,
              a = X.xh,
              r = y();
            switch (a) {
              case "viewport":
                (e = E.Qq),
                  (t = e + E.nav.scroll.offsetHeight),
                  (n = E.Am(e).i),
                  (i = E.Am(t).i);
                break;
              case "full":
                (e = 0), (n = 0), (i = E.rowlist.length);
                break;
              case "range":
                var o = X.Nq(),
                  l = X.Oq();
                if (!o)
                  throw new DayPilot.Exception(
                    "Resource specified using resourceFrom option not found during export."
                  );
                if (!l)
                  throw new DayPilot.Exception(
                    "Resource specified using resourceTo option not found during export."
                  );
                (n = o.index), (i = l.index);
            }
            i < E.rowlist.length && (i += 1);
            for (var s = n; s < i; s++) {
              var d = E.rowlist[s];
              (!X.A.includeHiddenRows && d.hidden) || r.push(d);
            }
            return (r.offset = n), r;
          }),
          (X.Rq = function () {
            var e = E.Qq + E.pm.top.height,
              t = E.Am(e).i + X.Sq().length,
              n = E.Tq,
              i = E.in(n).x;
            return (i = u(i, 0)), { x: i, y: t };
          }),
          (X.Sq = function () {
            return E.pm.top.rowlist;
          }),
          (X.Uq = function () {
            return E.pm.bottom.rowlist;
          }),
          (X.Vq = function () {
            var e = [];
            return (
              (e = e.concat(X.Sq())),
              (e = e.concat(X.ck())),
              (e = e.concat(X.Uq()))
            );
          }),
          (X.Wq = function () {
            var e = [];
            return (e = e.concat(X.Sq())), (e = e.concat(X.Uq()));
          }),
          (X.Xq = function () {
            if (E.pm.bottom.enabled()) {
              if ("viewport" === X.xh) return E.pm.bottom.top;
              if ("full" === X.xh) return X.zh() - E.pm.bottom.height;
              if ("range" === X.xh) return X.zh() - E.pm.bottom.height;
            }
            return X.zh();
          }),
          (X.Yq = function () {
            var e = X.xh;
            switch (e) {
              case "full":
                var t = y();
                return (
                  y(E.rowlist).forEach(function (e) {
                    e.hidden ||
                      y(e.events).forEach(function (e) {
                        t.push(e);
                      });
                  }),
                  t
                );
              case "viewport":
                return G.Rk()
                  .filter(function (e) {
                    return "main" === e.event.part.grid;
                  })
                  .map(function (e) {
                    return e.event;
                  });
              case "range":
                var n = y(),
                  i = X.Iq(),
                  a = X.Hq();
                return (
                  X.ck().forEach(function (e) {
                    y(e.events)
                      .filter(function (e) {
                        return l(e.start(), e.end(), i, a);
                      })
                      .forEach(function (e) {
                        n.push(e);
                      });
                  }),
                  n
                );
              default:
                throw new DayPilot.Exception("Unsupported export mode: " + e);
            }
          }),
          (X.Zq = function () {
            var e = X.xh;
            switch (e) {
              case "full":
                var t = y();
                return (
                  X.Wq().forEach(function (e) {
                    e.hidden ||
                      y(e.events).forEach(function (e) {
                        t.push(e);
                      });
                  }),
                  t
                );
              case "viewport":
                return G.Rk()
                  .filter(function (e) {
                    return "main" !== e.event.part.grid;
                  })
                  .map(function (e) {
                    return e.event;
                  });
              case "range":
                var n = y(),
                  i = X.Iq(),
                  a = X.Hq();
                return (
                  X.Wq().forEach(function (e) {
                    y(e.events)
                      .filter(function (e) {
                        return l(e.start(), e.end(), i, a);
                      })
                      .forEach(function (e) {
                        n.push(e);
                      });
                  }),
                  n
                );
              default:
                throw new DayPilot.Exception("Unsupported export mode: " + e);
            }
          }),
          (X.$q = function () {
            if (C(E.links.list)) {
              for (var e = [], t = 0; t < E.links.list.length; t++) {
                var n = E.links.list[t],
                  i = E.events.find(n.from),
                  a = E.events.xp(i && i.data),
                  r = E.events.find(n.to),
                  o = E.events.xp(r && r.data),
                  l = W.Ep(a, o, n, X.A.includeHiddenRows);
                l && e.push(l);
              }
              return e;
            }
          }),
          (X._q = function () {
            var e = X.xh;
            switch (e) {
              case "full":
                return y(E.itline).addProps({ offset: 0 });
              case "viewport":
                return X.ar();
              case "range":
                return X.br();
              default:
                throw new DayPilot.Exception("Unsupported export mode: " + e);
            }
          }),
          (X.br = function () {
            var e = y();
            if (E.itline && E.itline.length > 0) {
              var t = E.kn(X.Iq()).i,
                n = E.kn(X.Hq()).i,
                i = E.cr();
              (n = Math.min(n, i - 1)), (t = u(t, 0));
              for (var a = t; a <= n; a++) {
                var r = E.itline[a];
                e.push(r);
              }
              e.offset = t;
            }
            return e;
          }),
          (X.ar = function () {
            var e = y();
            if (E.itline && E.itline.length > 0) {
              var t = E.Tq,
                n = t + E.nav.scroll.offsetWidth,
                i = E.in(t).x,
                a = E.in(n, !0).x,
                r = E.cr();
              (a = Math.min(a, r)), (i = u(i, 0));
              for (var o = i; o <= a; o++) {
                var l = E.itline[o];
                e.push(l);
              }
              e.offset = i;
            }
            return e;
          }),
          (X.dr = function (e, t) {
            if (((t = t || X.xh), "full" === t)) return y(E.timeHeader[e]);
            var n = y(),
              i = X.er(),
              a = i + X.fr(),
              r = E.gr(e, i),
              o = E.gr(e, a);
            o || (o = { x: E.timeHeader[e].length - 1 });
            for (var l = r.x; l <= o.x; l++) {
              var s = E.timeHeader[e][l];
              n.push(s);
            }
            return n;
          }),
          (X.hr = function () {
            return y(E.separators)
              .map(function (e) {
                var t = new DayPilot.Date(e.location);
                if (t.getTime() < E.Ub().getTime()) return null;
                if (t.getTime() >= E.je().getTime()) return null;
                var n = E.getPixels(t);
                return n.cut
                  ? null
                  : n.left < 0
                  ? null
                  : n.left > E.Fm()
                  ? null
                  : { left: n.left, color: e.color, width: e.width || 1 };
              })
              .filter(function (e) {
                return !!e;
              });
          }),
          (X.ir = function () {
            var e = o();
            (e.style.display = "none"), (e.className = E.ca(A.event));
            var t = o();
            t.className = E.ca(A.eventBar);
            var n = o();
            return (
              (n.className = E.ca(A.eventBarInner)),
              t.appendChild(n),
              e.appendChild(t),
              Z().appendChild(e),
              e
            );
          }),
          (X.jr = function () {
            var e = o();
            return (
              (e.style.display = "none"),
              (e.className = E.ca("_event_left")),
              Z().appendChild(e),
              e
            );
          }),
          (X.Dh = function () {
            var e = o();
            e.className = E.ca("_event");
            var t = o();
            return (
              (t.className = E.ca("_event_inner")),
              e.appendChild(t),
              Z().appendChild(e),
              t
            );
          }),
          (X.kr = function () {
            var e = o();
            (e.style.display = "none"),
              (e.className = E.ca(A.event) + " " + E.ca("_task_group"));
            var t = o();
            return (
              (t.className = E.ca(A.eventInner)),
              e.appendChild(t),
              E.divEvents.appendChild(e),
              e
            );
          }),
          (X.lr = function () {
            var e = o();
            (e.style.display = "none"),
              (e.className = E.ca(A.event) + " " + E.ca("_task_milestone"));
            var t = o();
            return (
              (t.className = E.ca(A.eventInner)),
              e.appendChild(t),
              E.divEvents.appendChild(e),
              e
            );
          }),
          (X.Bh = function () {
            var e = o();
            (e.style.display = "none"),
              (e.className = E.ca("_cell")),
              (e.style.position = "absolute"),
              (e.style.top = "-2000px"),
              (e.style.left = "-2000px");
            var t = o();
            return (
              (t.className = E.ca("_cell_inner")),
              e.appendChild(t),
              E.divCells.appendChild(e),
              e
            );
          }),
          (X.mr = function () {
            var e = o();
            (e.style.display = "none"),
              (e.className = E.ca("_rowheader")),
              (e.style.position = "absolute"),
              (e.style.top = "-2000px"),
              (e.style.left = "-2000px");
            var t = o();
            return (
              (t.className = E.ca("_rowheader_inner")),
              e.appendChild(t),
              E.divResScroll.appendChild(e),
              e
            );
          }),
          (X.nr = function () {
            var e = o();
            (e.style.display = "none"),
              (e.className = E.ca("_corner")),
              (e.style.position = "absolute"),
              (e.style.top = "-2000px"),
              (e.style.left = "-2000px");
            var t = o();
            return (
              (t.className = E.ca("_corner_inner")),
              e.appendChild(t),
              E.nav.top.appendChild(e),
              e
            );
          }),
          (X.or = function () {
            var e = o();
            return (
              (e.style.display = "none"),
              (e.className = E.ca("_tree_image_expand")),
              Z().appendChild(e),
              e
            );
          }),
          (X.pr = function (e) {
            var t = document.createElement("i");
            return (
              (t.className = e),
              (t.style.position = "absolute"),
              (t.style.top = "-2000px"),
              (t.style.left = "-2000px"),
              t
            );
          }),
          (X.qr = function (e) {
            var t = /url\((")?([^"].*[^"])\1\)/.exec(e);
            return t ? t[2] : null;
          }),
          (X.rr = function () {
            var e = {},
              t = X.or();
            return (
              (e.expand = X.qr(
                new DayPilot.StyleReader(t).get("background-image")
              )),
              (t.className = E.ca("_tree_image_collapse")),
              (e.collapse = X.qr(
                new DayPilot.StyleReader(t).get("background-image")
              )),
              (t.className = E.ca("_tree_image_no_children")),
              (e.nochildren = X.qr(
                new DayPilot.StyleReader(t).get("background-image")
              )),
              x(t),
              e
            );
          }),
          (X.sr = function (e) {
            return new DayPilot.StyleReader(e).getFont();
          }),
          (X.er = function () {
            switch (X.xh) {
              case "full":
                return 0;
              case "viewport":
                return E.nav.scroll.scrollLeft;
              case "range":
                return E.getPixels(X.Iq()).boxLeft;
            }
          }),
          (X.Ch = function () {
            switch (X.xh) {
              case "full":
                return 0;
              case "viewport":
                return E.nav.scroll.scrollTop;
              case "range":
                return X.Kq(X.Nq()) - E.pm.top.height;
            }
          }),
          (X.fr = function () {
            switch (X.xh) {
              case "full":
                return E.Fm();
              case "viewport":
                return E.nav.scroll.offsetWidth;
              case "range":
                return E.getPixels(X.Hq()).boxRight - X.er();
            }
          }),
          (X.ur = function (e) {
            if (!E.exceljs)
              throw new DayPilot.Exception("`exceljs` not defined");
            e = e || {};
            var t =
                e.mime ||
                "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
              n = {
                transformWidth: e.transformWidth,
                transformHeight: e.transformHeight,
              },
              i = new DayPilot.Excel(E.exceljs, n),
              a = i.worksheets.create("Scheduler"),
              r = E.rowHeaderColumns,
              o = H.vr(),
              l = E.timeHeader.length,
              s = r ? o.length : 1,
              c = X.xh,
              h = new DayPilot.StyleReader(E.nav.top).getColorHex(
                "border-top-color"
              ),
              v = E.va.timeHeader["0_0"],
              p = new DayPilot.StyleReader(v).getColorHex("background-color"),
              m = new DayPilot.StyleReader(v).getColorHex("color"),
              g = X.Dh(),
              b = new DayPilot.StyleReader(g).getColorHex("border-right-color"),
              w = new DayPilot.StyleReader(g).getColorHex("color"),
              k = new DayPilot.StyleReader(g).get("background-color");
            (k = DayPilot.Util.isTransparentColor(k)
              ? "#fafafa"
              : new DayPilot.StyleReader(g).get("background-color")),
              x(g);
            var _ = DayPilot.Util.firstPropValue(E.va.zl),
              T = new DayPilot.StyleReader(_).getColorHex("background-color"),
              S = H.mg(),
              D = E.eventHeight,
              M = (function () {
                var e = X.Bh(),
                  t = new DayPilot.StyleReader(e).getColorHex(
                    "background-color"
                  );
                d(e, E.ca("_cell_business"));
                var n = new DayPilot.StyleReader(e).getColorHex(
                    "background-color"
                  ),
                  i = new DayPilot.StyleReader(e).getColorHex("color");
                return x(e), { nonBusiness: t, business: n, font: i };
              })(),
              A = X.Vq(),
              R = X.Sq().length,
              B = X._q(),
              N = E.treeEnabled ? 1 : 0,
              P = (function () {
                return (
                  N +
                  A.reduce(function (e, t) {
                    return Math.max(e, t.level);
                  }, 0)
                );
              })();
            !(function () {
              if ("full" === c) {
                var e = X.Rq();
                (e.x += s + P),
                  (e.y += l),
                  a.freeze(P + s, l + R),
                  a.cell(e.x, e.y).makeTopLeft().focus();
              }
            })(),
              (function () {
                var e = {};
                (e.backColor = p),
                  (e.html = E.cornerHtml),
                  (e.text = E.cornerText),
                  (e.fontColor = m),
                  (e.horizontalAlignment = null),
                  (e.verticalAlignment = null),
                  (e.control = E),
                  (e.areas = null),
                  "function" == typeof E.onBeforeCornerRender &&
                    E.onBeforeCornerRender(e),
                  (e.format = X.wr),
                  "function" == typeof E.onBeforeCornerExport &&
                    E.onBeforeCornerExport(e);
                var t = e.verticalAlignment || "top",
                  n = e.horizontalAlignment || "left",
                  i = r ? 1 : 0,
                  d = !r || E.timeHeader.length > 1,
                  c = r && E.timeHeader.length > 1;
                d &&
                  a
                    .cell(0, 0)
                    .setText(e.text)
                    .setSpan(P + s, l - i)
                    .setBorderColor(h)
                    .setBackColor(e.backColor)
                    .setFontColor(e.fontColor)
                    .setVerticalAlignment(t)
                    .setHorizontalAlignment(n),
                  c &&
                    o.forEach(function (e, t) {
                      var n = 0 === t ? P + 1 : 1,
                        i = 0 === t ? 0 : P,
                        r = e.name || e.title;
                      a.cell(t + i, E.timeHeader.length - 1)
                        .setColspan(n)
                        .setBackColor(p)
                        .setBorderColor(h)
                        .setText(r);
                    });
              })(),
              (function () {
                var e = l;
                y(A).forEach(function (t) {
                  var n = s + P,
                    i = t.lines;
                  0 === i.length && (i = [{}]),
                    y(B).forEach(function (r, o) {
                      var l = t.grid,
                        s = t.index,
                        d = B.offset,
                        c = E.fq(o + d, s, l),
                        u = c.business,
                        h = E.xr(o + d, s, l);
                      h ||
                        ((h = {}), (h.cell = E.cells.findXy(o + d, s, l)[0]));
                      var f = c.text || c.html,
                        v = c.horizontalAlignment || "left",
                        p = c.backColor || (u ? M.business : M.nonBusiness);
                      (h.text = f),
                        (h.horizontalAlignment = v),
                        (h.backColor = p),
                        (h.fontColor =
                          (h.cell &&
                            h.cell.properties &&
                            h.cell.properties.fontColor) ||
                          M.font),
                        (h.verticalAlignment = "center"),
                        (h.format = X.wr),
                        "function" == typeof E.onBeforeCellExport &&
                          E.onBeforeCellExport(h),
                        i.forEach(function (t, l) {
                          var s = l === i.length - 1;
                          a.cell(o + n, e + l)
                            .setText(h.text)
                            .setBorderColor(T, {
                              top: !1,
                              right: !0,
                              bottom: s,
                              left: !0,
                            })
                            .setBackColor(h.backColor)
                            .setFontColor(h.fontColor)
                            .setVerticalAlignment(h.verticalAlignment)
                            .setHorizontalAlignment(h.horizontalAlignment)
                            .setHeight(D)
                            .setWidth(r.width);
                        });
                    }),
                    (e += i.length);
                });
              })(),
              (function () {
                var e = l,
                  t = function (e, t) {
                    var n = e.part.start,
                      i = e.part.end,
                      a = e.cache || e.data;
                    if (((t = t || a.areas), !t)) return !1;
                    if (
                      ((t = t
                        .filter(function (e) {
                          return (
                            e.start && e.end && 0 === e.top && 0 === e.bottom
                          );
                        })
                        .map(function (e) {
                          return {
                            start: new DayPilot.Date(e.start),
                            end: new DayPilot.Date(e.end),
                          };
                        })),
                      (t = t.filter(function (e) {
                        var t = E.kn(e.start),
                          n = E.kn(e.end, !0);
                        return (
                          !(!t.current || !n.current) &&
                          t.current.start.getTime() === e.start.getTime() &&
                          n.current.end.getTime() === e.end.getTime()
                        );
                      })),
                      0 === t.length)
                    )
                      return !1;
                    if (
                      (t.sort(function (e, t) {
                        return e.start.getTime() - t.start.getTime();
                      }),
                      t[0].start.getTime() !== n.getTime())
                    )
                      return !1;
                    for (var r = 0; r < t.length - 1; r++)
                      if (t[r].end.getTime() !== t[r + 1].start.getTime())
                        return !1;
                    return t[t.length - 1].end.getTime() === i.getTime();
                  };
                y(A).forEach(function (n) {
                  var i = s + P,
                    r = y(n.lines);
                  r.length || (r = [[]]),
                    r.forEach(function (n, r) {
                      y(n).forEach(function (n) {
                        var o = n.cache || n.data,
                          l = t(n, o.areas),
                          s = {
                            e: n,
                            text: o.text,
                            backColor: o.backColor || k,
                            borderColor: o.borderColor || b,
                            fontColor: o.fontColor || w,
                            verticalAlignment: "center",
                            horizontalAlignment: "left",
                            format: X.wr,
                          };
                        if (
                          (l && (s.areas = o.areas),
                          "function" == typeof E.onBeforeEventExport &&
                            E.onBeforeEventExport(s),
                          (l = t(n, s.areas)))
                        )
                          s.areas.forEach(function (t) {
                            var o = E.kn(t.start).i,
                              l = E.kn(t.end, !0).i,
                              d = 1 + l - o,
                              c = o - B.offset;
                            (c = u(0, c)),
                              a
                                .cell(c + i, e + r)
                                .setText(t.text)
                                .setColspan(d)
                                .setBorderColor(t.borderColor || s.borderColor)
                                .setBackColor(t.backColor || s.backColor)
                                .setFontColor(t.fontColor || s.fontColor)
                                .setMinHeight(n.part.height)
                                .setVerticalAlignment(
                                  t.verticalAlignment || s.verticalAlignment
                                )
                                .setHorizontalAlignment(
                                  t.horizontalAlignment || s.horizontalAlignment
                                );
                          });
                        else {
                          var d = E.kn(n.part.start).i,
                            c = E.kn(n.part.end, !0).i,
                            h = 1 + c - d,
                            f = d - B.offset;
                          (f = u(0, f)),
                            a
                              .cell(f + i, e + r)
                              .setText(s.text)
                              .setColspan(h)
                              .setBorderColor(s.borderColor)
                              .setBackColor(s.backColor)
                              .setFontColor(s.fontColor)
                              .setMinHeight(n.part.height)
                              .setVerticalAlignment(s.verticalAlignment)
                              .setHorizontalAlignment(s.horizontalAlignment);
                        }
                      });
                    }),
                    (e += r.length);
                });
              })(),
              (function () {
                y(E.timeHeader).forEach(function (e, t) {
                  var n = { x: s + P, y: 0 };
                  X.dr(t, c).forEach(function (e) {
                    var i = E.in(e.left).x,
                      r = E.in(e.left + e.width, !0).x;
                    i < B.offset && (i = B.offset),
                      r > B.length + B.offset - 1 &&
                        (r = B.length + B.offset - 1);
                    var o = r - i + 1,
                      l = i - B.offset + n.x,
                      s = t + n.y,
                      d = {
                        areas: null,
                        backColor: e.backColor,
                        fontColor: e.fontColor,
                        start: e.start,
                        end: e.end,
                        level: t,
                        text: e.text,
                        html: e.innerHTML,
                      };
                    "function" == typeof E.onBeforeTimeHeaderRender &&
                      E.onBeforeTimeHeaderRender({ header: d });
                    var c = {};
                    (c.header = d),
                      (c.text = d.text),
                      (c.backColor = d.backColor || p),
                      (c.verticalAlignment = "center"),
                      (c.horizontalAlignment = "center"),
                      (c.fontColor = d.fontColor || m),
                      (c.format = X.wr),
                      "function" == typeof E.onBeforeTimeHeaderExport &&
                        E.onBeforeTimeHeaderExport(c),
                      a
                        .cell(l, s)
                        .setText(c.text)
                        .setColspan(o)
                        .setHorizontalAlignment(c.horizontalAlignment)
                        .setVerticalAlignment(c.verticalAlignment)
                        .setBorderColor(h)
                        .setBackColor(c.backColor)
                        .setFontColor(c.fontColor)
                        .setHeight(S);
                  });
                });
              })(),
              (function () {
                var e = l,
                  t = E.rowHeaderCols;
                y(A).forEach(function (n) {
                  var i,
                    l = n.children.length > 0,
                    s = 30,
                    d = E.treeIndent,
                    c = n.lines.length || 1,
                    u = N + n.level,
                    v = E.rowHeaderColumnsMergeParents && l && t,
                    g = v ? t.length - 1 : 0,
                    b = E.rowHeaderWidth - u * d,
                    w = n;
                  "function" == typeof E.onBeforeRowHeaderRender &&
                    (w = E.yr(n).row);
                  var x = E.Un(),
                    k = E.internalUseStandardColumns && !n.isNewRow,
                    _ = k || (x && C(r)),
                    T = {
                      row: E.lo(n),
                      text: w.text || w.name,
                      backColor: w.backColor || p,
                      fontColor: w.fontColor || m,
                      verticalAlignment: "middle",
                      horizontalAlignment: "left",
                      format: X.wr,
                    };
                  if (o.length > 0 && _ && !v) {
                    var S = w.columns.find(function (e, t) {
                      return !r[t].hidden;
                    });
                    T.text = S.text || S.html;
                  }
                  (T.columns = []),
                    (T.row.columns = T.columns),
                    null === (i = w.columns) || void 0 === i
                      ? void 0
                      : i.forEach(function (e) {
                          var t = f(e, {}, [
                            "text",
                            "html",
                            "backColor",
                            "horizontalAlignment",
                            "verticalAlignment",
                          ]);
                          (t.text = e.text || e.html),
                            (t.fontColor = T.fontColor),
                            (t.horizontalAlignment =
                              t.horizontalAlignment || T.horizontalAlignment),
                            (t.verticalAlignment =
                              t.verticalAlignment || T.verticalAlignment),
                            (t.backColor = t.backColor || T.backColor),
                            T.columns.push(t);
                        }),
                    "function" == typeof E.onBeforeRowHeaderExport &&
                      E.onBeforeRowHeaderExport(T);
                  for (var D = 0; D < u; D++) {
                    var H = 0 === D;
                    a.cell(D, e)
                      .setWidth(s)
                      .setBackColor(T.backColor)
                      .setRowspan(c)
                      .setBorderColor(h, { top: !0, bottom: !0, left: H });
                  }
                  if (l && N) {
                    var M = n.expanded ? "▼" : "▶";
                    a.cell(u - 1, e)
                      .setText(M)
                      .setVerticalAlignment(T.verticalAlignment)
                      .setFontColor(T.fontColor)
                      .setHorizontalAlignment("right");
                  }
                  var A = (T.text || "").includes("\n");
                  if (
                    (t && (b = t[0] - u * d),
                    a
                      .cell(u, e)
                      .setText(T.text)
                      .setSpan(P - u + 1 + g, c)
                      .setBorderColor(h, { top: !0, right: !0, bottom: !0 })
                      .setVerticalAlignment(T.verticalAlignment)
                      .setBackColor(T.backColor)
                      .setFontColor(T.fontColor)
                      .setWordWrap(A),
                    a.cell(P, e).setWidth(b),
                    t && !v)
                  ) {
                    var R = T.row.columns,
                      B = y(R);
                    _ &&
                      (B = B.filter(function (e, t) {
                        return !r[t].hidden;
                      })),
                      y(t).forEach(function (t, n) {
                        if (0 !== n) {
                          var i = k || E.Un() ? 0 : 1,
                            r = n - i,
                            o = B[r] || {},
                            l = o.text,
                            s = o.backColor || T.backColor,
                            d = o.fontColor || T.fontColor,
                            u = o.verticalAlignment || T.verticalAlignment,
                            f = o.horizontalAlignment || T.horizontalAlignment,
                            v = (l || "").includes("\n");
                          a.cell(P + r, e)
                            .setText(l)
                            .setSpan(1, c)
                            .setBorderColor(h, {
                              top: !0,
                              right: !0,
                              bottom: !0,
                            })
                            .setVerticalAlignment(u)
                            .setHorizontalAlignment(f)
                            .setBackColor(s)
                            .setFontColor(d)
                            .setWidth(t)
                            .setWordWrap(v);
                        }
                      });
                  }
                  e += c;
                });
              })();
            var L = {};
            return (
              (L.download = function (e) {
                i.writeBuffer().then(function (n) {
                  var i = new Blob([n], { type: t });
                  (e = e || "scheduler.xlsx"), DayPilot.Util.downloadBlob(i, e);
                });
              }),
              (L.toBlobAsync = function () {
                return i.writeBuffer().then(function (e) {
                  return new Blob([e], { type: t });
                });
              }),
              L
            );
          }),
          (X.A = null),
          (X.xh = null),
          (X.wh = function (e, t) {
            function n(e) {
              var t,
                n = p.grid.y + X.Kq(e) - X.Mq(e);
              n += u(0, p.grid.y - n);
              var i = E.treeEnabled && !e.isNewRow,
                a = 10,
                r = i ? e.level * E.treeIndent + E.treeImageMarginLeft + 5 : 5;
              "Disabled" !== E.rowMoveHandling && (r += 10);
              var o = { x: 0, y: n, w: p.grid.x + 1, h: e.height + 1 },
                l = e;
              if (me) {
                l = E.yr(e).row;
              }
              var s = E.Un(),
                d = E.internalUseStandardColumns && !e.isNewRow,
                h = d || (s && C(E.rowHeaderColumns)),
                v = {};
              if (((v.text = l.html), H.vr().length > 0 && h && l.columns)) {
                var g = l.columns.find(function (e, t) {
                  return !E.rowHeaderColumns[t].hidden;
                });
                v.text = g.text || g.html;
              }
              (v.backColor = l.backColor || ie),
                (v.fontSize = te.size),
                (v.fontFamily = te.family),
                (v.fontStyle = te.style),
                (v.fontColor = l.fontColor || ne),
                (v.borderColor = b),
                (v.horizontalAlignment = "left"),
                (v.verticalAlignment = "center"),
                (v.format = X.wr),
                (v.row = E.lo(e)),
                (v.columns = []),
                (v.row.columns = v.columns),
                null === (t = l.columns) || void 0 === t
                  ? void 0
                  : t.forEach(function (e) {
                      var t = f(e, {}, [
                        "text",
                        "html",
                        "backColor",
                        "horizontalAlignment",
                        "verticalAlignment",
                      ]);
                      (t.text = e.text || e.html),
                        (t.fontSize = v.fontSize),
                        (t.fontFamily = v.fontFamily),
                        (t.fontStyle = v.fontStyle),
                        (t.fontColor = v.fontColor),
                        (t.horizontalAlignment =
                          t.horizontalAlignment || v.horizontalAlignment),
                        (t.verticalAlignment =
                          t.verticalAlignment || v.verticalAlignment),
                        (t.backColor = t.backColor || v.backColor),
                        v.columns.push(t);
                    }),
                e.isNewRow && (v.text = E.rowCreateText),
                ge && E.onBeforeRowHeaderExport(v);
              var w = 10,
                x = { x: r, y: n + E.treeImageMarginTop + 2, w: 10, h: w },
                k = {
                  size: v.fontSize,
                  family: v.fontFamily,
                  style: v.fontStyle,
                };
              "center" === v.verticalAlignment && (x.y = n + o.h / 2 - 5);
              var _ = i ? r + a + 3 : r,
                T = i ? o.w - _ : o.w,
                S = { x: _, y: n, w: T, h: e.height + 1 };
              if (
                (E.rowHeaderCols && (S.w = E.rowHeaderCols[0] - _),
                c.fillRect(o, v.backColor),
                c.text(
                  S,
                  v.text,
                  k,
                  v.fontColor,
                  v.horizontalAlignment,
                  0,
                  v.verticalAlignment
                ),
                c.rect(o, v.borderColor),
                i)
              ) {
                var D = null;
                (D = y(e.children).isEmpty()
                  ? m.nochildren
                  : e.expanded || X.A.includeHiddenRows
                  ? m.collapse
                  : m.expand),
                  c.image(x, D);
              }
              var M = y(v.row.columns);
              if (
                (h &&
                  (M = M.filter(function (e, t) {
                    return !E.rowHeaderColumns[t].hidden;
                  })),
                E.rowHeaderCols)
              ) {
                var A = o.x;
                y(E.rowHeaderCols).forEach(function (e, t) {
                  if (0 !== t) {
                    var n = d || E.Un() ? 0 : 1,
                      i = t - n,
                      a = M[i] || {},
                      r = f(o);
                    (r.x = A), (r.w = e + 1);
                    var l = 3,
                      s = f(r);
                    (s.x += l), (s.w -= l);
                    var u = a.backColor || v.backColor;
                    c.fillRect(r, u),
                      a.text &&
                        c.text(
                          s,
                          a.text,
                          {
                            size: a.fontSize,
                            family: a.fontFamily,
                            style: a.fontStyle,
                          },
                          a.fontColor,
                          a.horizontalAlignment,
                          0,
                          a.verticalAlignment
                        ),
                      c.rect(r, v.borderColor);
                  }
                  A += e;
                });
              }
            }
            function i(e, t, n) {
              n = n || "main";
              var i = E.itline[e],
                a = E.pm[n].rowlist[t],
                r = E.fq(e, t, n),
                o = r.business,
                l = E.xr(e, t, n);
              l || ((l = {}), (l.cell = E.cells.findXy(e, t, n)[0]));
              var s = r.html,
                d = r.horizontalAlignment || "left",
                h = r.backColor || (o ? W : U);
              (l.areas =
                (l.cell && l.cell.properties && l.cell.properties.areas) || []),
                (l.text = s),
                (l.horizontalAlignment = d),
                (l.backColor = h),
                (l.fontSize = Y.size),
                (l.fontFamily = Y.family),
                (l.fontStyle = Y.style),
                (l.fontColor =
                  (l.cell &&
                    l.cell.properties &&
                    l.cell.properties.fontColor) ||
                  F),
                (l.format = X.wr),
                be &&
                  (E.onBeforeCellExport(l),
                  (s = l.text),
                  (d = l.horizontalAlignment),
                  (h = l.backColor));
              var f = p.grid.y + X.Kq(a) - X.Mq(a);
              f += u(0, p.grid.y - f);
              var v = p.grid.x + i.left - ue;
              v += u(0, p.grid.x - v);
              var m = { x: v, y: f, w: i.width, h: a.height };
              c.fillRect(m, h);
              var g = {};
              (g.x = m.x + 1),
                (g.y = m.y + 1),
                (g.w = m.w - 2),
                (g.h = m.h - 2);
              var b = {
                size: l.fontSize,
                family: l.fontFamily,
                style: l.fontStyle,
              };
              s && c.text(g, s, b, l.fontColor, d),
                y(l.areas).forEach(function (e) {
                  if (DayPilot.Areas.isVisible(e)) {
                    var t = { type: "cell-area" };
                    "undefined" != typeof e.id && (t.id = e.id),
                      c.groupStart(t);
                    var n = 0;
                    "number" == typeof e.left
                      ? (n = e.left)
                      : e.start
                      ? (n =
                          E.getPixels(new DayPilot.Date(e.start)).left - i.left)
                      : "number" == typeof e.right &&
                        (n = i.width - e.right - e.width);
                    var a = e.width || e.w;
                    "number" == typeof e.right
                      ? (a = i.width - e.right - n)
                      : e.end &&
                        (a =
                          E.getPixels(new DayPilot.Date(e.end)).left -
                          e.left -
                          i.left +
                          1);
                    var r = E.vh.Lq(e, i.height),
                      o = { x: v + n, y: f + r.top, w: a, h: r.height };
                    if ((e.backColor && c.fillRect(o, e.backColor), e.icon)) {
                      var s = E.vh.Ar(e.icon);
                      c.text(
                        o,
                        s.text,
                        s.font,
                        e.fontColor || l.fontColor,
                        e.horizontalAlignment,
                        e.padding,
                        e.verticalAlignment
                      );
                    } else if (e.image) {
                      var d = new Image();
                      (d.src = e.image), c.image(o, d);
                    } else
                      e.symbol
                        ? c.symbol(o, e.symbol, {
                            color: e.fontColor || l.fontColor,
                          })
                        : (e.text || e.html) &&
                          c.text(
                            o,
                            e.text || e.html,
                            {
                              size: e.fontSize || l.fontSize,
                              family: e.fontFamily || l.fontFamily,
                              style: e.fontStyle || l.fontStyle,
                            },
                            e.fontColor || l.fontColor,
                            e.horizontalAlignment,
                            e.padding,
                            e.verticalAlignment
                          );
                    c.groupEnd();
                  }
                });
            }
            function a(e) {
              var t = p.grid.y + X.Kq(e) - X.Mq(e);
              if (
                ((t += u(0, p.grid.y - t)),
                t !== p.grid.y && !("main" === e.grid && t > X.Xq()))
              ) {
                var n = V,
                  i = {};
                if (ye) {
                  if (
                    ((i.row = E.lo(e)),
                    (i.hidden = !1),
                    (i.cssClass = null),
                    (i.type = "HorizontalLine"),
                    (i.color = null),
                    E.onBeforeGridLineRender(i),
                    i.hidden)
                  )
                    return;
                  n = i.color || V;
                }
                c.line(
                  p.gridContent.x + 1,
                  t,
                  p.gridContent.x + p.gridContent.w - 1,
                  t,
                  n
                ),
                  "top" === e.grid &&
                    e === E.pm.top.rowlist.last() &&
                    c.line(
                      p.gridContent.x + 1,
                      t + e.height,
                      p.gridContent.x + p.gridContent.w - 1,
                      t + e.height,
                      V
                    );
              }
            }
            function r(e, t) {
              var n = p.grid.x + e.left - ue;
              if (((n += u(0, p.grid.x - n)), n !== p.grid.x)) {
                var i = p.grid.y + 1,
                  a = p.grid.y + p.grid.h - 2;
                "top" === t && (a = i + E.pm.top.height),
                  "bottom" === t && (i = X.Xq());
                var r = G,
                  o = {};
                if (ye) {
                  if (
                    ((o.start = e.start),
                    (o.end = e.end),
                    (o.hidden = !1),
                    (o.cssClass = null),
                    (o.type = "VerticalLine"),
                    (o.color = null),
                    E.onBeforeGridLineRender(o),
                    o.hidden)
                  )
                    return;
                  r = o.color || G;
                }
                c.line(n, i, n, a, r);
              }
            }
            function o(e) {
              function t() {
                var e = R.backColor;
                c.diamond(N, e);
              }
              function n() {
                var e = { x: f, y: h, w: s, h: R.barHeight },
                  t = { x: f + k, y: h, w: C, h: R.barHeight },
                  n = m.backColor || B,
                  i = { x: f, y: h + 5, h: N.h - 6 - 5, w: N.w };
                c.fillRect(i, n);
                var a = m.text || m.html;
                c.text(
                  i,
                  a,
                  {
                    size: R.fontSize,
                    family: R.fontFamily,
                    style: R.fontStyle,
                  },
                  R.fontColor,
                  R.horizontalAlignment,
                  R.textPadding,
                  R.verticalAlignment,
                  E.eventTextWrappingEnabled
                ),
                  c.upperRightCorner(
                    { x: f + N.w - 6, y: i.y + i.h, w: 6, h: 6 },
                    n
                  ),
                  c.upperLeftCorner({ x: f, y: i.y + i.h, w: 6, h: 6 }, n),
                  d && (c.fillRect(e, b), C > 0 && c.fillRect(t, g));
              }
              function i(t, n) {
                var i = m.versions[n];
                c.groupStart({ type: "event-version", "event-id": e.id() });
                var a = t.width,
                  r = p.grid.y + l + t.top - he;
                r += u(0, p.grid.y - r);
                var o = p.grid.x + t.left - ue + 1,
                  s = u(0, p.grid.x - o);
                (o += s), (a -= s);
                var d = E.eventVersionHeight,
                  h = E.durationBarVisible && !i.barHidden,
                  f = h ? H.Cr() : 0,
                  v = { x: o, y: r, w: a, h: d };
                c.fillRect(v, i.backColor || R.backColor);
                var g = { x: o + M, y: r + f, w: u(0, a - M), h: d - f };
                if (
                  (c.text(
                    g,
                    i.text,
                    {
                      size: R.fontSize,
                      family: R.fontFamily,
                      style: R.fontStyle,
                    },
                    R.fontColor,
                    R.horizontalAlignment,
                    R.textPadding,
                    R.verticalAlignment,
                    E.eventTextWrappingEnabled
                  ),
                  c.rect(v, i.borderColor || R.borderColor),
                  h)
                ) {
                  var b = i.barBackColor || P,
                    y = i.barColor || L,
                    w = (100 * t.barLeft) / a,
                    x = Math.ceil((100 * t.barWidth) / a),
                    k = { x: o, y: r + 1, w: a, h: f },
                    C = { x: o + w, y: r + 1, w: x, h: f };
                  c.fillRect(k, b), x > 0 && c.fillRect(C, y);
                }
                c.groupEnd();
              }
              function a() {
                var t = { x: f, y: h, w: s, h: R.barHeight },
                  n = { x: f + k, y: h, w: C, h: R.barHeight },
                  i = {
                    x: f + M,
                    y: h + R.barHeight,
                    w: s - M,
                    h: e.part.height - R.barHeight,
                  };
                c.fillRect(N, R.backColor),
                  c.text(
                    i,
                    R.text,
                    {
                      size: R.fontSize,
                      family: R.fontFamily,
                      style: R.fontStyle,
                    },
                    R.fontColor,
                    R.horizontalAlignment,
                    R.textPadding,
                    R.verticalAlignment,
                    E.eventTextWrappingEnabled
                  ),
                  c.rect(N, R.borderColor),
                  d && (c.fillRect(t, b), C > 0 && c.fillRect(n, g)),
                  y(R.areas).forEach(function (t) {
                    if (DayPilot.Areas.isVisible(t)) {
                      var n = { type: "event-area" };
                      "undefined" != typeof t.id && (n.id = t.id),
                        c.groupStart(n);
                      var i = 0;
                      "number" == typeof t.left
                        ? (i = t.left)
                        : t.start
                        ? (i =
                            E.getPixels(new DayPilot.Date(t.start)).left -
                            e.part.left)
                        : "number" == typeof t.right &&
                          (i = e.part.width - t.right - t.width);
                      var a = t.width || t.w;
                      "number" == typeof t.right
                        ? (a = e.part.width - t.right - i)
                        : t.end &&
                          (a =
                            E.getPixels(new DayPilot.Date(t.end)).left -
                            t.left -
                            e.part.left +
                            1);
                      var r = E.vh.Lq(t, e.part.height),
                        o = { x: f + i, y: h + r.top, w: a, h: r.height };
                      if ((t.backColor && c.fillRect(o, t.backColor), t.icon)) {
                        var l = E.vh.Ar(t.icon);
                        c.text(
                          o,
                          l.text,
                          l.font,
                          t.fontColor || R.fontColor,
                          t.horizontalAlignment,
                          t.padding,
                          t.verticalAlignment
                        );
                      } else if (t.image) {
                        var s = new Image();
                        (s.src = t.image), c.image(o, s);
                      } else
                        t.symbol
                          ? c.symbol(o, t.symbol, {
                              color: t.fontColor || R.fontColor,
                            })
                          : (t.text || t.html) &&
                            c.text(
                              o,
                              t.text || t.html,
                              {
                                size: t.fontSize || R.fontSize,
                                family: t.fontFamily || R.fontFamily,
                                style: t.fontStyle || R.fontStyle,
                              },
                              t.fontColor || R.fontColor,
                              t.horizontalAlignment,
                              t.padding,
                              t.verticalAlignment
                            );
                      c.groupEnd();
                    }
                  });
              }
              var r,
                o = E.pm[e.part.grid].rowlist[e.part.dayIndex],
                l = X.Kq(o),
                s = e.part.width,
                d =
                  null === (r = e.client) || void 0 === r
                    ? void 0
                    : r.barVisible(),
                h = p.grid.y + l + e.part.top - X.Mq(o),
                f = p.grid.x + e.part.left - ue + 1,
                v = u(0, p.grid.x - f);
              (f += v), (s -= v);
              var m = e.cache || e.data,
                g = m.barColor || L,
                b = m.barBackColor || P,
                w = m.backColor || D,
                x = m.fontColor || S,
                k = e.part.barLeft,
                C = e.part.barWidth;
              "PercentComplete" === E.durationBarMode &&
                ((k = 0),
                (C = u(
                  0,
                  Math.floor((e.part.width * (m.complete || 0)) / 100)
                ))),
                "Milestone" === e.data.type && (w = A);
              var M = 2,
                R = {};
              (R.e = e),
                (R.text = e.text ? e.text() : e.client.html()),
                (R.areas = DayPilot.Util.createArrayCopy(m.areas)),
                (R.fontSize = T.size),
                (R.fontFamily = T.family),
                (R.fontStyle = T.style),
                (R.fontColor = x),
                (R.backColor = w),
                (R.borderColor = _),
                (R.horizontalAlignment = "left"),
                (R.verticalAlignment = "center"),
                (R.barHeight = 4),
                (R.textPadding = 2),
                (R.textLeft = m.textLeft || m.htmlLeft),
                (R.textRight = m.textRight || m.htmlRight),
                (R.format = X.wr),
                "function" == typeof E.onBeforeEventExport &&
                  E.onBeforeEventExport(R);
              var N = { x: f, y: h, w: s, h: e.part.height };
              c.groupStart({ type: "event", id: e.id() }),
                "Milestone" === e.data.type
                  ? t()
                  : "Group" === e.data.type
                  ? n()
                  : a();
              var z = R.textLeft;
              if (z) {
                var I = {
                    size: R.fontSize,
                    family: R.fontFamily,
                    style: R.fontStyle,
                  },
                  j = c.textWidth(z, I),
                  U = {
                    x: f - (E.eventHtmlLeftMargin + j),
                    y: h,
                    w: j,
                    h: e.part.height,
                  };
                c.text(U, z, I, O, null, 0, "center", !1);
              }
              var W = R.textRight;
              if (W) {
                var Y = {
                    size: R.fontSize,
                    family: R.fontFamily,
                    style: R.fontStyle,
                  },
                  F = c.textWidth(W, Y),
                  q = {
                    x: f + s + E.eventHtmlRightMargin,
                    y: h,
                    w: F,
                    h: e.part.height,
                  };
                c.text(q, W, Y, O, null, 0, "center", !1);
              }
              c.groupEnd(), (e.versions || []).forEach(i);
            }
            "object" == typeof e && ((t = e), (e = null)),
              (t = t || {}),
              (e = e || t.format || "svg");
            var l = t.scale || 1;
            "jpg" === e.toLowerCase() && (e = "jpeg");
            var s = t.area || "viewport";
            if (
              ((X.A = f(t)),
              (X.xh = s),
              (X.wr = e),
              (X.A.includeHiddenRows = X.A.includeHiddenRows && "range" === s),
              X.ck().forEach(function (e) {
                E.zr(e);
              }),
              "xlsx" === e && X.ur)
            )
              return X.ur(t);
            var c,
              h = X.yh(),
              v = X.zh();
            switch (e.toLowerCase()) {
              case "svg":
                c = new DayPilot.Svg(h, v);
                break;
              case "png":
                c = new DayPilot.Canvas(h, v, "image/png", l);
                break;
              case "jpeg":
                c = new DayPilot.Canvas(h, v, "image/jpeg", l, t.quality);
                break;
              default:
                throw new DayPilot.Exception(
                  "Export format not supported: " + e
                );
            }
            var p = X.Ah(),
              m = X.rr(),
              g = new DayPilot.StyleReader(E.nav.top).get("background-color"),
              b = new DayPilot.StyleReader(E.nav.top).get("border-top-color"),
              w = new DayPilot.StyleReader(E.nav.divider).get(
                "background-color"
              ),
              k = y(E.elements.events)
                .filter(function (e) {
                  return !e.event.data.type;
                })
                .map(function (e) {
                  return e.firstChild;
                })
                .last(),
              _ = new DayPilot.StyleReader(k).get("border-right-color"),
              T = X.sr(k),
              S = new DayPilot.StyleReader(k).get("color"),
              D = new DayPilot.StyleReader(k).get("background-color");
            D = DayPilot.Util.isTransparentColor(D) ? "white" : D;
            var M = X.lr(),
              A = new DayPilot.StyleReader(M.firstChild).get(
                "background-color"
              );
            x(M);
            var R = X.kr(),
              B = new DayPilot.StyleReader(R.firstChild).get(
                "background-color"
              );
            x(R);
            var N = X.ir(),
              P = new DayPilot.StyleReader(N.firstChild).get(
                "background-color"
              ),
              L = new DayPilot.StyleReader(N.firstChild.firstChild).get(
                "background-color"
              );
            x(N);
            var z = X.jr(),
              O = new DayPilot.StyleReader(z).get("color");
            x(z);
            var j = X.Bh(),
              U = new DayPilot.StyleReader(j).get("background-color");
            d(j, E.ca("_cell_business"));
            var W = new DayPilot.StyleReader(j).get("background-color"),
              Y = X.sr(j),
              F = new DayPilot.StyleReader(j).get("color");
            x(j);
            var q = DayPilot.Util.firstPropValue(E.va.zl),
              V = new DayPilot.StyleReader(q).get("background-color"),
              J = DayPilot.Util.firstPropValue(E.va.yl),
              G = new DayPilot.StyleReader(J).get("background-color"),
              Z = E.va.timeHeader["0_0"],
              K = X.sr(Z),
              Q = new DayPilot.StyleReader(Z).get("color"),
              $ = new DayPilot.StyleReader(Z).get("background-color"),
              ee = X.mr(),
              te = X.sr(ee),
              ne = new DayPilot.StyleReader(ee).get("color"),
              ie = new DayPilot.StyleReader(ee).get("background-color");
            x(ee);
            var ae,
              re,
              oe,
              le = X.nr(),
              se = X.sr(le),
              de = new DayPilot.StyleReader(le).get("color"),
              ce = new DayPilot.StyleReader(le).get("background-color");
            E.rowHeaderColumns &&
              E.Qo &&
              E.Qo.blocks[0] &&
              ((ae = E.Qo.blocks[0].section.firstChild),
              (re = new DayPilot.StyleReader(ae).getFont()),
              (oe = new DayPilot.StyleReader(ae).get("color")));
            var ue = X.er(),
              he = X.Ch();
            c.fillRect(p.main, "white"),
              c.fillRect(p.main, g),
              (function () {
                var e = {};
                (e.backColor = ce),
                  (e.text = E.cornerText),
                  (e.fontSize = se.size),
                  (e.fontFamily = se.family),
                  (e.fontStyle = se.style),
                  (e.fontColor = de),
                  (e.horizontalAlignment = "left"),
                  (e.verticalAlignment = "top"),
                  (e.control = E),
                  (e.format = X.wr),
                  "function" == typeof E.onBeforeCornerExport &&
                    E.onBeforeCornerExport(e);
                var t = {
                  size: e.fontSize,
                  family: e.fontFamily,
                  style: e.fontStyle,
                };
                c.fillRect(p.corner, e.backColor),
                  c.text(
                    p.corner,
                    e.text,
                    t,
                    e.fontColor,
                    e.horizontalAlignment,
                    0,
                    e.verticalAlignment
                  );
              })();
            var fe = p.corner.x;
            H.vr().forEach(function (e, t) {
              var n = E.rowHeaderCols[t],
                i = {};
              (i.x = fe),
                (i.w = n + 1),
                (i.y = p.corner.h - E.Qo.height),
                (i.h = E.Qo.height + 1);
              var a = 3,
                r = f(i);
              (r.x += a), (r.w -= a);
              var o = e.name || e.title || e.text || "";
              c.fillRect(i, ce),
                c.text(r, o, re, oe, "left", 0, "center"),
                c.rect(i, b),
                (fe += n);
            });
            var ve = "function" == typeof E.onBeforeTimeHeaderRender,
              pe = "function" == typeof E.onBeforeTimeHeaderExport,
              me = "function" == typeof E.onBeforeRowHeaderRender,
              ge = "function" == typeof E.onBeforeRowHeaderExport,
              be = "function" == typeof E.onBeforeCellExport;
            X.ck().forEach(n),
              X.Sq().forEach(n),
              X.Uq().forEach(n),
              X.ck().forEach(function (e) {
                var t = e.index;
                X._q().forEach(function (n, a, r) {
                  (a = r.offset + a), i(a, t, e.grid);
                });
              });
            var ye = "function" == typeof E.onBeforeGridLineRender;
            X.ck().forEach(a),
              X._q().forEach(function (e) {
                r(e, "main");
              });
            var we = X._q().last();
            return (
              (function (e) {
                if (e) {
                  var t = G,
                    n = {};
                  if (ye) {
                    if (
                      ((n.start = e.end),
                      (n.end = e.end),
                      (n.hidden = !1),
                      (n.cssClass = null),
                      (n.type = "VerticalLine"),
                      (n.color = null),
                      E.onBeforeGridLineRender(n),
                      n.hidden)
                    )
                      return;
                    t = n.color || G;
                  }
                  var i = p.grid.x + e.left - ue + e.width;
                  c.line(i, p.grid.y + 1, i, p.grid.y + p.grid.h - 2, t);
                }
              })(we),
              X.hr().forEach(function (e) {
                var t = p.grid.x + e.left - ue;
                t < X.Eh() ||
                  c.line(
                    t,
                    p.grid.y + 1,
                    t + e.width,
                    p.grid.y + p.grid.h - 2,
                    e.color
                  );
              }),
              X.$q().forEach(function (e) {
                e &&
                  e
                    .map(function (e) {
                      return X.Br(e).shift(p.grid.x - ue, p.grid.y - he);
                    })
                    .forEach(function (e) {
                      switch (e.type) {
                        case "HorizontalLine":
                          c.line(e.startX, e.startY, e.endX, e.endY, "red");
                          break;
                        case "VerticalLine":
                          c.line(e.startX, e.startY, e.endX, e.endY, "red");
                          break;
                        case "ArrowRight":
                          c.triangle(
                            {
                              x: e.startX - 10,
                              y: e.startY - 4.5,
                              w: 10,
                              h: 10,
                            },
                            "red"
                          );
                          break;
                        case "ArrowDown":
                          c.triangle(
                            {
                              x: e.startX - 4.5,
                              y: e.startY - 10,
                              w: 10,
                              h: 10,
                            },
                            "red",
                            90
                          );
                          break;
                        case "ArrowLeft":
                          c.triangle(
                            { x: e.startX, y: e.startY - 4.5, w: 10, h: 10 },
                            "red",
                            180
                          );
                          break;
                        case "ArrowUp":
                          c.triangle(
                            { x: e.startX - 4.5, y: e.startY, w: 10, h: 10 },
                            "red",
                            -90
                          );
                      }
                    });
              }),
              X.Yq().forEach(o),
              X.Wq().forEach(function (e) {
                var t = e.index;
                X._q().forEach(function (n, a, r) {
                  (a = r.offset + a), i(a, t, e.grid);
                }),
                  a(e);
              }),
              X._q().forEach(function (e) {
                r(e, "top"), r(e, "bottom");
              }),
              X.Zq().forEach(o),
              y(E.timeHeader).forEach(function (e, t) {
                X.dr(t, s).forEach(function (e) {
                  var n = p.grid.x + e.left - ue,
                    i = e.width,
                    a = I.Dr(t),
                    r = a.top,
                    o = a.height,
                    l = o,
                    s = {
                      areas: null,
                      backColor: e.backColor,
                      fontColor: e.fontColor,
                      start: e.start,
                      end: e.end,
                      level: t,
                      text: e.text,
                      html: e.innerHTML,
                    };
                  ve && E.onBeforeTimeHeaderRender({ header: s });
                  var d = {};
                  (d.header = s),
                    (d.areas = s.areas),
                    (d.text = s.text),
                    (d.backColor = s.backColor),
                    (d.verticalAlignment = "center"),
                    (d.horizontalAlignment = "center"),
                    (d.fontColor = s.fontColor || Q),
                    (d.fontSize = K.size),
                    (d.fontFamily = K.family),
                    (d.fontStyle = K.style),
                    (d.format = X.wr),
                    pe && E.onBeforeTimeHeaderExport(d);
                  var h = u(0, p.grid.x - n);
                  (n += h),
                    (i -= h),
                    (i -= u(0, n + i - (p.grid.x + p.grid.w)));
                  var f = { x: n, y: r, w: i + 1, h: o + 1 },
                    v = {
                      size: d.fontSize,
                      family: d.fontFamily,
                      style: d.fontStyle,
                    };
                  c.fillRect(f, d.backColor || $),
                    c.rect(f, b),
                    c.text(
                      f,
                      d.text,
                      v,
                      d.fontColor,
                      d.horizontalAlignment,
                      0,
                      d.verticalAlignment
                    ),
                    y(d.areas).forEach(function (t) {
                      if (DayPilot.Areas.isVisible(t)) {
                        var i = { type: "timeheader-area" };
                        "undefined" != typeof t.id && (i.id = t.id),
                          c.groupStart(i);
                        var a = 0;
                        "number" == typeof t.left
                          ? (a = t.left)
                          : t.start
                          ? (a =
                              E.getPixels(new DayPilot.Date(t.start)).left -
                              e.left)
                          : "number" == typeof t.right &&
                            (a = e.width - t.right - t.width);
                        var o = t.width || t.w;
                        if ("number" == typeof t.right)
                          o = e.width - t.right - a;
                        else if (t.end)
                          if (o) {
                            var s =
                              E.getPixels(new DayPilot.Date(t.end)).left -
                              e.left;
                            a = s - o;
                          } else
                            o =
                              E.getPixels(new DayPilot.Date(t.end)).left -
                              a -
                              e.left +
                              1;
                        var u = E.vh.Lq(t, l),
                          h = { x: n + a, y: r + u.top, w: o, h: u.height };
                        if (
                          (t.backColor && c.fillRect(h, t.backColor),
                          t.borderColor && c.rect(h, t.borderColor, t.borders),
                          t.icon)
                        ) {
                          var f = E.vh.Ar(t.icon);
                          c.text(
                            h,
                            f.text,
                            f.font,
                            t.fontColor || d.fontColor,
                            t.horizontalAlignment,
                            t.padding,
                            t.verticalAlignment
                          );
                        } else if (t.image) {
                          var v = new Image();
                          (v.src = t.image), c.image(h, v);
                        } else
                          t.symbol
                            ? c.symbol(h, t.symbol, {
                                color: t.fontColor || d.fontColor,
                              })
                            : (t.text || t.html) &&
                              c.text(
                                h,
                                t.text || t.html,
                                {
                                  size: t.fontSize || d.fontSize,
                                  family: t.fontFamily || d.fontFamily,
                                  style: t.fontStyle || d.fontStyle,
                                },
                                t.fontColor || d.fontColor,
                                t.horizontalAlignment,
                                t.padding,
                                t.verticalAlignment
                              );
                        c.groupEnd();
                      }
                    });
                });
              }),
              c.rect(p.main, b),
              c.line(p.grid.x, 0, p.grid.x, p.main.h, w),
              c.line(0, p.grid.y, p.main.w, p.grid.y, w),
              c
            );
          }),
          (X.Ar = function (e) {
            var t = X.pr(e);
            Z().appendChild(t);
            var n = window
                .getComputedStyle(t, ":before")
                .content.replace(/"/g, ""),
              i = new DayPilot.StyleReader(t).getFont();
            return Z().removeChild(t), { text: n, font: i };
          }),
          (X.Br = function (e) {
            return {
              startX: e.startX,
              endX: e.endX,
              startY: e.startY,
              endY: e.endY,
              type: e.type,
              shift: function (t, n) {
                return X.Br({
                  startX: e.startX + t,
                  endX: e.endX + t,
                  startY: e.startY + n,
                  endY: e.endY + n,
                  type: e.type,
                });
              },
            };
          }),
          (this.Er = {});
        var K = this.Er;
        (K.findJointDivs = function (e) {
          var t = e.data.join;
          return t
            ? y(E.elements.events).filter(function (n) {
                return n.event.data.join === t && n.event !== e;
              })
            : y();
        }),
          (V.divs = []),
          (V.list = []),
          (V.forbidden = !1),
          (V.Fr = function () {
            var e = y(),
              t = E.multiselect.isSelected(n.nq.event),
              i = E.allowMultiResize;
            if (
              (t &&
                i &&
                (e = y(E.multiselect.zd).filter(function (e) {
                  return e !== n.nq;
                })),
              E.jointEventsResize)
            ) {
              var a = K.findJointDivs(n.Gq);
              e = e.concat(a);
            }
            return e;
          }),
          (V.update = function () {
            V.clear(), V.draw();
          }),
          (V.clear = function () {
            x(V.divs), (V.divs = []);
          }),
          (V.isInvalid = function () {
            return V.divs.some(function (e) {
              return e.info.invalid;
            });
          }),
          (V.Gr = function () {
            return E.Hr(V.list);
          }),
          (V.Ir = function () {
            if (n.nq) {
              var e = n.Gq,
                t = n.Fq,
                i = t.start.getTime() - e.start().getTime(),
                a = t.end.getTime() - e.end().getTime(),
                r = 0;
              (V.list = []),
                (V.forbidden = !1),
                (V.invalid = !1),
                (V.rowoffset = r),
                V.Fr().forEach(function (e) {
                  if (e.event) {
                    var t = e.event,
                      n = E.rowlist[t.part.dayIndex + r];
                    if (!n) return void (V.invalid = !0);
                    var o = t.start().addTime(i),
                      l = t.end().addTime(a),
                      s = {};
                    (s.$ = {}),
                      o >= l &&
                        ((s.invalid = !0),
                        i > 0
                          ? ((s.$.Jr = o), (s.$.Kr = l.addSeconds(-1)))
                          : a < 0 &&
                            ((s.$.Lr = l), (s.$.Mr = o.addSeconds(1)))),
                      (s.event = t),
                      (s.start = o),
                      (s.end = l),
                      (s.$.Nr = n),
                      V.list.push(s);
                  }
                });
            }
          }),
          (V.qp = function () {
            var e = 0,
              t = E.eventBorderRadius;
            if (
              ("number" == typeof t && (t += "px"),
              V.list.forEach(function (e) {
                var n = e.event,
                  i = e.$.Nr,
                  a = n.part.top + i.top,
                  r = n.part.height,
                  l = new DayPilot.Date(e.start),
                  s = new DayPilot.Date(e.end),
                  d = E.getPixels(l),
                  c = E.getPixels(s);
                e.$.Jr === l && e.$.Kr && (d = E.getPixels(e.$.Kr)),
                  e.$.Lr === s && e.$.Mr && (c = E.getPixels(e.$.Mr));
                var h = DayPilot.DateUtil.diff(n.rawend(), n.start());
                h = u(h, 1);
                var f = H.fh(h),
                  v = f ? d.boxLeft : d.left,
                  p = f ? c.boxRight - v : c.left - v,
                  m = o();
                (m.style.position = "absolute"),
                  (m.style.left = v + "px"),
                  (m.style.top = a + "px"),
                  (m.style.height = r + "px"),
                  (m.style.width = p + "px"),
                  (m.style.zIndex = 101),
                  (m.style.overflow = "hidden"),
                  (m.className = E.ca("_shadow")),
                  (m.info = e);
                var g = o();
                (g.className = E.ca("_shadow_inner")),
                  m.appendChild(g),
                  t && ((m.style.borderRadius = t), (g.style.borderRadius = t)),
                  E.nm.appendChild(m),
                  V.divs.push(m);
              }),
              V.invalid)
            ) {
              var i = E.ca("_shadow_overlap");
              return void y(V.divs).forEach(function (e) {
                d(e, i);
              });
            }
            y(V.divs).forEach(function (t) {
              if (t.info) {
                var i = t,
                  a = t.info,
                  r = t.info.event,
                  o = E.rowlist[r.part.dayIndex + e],
                  l = E.getPixels(a.start),
                  s = E.getPixels(a.end),
                  c = l.left,
                  u = s.left - c;
                t.info.invalid && d(t, E.ca("_shadow_invalid"));
                var h = y(V.list)
                  .map(function (e) {
                    return e.event.data;
                  })
                  .add(n.nq.event.data);
                E.Or(i, o, c, u, h),
                  E.Pr(i, a.start, a.end, r.resource()),
                  i.overlapping && ((a.overlapping = !0), (V.forbidden = !0));
              }
            });
          }),
          (V.draw = function () {
            V.Ir(), V.qp();
          }),
          (F.divs = []),
          (F.list = []),
          (F.forbidden = !1),
          (F.Qr = 0),
          (F.Rr = function () {
            return "All" === E.multiMoveVerticalMode;
          }),
          (F.Fr = function () {
            var e = y(),
              t = E.mn,
              i = E.multiselect.isSelected(n.jq),
              a = E.allowMultiMove;
            if (
              (i &&
                a &&
                (e = y(E.multiselect.zd).filter(function (e) {
                  var i = e && e.event,
                    a = n.jq,
                    r = t.jq;
                  return !(E.Ld(i, a) || E.Ld(i, r));
                })),
              E.jointEventsMove)
            ) {
              var r = K.findJointDivs(n.jq);
              e = e.concat(r);
            }
            return e;
          }),
          (F.update = function () {
            F.clear(), F.draw();
          }),
          (F.Gr = function () {
            return E.Hr(F.list);
          }),
          (F.Ir = function () {
            if (((F.list = []), (F.rowoffset = 0), n.mn)) {
              var e = n.jq,
                t = !!n.Sr,
                i = t ? n.Sr.start : e.start(),
                a = i.getTime() - e.start().getTime(),
                r = e.part.dayIndex,
                o = t ? k(E.rowlist, n.Sr.row) : r,
                l = o - r;
              F.Rr() || (l = 0),
                (F.forbidden = !1),
                (F.invalid = !1),
                (F.rowoffset = l),
                F.Fr().forEach(function (t) {
                  if (t.event) {
                    var n = t.event,
                      r = n.cache || n.data,
                      o = !r.moveDisabled && !r.moveVDisabled,
                      s = !r.moveDisabled && !r.moveHDisabled,
                      d = l;
                    o || (d = 0);
                    var c = E.rowlist[n.part.dayIndex + d];
                    if (!c) return void (F.invalid = !0);
                    var u = a;
                    s || (u = 0);
                    var h = n.start().addTime(u),
                      f = n.end().addTime(u);
                    if (
                      E.eventMoveSkipNonBusiness &&
                      !r.moveSkipNonBusinessDisabled
                    ) {
                      var v = E.rq(n),
                        p = n.part.dayIndex + d;
                      if (s && 0 === l) {
                        var m = e.start(),
                          g = n.start(),
                          b = 1;
                        m > g && ((m = n.start()), (g = e.start()), (b = -1));
                        var y = E.qq(m, g, p, c.grid);
                        b === -1
                          ? ((y = E.sq(i, y, p, c.grid)), (h = i.addTime(-y)))
                          : (h = E.uq(i, y, p, c.grid));
                      }
                      var w = "Days" === E.viewType || E.ho(),
                        x = 0;
                      w &&
                        (x =
                          E.rowlist[n.part.dayIndex].start.getTime() -
                          E.Ub().getTime());
                      var k = 0,
                        C = H.fh(v),
                        _ = n.data && "Milestone" === n.data.type;
                      C &&
                        !_ &&
                        (k = E.qq(
                          E.hq(n.start().addTime(-x)).addTime(x),
                          n.start(),
                          p,
                          c.grid
                        ));
                      var T = E.tq(h, p, c.grid);
                      if (!T) return void (F.invalid = !0);
                      (h = T.start.addTime(k)), (f = E.uq(h, v, p, c.grid));
                    }
                    var S = {};
                    (S.event = n),
                      (S.start = h),
                      (S.end = f),
                      (S.resource = c.id),
                      F.list.push(S);
                  }
                });
            }
          }),
          (F.Tr = function () {
            return F.list.map(function (e) {
              var t = e.start,
                n = e.end,
                i = e.event,
                a = E.getPixels(t),
                r = E.getPixels(n),
                o = DayPilot.DateUtil.diff(i.rawend(), i.start());
              o = u(o, 1);
              var l = H.fh(o),
                s = E.sm(e.resource),
                d = l ? a.boxLeft : a.left,
                c = l ? r.boxRight - d : r.left - d,
                h = i.part.top + s.top,
                f = i.part.height;
              e.resource !== e.event.data.resource &&
                ((h = s.top), (f = s.height));
              var v = {};
              return (
                (v.info = e),
                (v.y = s.index),
                (v.left = d),
                (v.width = c),
                (v.height = f),
                (v.top = h),
                v
              );
            });
          }),
          (F.qp = function () {
            var e = E.eventBorderRadius;
            if (
              ("number" == typeof e && (e += "px"),
              F.list.forEach(function (t) {
                var n = t.start,
                  i = t.end,
                  a = t.event,
                  r = E.getPixels(n),
                  l = E.getPixels(i),
                  s = DayPilot.DateUtil.diff(a.rawend(), a.start());
                s = u(s, 1);
                var d = H.fh(s),
                  c = E.sm(t.resource);
                if (!c) return void (F.invalid = !0);
                (t.$ = {}), (t.$.Nr = c);
                var h = d ? r.boxLeft : r.left,
                  f = d ? l.boxRight - h : l.left - h,
                  v = a.part.top + c.top,
                  p = a.part.height;
                "Milestone" === a.data.type &&
                  ((f = E.eventHeight), (h -= f / 2)),
                  t.resource !== t.event.data.resource &&
                    ((v = c.top), (p = c.height));
                var m = o();
                (m.style.position = "absolute"),
                  (m.style.left = h + "px"),
                  (m.style.top = v + "px"),
                  (m.style.height = p + "px"),
                  (m.style.width = f + "px"),
                  (m.style.overflow = "hidden"),
                  (m.className = E.ca("_shadow")),
                  (m.info = t),
                  (m.left = h),
                  (m.width = f);
                var g = o();
                (g.className = E.ca("_shadow_inner")),
                  m.appendChild(g),
                  e && ((m.style.borderRadius = e), (g.style.borderRadius = e)),
                  E.nm.appendChild(m),
                  F.divs.push(m);
              }),
              F.invalid)
            ) {
              var t = E.ca("_shadow_overlap");
              return void y(F.divs).forEach(function (e) {
                d(e, t);
              });
            }
            y(F.divs).forEach(function (e) {
              if (e.info) {
                var t = e,
                  i = e.info,
                  a = e.info.$.Nr,
                  r = E.getPixels(i.start),
                  o = E.getPixels(i.end),
                  l = r.left,
                  s = o.left - l,
                  d = y(F.list)
                    .map(function (e) {
                      return e.event.data;
                    })
                    .add(n.jq.data);
                E.Or(t, a, l, s, d),
                  E.Pr(t, i.start, i.end, i.resource),
                  (i.overlapping = !1),
                  t.overlapping && ((i.overlapping = !0), (F.forbidden = !0));
              }
            });
          }),
          (F.draw = function () {
            F.Ir(), F.qp();
          }),
          (F.clear = function () {
            x(F.divs), (F.divs = []);
          }),
          (this.Hr = function (e, t) {
            return (
              (t = ["$"].concat(t || [])),
              e.map(function (e) {
                var n = e,
                  i = {};
                for (var a in n)
                  if (Object.prototype.hasOwnProperty.call(n, a)) {
                    var r = null === t || void 0 === t ? void 0 : t.includes(a),
                      o = n[a];
                    "undefined" != typeof o &&
                      (r
                        ? Object.defineProperty(i, a, { value: o })
                        : (i[a] = o));
                  }
                return i;
              })
            );
          }),
          (this.Ur = function () {
            var e = E.coords,
              t = n.nq.dpBorder,
              i = n.nq.event,
              a = i.part.left;
            "right" === t && (a += i.part.width);
            var r,
              o = n.nq.event.calendar.cellWidth,
              l = n.nq.event.part.width,
              s = n.nq.event.part.left,
              d = 0,
              c = e.x - a,
              u = E.snapToGrid && E.snapToGridEventResizing;
            if ("right" === t) {
              if (u) {
                var h = E.in(l + s + c).cell,
                  f = E.in(s).cell,
                  v = f.left + f.width - s;
                (r = h.left + h.width - s), r < v && (r = v);
              } else r = l + c;
              var p = E.Fm();
              if ((s + r > p && (r = p - s), E.ho())) {
                var m = !u,
                  g = E.pm[i.part.grid].rowlist,
                  b = g[i.part.dayIndex],
                  y = b.start.getTime() - E.Ub().getTime(),
                  w = E.getDate(s + r, m, !0).addTime(y);
                if (w > b.data.end) {
                  var x = b.data.end.addTime(-y),
                    k = E.getPixels(x);
                  (w = k.left), u && (w = k.boxRight), (r = w - s);
                }
              }
              (n.Fq.left = s), (n.Fq.width = r);
            } else {
              if ("left" !== t)
                throw new DayPilot.Exception("Invalid dpBorder.");
              var C = void 0;
              u
                ? (c >= l && (c = l),
                  (C = Math.floor((s + c + 0) / o) * o),
                  C < d && (C = d))
                : (C = s + c),
                (r = l - (C - s));
              var _ = s + l,
                T = o;
              u ? "Never" === E.useEventBoxes && (T = l < o ? l : 1) : (T = 1),
                r < T && ((r = T), (C = _ - r)),
                (n.Fq.left = C),
                (n.Fq.width = r);
            }
            E.Vr();
          }),
          (this.Dq = function () {
            if (E.coords && n.jq) {
              E.Lm();
              var e = n.Sr,
                t = this.Wo(n.jq);
              if (!E.xq(t.rowIndex, t.grid)) {
                var i = n.jq,
                  a =
                    i.cache && "undefined" != typeof i.cache.moveVDisabled
                      ? !i.cache.moveVDisabled
                      : !i.data.moveVDisabled,
                  r =
                    i.cache && "undefined" != typeof i.cache.moveHDisabled
                      ? !i.cache.moveHDisabled
                      : !i.data.moveHDisabled,
                  o = !F.Fr().isEmpty();
                o && "Disabled" === E.multiMoveVerticalMode && (a = !1),
                  a &&
                    t.grid !== e.grid &&
                    (e.parentNode.removeChild(e),
                    E.pm[t.grid].divShadow.appendChild(e),
                    (e.grid = t.grid));
                var l = 0,
                  s = 0;
                if (
                  ((function () {
                    if (E.rl) {
                      var e = t.relativeY,
                        n = E.in(t.left).x,
                        i = t.row,
                        a = i.evColumns[n],
                        r = a.events.find(function (t) {
                          return (
                            e < t.part.top + t.part.height + E.eventMarginBottom
                          );
                        });
                      r || (r = a.events.last()),
                        r &&
                          ((s = r.part.top),
                          (l = k(a.events, r)),
                          e - r.part.top > r.part.height / 2 &&
                            ((s =
                              r.part.top +
                              r.part.height +
                              E.eventMarginBottom / 2),
                            (l += 1)));
                    } else {
                      for (
                        var o = t.relativeY,
                          i = t.row,
                          d = 0,
                          c = E.Ba.Xo(),
                          h = i.lines.length,
                          f = 0;
                        f < i.lines.length;
                        f++
                      ) {
                        if (i.lines[f].ie(t.left, E.cellWidth)) {
                          h = f;
                          break;
                        }
                      }
                      var v = Math.floor((o - d + c / 2) / c);
                      (v = Math.min(h, v)),
                        (v = u(0, v)),
                        (l = v),
                        (s =
                          E.rowMarginTop +
                          l * (E.Ba.Xo() + E.eventMarginBottom) +
                          E.eventMarginBottom / 2);
                    }
                  })(),
                  s > 0 && (s -= 3),
                  a)
                )
                  if (this.xq(t.rowIndex, t.grid)) {
                    var d = e.row,
                      c = 1;
                    if (!d) return;
                    c = t.rowIndex < d.index ? 1 : -1;
                    for (var h = t.rowIndex; h !== d.index; h += c) {
                      var f = this.rowlist[h];
                      if (!this.xq(h, t.grid) && !f.hidden) {
                        (e.row = f),
                          (e.style.top = e.row.top + e.row.marginTop + "px"),
                          (e.style.height =
                            u(
                              e.row.height -
                                e.row.marginTop -
                                e.row.marginBottom,
                              0
                            ) + "px"),
                          E.eventMoveToPosition &&
                            ((l = c > 0 ? 0 : f.lines.length - 1),
                            (e.style.top = t.top + s + "px"),
                            (e.style.height = "3px"),
                            (e.line = l));
                        break;
                      }
                    }
                  } else
                    (e.row = t.row),
                      (e.style.top = e.row.top + e.row.marginTop + "px"),
                      (e.style.height =
                        u(
                          e.row.height - e.row.marginTop - e.row.marginBottom,
                          0
                        ) + "px"),
                      E.eventMoveToPosition &&
                        ((e.style.top = t.top + s + "px"),
                        (e.style.height = "3px"),
                        (e.line = l));
                else {
                  for (
                    var v = E.pm[i.part.grid].rowlist,
                      d = v[i.part.dayIndex],
                      p = d.lines.length,
                      h = 0;
                    h < d.lines.length;
                    h++
                  ) {
                    if (d.lines[h].ie(t.left, E.cellWidth)) {
                      p = h;
                      break;
                    }
                  }
                  if (
                    (o ||
                      ((e.style.height = u(d.height, 0) + "px"),
                      (e.style.top = d.top + "px")),
                    (e.row = d),
                    E.eventMoveToPosition && !o)
                  )
                    if (t.row === d)
                      (e.style.top = d.top + s + "px"),
                        (e.style.height = "3px"),
                        (e.line = l);
                    else {
                      var m =
                        t.rowIndex > d.index && p > 0 ? p * E.Ba.Xo() - 3 : 0;
                      (e.style.top = d.top + m + "px"),
                        (e.style.height = "3px"),
                        (e.line = 0);
                    }
                }
                r
                  ? ((e.style.left = t.left + "px"),
                    E.eventMoveToPosition
                      ? (e.style.width = E.cellWidth + "px")
                      : (e.style.width = t.width + "px"),
                    (e.start = t.start),
                    (e.end = t.end))
                  : ((e.style.left = i.part.left + "px"),
                    (e.start = i.start()),
                    (e.end = i.rawend()),
                    (t.left = i.part.left)),
                  (e.left = t.left),
                  (e.width = t.width),
                  E.Wr();
              }
            }
          }),
          (this.Wr = function () {
            function e(e) {
              if (!!e.from != !!e.to) {
                e.Cp = !0;
                var n = function (e) {
                    return e ? ("object" != typeof e ? W.vp(e) : e) : t;
                  },
                  i = n(e.from),
                  a = n(e.to);
                if (i && a) {
                  var r = W.zp(i, a, e);
                  U.Zr(r);
                }
              }
            }
            var t = n.Sr,
              i = E.Ll,
              a = E.jb,
              r = n.jq;
            if (a) {
              var o = a.start.getTime() === t.start.getTime(),
                l = a.end.getTime() === t.end.getTime(),
                c = a.resource === t.row.id,
                h =
                  a.shift + "_" + a.ctrl + "_" + a.meta + "_" + a.alt ==
                  E.coords.shift +
                    "_" +
                    E.coords.ctrl +
                    "_" +
                    E.coords.meta +
                    "_" +
                    E.coords.alt,
                f = !E.eventMoveToPosition || a.position === t.line;
              if (o && l && c && h && f) return;
            }
            a && (s(t, a.cssClass), (t.firstChild.innerHTML = "")),
              i.clear(),
              i.Ir();
            var v = (function () {
              var e = E.links,
                t = e.findAllByFromTo(r.id(), null).map(function (e) {
                  return { to: e.to(), type: e.type() };
                });
              return (t = t.concat(
                e.findAllByFromTo(null, r.id()).map(function (e) {
                  return { from: e.from(), type: e.type() };
                })
              ));
            })();
            !(function () {
              t.overlapping = !1;
              var e = t.row,
                a = r.data,
                o = t.width,
                l = t.left,
                s = y(i.list)
                  .map(function (e) {
                    return e.event.data;
                  })
                  .add(a);
              E.Or(t, e, l, o, s), E.Pr(n.Sr, t.start, t.end, t.row.id);
            })();
            var p = "Milestone" === r.data.type,
              m = !!b.drag && r.part.external,
              g = {};
            (g.start = t.start),
              (g.end = E.ak(t.end)),
              (g.duration = new DayPilot.Duration(g.start, g.end)),
              (g.e = r),
              (g.external = m),
              (g.control = E),
              (g.resource = t.row.id),
              (g.html = null),
              (g.row = E.lo(t.row)),
              (g.position = t.line),
              (g.overlapping = t.overlapping || i.forbidden),
              (g.allowed = !0),
              (g.left = {}),
              (g.left.html = g.start.toString(
                E.eventMovingStartEndFormat,
                H.Xc()
              )),
              (g.left.enabled = E.eventMovingStartEndEnabled),
              (g.left.space = 5),
              (g.left.width = null),
              (g.left.height = E.eventHeight),
              (g.right = {}),
              (g.right.html = g.end.toString(
                E.eventMovingStartEndFormat,
                H.Xc()
              )),
              (g.right.enabled = E.eventMovingStartEndEnabled),
              (g.right.space = 5),
              (g.right.width = null),
              (g.right.height = E.eventHeight),
              (g.multimove = i.Gr()),
              (g.shift = E.coords.shift),
              (g.ctrl = E.coords.ctrl),
              (g.meta = E.coords.meta),
              (g.alt = E.coords.alt),
              (g.areaData = b.movingAreaData),
              (g.links = v),
              (g.link = null),
              (g.cssClass = null),
              (g.html = null),
              p && (g.end = g.start);
            var w = {};
            (w.event = r),
              (w.start = g.start),
              (w.end = g.end),
              (w.overlapping = g.overlapping),
              (w.resource = g.resource),
              g.multimove.splice(0, 0, w),
              (E.jb = g);
            var x = { start: g.start, end: g.end, resource: g.resource };
            if (
              ("function" == typeof E.onEventMoving && E.onEventMoving(g), n.mn)
            ) {
              if (
                ((i.list = y(g.multimove, !0)),
                i.list.splice(0, 1),
                i.qp(),
                (t.allowed = g.allowed),
                d(t, g.cssClass),
                g.fullShadow)
              ) {
                var k = E.jh(r);
                (t.innerHTML = k.innerHTML),
                  (t.style.boxShadow = "0 2px 5px rgba(0,0,0,.2)");
              } else
                g.html
                  ? (t.firstChild.innerHTML = g.html)
                  : (t.firstChild.innerHTML = "");
              if (g.start !== x.start || g.end !== x.end) {
                var _ = g.start,
                  T = E.Fj(g.end);
                (t.start = _), (t.end = T);
                var S = DayPilot.DateUtil.diff(_, T);
                S = u(S, 1);
                var D = H.fh(S),
                  M = D ? E.getPixels(_).boxLeft : E.getPixels(_).left,
                  A = D ? E.getPixels(T).boxRight : E.getPixels(T).left;
                if (p) {
                  var R = E.eventHeight;
                  (M -= R / 2), (A = M + R);
                }
                (t.style.left = M + "px"),
                  (t.left = M),
                  (t.style.width = A - M + "px"),
                  (t.width = A - M);
              }
              if (g.resource !== x.resource) {
                var B = E.sm(g.resource);
                if (
                  B &&
                  ((t.row = B),
                  (t.style.height = u(B.height, 0) + "px"),
                  (t.style.top = B.top + "px"),
                  E.eventMoveToPosition)
                ) {
                  var N = E.rowMarginTop;
                  (t.style.top = B.top + N + "px"),
                    (t.style.height = "3px"),
                    (t.line = 0);
                }
              }
              !(function () {
                var e = t.row,
                  a = r.data,
                  o = t.width,
                  l = t.left;
                t.overlapping = !1;
                var s = y(i.list)
                  .map(function (e) {
                    return e.event.data;
                  })
                  .add(a);
                E.Or(t, e, l, o, s), E.Pr(n.Sr, t.start, t.end, t.row.id);
              })(),
                E.Xr(t, g),
                E.Yr(t, g),
                U.Sl();
              var P = g.link,
                L = g.links;
              P
                ? e(P)
                : C(L) &&
                  L.forEach(function (t) {
                    e(t);
                  });
            }
          }),
          (this.Or = function (e, t, i, a, r) {
            if (!E.allowEventOverlap) {
              !(function () {
                e.overlapping = !1;
                for (var o = 0; o < t.lines.length; o++) {
                  if (!t.lines[o].ie(i, a, r)) return void (e.overlapping = !0);
                }
                var s = t.index;
                return y(N.list).some(function (t) {
                  var n = t.div,
                    r = parseInt(n.style.left),
                    o = parseInt(n.style.width),
                    d = t.start.y;
                  return e !== n && d === s && l(i, i + a, r, r + o);
                })
                  ? void (e.overlapping = !0)
                  : F.Tr().some(function (t) {
                      var n = t.info,
                        r = t.left,
                        o = t.width,
                        d = t.y,
                        c = null;
                      return (
                        e.event
                          ? (c = e.event.data.id)
                          : e.info && (c = e.info.event.data.id),
                        (null === c || c !== n.event.data.id) &&
                          d === s &&
                          l(i, i + a, r, r + o)
                      );
                    })
                  ? void (e.overlapping = !0)
                  : y(V.divs).some(function (t) {
                      var n = t.info,
                        r = parseInt(t.style.left),
                        o = parseInt(t.style.width),
                        d = n.$.Nr.index;
                      return e !== t && d === s && l(i, i + a, r, r + o);
                    })
                  ? void (e.overlapping = !0)
                  : (function () {
                      var t = n.Sr;
                      return (
                        !!t &&
                        e !== t &&
                        (e.info ? e.info.$.Nr : e.row).index === t.row.index &&
                        l(e.left, e.left + e.width, t.left, t.left + t.width)
                      );
                    })()
                  ? void (e.overlapping = !0)
                  : void 0;
              })();
              var o = e.overlapping,
                c = E.ca("_shadow_overlap");
              o ? d(e, c) : s(e, c);
            }
          }),
          (this.Pr = function (e, t, n, i) {
            E.Zc(t, n, i) && (e.overlapping = !0);
            var a = E.ca("_shadow_overlap");
            e.overlapping ? d(e, a) : s(e, a);
          }),
          (this.Zc = function (e, t, n) {
            if (!((E.cellConfig && E.cellConfig.hasDisabled) || E._m.$r))
              return !1;
            if (E.ho()) {
              return E._r(n).some(function (n) {
                if (
                  l(
                    n.data.startTicks,
                    n.data.endTicks,
                    e.getTime(),
                    t.getTime()
                  )
                ) {
                  var i = E.lo(n).cells.forRange(e, t);
                  return (
                    !!i &&
                    i.some(function (e) {
                      return e.properties.disabled;
                    })
                  );
                }
                return !1;
              });
            }
            var i = null;
            "Days" === E.viewType && (i = E.gq(e));
            var a = E.rows.find(n, i).cells.forRange(e, t);
            return (
              !!a &&
              a.some(function (e) {
                return e.properties.disabled;
              })
            );
          }),
          (this.Xr = function (e, t) {
            var n = E.ca("_shadow_forbidden");
            !t.allowed || F.invalid ? d(e, n) : s(e, n);
          }),
          (this.Yr = function (e, t) {
            if ((this.as(), e.calendar === E)) {
              var n = E.Uo(e.grid),
                i = {};
              (i.left = parseInt(e.style.left)),
                (i.top = parseInt(e.style.top)),
                (i.right = i.left + parseInt(e.style.width));
              var a = t.left.width || 10,
                r = o();
              (r.style.position = "absolute"),
                (r.style.left = i.left - a - t.left.space + "px"),
                (r.style.top = i.top + "px"),
                (r.style.height = t.left.height + "px"),
                (r.style.overflow = "hidden"),
                (r.style.boxSizing = "border-box"),
                (r.innerHTML = t.left.html),
                (r.className = E.ca("_event_move_left")),
                (r.onmousemove = E.bs);
              var l = E.vl;
              if (t.left.enabled) {
                var s = 0;
                i.top + t.left.height > l &&
                  ((s = i.top - (l - t.left.height)),
                  (r.style.top = l - t.left.height + "px")),
                  n.divHover.appendChild(r),
                  t.left.width
                    ? (r.style.width = a + "px")
                    : (r.style.whiteSpace = "nowrap");
                var d = r.offsetWidth,
                  c = i.left - d - t.left.space;
                (r.style.width = d + "px"), (r.style.left = c + "px");
                var u = E.nav.scroll.scrollLeft;
                c < u && n.divHover.removeChild(r);
                var h = E.Im() + (c - u);
                h > 0 &&
                  ((r.style.left = h + "px"),
                  (r.style.top = i.top - n.div.scrollTop + n.top - s + "px"),
                  E.nav.top.appendChild(r),
                  E.elements.hover.push(r));
              }
              var f = o();
              if (
                ((f.style.position = "absolute"),
                (f.style.left = i.right + t.right.space + "px"),
                (f.style.top = i.top + "px"),
                (f.style.height = t.right.height + "px"),
                (f.style.overflow = "hidden"),
                (f.style.boxSizing = "border-box"),
                t.right.width
                  ? (f.style.width = t.right.width + "px")
                  : (f.style.whiteSpace = "nowrap"),
                (f.innerHTML = t.right.html),
                (f.className = this.ca("_event_move_right")),
                (f.onmousemove = E.bs),
                t.right.enabled)
              ) {
                i.top + t.right.height > l &&
                  (f.style.top = l - t.right.height + "px"),
                  n.divHover.appendChild(f);
                var v = E.nav.scroll.scrollWidth;
                i.right + t.right.space + f.offsetWidth >= v &&
                  n.divHover.removeChild(f);
              }
            }
          }),
          (this.as = function () {
            (E.divHover.innerHTML = ""),
              (E.pm.top.divHover.innerHTML = ""),
              (E.pm.bottom.divHover.innerHTML = ""),
              x(E.elements.hover),
              (E.elements.hover = []);
          }),
          (U.Oc = []),
          (U.Sl = function () {
            U.Oc.forEach(function (e) {
              e.clear();
            }),
              (U.Oc = []);
          }),
          (U.Zr = function (e) {
            e && U.Oc.push(e);
          }),
          (this.cs = function () {
            var e = E.rowHeaderColumnDefaultWidth;
            if (this.rowHeaderColumns) {
              var t = H.vr();
              this.rowHeaderCols = DayPilot.Util.propArray(t, "width", e);
            } else this.rowHeaderCols = null;
          }),
          (this.ds = function () {
            var e = 0;
            if ((this.cs(), this.rowHeaderCols))
              for (var t = 0; t < this.rowHeaderCols.length; t++)
                e += this.rowHeaderCols[t];
            else e = this.rowHeaderWidth;
            return e;
          }),
          (this.es = function () {
            return this.fs(E.progressiveRowRenderingPreload);
          }),
          (this.fs = function (e) {
            e = e || 0;
            var t = 0,
              n = E.rowlist.length;
            if (E.progressiveRowRendering) {
              var i = E.xd();
              (t = i.yStart),
                (function () {
                  var e = E.rowlist[t],
                    n = e && e.split && e.split.parent;
                  n && (t = n.index);
                })(),
                (n = i.yEnd + 1),
                (t = u(0, t - e)),
                (n = Math.min(E.rowlist.length, n + e));
            }
            return { start: t, end: n };
          }),
          (this.hs = function () {
            function e(e, t, n) {
              for (var i = E.Uo(e).divHeader, r = t; r < n; r++) {
                var o = i.rows[r];
                if (o) {
                  var l = { row: o, grid: e, i: r };
                  E.ks(l, a);
                }
              }
            }
            if (this.vg()) {
              var t = !1,
                n = 0;
              if (this.rowHeaderWidthAutoFit) {
                var i = this.divHeader;
                if (!i) return;
                if (!i.rows) return;
                var a = [];
                this.cs();
                E.rowHeaderWidthAutoFitShrink &&
                  (E.rowHeaderScrolling || (E.rowHeaderWidth = 0),
                  E.rowHeaderCols &&
                    E.rowHeaderCols.forEach(function (e, t) {
                      E.rowHeaderCols[t] = 0;
                    }));
                var r = E.es();
                if (
                  (e("main", r.start, r.end),
                  E.pm.top.enabled() &&
                    e("top", 0, E.pm.top.divHeader.rows.length),
                  E.pm.bottom.enabled() &&
                    e("bottom", 0, E.pm.bottom.divHeader.rows.length),
                  this.rowHeaderCols)
                )
                  for (var o = 0; o < a.length; o++)
                    "number" == typeof this.rowHeaderCols[o] &&
                      (a[o] > this.rowHeaderCols[o] &&
                        ((this.rowHeaderCols[o] = a[o]), (t = !0)),
                      (n += this.rowHeaderCols[o]));
                else {
                  n = this.rowHeaderWidth;
                  var l = H.Jm();
                  this.rowHeaderWidth <
                    a[0] + E.rowHeaderWidthMarginRight + l &&
                    ((n = a[0] + E.rowHeaderWidthMarginRight + l), (t = !0));
                }
              }
              t &&
                (this.Qo &&
                  ((this.Qo.widths = this.rowHeaderCols),
                  this.Qo.updateWidths(),
                  DayPilot.Util.updatePropsFromArray(
                    H.vr(),
                    "width",
                    this.rowHeaderCols
                  )),
                this.rowHeaderCols || (this.rowHeaderWidth = n),
                this.En(),
                this.ls());
            }
          }),
          (this.ks = function (e, t) {
            var n = e.row,
              i = E.Uo(e.grid),
              a = i.rowlist[e.i],
              r = E.rowHeaderColumns;
            if (!a.hidden) {
              for (var o = 0; o < n.cells.length; o++)
                if (n.cells[o] && "number" != typeof n.cells[o].ms) {
                  var l = n.cells[o].firstChild.firstChild;
                  if (l && l.style) {
                    var s = l.style.width,
                      d = l.style.right,
                      c = l.style.display;
                    (l.style.position = "absolute"),
                      (l.style.width = "auto"),
                      (l.style.right = "auto"),
                      (l.style.whiteSpace = "nowrap"),
                      (l.style.display = "block");
                    var u = l.offsetWidth + 2;
                    (n.cells[o].ms = u),
                      (l.style.position = ""),
                      (l.style.width = s),
                      (l.style.right = d),
                      (l.style.display = c),
                      (l.style.whiteSpace = "");
                  }
                }
              for (var o = 0; o < n.cells.length; o++)
                if (n.cells[o]) {
                  var u = n.cells[o].ms;
                  if (
                    ("undefined" == typeof t[o] && (t[o] = 0),
                    r && r[o] && "number" == typeof r[o].maxAutoWidth)
                  ) {
                    var h = r[o].maxAutoWidth;
                    u = Math.min(u, h);
                  }
                  t[o] = Math.max(t[o], u);
                }
            }
          }),
          (this.Ul = function () {
            (this.ns = !0), this.cs();
            var e = this.ds(),
              t = this.divHeader;
            if (
              ((t.style.width = e + "px"),
              (t.style.height = E.vl + "px"),
              (E.pm.main.divHeader = t),
              E.progressiveRowRendering)
            )
              i();
            else for (var n = this.rowlist.length, a = 0; a < n; a++) E.os(a);
            if (E.pm.top.enabled())
              for (var a = 0; a < E.pm.top.rowlist.length; a++) E.os(a, "top");
            if (E.pm.bottom.enabled())
              for (var a = 0; a < E.pm.bottom.rowlist.length; a++)
                E.os(a, "bottom");
            E.ps(),
              this.divResScroll.appendChild(t),
              this.rowHeaderWidthAutoFit && this.hs();
          }),
          (this.Tl = function () {
            function e(e) {
              var t = E.Uo(e),
                n = t.divHeader,
                i = n;
              n.qs && (i = n.qs),
                E.To(e),
                i && (i.innerHTML = ""),
                n && (n.rows = []);
            }
            e("main"), e("top"), e("bottom");
          }),
          (this.Fn = function (e) {
            if (((e = e || {}), E.progressiveRowRendering)) {
              for (var t = this.es(), i = 0; i < E.rowlist.length; i++)
                t.start <= i && i < t.end ? E.os(i) : E.Vo(i);
              var a = function () {
                if (E.rowHeaderWidthAutoFit && !n.rs) {
                  var e = E.Im();
                  E.hs();
                  if (E.Im() !== e) {
                    var t = E.cellWidth;
                    E.Ol();
                    E.cellWidth !== t &&
                      (E.Pl(), E.Vl(), E.Wl(), E.Bb(), E.tb(), W.Sl(), E.ss());
                  }
                }
              };
              if (!e.skipAutoFit) {
                E.W.reactDOM && "function" == typeof E.onBeforeRowHeaderDomAdd
                  ? setTimeout(a, 0)
                  : a();
              }
            }
          }),
          (this.ps = function () {
            if (!E.Ba.ts()) {
              var e = E.divHeader,
                t = o();
              (t.style.position = "absolute"),
                e.appendChild(t),
                (E.nav.resScrollSpace = t);
              var n = o();
              (n.style.position = "relative"),
                (n.style.height = "100%"),
                (n.className = this.ca("_rowheader")),
                t.appendChild(n);
              var i = this.ds(),
                a = E.nav.resScrollSpace;
              (a.style.width = i + "px"), (a.style.top = this.vl + "px");
            }
          }),
          (this.Vo = function (e, t) {
            var n = E.Uo(t),
              i = n.divHeader.rows[e];
            if (i) {
              if (i)
                for (var a = 0; a < i.cells.length; a++) {
                  var r = i.cells[a];
                  if (r) {
                    var o = r.domArgs;
                    if (
                      ((r.domArgs = null),
                      o &&
                        "function" == typeof E.onBeforeRowHeaderDomRemove &&
                        E.onBeforeRowHeaderDomRemove(o),
                      o && "function" == typeof E.onBeforeRowHeaderDomAdd)
                    ) {
                      var l = o && o.Le;
                      if (l) {
                        var s = E.W.reactDOM && v(o.element),
                          d = E.Y.Ne && (p(o.element) || m(o.element));
                        s
                          ? E.W.ka(l)
                          : d && ((E.Y.Oe = !0), E.Y.la(l), (E.Y.Oe = !1));
                      }
                    }
                    o && ((o.element = null), (o.Le = null));
                  }
                }
              x(i.cells), (n.divHeader.rows[e] = null);
            }
          }),
          (this.Wn = function (e, t) {
            this.Vo(e, t), this.os(e, t);
          }),
          (this.Un = function () {
            return (
              "Standard" === E.rowHeaderColumnsMode ||
              "Tabular" === E.rowHeaderColumnsMode
            );
          }),
          (this.vs = function (e, t) {
            var n = void 0;
            return (
              e.tags
                ? (n = e.tags[t])
                : e.task
                ? (n = e.task[t])
                : e.swimlane && (n = e.swimlane[t]),
              "undefined" != typeof n ? n : e[t]
            );
          }),
          (this.mo = function (e, t, n) {
            return e.tags && "undefined" != typeof e.tags[t]
              ? void (e.tags[t] = n)
              : void (e[t] = n);
          }),
          (this.os = function (e, t) {
            function n() {
              var t = o(),
                n = E.treeImageWidth;
              if (E.treeEnabled && !u.isNewRow) {
                var i = u.level * E.treeIndent + E.treeImageMarginLeft;
                X && (i += Z);
                var a = E.treeImageHeight;
                (t.style.marginLeft = i + "px"),
                  (t.style.position = "relative"),
                  (t.className = E.ca("_rowheader_inner_indent"));
                var r = o();
                (r.style.width = n + "px"),
                  (r.style.height = a + "px"),
                  (r.style.backgroundRepeat = "no-repeat"),
                  (r.style.position = "absolute"),
                  (r.style.top = E.treeImageMarginTop + "px"),
                  u.loaded || 0 !== u.children.length
                    ? u.children.length > 0
                      ? (u.expanded
                          ? (r.className = E.ca("_tree_image_collapse"))
                          : (r.className = E.ca("_tree_image_expand")),
                        (r.style.cursor = "pointer"),
                        (r.index = e),
                        (r.onclick = function (e) {
                          E.Cq(this.index), (e.cancelBubble = !0);
                        }))
                      : (r.className = E.ca("_tree_image_no_children"))
                    : ((r.className = E.ca("_tree_image_expand")),
                      (r.style.cursor = "pointer"),
                      (r.index = e),
                      (r.onclick = function (e) {
                        E.Hs(this.index), (e.cancelBubble = !0);
                      })),
                  t.appendChild(r);
              }
              var l = o();
              if (E.treeEnabled) {
                var s = E.treeImageMarginRight;
                l.style.marginLeft = n + s + "px";
              }
              (l.innerHTML = E.La(R.text, R.html)),
                (l.className = E.ca("_rowheader_inner_text")),
                (S.textDiv = l),
                (S.cellDiv = F),
                t.appendChild(l),
                G.appendChild(t);
              var d = R.verticalAlignment || M.verticalAlignment;
              if (d)
                switch (((G.style.display = "flex"), d)) {
                  case "center":
                    G.style.alignItems = "center";
                    break;
                  case "top":
                    G.style.alignItems = "flex-start";
                    break;
                  case "bottom":
                    G.style.alignItems = "flex-end";
                }
            }
            function i(t, n, i) {
              if (
                ("function" == typeof E.onBeforeRowHeaderDomAdd ||
                  "function" == typeof E.onBeforeRowHeaderDomRemove) &&
                !u.isNewRow
              ) {
                var a = {};
                if (
                  ((a.control = E),
                  (a.row = E.lo(u)),
                  (a.row.columns = DayPilot.Util.createArrayCopy(
                    u.columns,
                    E.Is
                  )),
                  (a.x = t),
                  (a.element = null),
                  (a.target = "Cell"),
                  (l.rows[e].cells[t].domArgs = a),
                  "function" == typeof E.onBeforeRowHeaderDomAdd &&
                    E.onBeforeRowHeaderDomAdd(a),
                  a.element)
                ) {
                  var r = null;
                  switch (a.target && a.target.toLowerCase()) {
                    case "text":
                      r = n;
                      break;
                    case "cell":
                      r = i;
                  }
                  if (r) {
                    (a.Le = r), (r.innerHTML = "");
                    var o = v(a.element),
                      s = p(a.element),
                      d = m(a.element);
                    if (o) {
                      if (!E.W.reactDOM)
                        throw new DayPilot.Exception("Can't reach ReactDOM");
                      E.W.V(a.element, r);
                    } else if (s) {
                      if (!E.Y.Ne)
                        throw new DayPilot.Exception("Can't reach Vue");
                      (E.Y.Oe = !0),
                        E.Y.Z(a.element, r, a.props),
                        (E.Y.Oe = !1);
                    } else if (d) {
                      if (!E.Y.Ne)
                        throw new DayPilot.Exception("Can't reach Vue");
                      (E.Y.Oe = !0), E.Y.Pe(a.element, r), (E.Y.Oe = !1);
                    } else r.appendChild(a.element);
                  }
                }
              }
            }
            var a = E.Uo(t),
              r = a.rowlist,
              l = a.divHeader,
              s = l;
            if (
              (l.qs && (s = l.qs), l && (l.rows || (l.rows = []), !l.rows[e]))
            ) {
              var c = this.rowHeaderCols,
                u = r[e];
              if (u && !u.hidden) {
                var h = z.va[u.grid + "_" + e],
                  f = u.height,
                  g = u.cells && u.cells[0];
                g && g.rowspan > 1 && (f = g.row.split.totalHeight());
                var b = null;
                u.split &&
                  u.split.parent &&
                  u.split.ws() &&
                  (b = E.yr(u.split.parent));
                var w = this.yr(u),
                  x = c && w.row.columns && w.row.columns.length > 0,
                  k = x ? this.rowHeaderCols.length : 0,
                  T = this.ds();
                (l.rows[e] = {}), (l.rows[e].cells = []);
                var S = o();
                (S.style.position = "absolute"),
                  (S.style.top = u.top + "px"),
                  (S.row = b ? u.split.parent : u),
                  (S.index = e),
                  (S.column = 0);
                var D = b ? b.row : null,
                  H = w.row,
                  M = w.row,
                  R = b ? b.row : M,
                  B = E.Un(),
                  N = u.children.length > 0,
                  P = E.internalUseStandardColumns && !u.isNewRow,
                  L = C(E.rowHeaderColumns),
                  I = P || (B && L),
                  O = y(w.row.columns);
                b &&
                  L &&
                  w.row.columns.length === E.rowHeaderColumns.length &&
                  E.rowHeaderColumns.forEach(function (e, t) {
                    e.split || (O[t] = b.row.columns[t]);
                  }),
                  I &&
                    ((O = O.filter(function (e, t) {
                      return !E.rowHeaderColumns[t].hidden;
                    })),
                    (k = O.length));
                var j = !(E.rowHeaderColumnsMergeParents && N);
                if (I && j) {
                  (R = O[0] || w.row), (M = D || M);
                  var U = E.rowHeaderColumns.find(function (e) {
                    return !e.hidden;
                  });
                  U && U.split && ((S.row = u), (M = H));
                }
                E.ja() && (R = w.row);
                var W = x ? c[0] : T;
                (S.style.width = W + "px"), (S.style.border = "0px none");
                var Y = R.toolTip || M.toolTip;
                Y && (S.title = Y),
                  "undefined" != typeof M.ariaLabel
                    ? S.setAttribute("aria-label", M.ariaLabel)
                    : S.setAttribute("aria-label", R.text || ""),
                  (S.onmouseenter = E.xs),
                  (S.onmouseleave = E.ys),
                  (S.onmousemove = E.zs),
                  (S.onmouseout = E.As),
                  (S.onmouseup = E.Bs),
                  (S.oncontextmenu = E.Cs),
                  (S.onclick = E.Ds),
                  (S.ondblclick = E.Es),
                  DayPilot.rePassive(S, "touchstart", E.Ca.Fs),
                  DayPilot.reNonPassive(S, "touchend", E.Ca.Gs);
                var F = o();
                (F.style.width = W + "px"),
                  (F.className = this.ca("_rowheader")),
                  h && d(F, E.ca("_rowheader_selected")),
                  M.cssClass && d(F, M.cssClass),
                  R.cssClass && d(F, R.cssClass);
                var q = R.backColor || M.backColor;
                q && (F.style.background = q);
                var V = R.fontColor || M.fontColor;
                V && (F.style.color = V);
                var J = R.horizontalAlignment || M.horizontalAlignment;
                E.treeEnabled && (J = null),
                  J && (F.style.textAlign = J),
                  (F.style.height = f + "px"),
                  (F.style.overflow = "hidden"),
                  (F.style.position = "relative");
                var G = o();
                switch (((G.className = this.ca("_rowheader_inner")), J)) {
                  case "right":
                    G.style.justifyContent = "flex-end";
                    break;
                  case "left":
                    G.style.justifyContent = "flex-start";
                    break;
                  case "center":
                    G.style.justifyContent = "center";
                }
                F.appendChild(G);
                var X =
                    "Disabled" !== this.rowMoveHandling && "main" === u.grid,
                  Z = E.rowDragHandleWidth,
                  K = R.areas || [];
                X &&
                  !M.moveDisabled &&
                  K.push({
                    v: "Hover",
                    w: Z,
                    bottom: 0,
                    top: 0,
                    left: 0,
                    css: E.ca("_rowmove_handle"),
                    action: "Move",
                  });
                var Q = E.lo(u);
                DayPilot.Areas.attach(F, Q, {
                  areas: K,
                  allowed: function () {
                    return !_.row;
                  },
                });
                var $ = o();
                ($.style.position = "absolute"),
                  ($.style.bottom = "0px"),
                  ($.style.width = "100%"),
                  ($.style.height = "0px"),
                  ($.style.boxSizing = "content-box"),
                  ($.style.borderBottom = "1px solid transparent"),
                  ($.className = this.ca(A.resourcedivider)),
                  F.appendChild($),
                  n(),
                  S.appendChild(F);
                (g && g.refCell) ||
                  ((l.rows[e].cells[0] = S),
                  i(0, S.textDiv, G),
                  s.appendChild(S));
                var ee =
                  !u.isNewRow &&
                  E.rowHeaderColumnsMergeParents &&
                  w.row.children().length > 0;
                if (!w.row.columns || 0 === w.row.columns.length || ee)
                  (S.colSpan = "max"), (F.style.width = T + "px");
                else
                  for (var te = W, ne = P || B ? 0 : 1, ie = 1; ie < k; ie++) {
                    var ae = O[ie - ne] || {},
                      re = u.cells[ie - ne];
                    if (!re.refCell) {
                      var oe = u.height;
                      re.rowspan > 1 && (oe = re.row.split.totalHeight()),
                        (M = re.Js ? D : H);
                      var le = o();
                      (le.style.position = "absolute"),
                        (le.style.top = u.top + "px"),
                        (le.style.left = te + "px"),
                        (le.row = u),
                        (le.index = e),
                        (le.column = ie);
                      var se = ae.toolTip || M.toolTip;
                      se && (le.title = se),
                        (le.onmousemove = E.zs),
                        (le.onmouseout = E.As),
                        (le.onmouseup = E.Bs),
                        (le.oncontextmenu = E.Cs),
                        (le.onclick = E.Ds),
                        (le.ondblclick = E.Es);
                      var de = o(),
                        ce = c[ie];
                      te += ce;
                      var ue = ae.backColor || M.backColor;
                      ue && (de.style.backgroundColor = ue);
                      var he = ae.fontColor || M.fontColor;
                      he && (de.style.color = he),
                        (de.style.width = ce + "px"),
                        (de.style.height = oe + "px"),
                        (de.style.overflow = "hidden"),
                        (de.style.position = "relative"),
                        d(de, this.ca("_rowheader")),
                        d(de, this.ca("_rowheadercol")),
                        d(de, this.ca("_rowheadercol" + ie)),
                        h && d(de, E.ca("_rowheader_selected")),
                        M.cssClass && d(de, M.cssClass),
                        ae.cssClass && d(de, ae.cssClass);
                      var fe = ae.horizontalAlignment || M.horizontalAlignment;
                      fe && (de.style.textAlign = fe);
                      var ve = o();
                      switch (
                        ((ve.className = this.ca("_rowheader_inner")), fe)
                      ) {
                        case "right":
                          ve.style.justifyContent = "flex-end";
                          break;
                        case "left":
                          ve.style.justifyContent = "flex-start";
                          break;
                        case "center":
                          ve.style.justifyContent = "center";
                      }
                      de.appendChild(ve);
                      var pe = o();
                      (pe.style.position = "absolute"),
                        (pe.style.bottom = "0px"),
                        (pe.style.width = "100%"),
                        (pe.style.height = "0px"),
                        (pe.style.boxSizing = "content-box"),
                        (pe.style.borderBottom = "1px solid transparent"),
                        (pe.className = this.ca(A.resourcedivider)),
                        de.appendChild(pe);
                      var me = o(),
                        ge = E.La(ae.text, ae.html);
                      (me.innerHTML = ge),
                        (le.textDiv = me),
                        (le.cellDiv = de),
                        ve.appendChild(me),
                        DayPilot.Areas.attach(de, Q, {
                          areas: ae.areas,
                          allowed: function () {
                            return !_.row;
                          },
                        }),
                        le.appendChild(de),
                        re.refCell ||
                          ((l.rows[e].cells[ie] = le),
                          i(ie, me, ve),
                          s.appendChild(le));
                    }
                  }
              }
            }
          }),
          (this.Cs = function (e) {
            if ("Disabled" === E.rowRightClickHandling) return !1;
            var t = this.row,
              n = this.column,
              i = E.lo(t),
              a = {};
            if (
              ((a.ctrl = e.ctrlKey),
              (a.shift = e.shiftKey),
              (a.meta = e.metaKey),
              (a.originalEvent = e),
              (a.row = i),
              (a.x = n),
              (a.preventDefault = function () {
                this.preventDefault.value = !0;
              }),
              "function" != typeof E.onRowRightClick ||
                (E.onRowRightClick(a), !a.preventDefault.value))
            ) {
              switch (E.rowRightClickHandling) {
                case "ContextMenu":
                  t.contextMenu && t.contextMenu.show(i);
              }
              return (
                "function" == typeof E.onRowRightClicked &&
                  E.onRowRightClicked(a),
                !1
              );
            }
          }),
          (this.Ds = function (e) {
            if (!M.cancelClick) {
              var t = this.row,
                n = this.column,
                i = E.lo(t, this.index);
              return t.isNewRow ? void E.Bl.so(t) : void E.po(i, e, n);
            }
          }),
          (this.Es = function (e) {
            if (E.nn.resClick) {
              for (var t in E.nn.resClick)
                window.clearTimeout(E.nn.resClick[t]);
              E.nn.resClick = null;
            }
            var n = this.row,
              i = E.lo(n, this.index),
              a = this.column;
            if (E.Kb()) {
              var r = {};
              if (
                ((r.resource = i),
                (r.row = i),
                (r.x = a),
                (r.ctrl = e.ctrlKey),
                (r.shift = e.shiftKey),
                (r.meta = e.metaKey),
                (r.originalEvent = e),
                (r.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof E.onRowDoubleClick &&
                  (E.onRowDoubleClick(r), r.preventDefault.value))
              )
                return;
              switch (E.rowDoubleClickHandling) {
                case "PostBack":
                  E.rowDoubleClickPostBack(i);
                  break;
                case "CallBack":
                  E.rowDoubleClickCallBack(i);
                  break;
                case "Select":
                  E.ro(n, e.ctrlKey, e.shiftKey, e.metaKey);
                  break;
                case "Edit":
                  E.Bl.so(n, a);
              }
              "function" == typeof E.onRowDoubleClicked &&
                E.onRowDoubleClicked(r);
            } else
              switch (E.rowDoubleClickHandling) {
                case "PostBack":
                  E.rowDoubleClickPostBack(i);
                  break;
                case "CallBack":
                  E.rowDoubleClickCallBack(i);
                  break;
                case "JavaScript":
                  E.onRowDoubleClick(i);
                  break;
                case "Select":
                  E.ro(n, e.ctrlKey, e.shiftKey, e.metaKey);
                  break;
                case "Edit":
                  E.Bl.so(n, a);
              }
          }),
          (this.rowDoubleClickPostBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Na("RowDoubleClick", n, t);
          }),
          (this.rowDoubleClickCallBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Pa("RowDoubleClick", n, t);
          }),
          (this.Bf = function () {
            var e;
            if ("undefined" != typeof DayPilot.Bubble) {
              var t = this.cell,
                n = t.th,
                i = {
                  calendar: E,
                  start: n.start,
                  end: n.end,
                  level: t.level,
                  bubbleHtml: n.bubbleHtml,
                  toJSON: function () {
                    return {
                      start: this.start,
                      end: this.end,
                      level: this.level,
                    };
                  },
                };
              null === (e = E.timeHeaderBubble) || void 0 === e
                ? void 0
                : e.showTimeHeader(i, !1, this);
            }
          }),
          (this.Cf = function () {
            "undefined" != typeof DayPilot.Bubble &&
              E.resourceBubble &&
              E.resourceBubble.hideOnMouseOut();
          }),
          (this.Ks = function (e) {
            if ("Disabled" !== E.timeHeaderClickHandling) {
              var t = {};
              (t.start = this.cell.start),
                (t.level = this.cell.level),
                (t.end = this.cell.end),
                t.end ||
                  (t.end = new DayPilot.Date(t.start).addMinutes(
                    E.cellDuration
                  )),
                E.uo(t, e);
            }
          }),
          (this.Ls = function (e) {
            if ("Disabled" !== E.timeHeaderRightClickHandling) {
              (e.cancelBubble = !0), e.preventDefault();
              var t = {};
              if (
                ((t.start = this.cell.start),
                (t.level = this.cell.level),
                (t.end = this.cell.end),
                t.end ||
                  (t.end = new DayPilot.Date(t.start).addMinutes(
                    E.cellDuration
                  )),
                E.Kb())
              ) {
                var n = {};
                if (
                  ((n.header = t),
                  (n.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof E.onTimeHeaderRightClick &&
                    (E.onTimeHeaderRightClick(n), n.preventDefault.value))
                )
                  return;
                "function" == typeof E.onTimeHeaderRightClicked &&
                  E.onTimeHeaderRightClicked(n);
              }
            }
          }),
          (this.Ms = function (e) {
            var t = E.rowlist[e];
            if (t.hidden) return 0;
            var n = t.height;
            return "number" == typeof t.forcedHeight && (n = t.forcedHeight), n;
          }),
          (this.Ns = function (e, t, n) {
            function i(e) {
              var n = E.Ms(e),
                i = t;
              "hide" === t
                ? (i = 0)
                : "show" === t && (i = E.rowlist[e].height);
              var a = i - n;
              o.push({ i: e, now: n, dist: a });
            }
            function a(e) {
              l || (l = e);
              var t = e - l,
                i = Math.min(1, t / r);
              0 === i && (i = 0.1),
                o.forEach(function (e) {
                  var t = e.now + e.dist * i;
                  E.rowlist[e.i].forcedHeight = t;
                }),
                E.Rl(),
                E.Os({ skipAutoFit: !0 }),
                i < 1
                  ? window.requestAnimationFrame(a)
                  : ((s.style.overflowX = d),
                    (s.style.overflowY = c),
                    "function" == typeof n && n());
            }
            var r = 200,
              o = [];
            if ("number" == typeof e) i(e);
            else {
              if (!C(e))
                throw new DayPilot.Exception(
                  "Unexpected param (must be number/array)."
                );
              e.forEach(function (e) {
                i(e);
              });
            }
            var l = 0,
              s = E.nav.scroll,
              d = s.style.overflowX,
              c = s.style.overflowY;
            0 === DayPilot.sw(s) && (s.style.overflowY = "hidden"),
              window.requestAnimationFrame(a);
          }),
          (this.lo = function (e) {
            return new DayPilot.Row(e, E);
          }),
          (this.Zm = function (e, t) {
            t = t || "main";
            var n = E.pm[t],
              i = n.rowlist,
              a = i[e];
            if ((a.events || a.Ps(), !a.data)) {
              if (
                ((a.data = {}),
                (a.data.start = new DayPilot.Date(a.start)),
                (a.data.startTicks = a.data.start.getTime()),
                a.end)
              )
                a.data.end = new DayPilot.Date(a.end);
              else {
                var r = this.je().getTime() - this.Ub().getTime();
                a.data.end = H.Qs()
                  ? a.data.start.addTime(r)
                  : a.data.start.addDays(1);
              }
              (a.data.endTicks = a.data.end.getTime()),
                (a.data.offset = a.start.getTime() - this.Ub().getTime()),
                (a.data.i = e),
                (a.data.grid = t);
            }
          }),
          (this.tp = {}),
          (this.Op = []),
          (this.tb = function (e) {
            if (
              (e
                ? (this.events.list = e)
                : this.events.list || (this.events.list = []),
              null != this.events.list && !C(this.events.list))
            )
              throw new DayPilot.Exception(
                "DayPilot.Scheduler.events.list expects an array object"
              );
            var t = E.ho();
            j.Aj(!0);
            var n,
              i = this.events.list,
              a = "function" == typeof this.onBeforeEventRender,
              r = "Resources" === E.viewType;
            E.tp = {};
            for (var o = 0; o < i.length; o++) {
              var l = i[o];
              if (l) {
                if ("object" != typeof l)
                  throw new DayPilot.Exception(
                    "Event data item must be an object"
                  );
                if (!l.start)
                  throw new DayPilot.Exception(
                    "Event data item must specify 'start' property"
                  );
                if (l instanceof DayPilot.Event)
                  throw new DayPilot.Exception(
                    "DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead."
                  );
                var s = "string" == typeof l.id || "number" == typeof l.id,
                  d =
                    "string" == typeof l.recurrentMasterId ||
                    "number" == typeof l.recurrentMasterId;
                if (!s && !d)
                  throw new DayPilot.Exception(
                    "All events must have an id property (string or number)"
                  );
                var c = "_" + l.id;
                !s &&
                  d &&
                  (c =
                    "#" +
                    l.recurrentMasterId +
                    "#" +
                    new DayPilot.Date(l.start));
                if (!E.temp.allowDuplicateEventIds && E.tp[c])
                  throw new DayPilot.Exception(
                    "Duplicate event IDs are not allowed: " + c
                  );
                (E.tp[c] = {}),
                  "Milestone" === l.type && (l.end = l.start),
                  a && this.Kg(o),
                  "*" === l.resource
                    ? (n = E.rowlist)
                    : r
                    ? (n = E._r(l.resource).concat(E._r("*")))
                    : "Days" === E.viewType
                    ? (n = E.rowlist)
                    : "Gantt" === E.viewType && (n = E._r(l.id));
                for (var u = E.tp[c], h = 0; n && h < n.length; h++) {
                  var f = n[h],
                    v = this.Up(l, f, o);
                  v &&
                    (u.up || (u.up = v),
                    a && (v.cache = this.va.events[o]),
                    (v.Vp = o));
                }
                if (
                  !u.up &&
                  (null === n || void 0 === n ? void 0 : n[0]) &&
                  r &&
                  !t
                ) {
                  var f = n[0],
                    p = 0;
                  l.start >= f.data.end && (p = E.Fm()),
                    (u.wp = {
                      part: {
                        grid: f.data.grid,
                        dayIndex: f.data.i,
                        left: p,
                        top: 0,
                        width: 0,
                        height: E.eventHeight,
                      },
                    });
                }
              }
            }
            E.Ym().forEach(function (e) {
              E.$p(e);
            }),
              E.Xp(),
              E.wn();
          }),
          (this.Rs = function (e, t) {
            return e.start - t.start;
          }),
          (this.Xp = function () {
            E.Op = [];
            for (var e in E.tp) {
              var t = E.tp[e];
              if (t && t.up) {
                var n = t.up.part.start.getTime(),
                  i = t.up.part.end.getTime(),
                  a = { i: t.up.Vp, start: n, end: i };
                E.Op.push(a);
              }
            }
            E.Op.sort(E.Rs);
          }),
          (j.Ss = {}),
          (j.Aj = function (e) {
            (j.Ss = {}), (j.Ts = {}), (j.Us = []);
            for (
              var t = E.Ym({ includeSplitParents: !0 }), n = 0;
              n < t.length;
              n++
            ) {
              var i = t[n];
              if ((e && i.Ps(), E.Zm(i.index, i.grid), h(i.id))) j.Us.push(i);
              else if (!i.isNewRow) {
                var a = i.split.list && i.split.list.length > 0,
                  r = typeof i.id + "_" + i.id;
                a
                  ? (j.Ts[r] || (j.Ts[r] = []), j.Ts[r].push(i))
                  : (j.Ss[r] || (j.Ss[r] = []), j.Ss[r].push(i));
              }
            }
          }),
          (this._r = function (e, t) {
            if (h(e)) return j.Us;
            t = t || {};
            var n = t.includeSplitParents,
              i = typeof e + "_" + e,
              a = j.Ss[i] || [];
            return n && (a = a.concat(j.Ts[i])), a;
          }),
          (this.Tp = function () {
            var e = {};
            if ("Resources" !== E.viewType) return !1;
            for (var t = 0; t < E.rowlist.length; t++) {
              var n = E.rowlist[t],
                i = n.id;
              if (e[i]) return !0;
              e[i] = !0;
            }
            return !1;
          }),
          (this.Kg = function (e) {
            var t = this.va.events,
              n = this.events.list[e],
              i = {};
            n instanceof DayPilot.Event && (n = n.data);
            for (var a in n) i[a] = n[a];
            if (
              ("string" == typeof i.start &&
                (i.start = new DayPilot.Date(i.start)),
              "string" == typeof i.end && (i.end = new DayPilot.Date(i.end)),
              "function" == typeof this.onBeforeEventRender)
            ) {
              var r = {};
              (r.e = i),
                (r.data = i),
                (r.control = E),
                this.onBeforeEventRender(r);
            }
            t[e] = i;
          }),
          (this.Vs = function (e) {
            var t = e.data.container,
              n = typeof t;
            return "string" !== n && "number" !== n ? null : typeof t + "_" + t;
          }),
          (this.$p = function (e) {
            if (((e.lines = []), (e.sections = null), !e.isNewRow)) {
              var t = E.groupConcurrentEvents;
              this.sortDirections && !t
                ? e.events.sort(this.hh)
                : E.rl || e.events.sort(this.gh),
                (e.containerCache = {}),
                (e.containers = []),
                e.events.forEach(function (t) {
                  var n = E.Vs(t);
                  if (n) {
                    var i = e.containerCache[n];
                    i ||
                      ((i = {
                        events: [],
                        line: null,
                        start: null,
                        end: null,
                        left: null,
                        width: null,
                      }),
                      (e.containerCache[n] = i),
                      e.containers.push(i)),
                      (t.part.container = i),
                      i.events.push(t);
                  }
                }),
                e.containers.forEach(function (e) {
                  var t = e.events[0],
                    n = e.events[e.events.length - 1];
                  (e.start = t.part.start),
                    (e.end = n.part.end),
                    (e.left = t.part.left),
                    (e.width = n.part.right - t.part.left),
                    (e.right = n.part.right);
                });
              if (E.rl) return void L.$p(e);
              if (t)
                for (var n = 0; n < e.blocks.length; n++) e.blocks[n].clear();
              y(e.events).forEach(function (t) {
                if (!t.part.height)
                  return e.eventHeight
                    ? void (t.part.height = e.eventHeight)
                    : void (t.part.height = H.Xo());
              });
              var i = function (e) {
                return "number" == typeof e.data.line;
              };
              if (
                (e.events.filter(i).forEach(function (t) {
                  e.ge(t);
                }),
                t)
              ) {
                for (var a = 0; a < e.events.length; a++) {
                  var r = e.events[a];
                  t && e.ee(r);
                }
                this.sortDirections && e.events.sort(this.hh);
              }
              for (var a = 0; a < e.events.length; a++) {
                var r = e.events[a];
                e.ge(r);
              }
              for (var o = 0, n = 0; n < e.lines.length; n++) {
                var l = e.lines[n];
                (l.top = o),
                  (o +=
                    ((l.height || e.eventHeight) * e.eventStackingLineHeight) /
                    100);
              }
              if (t)
                for (var a = 0; a < e.blocks.length; a++) {
                  var s = e.blocks[a];
                  (s.lines = []), s.events.sort(this.hh);
                  for (var d = 0; d < s.events.length; d++) {
                    var r = s.events[d];
                    s.ge(r);
                  }
                  s.lines.length <= E.groupConcurrentEventsLimit &&
                    (s.expanded = !0);
                  var c = y(s.events)
                    .map(function (e) {
                      return e.id();
                    })
                    .some(function (e) {
                      return w(E.Ws, e);
                    });
                  c && (s.expanded = !0);
                  for (var u = 0, n = 0; n < s.lines.length; n++) {
                    var l = s.lines[n];
                    (l.top = u),
                      (u +=
                        ((l.height || e.eventHeight) *
                          e.eventStackingLineHeight) /
                        100);
                  }
                }
              E.rowReverseLines && e.lines.reverse();
            }
          }),
          (this.vn = function (e) {
            (e = DayPilot.ua(e)),
              (e = E.Xn(e)),
              e.forEach(function (e) {
                E.$p(e);
              }),
              E.rl
                ? L.Xs()
                : e.forEach(function (e) {
                    E.zr(e);
                  });
          }),
          (this.ho = function () {
            var e = "Manual" === E.scale ? E.itline[0].start : E.startDate;
            return y(E.rowlist).some(function (t) {
              return (
                !!t.start &&
                t.start.getTime() !== new DayPilot.Date(e).getTime()
              );
            });
          }),
          (this.Up = function (e, t, n) {
            if (!t.hideEvents) {
              var i = new DayPilot.Date(e.start),
                a = new DayPilot.Date(e.end);
              a = E.Fj(a);
              var r = i.ticks,
                o = a.ticks;
              if (o < r) return null;
              "number" != typeof n && (n = k(E.events.list, e));
              var l = null;
              if (
                ("function" == typeof E.onBeforeEventRender &&
                  (l = E.va.events[n]),
                l)
              ) {
                if (l.hidden) return null;
              } else if (e.hidden) return null;
              var s = !1;
              switch (this.viewType) {
                case "Days":
                  s =
                    (!(o <= t.data.startTicks || r >= t.data.endTicks) ||
                      (r === o && r === t.data.startTicks)) &&
                    !0;
                  break;
                case "Resources":
                  s =
                    (t.id === e.resource ||
                      "*" === t.id ||
                      "*" === e.resource) &&
                    (!(o <= t.data.startTicks || r >= t.data.endTicks) ||
                      (r === o && r === t.data.startTicks));
                  break;
                case "Gantt":
                  s =
                    t.id === e.id &&
                    !(o <= t.data.startTicks || r >= t.data.endTicks);
              }
              if (!s) return null;
              var d = new DayPilot.Event(e, E);
              (d.part.dayIndex = t.data.i),
                (d.part.grid = t.data.grid),
                (d.part.start = t.data.startTicks < r ? i : t.data.start),
                (d.part.end = t.data.endTicks > o ? a : t.data.end);
              var c = this.getPixels(d.part.start.addTime(-t.data.offset)),
                h = this.getPixels(d.part.end.addTime(-t.data.offset));
              d.part.start === d.part.end &&
                (h = this.getPixels(
                  d.part.end.addTime(-t.data.offset).addMilliseconds(1)
                )),
                l && l.height
                  ? (d.part.height = l.height)
                  : e.height && (d.part.height = e.height),
                (d.part.Ys = function () {
                  var e = this.height;
                  if (E.eventVersionsEnabled && !y(d.versions).isEmpty()) {
                    var t = d.versions.length;
                    (e += t * E.eventVersionHeight),
                      (e += t * E.eventVersionMargin);
                  }
                  return e + E.eventMarginBottom;
                });
              var f = c.left,
                v = h.left;
              if (((d.part.startPixels = c), (d.part.endPixels = h), f === v)) {
                if (c.cut || h.cut) return null;
                var p =
                  (d.part.start.addTime(-t.data.offset).getTime() +
                    d.part.end.addTime(-t.data.offset).getTime()) /
                  2;
                if (E.getPixels(new DayPilot.Date(Math.floor(p))).cut)
                  return null;
              }
              d.part.box = H.fh(o - r);
              var m = E.eventHeight;
              if ("Milestone" === e.type) {
                var g = e.width || m;
                (d.part.end = d.part.start),
                  (d.part.left = f - g / 2),
                  (d.part.width = g),
                  (d.part.barLeft = 0),
                  (d.part.barWidth = g);
              } else if (d.part.box) {
                var b = c.boxLeft,
                  w = h.boxRight;
                (d.part.left = b),
                  (d.part.width = w - b),
                  (d.part.barLeft = u(f - d.part.left, 0)),
                  (d.part.barWidth = u(v - f, 1));
              } else
                (d.part.left = f),
                  (d.part.width = u(v - f, 1)),
                  (d.part.barLeft = 0),
                  (d.part.barWidth = u(v - f - 1, 1));
              var x = E.eventMinWidth;
              if (
                ((d.part.width = Math.max(d.part.width, x)),
                (d.part.right = d.part.left + d.part.width),
                (d.cache = l),
                (d.Vp = n),
                E.eventVersionsEnabled && E.Zs(d, t),
                "function" == typeof E.onEventFilter && E.events.eh)
              ) {
                var C = {};
                if (
                  ((C.filter = E.events.eh),
                  (C.filterParam = E.events.eh),
                  (C.visible = !0),
                  (C.e = d),
                  E.onEventFilter(C),
                  !C.visible)
                )
                  return null;
              }
              return t.events.push(d), d;
            }
          }),
          (this.Zs = function (e, t) {
            e.versions = [];
            var n = e.cache || e.data,
              i = y(n.versions);
            if (!i.isEmpty()) {
              var a = e.part.left,
                r = e.part.left + e.part.width;
              i.forEach(function (n) {
                var i = new DayPilot.Date(n.start),
                  o = new DayPilot.Date(n.end),
                  l = E.getPixels(i.addTime(-t.data.offset)),
                  s = E.getPixels(o.addTime(-t.data.offset));
                i.ticks === o.ticks &&
                  (s = E.getPixels(o.addTime(-t.data.offset).addTime(1)));
                var d = l.left,
                  c = s.left;
                if (d === c && (l.cut || s.cut)) return null;
                var u = {};
                (u.left = d),
                  (u.continueLeft = i < t.data.start),
                  (u.right = c),
                  (u.continueRight = o > t.data.end),
                  (u.width = c - d),
                  e.versions.push(u),
                  u.left < a && (a = u.left),
                  u.right > r && (r = u.right);
              });
              E.eventVersionsReserveSpace && !n.versionsReserveSpaceDisabled
                ? ((e.part.versionsLeft = a),
                  (e.part.versionsRight = r),
                  (e.part.versionsWidth = r - a))
                : ((e.part.versionsLeft = e.part.left),
                  (e.part.versionsRight = e.part.left + e.part.width),
                  (e.part.versionsWidth = e.part.width));
            }
          }),
          (this.gh = function (e, t) {
            if (!(e && t && e.start && t.start)) return 0;
            var n = e.start().ticks,
              i = t.start().ticks,
              a = e.end().ticks,
              r = t.end().ticks;
            "Milestone" === e.data.type && ((n -= 1), (a += 1)),
              "Milestone" === t.data.type && ((i -= 1), (r += 1));
            var o = n - i;
            return 0 !== o ? o : r - a;
          }),
          (this.hh = function (e, t) {
            if (!e || !t) return 0;
            var n = e.cache || e.data,
              i = t.cache || t.data;
            if (!(n.sort && n.sort.length > 0 && i.sort && i.sort.length > 0))
              return E.gh(e, t);
            for (
              var a = 0, r = 0;
              0 === a &&
              "undefined" != typeof n.sort[r] &&
              "undefined" != typeof i.sort[r];

            )
              (a =
                n.sort[r] === i.sort[r]
                  ? 0
                  : "number" == typeof n.sort[r] && "number" == typeof i.sort[r]
                  ? n.sort[r] - i.sort[r]
                  : E.ih(n.sort[r], i.sort[r], E.sortDirections[r])),
                r++;
            return a;
          }),
          (this.ih = function (e, t, n) {
            var i = "desc" !== n,
              a = i ? -1 : 1,
              r = -a;
            if (null === e && null === t) return 0;
            if (null === t) return r;
            if (null === e) return a;
            var o = [];
            return (o[0] = e), (o[1] = t), o.sort(), e === o[0] ? a : r;
          }),
          (this.Ga = "javasc"),
          (this.ro = function (e, t, n, i) {
            if (E.Kb()) {
              var a = k(E.rowlist, e),
                r = E.lo(e, a),
                o = k(M.gj, e) !== -1,
                l = o ? "deselected" : "selected",
                s = {};
              if (
                ((s.row = r),
                (s.selected = o),
                (s.ctrl = t),
                (s.shift = n),
                (s.meta = i),
                (s.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof E.onRowSelect &&
                  (E.onRowSelect(s), s.preventDefault.value))
              )
                return;
              var d = n && !t && !i;
              if ((n || (M.$s = { row: e, index: a }), d)) {
                M._s();
                var c = M.$s.index,
                  u = a;
                M.at(c, u);
              }
              switch (E.rowSelectHandling) {
                case "PostBack":
                  E.rowSelectPostBack(r, l);
                  break;
                case "CallBack":
                  E.rowSelectCallBack(r, l);
                  break;
                case "Notify":
                  d || M.L(e, t, n, i), E.rowSelectNotify(r, l);
                  break;
                case "Update":
                  d || M.L(e, t, n, i);
              }
              "function" == typeof E.onRowSelected &&
                ((s.selected = k(M.gj, e) !== -1), E.onRowSelected(s));
            } else {
              M.L(e, t, n);
              var a = k(E.rowlist, e),
                r = E.lo(e, a),
                o = k(M.gj, e) !== -1,
                l = o ? "deselected" : "selected";
              switch (E.rowSelectHandling) {
                case "PostBack":
                  E.rowSelectPostBack(r, l);
                  break;
                case "CallBack":
                  E.rowSelectCallBack(r, l);
                  break;
                case "Notify":
                  E.rowSelectNotify(r, l);
                  break;
                case "JavaScript":
                  E.onRowSelect(r, l);
              }
            }
          }),
          (this.rowSelectPostBack = function (e, t, n) {
            var i = {};
            (i.resource = e), (i.change = t), this.Na("RowSelect", i, n);
          }),
          (this.rowSelectCallBack = function (e, t, n) {
            var i = {};
            (i.resource = e), (i.change = t), this.Pa("RowSelect", i, n);
          }),
          (this.rowSelectNotify = function (e, t, n) {
            var i = {};
            (i.resource = e),
              (i.change = t),
              this.Pa("RowSelect", i, n, "Notify");
          }),
          (z.va = []),
          (z.get = function () {
            var e = [];
            return (
              y(M.gj).forEach(function (t) {
                e.push(E.lo(t));
              }),
              e
            );
          }),
          (z.clear = function () {
            M.bt();
          }),
          (z.add = function (e) {
            if (!e || !e.isRow)
              throw new DayPilot.Exception(
                "DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected"
              );
            y(M.gj).some(function (t) {
              return t === e.$.row;
            }) || (M.gj.push(e.$.row), z.ct(), M.Yk(e.$.row));
          }),
          (z.remove = function (e) {
            if (!e || !e.isRow)
              throw new DayPilot.Exception(
                "DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected"
              );
            z.isSelected(e) &&
              (DayPilot.rfa(M.gj, e.$.row), z.ct(), M.Yk(e.$.row));
          }),
          (z.isSelected = function (e) {
            if (!e || !e.isRow)
              throw new DayPilot.Exception(
                "DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected"
              );
            return k(M.gj, e.$.row) !== -1;
          }),
          (z.ct = function () {
            (E.selectedRows = y(M.gj).map(function (e) {
              return e.id;
            })),
              (z.va = []),
              M.gj.forEach(function (e) {
                z.va[e.grid + "_" + e.index] = !0;
              });
          }),
          (this.rows.all = function () {
            for (
              var e = y(), t = E.Ym({ includeSplitParents: !0 }), n = 0;
              n < t.length;
              n++
            ) {
              var i = E.lo(t[n]);
              e.push(i);
            }
            return e;
          }),
          (this.rows.visible = function () {
            for (var e = y(), t = 0; t < E.rowlist.length; t++) {
              var n = E.rowlist[t];
              if (!n.hidden) {
                var i = E.lo(n);
                e.push(i);
              }
            }
            return e;
          }),
          (this.rows.each = function (e) {
            E.rows.all().forEach(e);
          }),
          (this.rows.forEach = function (e) {
            E.rows.all().forEach(e);
          }),
          (this.rows.filter = function (e, t) {
            (E.rows.eh = e), t || (E.za && E.Od({ immediateEvents: !0 }));
          }),
          Object.defineProperty(E.rows, "filterParam", {
            get: function () {
              return E.rows.eh;
            },
          }),
          (this.rows.sort = function (e) {
            var t = E.rows.sortParam;
            if ("string" == typeof e) E.rows.dt = { field: e, order: "asc" };
            else if ("object" == typeof e) {
              var n = f(e);
              n.order || (n.order = "asc"), (E.rows.dt = n);
            } else E.rows.dt = null;
            if (
              (E.za && E.Od({ immediateEvents: !0 }),
              "function" == typeof E.onRowSorted)
            ) {
              var i = {};
              (i.oldSortParam = t), E.onRowSorted(i);
            }
          }),
          Object.defineProperty(E.rows, "sortParam", {
            get: function () {
              return { order: E.rows.et(), field: E.rows.ft() };
            },
          }),
          (this.rows.ft = function () {
            var e = E.rows.dt;
            return e ? e.field : null;
          }),
          (this.rows.et = function () {
            var e = E.rows.dt;
            return e ? e.order : "asc";
          }),
          (this.rows.find = function (e, t) {
            if ("string" == typeof e || "number" == typeof e || (!e && t)) {
              var n = E._r(e, { includeSplitParents: !0 });
              e || (n = E.rowlist);
              var i = null;
              return (
                "string" == typeof t || t instanceof DayPilot.Date
                  ? ((t = new DayPilot.Date(t)),
                    (i = n.find(function (e) {
                      return t === e.start;
                    })))
                  : (i = n[0]),
                i ? new DayPilot.Row(i, E) : null
              );
            }
            if ("function" != typeof e)
              throw new DayPilot.Exception(
                "Invalid rows.find() argument: id or function expected"
              );
            var a = t || 0,
              r = E.rowlist.find(function (t, n) {
                return !(n < a) && e(E.lo(t));
              });
            if (r) return E.lo(r);
          }),
          (this.rows.load = function (e, t, n) {
            if (!e)
              throw new DayPilot.Exception(
                "rows.load(): 'url' parameter required"
              );
            var i = function (e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  "function" == typeof n && n(t);
              },
              a = function (e) {
                var n,
                  a = e.request;
                try {
                  n = JSON.parse(a.responseText);
                } catch (e) {
                  var r = {};
                  return (r.exception = e), void i(r);
                }
                if (C(n)) {
                  var o = {};
                  if (
                    ((o.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (o.data = n),
                    "function" == typeof t && t(o),
                    o.preventDefault.value)
                  )
                    return;
                  (E.resources = o.data), E.za && E.update();
                }
              };
            E.rowsLoadMethod && "POST" === E.rowsLoadMethod.toUpperCase()
              ? DayPilot.ajax({ method: "POST", url: e, success: a, error: i })
              : DayPilot.ajax({ method: "GET", url: e, success: a, error: i });
          }),
          (this.rows.expand = function (e) {
            for (var t = [], n = e || 1, i = 0; i < E.rowlist.length; i++) {
              var a = E.rowlist[i],
                r = n === -1;
              a.level < n && (r = !0),
                r &&
                  !a.expanded &&
                  a.children &&
                  a.children.length > 0 &&
                  t.push(a.index);
            }
            if (0 !== t.length)
              if (1 === t.length) E.Cq(t[0]);
              else {
                for (var i = 0; i < t.length; i++) {
                  var o = t[i],
                    l = E.rowlist[o].resource;
                  l.expanded = !0;
                }
                E.Od();
              }
          }),
          (this.rows.expandAll = function () {
            E.rows.expand(-1);
          }),
          (this.rows.collapseAll = function () {
            E.rowlist.forEach(function (e) {
              e.resource.expanded = !1;
            }),
              E.Od();
          }),
          (this.rows.headerHide = function () {
            (E.gt = !0), E.ht(), E.ls(), E.Qm();
          }),
          (this.rows.headerShow = function () {
            (E.gt = !1), E.ht(), E.ls(), E.Qm();
          }),
          (this.rows.headerToggle = function () {
            E.gt ? E.rows.headerShow() : E.rows.headerHide();
          }),
          (this.rows.edit = function (e, t) {
            var n = E.rowHeaderColumns,
              i = n && n.length - 1;
            if ("undefined" != typeof t && (t < 0 || t > i))
              throw new DayPilot.Exception("Invalid column index: " + t);
            M.so(e.$.row, t);
          }),
          (this.rows.remove = function (e) {
            if ("number" == typeof e || "string" == typeof e) {
              var t = E.rows.find(e);
              if (!t)
                throw new DayPilot.Exception(
                  "The row to be removed was not found"
                );
              return void E.rows.remove(t);
            }
            var n = e.$.row.resource,
              i = O.it(n);
            if (!i)
              throw new DayPilot.Exception("Cannot find source node parent");
            var a = k(i, n);
            i.splice(a, 1), E.update();
          }),
          (this.rows.add = function (e) {
            E.resources.push(e), E.Od();
          }),
          (this.rows.addChild = function (e, t) {
            ("number" != typeof e && "string" != typeof e) ||
              (e = E.rows.find(e)),
              e &&
                (e instanceof DayPilot.Row ||
                  ((t = e), (e = E.rows.find(t.id)))) &&
                (e.data.children || (e.data.children = []),
                e.data.children.push(t),
                E.Od());
          }),
          (this.rows.update = function (e) {
            if (!(e instanceof DayPilot.Row || "object" == typeof e))
              throw new DayPilot.Exception(
                "DayPilot.Scheduler.rows.update() expects a DayPilot.Row object or a data object."
              );
            if (!(e instanceof DayPilot.Row)) {
              var t = e;
              if (((e = E.rows.find(t.id)), !e)) return;
              e.jt(t);
            }
            !y(E.events.Sp.rows).isEmpty() &&
              ((B.Rp = !0), E.events.bo({ dontResetFocus: !0 })),
              (B.Rp = !1);
            var n = E.rows.selection.isSelected(e),
              i = e,
              a = i.splitChildren(),
              r = a.length > 0,
              o = i.$.row.split.parent,
              l = e.index,
              s = E.Uo(e.grid).rowlist;
            r && ((s = E.Uo(e.grid).rowlistparents), (l = s.indexOf(e.$.row)));
            var d = s[l],
              c = e.data,
              u = e.parent() ? e.parent().$.row : null,
              h = E.kt(c),
              f = E.lt(h, u);
            if (
              ((f.mt = new Date().getTime()),
              (f.hidden = d.hidden),
              (f.level = d.level),
              (f.children = d.children),
              (f.index = l),
              (f.top = d.top),
              (f.height = d.height),
              (f.grid = d.grid),
              (f.split = d.split),
              (s[l] = f),
              r)
            ) {
              a.forEach(function (e) {
                (e.$.row.split.parent = f), E.rows.update(e);
              });
              var v = typeof f.id + "_" + f.id,
                p = j.Ts[v];
              return void (p[p.indexOf(d)] = f);
            }
            if (o) {
              var m = o.split.list,
                g = m.indexOf(d);
              g > -1 && m.splice(g, 1, f);
            }
            n && (DayPilot.rfa(M.gj, i.$.row), M.gj.push(f)),
              f.Ps(),
              E.Zm(f.index, f.grid),
              E.Rl(),
              E.nt(f),
              E.$p(f),
              E.wn(),
              E.ot(),
              E.xn([f]),
              E.Bb(),
              B.Tn(),
              (E.pt = !0),
              (E.qt = setTimeout(function () {
                E.pt = !1;
              }, 500));
          }),
          (this.nt = function (e) {
            for (
              var t = E.events.list,
                n = t.length,
                i = "function" == typeof E.onBeforeEventRender,
                a = 0;
              a < n;
              a++
            ) {
              var r = t[a];
              if (r) {
                if (r instanceof DayPilot.Event)
                  throw new DayPilot.Exception(
                    "DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead."
                  );
                if ("Days" === E.viewType)
                  throw new DayPilot.Exception(
                    ".rows.update() not supported for viewType = 'Days'."
                  );
                if ("Gantt" === E.viewType)
                  throw new DayPilot.Exception(
                    ".rows.update() not supported for viewType = 'Gantt'."
                  );
                if ("*" === r.resource || "*" === e.id || r.resource === e.id) {
                  i && this.Kg(a);
                  var o = this.Up(r, e, a);
                  o && (i && (o.cache = this.va.events[a]), (o.Vp = a));
                }
              }
            }
          }),
          (this.rt = function () {
            var e = _.position,
              t = _.source,
              i = _.target,
              a = _.sourceCalendar;
            if ((M.st(), "forbidden" !== e)) {
              var r = n.tt.element;
              if ((r && r.remove(), E.Kb())) {
                var o = {},
                  l = E.lo(t);
                if (
                  ((l.calendar = a),
                  (o.source = l),
                  (o.target = E.lo(i)),
                  (o.position = e),
                  (o.external = !!n.tt),
                  (o.keepSource = function () {
                    this.keepSource.value = !0;
                  }),
                  (o.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof E.onRowMove &&
                    (E.onRowMove(o), o.preventDefault.value))
                )
                  return;
                switch (E.rowMoveHandling) {
                  case "Update":
                    M.ut(o);
                    break;
                  case "CallBack":
                    E.rowMoveCallBack(o.source, o.target, o.position);
                    break;
                  case "PostBack":
                    E.rowMovePostBack(o.source, o.target, o.position);
                    break;
                  case "Notify":
                    M.ut(o), E.rowMoveNotify(o.source, o.target, o.position);
                }
                o.keepSource.value || (a && E !== a && a.rows.remove(l)),
                  "function" == typeof E.onRowMoved && E.onRowMoved(o);
              } else {
                var l = E.lo(t),
                  s = E.lo(i);
                switch (E.rowMoveHandling) {
                  case "CallBack":
                    E.rowMoveCallBack(l, s, e);
                    break;
                  case "PostBack":
                    E.rowMovePostBack(l, s, e);
                    break;
                  case "JavaScript":
                    E.onRowMove(l, s, e);
                }
              }
            }
          }),
          (this.gm = function (e) {
            var t = y(e);
            (M.gj = []),
              t.isEmpty() || ((E.ol = !1), E.sb()),
              t.forEach(function (e) {
                E._r(e).forEach(function (e) {
                  M.gj.push(e);
                });
              }),
              (z.va = []),
              M.gj.forEach(function (e) {
                z.va[e.grid + "_" + e.index] = !0;
              }),
              M.vt();
          }),
          (M.so = function (e, t) {
            M.wt(e, t);
          }),
          (M.xt = function () {
            M.$s = { row: E.rowlist[0], index: 0 };
          }),
          (M.yt = function (e) {
            var t = k(E.rowlist, e);
            if (t === -1)
              throw new DayPilot.Exception(
                "DayPilot.Scheduler: Row not found when selecting a range"
              );
            M.$s = { row: e, index: t };
          }),
          (M._s = function () {
            M.$s || M.xt();
            var e = k(E.rowlist, M.$s.row);
            if (!(e > -1)) {
              var t = E.sm(M.$s.row.id);
              t
                ? ((e = k(E.rowlist, t)), (M.$s = { row: t, index: e }))
                : M.xt();
            }
          }),
          (M.zt = function (e) {
            var t = E.ds(),
              n = E.ca("_rowmove_source"),
              i = e.top,
              a = e.height;
            e.split.list.length > 0 &&
              ((i = e.split.list[0].top), (a = e.split.totalHeight()));
            var r = c(E.divHeader, 0, i, t, a);
            (r.className = n), (e.moveOverlay = r);
          }),
          (M.At = function (e) {
            e && (x(e.moveOverlay), (e.moveOverlay = null));
          }),
          (M.Bt = function () {
            var e = M.Ct;
            if (e) {
              M.Ct = null;
              try {
                e.input.parentNode.removeChild(e.input);
              } catch (e) {
                i();
              }
              e.input = null;
            }
          }),
          (M.wt = function (e, t) {
            (t = t || 0), e.isNewRow && (t = 0);
            var n = M.Dt(e),
              i = n.cells[t];
            if (i.input) return i.input;
            M.Bt(), DayPilot.Areas.disable(i.firstChild);
            var a = i.clientWidth;
            e.isNewRow && (a = E.Im());
            var r = 0;
            0 === t && (r = e.level * E.treeIndent);
            var o = document.createElement("input");
            (o.style.position = "absolute"),
              (o.style.top = "0px"),
              (o.style.left = "0px"),
              (o.style.width = a + "px"),
              (o.style.height = e.height - 1 + "px"),
              (o.style.border = "0px none"),
              (o.style.overflow = "hidden"),
              (o.style.boxSizing = "border-box"),
              (o.style.resize = "none"),
              (o.style.paddingLeft = r + "px"),
              (o.style.outline = "none");
            var l = i.textDiv;
            (o.style.fontFamily =
              DayPilot.gs(l, "fontFamily") || DayPilot.gs(l, "font-family")),
              (o.style.fontSize =
                DayPilot.gs(l, "fontSize") || DayPilot.gs(l, "font-size"));
            var s = e.name;
            if (!e.isNewRow && E.rowHeaderColumns) {
              var d = e.resource,
                c = E.rowHeaderColumns[t] || {},
                u = c.display;
              (s = E.vs(d, u)), 0 !== t || u || (s = e.name);
            }
            (o.value = s || ""), i.firstChild.appendChild(o), (i.input = o);
            var h = M.Bt;
            return (
              o.focus(),
              (o.onblur = function () {
                o.onblur = null;
                var n = o.value;
                h(),
                  DayPilot.Areas.enable(i.firstChild),
                  E.oo(e, n, o.canceled, t);
              }),
              (o.onkeydown = function (e) {
                var t = e.keyCode;
                return (
                  27 === t && ((o.canceled = !0), h()),
                  13 !== t || (o.onblur(), !1)
                );
              }),
              o.setSelectionRange ? o.setSelectionRange(0, 9999) : o.select(),
              (M.Ct = i),
              o
            );
          }),
          (M.gj = []),
          (M.L = function (e, t, n, i) {
            var a = k(M.gj, e) !== -1;
            if (t || i) {
              if (a) return DayPilot.rfa(M.gj, e), z.ct(), void M.Yk(e);
            } else (a = !1), M.bt();
            a || M.gj.push(e), z.ct(), M.Yk(e);
          }),
          (M.at = function (e, t) {
            M.bt();
            for (
              var n = Math.min(e, t), i = Math.max(e, t), a = n;
              a <= i;
              a++
            ) {
              var r = E.rowlist[a];
              M.gj.push(r);
            }
            z.ct();
            for (var a = n; a <= i; a++) {
              var r = E.rowlist[a];
              M.Yk(r);
            }
          }),
          (M.vt = function () {
            for (var e = 0; e < M.gj.length; e++) {
              var t = M.gj[e];
              M.Yk(t);
            }
          }),
          (M.Yk = function (e) {
            var t = k(E.rowlist, e);
            if (t === -1) {
              var n = E.sm(e.id);
              if (!n) return;
              t = n.index;
            }
            E.ao(t, e.grid), E.bm(), E.Vo(t, e.grid), E.os(t, e.grid);
          }),
          (M.Ao = function () {
            var e = [];
            if (!M.gj) return e;
            for (var t = 0; t < M.gj.length; t++) {
              var n = M.gj[t],
                i = k(E.rowlist, n),
                a = E.lo(n, i);
              e.push(a.toJSON());
            }
            return e;
          }),
          (M.$s = null),
          (M.bt = function () {
            var e = M.gj;
            if (
              ((M.gj = []), (E.selectedRows = []), (z.va = []), e.length <= 5)
            )
              e.forEach(function (e) {
                M.Yk(e);
              });
            else {
              E.Zl(), E.bm();
              for (var t = 0; t < E.rowlist.length; t++)
                E.divHeader.rows[t] && E.Wn(t);
            }
          }),
          (M.Dt = function (e) {
            for (var t = E.divHeader, n = 0; n < t.rows.length; n++) {
              var i = t.rows[n];
              if (
                i &&
                i.cells[0] &&
                i.cells[0].row &&
                i.cells[0].row.resource === e.resource
              )
                return i;
            }
            return null;
          }),
          (M.ne = function (e) {
            var t = e.split.parent ? e.split.parent : e;
            (_.row = t),
              (_.sourceCalendar = E),
              (_.cursor = E.divResScroll.style.cursor),
              (E.divResScroll.style.cursor = "move"),
              n.tt || M.zt(t);
          }),
          (M.st = function (e) {
            e = e || {};
            var t = e.keepOverlay;
            (E.divResScroll.style.cursor = _.cursor),
              x(_.div),
              t || M.At(_.row),
              (_ = {});
          }),
          (M.Et = function (e) {
            var t = DayPilot.mo3(E.divHeader, e),
              i = E.Am(t.y, "main", !0),
              a = E.rowlist[i.i];
            if (a && !a.isNewRow) {
              a.split.parent && (a = a.split.parent);
              var r = E.rowMoveSameLevelOnly,
                l = t.y - i.top,
                s = i.bottom - i.top,
                d = s / 3,
                c = 2 * d,
                u = s / 2,
                h = "before",
                f = a.children && a.children.length > 0,
                v = f && a.expanded,
                p = (function () {
                  for (var e = i.i, t = a.level; e >= 0; ) {
                    var n = E.rowlist[e];
                    if ((e--, !(t <= n.level))) {
                      if (n === _.row) return !0;
                      if (0 === n.level) return !1;
                      t = n.level;
                    }
                  }
                  return !1;
                })(),
                m = a,
                g = E.treeEnabled,
                b = i.i === _.row.index && _.sourceCalendar === E;
              if (p || (b && !r)) h = "forbidden";
              else if (g)
                if (r) {
                  var y = _.row.level,
                    w = a.level;
                  if (w === y - 1) h = "child";
                  else if (y !== w)
                    if (y === w - 1) {
                      var k = a.Ft,
                        C = k.children.length - 1;
                      a.index === k.children[C]
                        ? ((m = k), (h = "after"))
                        : (h = "forbidden");
                    } else h = "forbidden";
                  else h = l < u ? "before" : f && v ? "before" : "after";
                } else
                  h =
                    f && v
                      ? l < u
                        ? "before"
                        : "child"
                      : l < d
                      ? "before"
                      : l < c
                      ? "child"
                      : "after";
              else h = f ? "before" : l < u ? "before" : "after";
              _.row.moveDisabled && (h = "forbidden"),
                (_.calendar = E),
                (_.source = _.row),
                (_.target = m),
                (_.position = h);
              if (
                (function () {
                  return (
                    !_.last ||
                    _.last.target !== _.target ||
                    _.last.position !== _.position
                  );
                })()
              ) {
                if ("function" == typeof E.onRowMoving) {
                  var T = {};
                  (T.source = E.lo(_.source)),
                    (T.target = E.lo(_.target)),
                    (T.position = h),
                    (T.external = !!n.tt),
                    E.onRowMoving(T),
                    (_.position = T.position);
                }
              } else _.last && (_.position = _.last.position);
              (_.last = {}),
                (_.last.target = _.target),
                (_.last.position = _.position),
                (function () {
                  _.div && x(_.div);
                  var e = i.top,
                    t = _.position,
                    n = E.rowlist[i.i],
                    a = n.level,
                    r = a * E.treeIndent;
                  switch (t) {
                    case "before":
                      e = i.top;
                      break;
                    case "child":
                      e = i.top + u;
                      break;
                    case "after":
                      e = i.bottom;
                      break;
                    case "forbidden":
                      e = i.top + u;
                  }
                  var l = E.ds() - r,
                    s = o();
                  (s.style.position = "absolute"),
                    (s.style.left = r + "px"),
                    (s.style.width = l + "px"),
                    (s.style.top = e + "px"),
                    (s.className = E.ca("_rowmove_position_" + t)),
                    (_.div = s),
                    E.divResScroll.appendChild(s);
                })();
            }
          }),
          (M.ut = function (e) {
            var t = e.source.$.row.resource,
              n = e.target.$.row.resource,
              i = e.position;
            if (t !== n && "forbidden" !== i) {
              if (e.source.calendar === e.target.calendar) {
                var a = e.source.calendar.Gl.it(t);
                if (!a)
                  throw new DayPilot.Exception(
                    "Cannot find source node parent"
                  );
                var r = k(a, t);
                a.splice(r, 1);
              }
              var o = O.it(n);
              if (!o)
                throw new DayPilot.Exception("Cannot find target node parent");
              var l = k(o, n);
              switch (i) {
                case "before":
                  o.splice(l, 0, t);
                  break;
                case "after":
                  o.splice(l + 1, 0, t);
                  break;
                case "child":
                  n.children || ((n.children = []), (n.expanded = !0)),
                    n.children.push(t);
              }
              E.update();
            }
          }),
          (O.it = function (e) {
            return O.Gt(E.resources, e);
          }),
          (O.Gt = function (e, t) {
            if (k(e, t) !== -1) return e;
            for (var n = 0; n < e.length; n++) {
              var i = e[n];
              if (i.children && i.children.length > 0) {
                var a = O.Gt(i.children, t);
                if (a) return a;
              }
            }
            return null;
          }),
          (this.Ql = function () {
            var e = this.resources,
              t = this.ja();
            t ||
              ("Gantt" === this.viewType
                ? (e = this.Ht())
                : "Days" === this.viewType && (e = this.It())),
              !t ||
                "Days" !== this.viewType ||
                (e && 0 !== e.length) ||
                (e = this.It());
            var n = {};
            if (((n.i = 0), null != e && !C(e)))
              throw new DayPilot.Exception(
                "DayPilot.Scheduler.resources expects an array object"
              );
            (e = e || []), (E.Jt = !1);
            var i = e.filter(function (e) {
              var t =
                "string" == typeof e.frozen ? e.frozen.toLowerCase() : null;
              return "top" !== t && "bottom" !== t;
            });
            (E.rowlist = y()),
              (E.rowlistparents = y()),
              this.Kt(i, n, 0, null, this.treeEnabled, !1, "main");
            var a = e.filter(function (e) {
              return (
                "string" == typeof e.frozen && "top" === e.frozen.toLowerCase()
              );
            });
            (E.pm.top.rowlist = y()),
              (E.pm.top.rowlistparents = y()),
              (E.pm.top.height = 0),
              this.Kt(a, { i: 0 }, 0, null, !1, !1, "top");
            var r = e.filter(function (e) {
              return (
                "string" == typeof e.frozen &&
                "bottom" === e.frozen.toLowerCase()
              );
            });
            (E.pm.bottom.rowlist = y()),
              (E.pm.bottom.rowlistparents = y()),
              (E.pm.bottom.height = 0),
              this.Kt(r, { i: 0 }, 0, null, !1, !1, "bottom"),
              "Disabled" !== E.rowCreateHandling && this.Lt();
          }),
          (this.Lt = function () {
            var e = {};
            (e.id = "NEW"),
              (e.isNewRow = !0),
              (e.html = ""),
              (e.index = E.rowlist.length),
              (e.loaded = !0),
              (e.start = E.Ub()),
              (e.children = []),
              (e.height = E.eventHeight),
              (e.marginBottom = 0),
              (e.marginTop = 0),
              (e.getHeight = function () {
                return E.rowCreateHeight
                  ? E.rowCreateHeight
                  : E.eventHeight + E.rowMarginBottom + E.rowMarginTop;
              }),
              (e.ge = function () {}),
              (e.Ps = function () {}),
              this.rowlist.push(e);
          }),
          (this.Rl = function (e) {
            function t(e, t) {
              if (((e.cells = []), !e.hidden || n)) {
                var i = e.split && e.split.parent;
                (E.rowHeaderColumns || [{}]).forEach(function (n, a) {
                  var r = {};
                  (r.row = n.split ? e : i || e),
                    (r.y = t),
                    (r.x = a),
                    (r.rowspan = 1);
                  var o = !n.split && i,
                    l = i && e.split.ws(),
                    s =
                      (n.split && !i,
                      i &&
                        i.split.list.filter(function (e) {
                          return !e.hidden;
                        }).length),
                    d = 0;
                  if (i) {
                    var c = i.split.list.find(function (e) {
                        return e.split.ws();
                      }),
                      u = i.split.list.indexOf(c);
                    u > 0 && (d = u);
                  }
                  o &&
                    ((r.Js = !0),
                    l
                      ? ((r.rowspan = s),
                        (r.totalHeight = function () {
                          return i.split.totalHeight();
                        }))
                      : (r.refCell = i.split.list[d].cells[a])),
                    e.cells.push(r);
                });
              }
            }
            e = e || {};
            var n = e.includeHidden;
            E.rowlist.forEach(function (e, n) {
              t(e, n);
            }),
              E.pm.top.rowlist.forEach(function (e, n) {
                t(e, n);
              }),
              E.pm.bottom.rowlist.forEach(function (e, n) {
                t(e, n);
              });
          }),
          (this.Ht = function () {
            var e = [];
            if (this.wl && this.resources)
              for (var t = 0; t < this.resources.length; t++)
                e.push(this.resources[t]);
            if (this.events.list) {
              for (var t = 0; t < this.events.list.length; t++) {
                var n = this.events.list[t],
                  i = {};
                (i.id = n.id),
                  (i.name = n.text),
                  (i.columns = n.columns),
                  e.push(i);
              }
              return e;
            }
          }),
          (this.It = function () {
            var e = [],
              t = E.Ub(),
              n = this.Ba.Xc(),
              i = E.resources || [],
              a = i.filter(function (e) {
                return (
                  "string" == typeof e.frozen &&
                  "top" === e.frozen.toLowerCase()
                );
              }),
              r = i.filter(function (e) {
                return (
                  "string" == typeof e.frozen &&
                  "bottom" === e.frozen.toLowerCase()
                );
              });
            e = e.concat(a).concat(r);
            for (var o = 0; o < this.days; o++) {
              var l = t.addDays(o);
              if (
                E.showNonBusiness ||
                E.businessWeekends ||
                (0 !== l.dayOfWeek() && 6 !== l.dayOfWeek())
              ) {
                var s = {};
                (s.name = l.toString(n.datePattern, n)),
                  (s.start = l),
                  e.push(s);
              }
            }
            return e;
          }),
          (this.Ub = function () {
            return this.itline && this.itline.length > 0
              ? this.itline[0].start
              : new DayPilot.Date(this.startDate);
          }),
          (this.je = function () {
            if (this.itline && this.itline.length > 0) {
              var e = E.itline[this.itline.length - 1].end;
              return "Days" !== E.viewType ? e : e.addDays(E.days - 1);
            }
            return new DayPilot.Date(E.startDate).addDays(E.days);
          }),
          (this.visibleStart = function () {
            return this.Ub();
          }),
          (this.visibleEnd = function () {
            return this.je();
          }),
          (this.lt = function (e, t) {
            var n = {};
            if (
              ((n.backColor = e.backColor),
              (n.fontColor = e.fontColor),
              (n.cssClass = e.cssClass),
              (n.expanded = e.expanded),
              (n.name = e.name),
              (n.html = E.La(e.name, e.html)),
              (n.emptyHeight =
                "undefined" != typeof e.emptyHeight
                  ? e.emptyHeight
                  : E.rowEmptyHeight),
              (n.eventHeight =
                "undefined" != typeof e.eventHeight
                  ? e.eventHeight
                  : E.Ba.Xo()),
              (n.minHeight =
                "undefined" != typeof e.minHeight
                  ? e.minHeight
                  : E.rowMinHeight),
              (n.marginBottom =
                "undefined" != typeof e.marginBottom
                  ? e.marginBottom
                  : E.rowMarginBottom),
              (n.marginTop =
                "undefined" != typeof e.marginTop
                  ? e.marginTop
                  : E.rowMarginTop),
              (n.eventStackingLineHeight =
                "undefined" != typeof e.eventStackingLineHeight
                  ? e.eventStackingLineHeight
                  : E.eventStackingLineHeight),
              (n.loaded = !e.dynamicChildren),
              (n.id = e.id || e.value),
              (n.id = h(e.id) ? e.value : e.id || e.value),
              (n.toolTip = e.toolTip),
              (n.children = []),
              (n.columns = []),
              (n.start = e.start ? new DayPilot.Date(e.start) : this.Ub()),
              (n.end = e.end),
              (n.isParent = e.isParent),
              (n.contextMenu = e.contextMenu
                ? DayPilot.Util.evalVariable(e.contextMenu)
                : this.contextMenuResource),
              (n.areas = e.areas),
              (n.moveDisabled = e.moveDisabled),
              (n.bubbleHtml = e.bubbleHtml),
              (n.cellsDisabled = e.cellsDisabled),
              (n.tags = e.tags),
              (n.task = e.task),
              (n.swimlane = e.swimlane),
              (n.hideEvents = e.hideEvents),
              (n.height = n.eventHeight),
              (n.level = 0),
              (n.resource = e.Mt),
              (n.lines = []),
              (n.blocks = []),
              (n.containers = []),
              (n.containerCache = {}),
              (n.isRow = !0),
              (n.split = {}),
              (n.split.list = []),
              (n.split.totalHeight = function () {
                var e = 0;
                return (
                  this.list.forEach(function (t) {
                    t.hidden || (e += t.height);
                  }),
                  e
                );
              }),
              (n.getHeight = function () {
                var e = 0,
                  t = Math.max(0, (n.resource && n.resource.maxLines) || 1e5);
                if (E.groupConcurrentEvents)
                  for (var i = 0; i < this.blocks.length; i++) {
                    var a = this.blocks[i];
                    e = Math.max(e, a.getHeight());
                  }
                else if (this.lines.length > 0) {
                  var r = Math.min(this.lines.length, t),
                    o = r - 1,
                    l = this.lines[o],
                    s = l.height || E.eventHeight,
                    d = l.top || 0;
                  e = d + s;
                }
                if (0 === e) {
                  if ("number" == typeof this.emptyHeight)
                    return this.emptyHeight;
                  e = this.eventHeight;
                }
                return e > this.minHeight ? e : this.minHeight;
              }),
              (n.pq = function () {
                var e = n.start.getTime() - E.Ub().getTime();
                return E.itline[E.itline.length - 1].end.addTime(e);
              }),
              (n.Ps = function () {
                var e = n;
                (e.events = y()),
                  (e.events.forRange = function (t, n) {
                    (t = new DayPilot.Date(t)),
                      (n = n ? new DayPilot.Date(n) : e.pq());
                    for (var i = y(), a = 0; a < e.events.length; a++) {
                      var r = e.events[a],
                        o = E.Fj(r.end());
                      l(r.start(), o, t, n) && i.push(r);
                    }
                    return i;
                  });
              }),
              (n.eq = function () {
                function e() {
                  for (var e = [], t = 0; t < i.events.length; t++) {
                    var n = i.events[t];
                    w(e, n.start().toString()) || e.push(n.start().toString()),
                      w(e, n.rawend().toString()) ||
                        e.push(n.rawend().toString());
                  }
                  return e.sort(), e;
                }
                function t() {
                  for (
                    var t = e(), n = [], a = { start: i.data.start }, r = 0;
                    r < t.length;
                    r++
                  )
                    (a.end = new DayPilot.Date(t[r])),
                      n.push(a),
                      (a = { start: new DayPilot.Date(t[r]) });
                  return (
                    (a.end = i.data.end),
                    n.push(a),
                    (n.forRange = function (e, t) {
                      for (var n = y(), i = 0; i < this.length; i++) {
                        var a = this[i];
                        l(e, t, a.start, a.end) && n.push(a);
                      }
                      return (
                        (n.maxSum = function (e) {
                          for (var t = 0, n = 0; n < this.length; n++) {
                            var i = this[n],
                              a = i.sum(e);
                            a > t && (t = a);
                          }
                          return t;
                        }),
                        n
                      );
                    }),
                    n
                  );
                }
                for (
                  var i = n, a = (i.sections = t()), r = 0;
                  r < a.length;
                  r++
                ) {
                  var o = a[r];
                  o.events = y();
                  for (var s = 0; s < i.events.length; s++) {
                    var d = i.events[s];
                    l(o.start, o.end, d.start(), d.rawend()) &&
                      o.events.push(d);
                  }
                  o.sum = function (e) {
                    for (var t = 0, n = 0; n < this.events.length; n++) {
                      var i = this.events[n],
                        a = 0;
                      "undefined" == typeof e
                        ? (a = 1)
                        : i.tag(e)
                        ? (a = i.tag(e))
                        : i.data[e] && (a = i.data[e]),
                        "number" == typeof a && (t += a);
                    }
                    return t;
                  };
                }
              }),
              (n.Nt = function () {
                var e = [];
                return (
                  (e.height = 0),
                  (e.add = function (t) {
                    this.push(t);
                    var n = t.part.Ys();
                    n > e.height && (e.height = n);
                  }),
                  (e.ie = function (e, t, n) {
                    for (
                      var i = e + t - 1, a = this.length, r = 0;
                      r < a;
                      r++
                    ) {
                      var o = this[r];
                      if (!o.data.nonBlocking) {
                        if (
                          !(
                            i < o.part.left ||
                            e > o.part.left + o.part.width - 1
                          )
                        ) {
                          if (w(n, o.data)) continue;
                          return !1;
                        }
                        if (
                          o.part.container &&
                          !(
                            i < o.part.container.left ||
                            e >
                              o.part.container.left + o.part.container.width - 1
                          )
                        )
                          return !1;
                        var l = o.cache || o.data;
                        if (
                          E.eventVersionsReserveSpace &&
                          !l.versionsReserveSpaceDisabled &&
                          !(
                            i < o.part.versionsLeft ||
                            e > o.part.versionsRight - 1
                          )
                        )
                          return !1;
                      }
                    }
                    return !0;
                  }),
                  e
                );
              }),
              (n.Ot = function (e, t, i, a) {
                if ("number" == typeof i || "number" == typeof a)
                  for (var r = "number" == typeof i ? i : a, o = 0; o <= r; o++)
                    this.lines[o] || (this.lines[o] = n.Nt());
                if ("number" == typeof i) return i;
                if ("dedicated" === i) {
                  var l = n.Nt();
                  return (
                    (l.ie = function () {
                      return !1;
                    }),
                    this.lines.push(l),
                    this.lines.length - 1
                  );
                }
                var s = 0;
                "number" == typeof a && (s = a);
                for (var o = s; o < this.lines.length; o++) {
                  if (this.lines[o].ie(e, t)) return o;
                }
                var d = n.Nt();
                return this.lines.push(d), this.lines.length - 1;
              }),
              (n.ge = function (e) {
                var t = e.data,
                  i = e.part,
                  a = e.part.container,
                  r = -1;
                if (a) {
                  if (
                    null === a.line &&
                    ("number" == typeof t.line || "dedicated" === t.line)
                  )
                    return (
                      (r = n.Ot(a.left, a.width, t.line)),
                      (i.line = r),
                      this.lines[r].add(e),
                      (a.line = r),
                      r
                    );
                } else if ("number" == typeof t.line || "dedicated" === t.line)
                  return (
                    (r = n.Ot(i.left, i.width, t.line)),
                    (i.line = r),
                    this.lines[r].add(e),
                    r
                  );
                var o = e.cache || e.data,
                  l =
                    E.eventVersionsReserveSpace &&
                    !o.versionsReserveSpaceDisabled;
                if (a) {
                  if (null !== a.line) return this.lines[a.line].add(e), a.line;
                  (r = n.Ot(a.left, a.width, null, t.minLine)), (a.line = r);
                } else
                  r = l
                    ? n.Ot(i.versionsLeft, i.versionsWidth, null, t.minLine)
                    : n.Ot(i.left, i.width, null, t.minLine);
                return (i.line = r), this.lines[r].add(e), r;
              }),
              (n.ee = function (e) {
                for (
                  var t = e.cache || e.data,
                    n =
                      E.eventVersionsReserveSpace &&
                      !t.versionsReserveSpaceDisabled,
                    i = 0;
                  i < this.blocks.length;
                  i++
                ) {
                  var a = this.blocks[i];
                  if (k(a.events, e) !== -1) return;
                  var r = n ? e.part.versionsLeft : e.part.left,
                    o = n ? e.part.versionsWidth : e.part.width;
                  if (a.fe(r, o))
                    return (
                      a.events.push(e),
                      (e.part.block = a),
                      (a.min = Math.min(a.min, r)),
                      (a.max = Math.max(a.max, r + o)),
                      i
                    );
                }
                var l = {};
                (l.hp = !0),
                  (l.expanded = !1),
                  (l.row = this),
                  (l.events = y()),
                  (l.lines = y()),
                  (l.ge = function (e) {
                    for (var t = 0; t < this.lines.length; t++) {
                      var i = this.lines[t],
                        a = n ? e.part.versionsLeft : e.part.left,
                        r = n ? e.part.versionsWidth : e.part.width;
                      if (i.ie(a, r)) return i.add(e), t;
                    }
                    var o = [];
                    (o.height = 0),
                      (o.add = function (e) {
                        this.push(e),
                          e.part.height > o.height &&
                            (o.height = e.part.height),
                          e.data.versions &&
                            (o.height =
                              e.part.height +
                              e.data.versions.length *
                                (E.eventVersionHeight + E.eventVersionMargin));
                      }),
                      (o.ie = function (e, t) {
                        for (
                          var i = e + t - 1, a = this.length, r = 0;
                          r < a;
                          r++
                        ) {
                          var o = this[r],
                            l = n ? o.part.versionsLeft : o.part.left,
                            s = n ? o.part.versionsWidth : o.part.width;
                          if (!(i < l || e > l + s - 1)) return !1;
                        }
                        return !0;
                      }),
                      o.add(e),
                      this.lines.push(o);
                  }),
                  (l.fe = function (e, t) {
                    return !(e + t - 1 < this.min || e > this.max - 1);
                  }),
                  (l.getHeight = function () {
                    if (!this.expanded) return E.eventHeight;
                    if (this.lines.length > 0) {
                      var e = this.lines.length - 1,
                        t = this.lines[e],
                        n = t.height || E.eventHeight;
                      return (t.top || 0) + n;
                    }
                    return E.eventHeight;
                  }),
                  (l.clear = function () {
                    (l.events = y()), (l.min = null), (l.max = null);
                  }),
                  l.events.push(e),
                  (e.part.block = l),
                  (l.min = n ? e.part.versionsLeft : e.part.left),
                  (l.max = l.min + (n ? e.part.versionsWidth : e.part.width)),
                  this.blocks.push(l);
              }),
              (n.Pt = !1),
              (n.Ft = t),
              (n._d = function () {
                (this.hidden = !this.Qt()),
                  (this.Pt = !1),
                  this.Ft && this.Ft._d();
              }),
              (n.Qt = function () {
                return !this.Ft || (this.Ft.Qt() && this.Ft.expanded);
              }),
              e.columns)
            )
              for (var i = 0; i < e.columns.length; i++)
                n.columns.push(e.columns[i]);
            return n;
          }),
          (this.Mn = function () {
            E.Ym().forEach(function (e) {
              if (
                !e.isNewRow &&
                "function" == typeof E.onRowFilter &&
                E.rows.eh
              ) {
                var t = e.Ft,
                  n = {};
                (n.visible = !0),
                  (n.row = E.lo(e)),
                  (n.filter = E.rows.eh),
                  (n.filterParam = E.rows.eh),
                  (n.control = E),
                  E.onRowFilter(n),
                  (e.Pt = !n.visible),
                  n.visible
                    ? E.rowFilterParentsAlwaysVisible && t && t._d()
                    : (e.hidden = !0);
              }
            });
          }),
          (this.Rt = function (e) {
            return !e.some(function (e) {
              return e.children && e.children.length;
            });
          }),
          (this.St = function (e) {
            return !e.some(function (e) {
              return !e.children || 0 === e.children.length;
            });
          }),
          (this.Uo = function (e) {
            return (e = e || "main"), E.pm[e];
          }),
          (this.Kt = function (e, t, n, i, a, r, o) {
            function l(e, a, l) {
              for (
                var s = function (s) {
                    !(function () {
                      var d = e.split[s],
                        c = E.kt(d, l),
                        u = E.lt(c, i);
                      (u.level = n),
                        (u.index = t.i),
                        (u.grid = o || "main"),
                        r && (u.hidden = !0),
                        (u.split = {}),
                        (u.split.parent = a),
                        (u.split.y = s),
                        (u.split.ws = function () {
                          var e = u.split.parent.split.list.find(function (e) {
                            return !e.hidden;
                          });
                          return !!e && u.split === e.split;
                        }),
                        (u.Ft = a),
                        a.split.list.push(u),
                        null !== i && i.children.push(t.i),
                        h.push(u),
                        t.i++,
                        (E.Jt = !0);
                    })();
                  },
                  d = 0;
                d < e.split.length;
                d++
              )
                s(d);
            }
            if (e) {
              var s = !1;
              if (E.rows.dt)
                switch (E.rowSortingMode) {
                  case "LeavesOnly":
                    s = E.Rt(e);
                    break;
                  case "ParentsOnly":
                    s = E.St(e);
                    break;
                  case "All":
                    s = !0;
                }
              if (s) {
                var d = E.rows.ft(),
                  c = "desc" === E.rows.et(),
                  u = y(e, !0);
                u.sort(function (e, t) {
                  var n = E.vs(e, d),
                    i = E.vs(t, d),
                    a = 0;
                  return (
                    (a =
                      n === i
                        ? 0
                        : "number" == typeof n && "number" == typeof i
                        ? n - i
                        : E.ih(n, i, "asc")),
                    c ? -a : a
                  );
                }),
                  (e = u);
              }
              for (var h = E.Uo(o).rowlist, f = 0; f < e.length; f++)
                if (e[f]) {
                  var v = {};
                  if (
                    ((v.level = n),
                    (v.hidden = r),
                    (v.index = t.i),
                    !e[f].hidden)
                  ) {
                    var p = this.kt(e[f], v),
                      m = E.lt(p, i);
                    r && (m.hidden = !0),
                      (m.level = n),
                      (m.index = t.i),
                      (m.grid = o || "main");
                    var g = !p.children || 0 === p.children.length,
                      b = g && p.split;
                    if (
                      (b
                        ? (l(p, m, v), E.Uo(o).rowlistparents.push(m))
                        : (null !== i && i.children.push(t.i),
                          h.push(m),
                          t.i++),
                      a && p.children && p.children.length)
                    ) {
                      var w = r || !m.expanded;
                      this.Kt(p.children, t, n + 1, m, !0, w, o);
                    }
                  }
                }
            }
          }),
          (this.Is = [
            "text",
            "html",
            "backColor",
            "cssClass",
            "areas",
            "horizontalAlignment",
            "hidden",
          ]),
          (this.yr = function (e) {
            if (e.isNewRow)
              return {
                row: {
                  cssClass: E.ca("_row_new"),
                  moveDisabled: !0,
                  html: E.La(E.rowCreateText, E.rowCreateHtml),
                },
              };
            var t = {};
            (t.row = this.lo(e)),
              f(e, t.row, [
                "html",
                "backColor",
                "fontColor",
                "cssClass",
                "toolTip",
                "contextMenu",
                "moveDisabled",
              ]),
              (t.row.areas = DayPilot.Util.createArrayCopy(e.areas)),
              (t.row.columns = DayPilot.Util.createArrayCopy(e.columns, E.Is)),
              e.split &&
                C(E.rowHeaderColumns) &&
                E.rowHeaderColumns.forEach(function (n, i) {
                  !e.split.parent && 0 === e.split.list.length && n.split
                    ? (t.row.columns[i].text = "")
                    : !e.split.parent && n.split
                    ? (t.row.columns[i] = null)
                    : e.split.parent && !n.split && (t.row.columns[i] = null);
                });
            var n = E.rowHeaderColumns;
            if ("undefined" == typeof t.row.columns && n.length > 0) {
              t.row.columns = [];
              for (var i = 0; i < n.length; i++) t.row.columns.push({});
            }
            return (
              t.row.children().length > 0 &&
                E.rowHeaderColumnsMergeParents &&
                E.rowHeaderColumns &&
                E.rowHeaderColumns.forEach(function (e, n) {
                  n > 0 && delete t.row.columns[n];
                }),
              "function" == typeof this.onBeforeRowHeaderRender &&
                this.onBeforeRowHeaderRender(t),
              t
            );
          }),
          (this.kt = function (e, t) {
            var n = this.Tt(e, t);
            if ("function" == typeof this.onBeforeResHeaderRender) {
              var i = {};
              (i.resource = n), this.onBeforeResHeaderRender(i);
            }
            return n;
          }),
          (this.Tt = function (e, t) {
            var n = {
              get $data() {
                return this.Mt;
              },
            };
            for (var i in t) n[i] = t[i];
            for (var a in e) n[a] = e[a];
            if (
              ((n.html = E.La(e.name, e.html)),
              E.rowHeaderColumns &&
                E.rowHeaderColumns.length > 0 &&
                "undefined" == typeof n.columns)
            ) {
              n.columns = [];
              var r = E.rowHeaderColumns;
              if (E.Un()) {
                for (var o = 0; o < r.length; o++) {
                  var l = r[o],
                    s = E.vs(e, l.display);
                  n.columns.push({ text: s });
                }
                n.columns[0] &&
                  r[0] &&
                  !r[0].display &&
                  (n.columns[0].text = n.name);
              } else for (var o = 0; o < r.length; o++) n.columns.push({});
            }
            return (n.Mt = e), n;
          }),
          (this.In = function () {
            (this.nav.top.dp = this),
              (this.nav.top.innerHTML = ""),
              d(this.nav.top, this.ca("_main")),
              this.nav.top.setAttribute("role", "region"),
              this.nav.top.setAttribute("aria-label", "scheduler"),
              (this.nav.top.style.userSelect = "none"),
              (this.nav.top.style.webkitUserSelect = "none"),
              (this.nav.top.style.WebkitTapHighlightColor = "rgba(0,0,0,0)"),
              (this.nav.top.style.WebkitTouchCallout = "none"),
              this.width && (this.nav.top.style.width = this.width),
              "Parent100Pct" === this.heightSpec &&
                (this.nav.top.style.height = "100%"),
              (this.nav.top.style.lineHeight = "1.2"),
              (this.nav.top.style.position = "relative"),
              this.visible || (this.nav.top.style.display = "none"),
              (this.nav.top.onmousemove = this.Kk),
              (this.nav.top.onmouseleave = function () {
                if ((E.Eq(), n.tt)) {
                  var e = { keepOverlay: !!n.tt.Ut };
                  M.st(e);
                }
              }),
              DayPilot.reNonPassive(this.nav.top, "touchstart", R.mf),
              DayPilot.reNonPassive(this.nav.top, "touchmove", R.nf),
              DayPilot.reNonPassive(this.nav.top, "touchend", R.of),
              this.hideUntilInit &&
                this.backendUrl &&
                (this.nav.top.style.visibility = "hidden");
            var e = this.Im(),
              t = "Top" === E.timeHeaderPosition;
            if (((E.Hn = E.timeHeaderPosition), "DivBased" === this.Ba.Vt())) {
              var i = o();
              (i.style.position = "absolute"),
                (i.style.left = "0px"),
                (i.style.width = e + "px");
              var a = o();
              (a.style.height = "0px"),
                (a.style.boxSizing = "content-box"),
                (a.style.borderTop = "1px solid transparent"),
                (a.className = this.ca("_divider_horizontal")),
                (this.nav.dh1 = a),
                (this.nav.left = i),
                "Top" === E.timeHeaderPosition
                  ? (i.appendChild(this.Gf()),
                    i.appendChild(a),
                    i.appendChild(this.Wt()),
                    i.appendChild(this.Xt()),
                    i.appendChild(this.Yt()))
                  : "Bottom" === E.timeHeaderPosition
                  ? (i.appendChild(this.Wt()),
                    i.appendChild(a),
                    i.appendChild(this.Gf()))
                  : i.appendChild(this.Wt());
              var r = o();
              (r.style.position = "absolute"),
                (r.style.left = e + "px"),
                (r.style.width = H.Jm() + "px"),
                (r.style.height = this.Km() + this.df() + "px"),
                (r.className =
                  this.ca("_divider") + " " + this.ca("_splitter")),
                (this.nav.divider = r),
                this.rowHeaderScrolling && this.Zt();
              var l = o();
              (l.style.marginLeft = e + H.Jm() + "px"),
                (l.style.position = "relative"),
                (this.nav.right = l);
              var s = o();
              t &&
                ((s.style.position = "absolute"),
                (s.style.top = this.Km() + "px")),
                (s.style.width = "100%"),
                (s.style.height = "1px"),
                (s.style.boxSizing = "border-box"),
                (s.style.borderBottom = "1px solid transparent"),
                s.setAttribute("data-dh2", "true"),
                (s.className = this.ca("_divider_horizontal")),
                (this.nav.dh2 = s),
                "Top" === E.timeHeaderPosition
                  ? (l.appendChild(E.$t()),
                    l.appendChild(E._t()),
                    l.appendChild(s),
                    l.appendChild(E.au()),
                    l.appendChild(E.bu()))
                  : "Bottom" === E.timeHeaderPosition
                  ? (l.appendChild(E._t()),
                    l.appendChild(s),
                    l.appendChild(E.$t()))
                  : l.appendChild(E._t());
              var c = o();
              c.style.clear = "left";
              var u = o();
              (u.style.height = "1px"),
                (u.style.position = "absolute"),
                (u.style.left = "0px"),
                (u.style.right = "0px"),
                (u.style.display = "none"),
                (u.className =
                  this.ca("_divider_horizontal") +
                  " " +
                  this.ca("_divider_horizontal_frozen_top")),
                (u.onmousemove = function (e) {
                  e.cancelBubble = !0;
                }),
                (this.nav.dividerTop = u);
              var h = o();
              (h.style.height = "1px"),
                (h.style.position = "absolute"),
                (h.style.left = "0px"),
                (h.style.right = "0px"),
                (h.style.display = "none"),
                (h.className =
                  this.ca("_divider_horizontal") +
                  " " +
                  this.ca("_divider_horizontal_frozen_bottom")),
                (h.onmousemove = function (e) {
                  e.cancelBubble = !0;
                }),
                (this.nav.dividerBottom = h),
                this.nav.top.appendChild(i),
                this.nav.top.appendChild(r),
                this.nav.top.appendChild(l),
                this.nav.top.appendChild(c),
                this.nav.top.appendChild(u),
                this.nav.top.appendChild(h);
            } else {
              var f = document.createElement("table");
              (f.cellPadding = 0),
                (f.cellSpacing = 0),
                (f.border = 0),
                (f.style.position = "absolute");
              var v = f.insertRow(-1);
              v.insertCell(-1).appendChild(this.Gf()),
                v.insertCell(-1).appendChild(this.$t());
              var p = f.insertRow(-1);
              p.insertCell(-1).appendChild(this.Wt()),
                p.insertCell(-1).appendChild(this._t()),
                this.nav.top.appendChild(f);
            }
            if (
              ((this.zj = o()),
              (this.zj.style.display = "none"),
              this.nav.top.appendChild(this.zj),
              this.Ua())
            ) {
              var m = document.createElement("input");
              (m.type = "hidden"),
                (m.id = this.id + "_state"),
                (m.name = this.id + "_state"),
                (this.nav.state = m),
                this.nav.top.appendChild(m);
            }
            var g = o();
            (g.style.position = "absolute"),
              (g.style.left = this.Im() + H.Jm() + 5 + "px"),
              (g.style.top = this.Km() + 5 + "px"),
              (g.style.display = "none"),
              (g.innerHTML = E.La(
                this.loadingLabelText,
                this.loadingLabelHtml
              )),
              d(g, this.ca("_loading")),
              (this.nav.loading = g),
              this.nav.top.appendChild(g);
            var b = o();
            (b.style.position = "absolute"),
              (b.style.display = "none"),
              (this.nav.dummy = b),
              this.nav.top.appendChild(b),
              this.cu(),
              E.du();
          }),
          (this.Kk = function (e) {
            if (n.tt && !_.row) {
              var t = n.tt;
              if (t.Ut)
                M.ne(t.Ut.row),
                  (_.calendar = E),
                  (_.sourceCalendar = t.Ut.sourceCalendar);
              else {
                var i = t.options.data;
                if ("function" == typeof E.onExternalRowEnter) {
                  var a = {};
                  (a.data = i), E.onExternalRowEnter(a), (i = a.data);
                }
                var r = E.kt(i),
                  o = E.lt(r);
                M.ne(o), (_.calendar = E), (_.sourceCalendar = null);
              }
            }
            if (_.row) M.Et(e);
            else if (n.rs) {
              var l = DayPilot.mo3(E.nav.top, e).x,
                s = E.ds(),
                d = E.rowHeaderWidthMin,
                c = l - 1;
              E.rowHeaderCols && (c = Math.min(s, l - 1)),
                (c = Math.max(d, c)),
                (E.rowHeaderWidth = c),
                (E.gt = !1),
                E.rowHeaderCols || E.eu(),
                E.ht(),
                E.hm(),
                E.hb();
            }
          }),
          (this.ub = function () {
            var e = this.Km(),
              t = "Top" === E.timeHeaderPosition;
            this.nav.corner && (this.nav.corner.style.height = e + "px"),
              this.divTimeScroll &&
                (this.divTimeScroll.style.height = e + "px"),
              this.divNorth && (this.divNorth.style.height = e + "px"),
              this.nav.dh1 &&
                this.nav.dh2 &&
                t &&
                ((this.nav.dh1.style.top = e + "px"),
                (this.nav.dh2.style.top = e + "px")),
              (this.nav.loading.style.top = e + 5 + "px"),
              t && (this.nav.scroll.style.top = e + 1 + "px");
          }),
          (this.Im = function () {
            if (this.gt) return 0;
            var e = 0,
              t = this.rowHeaderScrolling,
              n = this.ds();
            return (e = t && this.rowHeaderWidth < n ? this.rowHeaderWidth : n);
          }),
          (this.Zt = function () {
            var e = this.nav.divider;
            E.rowHeaderScrolling
              ? ((e.style.cursor = "col-resize"),
                (e.onmousedown = function () {
                  var e = (n.rs = {});
                  return (
                    (e.cursor = E.nav.top.style.cursor),
                    (e.cleanup = function () {
                      if (
                        (E.ls(),
                        (E.nav.top.style.cursor = e.cursor),
                        "function" == typeof E.onRowHeaderResized)
                      ) {
                        var t = {};
                        E.onRowHeaderResized(t);
                      }
                    }),
                    (E.nav.top.style.cursor = "col-resize"),
                    !1
                  );
                }))
              : ((e.style.cursor = null), (e.onmousedown = null));
          }),
          (this.ht = function () {
            var e = H.Jm(),
              t = this.Im();
            if (
              (this.nav.corner && (this.nav.corner.style.width = t + "px"),
              this.nav.corner && (this.divCorner.style.width = t + "px"),
              (this.divResScroll.style.width = t + "px"),
              "DivBased" === H.Vt() &&
                ((this.nav.left.style.width = t + "px"),
                (this.nav.divider.style.left = t - e + "px"),
                (this.nav.right.style.marginLeft = t + "px")),
              this.nav.message && (this.nav.message.style.left = E.Hm() + "px"),
              this.nav.loading &&
                (this.nav.loading.style.left = t + e + 5 + "px"),
              this.nav.hideIcon)
            ) {
              var n = this.nav.hideIcon,
                i = E.ca("_header_icon_show"),
                a = E.ca("_header_icon_hide");
              (n.style.left = t - 1 + "px"),
                E.gt ? (s(n, a), d(n, i)) : (s(n, i), d(n, a));
            }
          }),
          (this.eu = function () {
            this.cs();
            var e = this.ds(),
              t = function (e, t, n) {
                if (e && e.style) {
                  var i = e.firstChild;
                  E.ns
                    ? ((e.style.width = t + "px"),
                      (i.style.width = t + "px"),
                      "number" == typeof n && (e.style.left = n + "px"))
                    : (i.style.width = t + "px");
                }
              },
              n = function (n) {
                var i = n.cells[0];
                if (i && (i.colSpan > 1 || "max" === i.colSpan)) t(i, e);
                else if (E.rowHeaderCols)
                  for (var a = 0, r = 0; r < n.cells.length; r++) {
                    var o = E.rowHeaderCols[r],
                      l = n.cells[r];
                    t(l, o, a), (a += o);
                  }
                else {
                  var o = E.rowHeaderWidth,
                    s = n.cells[0];
                  t(s, o);
                }
              },
              i = this.divHeader;
            i.style.width = e + "px";
            for (var a = E.es(), r = a.start; r < a.end; r++) {
              var o = i.rows[r];
              o && n(o);
            }
            if (E.pm.top.enabled())
              for (var r = 0; r < E.pm.top.rowlist.length; r++) {
                var o = E.pm.top.divHeader.rows[r];
                o && n(o);
              }
            if (E.pm.bottom.enabled())
              for (var r = 0; r < E.pm.bottom.rowlist.length; r++) {
                var o = E.pm.bottom.divHeader.rows[r];
                o && n(o);
              }
            if (
              (E.nav.resScrollSpace &&
                (E.nav.resScrollSpace.style.width = e + "px"),
              E.pm.bottom.enabled())
            ) {
              E.pm.bottom.divSpace.style.width = e + "px";
            }
            this.hb();
          }),
          (this.En = function () {
            this.ht(), this.eu();
          }),
          (this.Dn = function () {
            var e = E.nav.corner,
              t = H.vr(),
              n = H.mg();
            "number" == typeof E.rowHeaderColumnHeaderHeight &&
              (n = E.rowHeaderColumnHeaderHeight);
            var i = o();
            (i.style.position = "absolute"),
              (i.style.bottom = "0px"),
              (i.style.left = "0px"),
              (i.style.width = "100%"),
              (i.style.height = n + "px"),
              (i.style.overflow = "hidden"),
              (E.nav.columnScroll = i);
            var a = o();
            (a.style.position = "absolute"),
              (a.style.bottom = "0px"),
              (a.style.left = "0px"),
              (a.style.width = "5000px"),
              (a.style.height = n + "px"),
              (a.style.overflow = "hidden"),
              (a.className = this.ca("_columnheader")),
              i.appendChild(a);
            var r = o();
            (r.style.position = "absolute"),
              (r.style.top = "0px"),
              (r.style.bottom = "0px"),
              (r.style.left = "0px"),
              (r.style.right = "0px"),
              (r.className = this.ca("_columnheader_inner")),
              a.appendChild(r),
              E.Qo && (E.Qo.dispose(), (E.Qo = null));
            var l = [];
            t.forEach(function (e) {
              var t = {};
              (t.column = {}),
                (t.column.html = E.La(e.text || e.name || e.title, e.html)),
                (t.column.areas = null),
                (t.column.toolTip = e.toolTip),
                (t.column.sortingEnabled = !!e.sort),
                (t.column.data = e),
                (t.column.cssClass = null),
                (t.column.bubbleHtml = e.bubbleHtml),
                l.push(t),
                "function" == typeof E.onBeforeRowHeaderColumnRender &&
                  E.onBeforeRowHeaderColumnRender(t);
            });
            var s = new DayPilot.Splitter(r);
            (s.calendar = E),
              (s.bubble = E.rowHeaderColumnBubble),
              (s.enabled = E.rowHeaderColumnsResizable),
              (s.nonresizable = DayPilot.Util.propArray(t, "nonresizable", !1)),
              (s.widths = DayPilot.Util.propArray(
                t,
                "width",
                E.rowHeaderColumnDefaultWidth
              )),
              (s.height = n),
              (s.css.title = this.ca("_columnheader_cell")),
              (s.css.titleInner = this.ca("_columnheader_cell_inner")),
              (s.css.splitter = this.ca("_columnheader_splitter")),
              E.rowHeaderScrolling && (s.splitterWidthLast = 6);
            var d = E.rows.ft(),
              c = E.rows.et();
            (s.titles = y(l).map(function (e) {
              var t = e.column.data,
                n = e.column.html,
                i = e.column.cssClass,
                a = e.column.toolTip,
                r = {};
              if (((r.areas = []), t.sort && e.column.sortingEnabled)) {
                var o = E.ca("_sorticon");
                d === t.sort
                  ? ((o += " " + E.ca("_sorticon_active")),
                    (o +=
                      "asc" === c
                        ? " " + E.ca("_sorticon_asc")
                        : " " + E.ca("_sorticon_desc")))
                  : (o += " " + E.ca("_sorticon_asc")),
                  (r.areas = [
                    {
                      right: 5,
                      top: 0,
                      bottom: 0,
                      width: 10,
                      cssClass: o,
                      onClick: function () {
                        var e = {};
                        (e.field = t.sort),
                          d === t.sort
                            ? (e.order = "asc" === E.rows.et() ? "desc" : "asc")
                            : (e.order = "asc"),
                          E.rows.sort(e);
                      },
                    },
                  ]);
              }
              return (
                C(e.column.areas) && (r.areas = r.areas.concat(e.column.areas)),
                (r.cssClass = i),
                (r.html = n),
                (r.toolTip = a),
                (r.bubbleHtml = e.column.bubbleHtml),
                (r.data = e.column.data),
                r
              );
            })),
              (s.data = y(t, !0)),
              (s.started = function () {
                var e = s.totalWidth() === E.rowHeaderWidth;
                s.fu = e;
              }),
              (s.updating = function () {
                (E.lm.skip = !0),
                  DayPilot.Util.updatePropsFromArray(
                    H.vr(),
                    "width",
                    this.widths
                  ),
                  s.fu &&
                    E.rowHeaderScrolling &&
                    (E.rowHeaderWidth = s.totalWidth()),
                  E.En();
              }),
              (s.updated = function (e) {
                if ((E.ls(), E.Kb())) {
                  if ("function" == typeof E.onRowHeaderColumnResized) {
                    var t = {};
                    (t.column = H.vr()[e.index]), E.onRowHeaderColumnResized(t);
                  }
                } else
                  switch (E.rowHeaderColumnResizedHandling) {
                    case "CallBack":
                      break;
                    case "PostBack":
                      break;
                    case "JavaScript":
                      if ("function" == typeof E.onRowHeaderColumnResized) {
                        var t = {};
                        (t.column = H.vr()[e.index]),
                          E.onRowHeaderColumnResized(t);
                      }
                  }
              }),
              (s.color = "#000000"),
              (s.opacity = 30),
              s.init(),
              e.appendChild(i),
              (this.Qo = s);
          }),
          (this.Vl = function () {
            var e = this.nav.corner;
            if (e) {
              var t = H.mg();
              "number" == typeof E.rowHeaderColumnHeaderHeight &&
                (t = E.rowHeaderColumnHeaderHeight),
                E.ab(),
                (e.innerHTML = ""),
                (e.className = this.ca("_corner"));
              var n = o();
              if (
                ((n.style.position = "absolute"),
                (n.style.top = "0px"),
                (n.style.left = "0px"),
                (n.style.right = "0px"),
                (n.style.bottom = "0px"),
                (n.className = this.ca("_corner_inner")),
                (this.divCorner = n),
                (n.innerHTML = "&nbsp;"),
                this.rowHeaderColumns && this.rowHeaderColumns.length > 0)
              ) {
                var i = o();
                (i.style.position = "absolute"),
                  (i.style.top = "0px"),
                  (i.style.left = "0px"),
                  (i.style.right = "0px"),
                  (i.style.bottom = t + 1 + "px"),
                  e.appendChild(i);
                var a = o();
                (a.style.position = "absolute"),
                  (a.style.left = "0px"),
                  (a.style.right = "0px"),
                  (a.style.height = "1px"),
                  (a.style.bottom = t + "px"),
                  (a.className = this.ca("_divider")),
                  e.appendChild(a),
                  i.appendChild(n),
                  this.Dn();
              } else e.appendChild(n);
              !(function () {
                var e = {};
                (e.control = E),
                  (e.backColor = null),
                  (e.html = E.cornerHtml),
                  (e.text = E.cornerText),
                  (e.verticalAlignment = null),
                  (e.horizontalAlignment = null),
                  (e.areas = null);
                var t = null;
                if (
                  ("function" == typeof E.onBeforeCornerRender &&
                    E.onBeforeCornerRender(e),
                  "function" == typeof E.onBeforeCornerDomAdd &&
                    ((e.element = null),
                    E.onBeforeCornerDomAdd(e),
                    (t = e.element)),
                  t)
                ) {
                  var n = E.divCorner;
                  n.domArgs = e;
                  if (v(t)) {
                    if (!E.W.reactDOM)
                      throw new DayPilot.Exception("Can't reach ReactDOM");
                    E.W.V(t, n);
                  } else n.appendChild(t);
                } else {
                  var i = E.divCorner;
                  if (i) {
                    var a = E.La(e.text, e.html),
                      r = e.horizontalAlignment,
                      o = e.verticalAlignment;
                    if (
                      ((i.innerHTML = a || ""),
                      e.backColor && (i.style.background = e.backColor),
                      r || o)
                    ) {
                      switch (((i.style.display = "flex"), r)) {
                        case "right":
                          i.style.justifyContent = "flex-end";
                          break;
                        case "left":
                          i.style.justifyContent = "flex-start";
                          break;
                        case "center":
                          i.style.justifyContent = "center";
                      }
                      switch (o) {
                        case "center":
                          i.style.alignItems = "center";
                          break;
                        case "top":
                          i.style.alignItems = "flex-start";
                          break;
                        case "bottom":
                          i.style.alignItems = "flex-end";
                      }
                    }
                  }
                }
                e.areas &&
                  DayPilot.Areas.attach(E.nav.corner, {}, { areas: e.areas });
              })();
              var r = o();
              (r.style.position = "absolute"),
                (r.style.padding = "2px"),
                (r.style.top = "0px"),
                (r.style.left = "1px"),
                (r.style.backgroundColor = "#FF6600"),
                (r.style.color = "white"),
                (r.innerHTML = "\u0044\u0045" + "\u004D\u004F"),
                h(undefined) && e.appendChild(r),
                E.rowHeaderScrolling &&
                  E.nav.columnScroll &&
                  E.Om &&
                  (E.nav.columnScroll.scrollLeft = E.Om.scrollLeft);
            }
          }),
          (this.cu = function () {
            var e = 3,
              t = this.Im() + H.Jm() - 1,
              n = 10,
              i = 20,
              a = this.Km() + e,
              r = c(this.nav.top, t, a, n, i);
            (r.style.cursor = "pointer"),
              (r.className = E.ca("_header_icon")),
              d(r, E.ca("_header_icon_hide")),
              (r.onclick = function () {
                E.rows.headerToggle();
              }),
              (r.ontouchstart = function (e) {
                e.stopPropagation();
              }),
              (this.nav.hideIcon = r);
          }),
          (this.Nn = function () {
            var e = 3,
              t = E.nav.hideIcon,
              n = E.Km() + e;
            t &&
              (E.rowlist.length > 0 && E.rowHeaderHideIconEnabled
                ? (t.style.display = "")
                : (t.style.display = "none"),
              (t.style.top = n + "px"));
          }),
          (this.Gf = function () {
            var e = this.Im(),
              t = o();
            return (
              (E.nav.corner = t),
              (t.style.width = e + "px"),
              (t.style.height = this.Km() + "px"),
              (t.style.overflow = "hidden"),
              (t.style.position = "relative"),
              (t.onmousemove = function () {
                E.gb();
              }),
              (t.oncontextmenu = function () {
                return !1;
              }),
              this.Vl(),
              t
            );
          }),
          (this.Km = function () {
            if ("None" === E.timeHeaderPosition) return 0;
            if (E.timeHeaders) {
              var e = I.Dr(E.timeHeaders.length - 1);
              return e.top + e.height;
            }
            return this.timeHeader ? E.timeHeader.length * H.mg() : 0;
          }),
          (this.gu = null),
          (this.hu = function () {
            return E.scrollStep || E.eventHeight;
          }),
          (this.Wt = function () {
            var e = o();
            (e.style.width = this.Im() + "px"),
              (e.style.height = this.df() + "px"),
              (e.style.overflow = "hidden"),
              (e.style.position = "relative"),
              (e.className = E.ca("_rowheader_scroll"));
            var t = E.hu(),
              i = E.Ba.ts();
            i &&
              ((e.style.overflowY = "auto"),
              E.rowHeaderScrolling && (e.style.overflowX = "auto")),
              (e.onmousemove = function () {
                E.gb();
              }),
              DayPilot.rePassive(e, "touchstart", function () {
                n.iu = !0;
              }),
              e.addEventListener(
                "wheel",
                function (n) {
                  var i = e.scrollWidth > e.clientWidth,
                    a = 0 !== E.ju(),
                    r = H.ku(),
                    o = 1 === n.deltaMode ? 1.7 * r : 1,
                    l = n.deltaX * o,
                    s = n.deltaY * o;
                  0 === l && n.shiftKey && 0 !== s && ((l = s), (s = 0));
                  var d = i && 0 !== l,
                    c = a && 0 !== s;
                  if (d || c) {
                    if ((n.preventDefault(), c)) {
                      var u = void 0;
                      (u =
                        E.overrideWheelScrolling || E.scrollStep
                          ? s > 0
                            ? t
                            : -t
                          : s),
                        (E.nav.scroll.scrollTop = e.scrollTop + u);
                    }
                    d && (e.scrollLeft += l);
                  }
                },
                { passive: !1 }
              ),
              (e.oncontextmenu = function () {
                return !1;
              }),
              (e.onscroll = function () {
                if ((E.gu && clearTimeout(E.gu), i)) {
                  var t = function () {
                    var t = E.Jq() - E.nav.scroll.offsetHeight;
                    (e.scrollTop = Math.min(e.scrollTop, t)),
                      (E.nav.scroll.scrollTop = e.scrollTop);
                  };
                  DayPilot.browser.ios
                    ? n.iu && (E.gu = setTimeout(t, 10))
                    : (E.gu = setTimeout(t, 10));
                } else
                  E.gu = setTimeout(function () {
                    E.nav.scroll.scrollTop = e.scrollTop;
                  }, 500);
              }),
              E.lu(e),
              e.setAttribute("role", "region"),
              e.setAttribute("aria-label", "scheduler rows");
            var a = o();
            return (
              (a.onmousemove = function () {
                E.gb();
              }),
              (this.divHeader = a),
              e.appendChild(a),
              (this.divResScroll = e),
              (this.Om = e),
              e
            );
          }),
          (this.lu = function (e) {
            e.addEventListener("scroll", function () {
              E.rowHeaderScrolling &&
                (E.nav.columnScroll &&
                  (E.nav.columnScroll.scrollLeft = e.scrollLeft),
                E.pm.top.enabled() &&
                  (E.pm.top.divHeader.scrollLeft = e.scrollLeft),
                this !== E.divResScroll &&
                  (E.divResScroll.scrollLeft = e.scrollLeft));
            }),
              (e.onmouseenter = function () {
                E.rowHeaderScrolling && (e.style.overflowX = "auto");
              }),
              (e.onmouseleave = function () {
                E.rowHeaderScrolling && (e.style.overflowX = "hidden");
              });
          }),
          (this.mu = function (e) {
            if ("TableBased" === H.Vt()) {
              var t = parseInt(this.width, 10),
                n = isNaN(t) || this.width.indexOf("%") !== -1,
                i = this.ds();
              n
                ? this.nav.top &&
                  this.nav.top.offsetWidth > 0 &&
                  (e.style.width = this.nav.top.offsetWidth - 6 - i + "px")
                : (e.style.width = t - i + "px");
            }
          }),
          (this.So = function (e) {
            if ("function" == typeof E.onEventMoving && n.jq) {
              var t = E.coords || {};
              (t.shift = e.shiftKey),
                (t.meta = e.metaKey),
                (t.ctrl = e.ctrlKey),
                (t.alt = e.altKey),
                (E.coords = t),
                E.Wr();
            }
          }),
          (this.Ro = function (e) {
            if ("function" == typeof E.onEventMoving && n.jq) {
              var t = E.coords || {};
              (t.shift = e.shiftKey),
                (t.meta = e.metaKey),
                (t.ctrl = e.ctrlKey),
                (t.alt = e.altKey),
                (E.coords = t),
                E.Wr();
            }
          }),
          (this.Ni = function () {
            ("function" == typeof ResizeObserver && E.watchWidthChanges) ||
              (n.jq && (E.Hb(), E.hm()));
          }),
          (this.Hb = function () {
            E.Aa ||
              ("TableBased" === E.Ba.Vt() &&
                (E.mu(E.nav.scroll), E.mu(E.divTimeScroll)),
              E.Bb(),
              E.ls(),
              E.nu(),
              (E.va.drawArea = null));
          }),
          (this.Cg = null),
          (this.Dg = null),
          (this.Wa = null),
          (this.xg = function () {
            var e = function () {
                E.Hb(), E.hm(null, { dontHideBubble: !0 });
              },
              t = function () {
                if (E.watchWidthChanges) {
                  var t = E.nav.top;
                  if (t) {
                    var n = t.offsetParent,
                      i = n && n.offsetHeight;
                    if (!E.Cg)
                      return (
                        (E.Cg = {}),
                        (E.Cg.changed = !1),
                        (E.Cg.width = t.offsetWidth),
                        (E.Cg.height = t.offsetHeight),
                        void (E.Cg.opHeight = i)
                      );
                    var a = E.Cg.width !== t.offsetWidth,
                      r = E.Cg.height !== t.offsetHeight,
                      o = "Max100Pct" === E.heightSpec && E.Cg.opHeight !== i;
                    (a || r || o) &&
                      ((E.Cg.changed = !0),
                      (E.Cg.width = t.offsetWidth),
                      (E.Cg.height = t.offsetHeight),
                      (E.Cg.opHeight = i)),
                      E.Cg.changed && ((E.Cg.changed = !1), e());
                  }
                }
              };
            if (E.watchWidthChanges) {
              if ("function" == typeof ResizeObserver) {
                if (E.Wa) return;
                var n = new ResizeObserver(DayPilot.debounce(t, 100));
                return (
                  n.observe(E.nav.top),
                  E.nav.top.offsetParent && n.observe(E.nav.top.offsetParent),
                  void (E.Wa = n)
                );
              }
              if (!E.Dg) {
                var i = function () {
                  return E.nav && E.nav.top
                    ? E.Cg
                      ? (E.Cg.width !== E.nav.top.offsetWidth &&
                          ((E.Cg.changed = !0),
                          (E.Cg.counter = 0),
                          (E.Cg.width = E.nav.top.offsetWidth)),
                        E.Cg.changed && (E.Cg.counter += 1),
                        void (
                          E.Cg.changed &&
                          E.Cg.counter > 0 &&
                          ((E.Cg.changed = !1), e())
                        ))
                      : ((E.Cg = {}),
                        (E.Cg.counter = 0),
                        (E.Cg.changed = !1),
                        void (E.Cg.width = E.nav.top.offsetWidth))
                    : void clearInterval(E.Dg);
                };
                (this.Dg = setInterval(i, 200)), i();
              }
            }
          }),
          (this.nu = function () {
            if ("Fixed" !== E.cellWidthSpec)
              if (N.list.length > 0) {
                var e = N.get();
                E.clearSelection(),
                  e.forEach(function (e) {
                    E.multirange.add(e);
                  });
              } else {
                var t = E.fo;
                E.clearSelection(), (E.fo = t), E.go(t, { justDraw: !0 });
              }
          }),
          (this.ls = function () {
            "Auto" === E.cellWidthSpec &&
              (E.Zl(),
              E.za &&
                (E.Ol(),
                E.Pl(),
                E.Wl(),
                E.$l(),
                E.Ya(),
                E.tb(),
                W.Sl(),
                E.Xl(),
                E.Yl(),
                E.wn(),
                E.Fb(),
                E.bm(),
                E.cm(),
                E.Bb()));
          }),
          (this.Ol = function () {
            if ("Auto" === this.cellWidthSpec) {
              var e = this.nav.top.clientWidth,
                t = this.Im(),
                n = E.ju(),
                i = e - t - n;
              if (this.cr()) {
                var a = i / this.cr();
                (this.cellWidth = Math.max(a, E.cellWidthMin)),
                  (E.Nm = a < E.cellWidthMin);
              }
            }
          }),
          (this.ju = function () {
            if ("Auto" === E.heightSpec) return 0;
            if (
              "Max" === E.heightSpec ||
              "Fixed" === E.heightSpec ||
              "Parent100Pct" === E.heightSpec
            ) {
              if (E.Jq() > E.height) {
                return DayPilot.sw(E.nav.scroll) || 1;
              }
              return 0;
            }
            return DayPilot.sw(E.nav.scroll);
          }),
          (this.Sm = function () {
            var e = this.nav.top.clientWidth,
              t = this.Im(),
              n = this.df(),
              i = this.Jq(),
              a = "Auto" === E.heightSpec,
              r = 0;
            return i > n && !a && (r = DayPilot.swa()), e - t - -2 - r;
          }),
          (this.$t = function () {
            var e = "Top" === E.timeHeaderPosition,
              t = o();
            (t.style.overflow = "hidden"),
              (t.style.display = "block"),
              e
                ? ((t.style.position = "absolute"), (t.style.top = "0px"))
                : (t.style.position = "relative"),
              (t.style.width = "100%"),
              (t.style.height = this.Km() + "px"),
              (t.style.overflow = "hidden"),
              (t.onmousemove = function () {
                E.gb(), E.cellBubble && E.cellBubble.delayedHide();
              }),
              (t.className = E.ca("_timeheader_scroll")),
              this.mu(t),
              (this.divTimeScroll = t);
            var n = o();
            return (
              (n.style.width = this.Fm() + 5e3 + "px"),
              (this.divNorth = n),
              t.appendChild(n),
              t
            );
          }),
          (this.df = function () {
            var e = 0,
              t = E.heightSpec;
            return "Fixed" === t || "Parent100Pct" === t
              ? this.height
                ? this.height
                : 0
              : ((e = E.Jq()),
                ("Max" === t || "Max100Pct" === t) && e > E.height
                  ? E.height
                  : e);
          });
        this.ou = null;
        (this.qu = 0),
          (this.ru = 0),
          (this.su = 0),
          (this.Qm = function () {
            if (
              "function" == typeof E.onHeightChanged ||
              "function" == typeof E.onDimensionsChanged
            ) {
              E.ou && clearTimeout(E.ou);
              var e = function () {
                var e = E.nav.top.offsetHeight,
                  t = E.qu;
                E.qu = e;
                var n = E.nav.top.offsetWidth,
                  i = E.ru;
                E.ru = n;
                var a = E.Im(),
                  r = E.su;
                if (
                  ((E.su = a),
                  "function" == typeof E.onHeightChanged && e !== t)
                ) {
                  var o = {};
                  (o.oldHeight = t), (o.newHeight = e), E.onHeightChanged(o);
                }
                if (
                  "function" == typeof E.onDimensionsChanged &&
                  (e !== t || n !== i || a !== r)
                ) {
                  var o = {};
                  (o.oldHeight = t),
                    (o.newHeight = e),
                    (o.oldWidth = i),
                    (o.newWidth = n),
                    (o.oldRowHeaderWidth = r),
                    (o.newRowHeaderWidth = a),
                    E.onDimensionsChanged(o);
                }
              };
              E.ou = setTimeout(e, 100);
            }
          }),
          (this.Jq = function () {
            var e;
            return (
              this.vl !== -1
                ? ((e = this.vl),
                  "auto" === E.nav.scroll.style.overflowX &&
                    (e += DayPilot.sh(E.nav.scroll)))
                : (e = this.rowlist.length * this.Ba.Xo()),
              (e += E.pm.bottom.height)
            );
          }),
          (this.gb = function () {
            var e, t, n, i;
            this.ib(),
              E.tu &&
                (this.hb(),
                this.uu(),
                this.as(),
                this.Eq(),
                null === (e = E.cellBubble) || void 0 === e
                  ? void 0
                  : e.hideOnMouseOut(),
                null === (t = E.bubble) || void 0 === t
                  ? void 0
                  : t.hideOnMouseOut(),
                null === (n = E.groupBubble) || void 0 === n
                  ? void 0
                  : n.hideOnMouseOut(),
                null === (i = E.timeHeaderBubble) || void 0 === i
                  ? void 0
                  : i.hideOnMouseOut(),
                (E.tu = !1));
          }),
          (this.pm = {}),
          (this.pm.top = {}),
          (this.pm.top.height = 0),
          (this.pm.top.rowlist = []),
          (this.pm.top.enabled = function () {
            return this.rowlist && this.rowlist.length > 0;
          }),
          Object.defineProperty(E.pm.top, "top", {
            get: function () {
              return E.Km() + 1;
            },
          }),
          Object.defineProperty(E.pm.top, "right", {
            get: function () {
              return E.ju();
            },
          }),
          Object.defineProperty(E.pm.top, "heightRes", {
            get: function () {
              return this.height;
            },
          }),
          (this.pm.bottom = {}),
          (this.pm.bottom.height = 0),
          (this.pm.bottom.rowlist = []),
          (this.pm.bottom.enabled = function () {
            return this.rowlist && this.rowlist.length > 0;
          }),
          Object.defineProperty(E.pm.bottom, "top", {
            get: function () {
              return (
                E.Km() + E.df() - this.height - DayPilot.sh(E.nav.scroll) + 1
              );
            },
          }),
          Object.defineProperty(E.pm.bottom, "right", {
            get: function () {
              return E.ju();
            },
          }),
          Object.defineProperty(E.pm.bottom, "heightRes", {
            get: function () {
              return this.height + DayPilot.sh(E.nav.scroll);
            },
          }),
          (this.pm.main = {}),
          (this.du = function () {
            var e = E.pm.main;
            (e.divCells = E.divCells),
              (e.divLines = E.divLines),
              (e.divBreaks = E.divBreaks),
              (e.divHeader = E.divHeader),
              (e.divLinksBelow = E.divLinksBelow),
              (e.divEvents = E.divEvents),
              (e.divLinksAbove = E.divLinksAbove),
              (e.divShadow = E.divShadow),
              (e.divHover = E.divHover),
              (e.divCrosshair = E.divCrosshair),
              (e.div = E.nav.scroll),
              Object.defineProperty(E.pm.main, "rowlist", {
                get: function () {
                  return E.rowlist;
                },
              }),
              Object.defineProperty(E.pm.main, "rowlistparents", {
                get: function () {
                  return E.rowlistparents;
                },
              }),
              Object.defineProperty(E.pm.main, "top", {
                get: function () {
                  return E.Km() + 1;
                },
              }),
              Object.defineProperty(E.pm.main, "height", {
                get: function () {
                  return E.vl;
                },
              });
          }),
          (this.Xt = function () {
            var e = E.pm.top,
              t = e.top,
              n = e.height,
              i = o();
            return (
              (i.style.position = "absolute"),
              (i.style.left = "0px"),
              (i.style.right = "0px"),
              (i.style.top = t + "px"),
              (i.style.height = n + "px"),
              (i.style.overflow = "hidden"),
              (i.style.boxSizing = "border-box"),
              (i.rows = []),
              (e.divHeader = i),
              i
            );
          }),
          (this.Yt = function () {
            var e = E.pm.bottom,
              t = e.top,
              n = e.height,
              i = o();
            (i.style.position = "absolute"),
              (i.style.left = "0px"),
              (i.style.right = "0px"),
              (i.style.top = t + "px"),
              (i.style.height = n + "px"),
              (i.style.overflow = "hidden"),
              (i.style.boxSizing = "border-box");
            var a = o();
            (a.style.position = "absolute"),
              (a.style.height = "500px"),
              (a.style.top = e.height + "px"),
              (a.style.left = "0px"),
              (a.style.width = E.ds() + "px"),
              (a.className = E.ca("_rowheader")),
              i.appendChild(a),
              (i.rows = []);
            var r = o();
            return (
              i.appendChild(r),
              (i.qs = r),
              E.lu(i),
              (e.divHeader = i),
              (e.divSpace = a),
              i
            );
          }),
          (this.au = function () {
            var e = E.pm.top,
              t = e.top,
              n = e.height,
              i = o();
            return (
              (i.style.position = "absolute"),
              (i.style.left = "0px"),
              (i.style.right = "0px"),
              (i.style.top = t + "px"),
              (i.style.height = n + "px"),
              (i.style.overflow = "hidden"),
              (i.className = E.ca("_grid_top")),
              (i.onmousedown = E.vu),
              (i.onmousemove = E.bs),
              (i.oncontextmenu = E.wu),
              (i.onmouseup = E.xu),
              (i.ondblclick = this.yu),
              (E.nav.fixedTop = i),
              (e.div = i),
              f(E.zu(i), e),
              i
            );
          }),
          (this.bu = function () {
            var e = E.pm.bottom,
              t = e.top,
              n = e.height,
              i = o();
            return (
              (i.style.position = "absolute"),
              (i.style.left = "0px"),
              (i.style.right = "0px"),
              (i.style.bottom = t + "px"),
              (i.style.height = n + "px"),
              (i.style.overflow = "hidden"),
              (i.className = E.ca("_grid_bottom")),
              (i.onmousedown = E.vu),
              (i.onmousemove = E.bs),
              (i.oncontextmenu = E.wu),
              (i.onmouseup = E.xu),
              (i.ondblclick = this.yu),
              (E.nav.fixedBottom = i),
              (e.div = i),
              f(E.zu(i), e),
              i
            );
          }),
          (this.zu = function (e) {
            var t = o();
            (t.style.position = "absolute"), e.appendChild(t);
            var n = o();
            (n.style.position = "absolute"), e.appendChild(n);
            var i = o();
            (i.style.position = "absolute"), e.appendChild(i);
            var a = o();
            (a.style.position = "absolute"), e.appendChild(a);
            var r = o();
            (r.style.position = "absolute"), e.appendChild(r);
            var l = o();
            (l.style.position = "absolute"), e.appendChild(l);
            var s = o();
            (s.style.position = "absolute"), e.appendChild(s);
            var d = o();
            (d.style.position = "absolute"),
              (d.style.left = "0px"),
              (d.style.width = "100000px"),
              (d.style.bottom = "0px"),
              (d.style.height = "1px"),
              e.appendChild(d);
            var c = o();
            (c.style.position = "absolute"), e.appendChild(c);
            var u = o();
            return (
              (u.style.position = "absolute"),
              e.appendChild(u),
              {
                divCells: t,
                divLines: n,
                divBreaks: i,
                divLinksBelow: r,
                divEvents: l,
                divLinksAbove: s,
                divShadow: u,
                divHover: c,
                divCrosshair: a,
              }
            );
          }),
          (this.Pm = function () {
            var e = E.pm.top,
              t = E.pm.bottom;
            S(e),
              S(t),
              (E.divStretch.style.height = E.vl + t.height + "px"),
              (E.nav.dividerTop.style.top = e.top + e.height - 1 + "px"),
              (E.nav.dividerTop.style.right = e.right + "px"),
              E.Au(E.nav.dividerTop, e.enabled()),
              (E.nav.dividerBottom.style.top = t.top - 1 + "px"),
              (E.nav.dividerBottom.style.right = t.right + "px"),
              E.Au(E.nav.dividerBottom, t.enabled()),
              (e.div.style.right = e.right + "px"),
              (t.div.style.right = t.right + "px");
          }),
          (this.Au = function (e, t) {
            e.style.display = t ? "" : "none";
          }),
          (this.Ym = function (e) {
            e = e || {};
            var t = e.includeSplitParents,
              n = E.rowlist;
            return (
              (n = n.concat(E.pm.top.rowlist)),
              (n = n.concat(E.pm.bottom.rowlist)),
              t && (n = n.concat(E.rowlistparents)),
              n
            );
          }),
          (this.Bu = function () {
            return (
              E.rowlist.length > 0 ||
              E.pm.top.rowlist.length > 0 ||
              E.pm.bottom.rowlist.length > 0
            );
          }),
          (this.Cu = function () {
            this.bf(), this.Du();
          }),
          (this._t = function () {
            var e = o();
            if (
              ((e.style.overflow = "auto"),
              (e.style.overflowX = "auto"),
              (e.style.overflowY = "auto"),
              (e.style.height = this.df() + "px"),
              "Top" === E.timeHeaderPosition
                ? ((e.style.top = this.Km() + 1 + "px"),
                  (e.style.position = "absolute"))
                : (e.style.position = "relative"),
              (e.style.width = "100%"),
              (e.className = this.ca("_scrollable")),
              (e.oncontextmenu = function () {
                return !1;
              }),
              this.mu(e),
              E.overrideWheelScrolling)
            ) {
              var t = E.hu();
              (e.onwheel = function (n) {
                var i = n.deltaY > 0 ? t : -t;
                (E.nav.scroll.scrollTop = e.scrollTop + i), n.preventDefault();
              }),
                (e.onmousewheel = function (n) {
                  var i = n.wheelDelta < 0 ? t : -t;
                  (E.nav.scroll.scrollTop = e.scrollTop + i),
                    n.preventDefault(),
                    (n.returnValue = !1);
                });
            }
            DayPilot.rePassive(e, "wheel", E.Po),
              (this.nav.scroll = e),
              (this.nm = o());
            var n = this.nm;
            (n.style.userSelect = "none"),
              (n.style.webkitUserSelect = "none"),
              (n.daypilotMainD = !0),
              (n.calendar = this),
              (n.style.minHeight = "1px"),
              (n.style.position = "absolute");
            var i = this.Fm();
            return (
              i > 0 && !isNaN(i) && (n.style.width = i + "px"),
              (n.onmousedown = this.vu),
              (n.onmousemove = this.bs),
              (n.onmouseup = this.xu),
              (n.oncontextmenu = this.wu),
              (n.ondblclick = this.yu),
              (n.className = this.ca("_matrix")),
              (this.divStretch = o()),
              (this.divStretch.style.position = "absolute"),
              (this.divStretch.style.height = "1px"),
              n.appendChild(this.divStretch),
              (this.divCells = o()),
              (this.divCells.style.position = "absolute"),
              (this.divCells.oncontextmenu = this.wu),
              n.appendChild(this.divCells),
              (this.divLines = o()),
              (this.divLines.style.position = "absolute"),
              (this.divLines.oncontextmenu = this.wu),
              n.appendChild(this.divLines),
              (this.divBreaks = o()),
              (this.divBreaks.style.position = "absolute"),
              (this.divBreaks.oncontextmenu = this.wu),
              n.appendChild(this.divBreaks),
              (this.divSeparators = o()),
              (this.divSeparators.style.position = "absolute"),
              (this.divSeparators.oncontextmenu = this.wu),
              n.appendChild(this.divSeparators),
              (this.divLinksBelow = o()),
              (this.divLinksBelow.style.position = "absolute"),
              n.appendChild(this.divLinksBelow),
              (this.divCrosshair = o()),
              (this.divCrosshair.style.position = "absolute"),
              (this.divCrosshair.ondblclick = this.yu),
              (this.divCrosshair.onmousedown = this.jg),
              n.appendChild(this.divCrosshair),
              (this.divRange = o()),
              (this.divRange.style.position = "absolute"),
              (this.divRange.oncontextmenu = this.wu),
              n.appendChild(this.divRange),
              (this.divEvents = o()),
              (this.divEvents.style.position = "absolute"),
              n.appendChild(this.divEvents),
              (this.divSeparatorsAbove = o()),
              (this.divSeparatorsAbove.style.position = "absolute"),
              (this.divSeparatorsAbove.oncontextmenu = this.wu),
              n.appendChild(this.divSeparatorsAbove),
              (this.divLinksAbove = o()),
              (this.divLinksAbove.style.position = "absolute"),
              n.appendChild(this.divLinksAbove),
              (this.divLinkShadow = o()),
              (this.divLinkShadow.style.position = "absolute"),
              n.appendChild(this.divLinkShadow),
              (this.divLinkpoints = o()),
              (this.divLinkpoints.style.position = "absolute"),
              n.appendChild(this.divLinkpoints),
              (this.divRectangle = o()),
              (this.divRectangle.style.position = "absolute"),
              n.appendChild(this.divRectangle),
              (this.divHover = o()),
              (this.divHover.style.position = "absolute"),
              n.appendChild(this.divHover),
              (this.divShadow = o()),
              (this.divShadow.style.position = "absolute"),
              n.appendChild(this.divShadow),
              e.appendChild(n),
              e
            );
          }),
          (E.Po = function (e) {
            E.pn(e);
          }),
          (q.Mg = function () {
            if (!E.nav.overlay) {
              var e = o();
              (e.style.position = "absolute"),
                (e.style.left = "0px"),
                (e.style.right = "0px"),
                (e.style.top = "0px"),
                (e.style.bottom = "0px"),
                (e.className = E.ca("_block")),
                E.nav.top.appendChild(e),
                (E.nav.overlay = e);
            }
          }),
          (q.D = function () {
            q.Mg(), (E.nav.overlay.style.display = "");
          }),
          (q.B = function () {
            E.nav.overlay && (E.nav.overlay.style.display = "none");
          }),
          (this.Qa = function (e) {
            e = e || {};
            var t = e.delay || 0,
              n = E.La(e.text || this.loadingLabelText, this.loadingLabelHtml),
              i = "undefined" != typeof e.block ? e.block : E.blockOnCallBack;
            E.sg && window.clearTimeout(E.sg);
            var a = function () {
              (E.loadingLabelVisible || e.text) &&
                ((E.nav.loading.innerHTML = n),
                (E.nav.loading.style.display = "")),
                i && q.D();
            };
            0 === t ? a() : (E.sg = window.setTimeout(a, t));
          }),
          (this.nb = function (e) {
            this.sg && window.clearTimeout(this.sg),
              (this.nav.loading.style.display = "none"),
              (e || E.blockOnCallBack) && q.B();
          }),
          (this.loadingStart = function (e) {
            E.Qa(e);
          }),
          (this.loadingStop = function () {
            E.nb(!0);
          }),
          (this.uiBlock = function () {
            q.D();
          }),
          (this.uiUnblock = function () {
            q.B();
          }),
          (this.ja = function () {
            return (
              ("javasc" !== E.Ga && E.Ga.indexOf("DCODE") === -1) || E.devsb
            );
          }),
          (this.Ua = function () {
            return !("function" != typeof WebForm_DoCallback || !this.uniqueID);
          }),
          (this.oh = function () {
            this.startDate = new DayPilot.Date(this.startDate).getDatePart();
          }),
          (this.uh = function () {
            return 0;
          }),
          (this.Jb = function (e) {
            if (
              (e && (this.autoRefreshEnabled = !0),
              this.autoRefreshEnabled && !(this.ya >= this.autoRefreshMaxCount))
            ) {
              this.Xa();
              var t = this.autoRefreshInterval;
              if (!t || t < 10)
                throw new DayPilot.Exception(
                  "The minimum autoRefreshInterval is 10 seconds"
                );
              this.autoRefreshTimeout = window.setTimeout(function () {
                E.yg();
              }, 1e3 * this.autoRefreshInterval);
            }
          }),
          (this.Xa = function () {
            this.autoRefreshTimeout &&
              (window.clearTimeout(this.autoRefreshTimeout),
              (this.autoRefreshTimeout = null));
          }),
          (this.autoRefreshStart = function (e) {
            E.Jb(e);
          }),
          (this.autoRefreshPause = function () {
            E.Xa();
          }),
          (this.Eu = function () {
            return !(n.nq || n.mn || b.drag || n.oq || n.tt);
          }),
          (this.yg = function () {
            if (E.Eu()) {
              var e = !1;
              if ("function" == typeof this.onAutoRefresh) {
                var t = {};
                (t.i = this.ya),
                  (t.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  E.onAutoRefresh(t),
                  t.preventDefault.value && (e = !0);
              }
              !e && this.ja() && this.commandCallBack(this.autoRefreshCommand),
                this.ya++;
            }
            this.ya < this.autoRefreshMaxCount &&
              (this.autoRefreshTimeout = window.setTimeout(function () {
                E.yg();
              }, 1e3 * this.autoRefreshInterval));
          }),
          (this.Eg = function () {
            n.Fg ||
              ((n.Fg = !0),
              DayPilot.re(document, "mousemove", n.Gg),
              DayPilot.re(document, "mouseup", n.Hg),
              DayPilot.re(document, "mousedown", n.Fu),
              DayPilot.re(document, "touchend", n.Jg),
              DayPilot.reNonPassive(document, "touchmove", n.Ig),
              DayPilot.re(window, "keyup", n.Gu)),
              DayPilot.re(window, "resize", this.Ni),
              DayPilot.re(document, "keydown", this.Ro),
              DayPilot.re(document, "keyup", this.So);
          }),
          (this.Hu = function () {
            (this.nav.scroll.root = this),
              (this.nav.scroll.onscroll = this.hm),
              (this.nav.scroll.onscrollend = this.Iu),
              (E.Tq = this.nav.scroll.scrollLeft),
              (E.Qq = this.nav.scroll.scrollTop),
              this.divNorth && (E.Ju = this.divNorth.clientWidth);
          }),
          (this.yk = function () {
            if (this.nav.state) {
              var e = {};
              (e.scrollX = this.nav.scroll.scrollLeft),
                (e.scrollY = this.nav.scroll.scrollTop);
              var t = E.Bo(e.scrollX, e.scrollY),
                n = E.Co(t),
                i = E.Do(t);
              (e.rangeStart = n.start),
                (e.rangeEnd = n.end),
                (e.resources = i),
                this.syncResourceTree && (e.tree = this.fb()),
                (this.nav.state.value = DayPilot.he(JSON.stringify(e)));
            }
          }),
          (this.cm = function () {
            if (this.separators)
              for (var e = 0; e < this.separators.length; e++) this.dh(e);
          }),
          (this.Ku = {}),
          (this.Ku.step = 300),
          (this.Ku.delay = 10),
          (this.Ku.mode = "display"),
          (this.Ku.layers = !1),
          (this.zr = function (e) {
            if (E.rl) return void L.Lu(e);
            for (var t = 0, n = 0; n < e.lines.length; n++) {
              var i = e.lines[n];
              (i.height = 0), (i.top = t);
              for (
                var a = function (a) {
                    var r = i[a];
                    if ((!r.part.top, !0)) {
                      (r.part.line = n),
                        r.part.height || (r.part.height = e.eventHeight);
                      var o = r.part.Ys();
                      o > i.height && (i.height = o),
                        (r.part.top = t + e.marginTop);
                      var l = "Above" === E.eventVersionPosition;
                      if (E.eventVersionsEnabled && !y(r.versions).isEmpty()) {
                        var s = r.cache || r.data,
                          d = r.part.top;
                        l || (d += r.part.height + E.eventVersionMargin),
                          y(s.versions).forEach(function (e, t) {
                            if (r.versions[t]) {
                              var n =
                                t *
                                (E.eventVersionHeight + E.eventVersionMargin);
                              (r.versions[t].top = d + n),
                                l &&
                                  ((r.part.top += E.eventVersionHeight),
                                  (r.part.top += E.eventVersionMargin));
                            }
                          });
                      }
                      (r.part.right = r.part.left + r.part.width),
                        (r.part.fullTop = e.top + r.part.top),
                        (r.part.fullBottom = r.part.fullTop + r.part.height);
                    }
                  },
                  r = 0;
                r < i.length;
                r++
              )
                a(r);
              t +=
                ((i.height || e.eventHeight) * e.eventStackingLineHeight) / 100;
            }
          }),
          (L.$p = function (e) {
            (e.evColumns = y(E.itline).map(function () {
              return { events: y() };
            })),
              y(e.events).forEach(function (t) {
                var n = t.start(),
                  i = E.kn(n);
                e.evColumns[i.i].events.push(t);
              });
          }),
          (L.Xs = function () {
            var e = E.sl,
              t = 0;
            y(E.rowlist).forEach(function (n) {
              var i = 0;
              n.evColumns.forEach(function (t, a) {
                var r = E.itline[a],
                  o = E.rowMarginTop;
                t.events.forEach(function (t) {
                  (t.part.left = r.left),
                    (t.part.width = r.width),
                    (t.part.top = o),
                    t.part.height ||
                      (e
                        ? (t.part.height = L.Mu(t) + H.Cr())
                        : (t.part.height = n.eventHeight)),
                    (o += t.part.height + E.eventMarginBottom);
                }),
                  (t.height = o),
                  t.height > i && (i = t.height);
              }),
                (n.maxColumnHeight = i),
                (n.top = t);
              var a = n.height;
              (n.height = n.getHeight()),
                i > E.rowMarginTop && (n.height = i + E.rowMarginBottom),
                a !== n.height && (E.Yn = !0),
                (t += n.height);
            }),
              (E.vl = t);
          }),
          (L.Mu = function (e) {
            var t = e.client.html(),
              n = o();
            (n.style.position = "absolute"),
              (n.style.top = "-2000px"),
              (n.style.left = "-2000px"),
              (n.style.width = e.part.width + "px"),
              (n.className = E.ca(A.event));
            var i = o();
            (i.className = E.ca(A.eventInner)),
              (i.innerHTML = t),
              (i.style.position = "static"),
              (i.style.overflow = "auto"),
              n.appendChild(i);
            var a = E.divEvents;
            a.appendChild(n);
            var r = n.offsetHeight;
            return a.removeChild(n), r;
          }),
          (L.Lu = function () {
            L.Xs();
          }),
          (L.Nu = function () {
            y(E.rowlist).forEach(function (e) {
              L.Ou(e);
            });
          }),
          (L.Fb = function () {
            L.Nu(), L.Pu(), E.Yl(), E.Bb();
          }),
          (L.Pu = function () {
            if (E.sl) {
              var e = !1;
              y(E.elements.events).forEach(function (t) {
                var n = t.firstChild,
                  i =
                    n.offsetHeight -
                    n.clientHeight +
                    t.offsetHeight -
                    t.clientHeight,
                  a = n.scrollHeight + i,
                  r = t.event.part.height;
                (t.event.part.height = a), r !== a && (e = !0);
              }),
                e && (E.Ya(), L.Xs(), L.Nu(), E.Zl(), E.bm());
            }
          }),
          (L.Ou = function (e) {
            e.evColumns.forEach(function (e) {
              e.events.forEach(function (e) {
                E.Ue(e);
              });
            });
          }),
          (this.Gn = null),
          (this.Fb = function (e) {
            if (!E.Aa) {
              if (E.rl) return void L.Fb();
              var t = this.Ku.step;
              "display" === this.Ku.mode
                ? (this.divEvents.style.display = "none")
                : "visibility" === this.Ku.mode &&
                  (this.divEvents.style.visibility = "hidden"),
                this.divEvents.setAttribute("role", "region"),
                this.divEvents.setAttribute("aria-label", "scheduler events");
              var n = "Progressive" === this.dynamicEventRendering,
                i = this.xd(),
                a = i.pixels.top,
                r = i.pixels.bottom,
                o = E.allowMultiMove || E.allowMultiResize,
                l = o && !y(E.multiselect.Oc).isEmpty(),
                s = E.rowlist.filter(function (e) {
                  var t = e.top - E.dynamicEventRenderingMargin,
                    i = t + e.height + 2 * E.dynamicEventRenderingMargin;
                  return !(n && !l && (r <= t || a >= i));
                });
              E.pm.top.enabled() && (s = s.concat(E.pm.top.rowlist)),
                E.pm.bottom.enabled() && (s = s.concat(E.pm.bottom.rowlist)),
                s.forEach(function (n) {
                  E.zr(n);
                  for (
                    var i = Math.max(
                        0,
                        (n.resource && n.resource.maxLines) || 1e5
                      ),
                      a = 0;
                    a < n.lines.length;
                    a++
                  ) {
                    var r = n.lines[a];
                    if (!(a >= i))
                      for (var o = 0; o < r.length; o++) {
                        var l = r[o],
                          s = E.Ue(l);
                        if (e && s && (t--, t <= 0))
                          return (
                            (E.divEvents.style.visibility = ""),
                            (E.divEvents.style.display = ""),
                            void (E.Gn = window.setTimeout(function () {
                              E.Fb(e);
                            }, E.Ku.delay))
                          );
                      }
                  }
                }),
                (this.divEvents.style.display = ""),
                y(E.multiselect.Oc).isEmpty() || E.multiselect.redraw(),
                this.xm(),
                W.qp(),
                this.Yp();
            }
          }),
          (this.$n = function (e, t) {
            var n = E.Uo(t),
              i = n.rowlist[e];
            if (E.rl) return void L.Ou(i);
            this.nm.insertBefore(this.divEvents, this.divSeparatorsAbove),
              E.va.Al.push(this.divEvents),
              this.zr(i);
            for (var a = 0; a < i.lines.length; a++)
              for (var r = i.lines[a], o = 0; o < r.length; o++) {
                var l = r[o];
                this.Ue(l);
              }
            this.divEvents.style.display = "";
          }),
          (this.Qu = function () {
            var e = E.va.Al,
              t = [];
            e.forEach(function (e) {
              0 === e.childNodes.length ? e.remove() : t.push(e);
            }),
              (E.va.Al = t);
          }),
          (this.Ya = function () {
            if (this.elements.events)
              for (var e = this.elements.events.length, t = 0; t < e; t++) {
                var n = this.elements.events[t];
                this.Qe(n);
              }
            this.elements.events = [];
          }),
          (this.Zn = function (e, t) {
            if (((t = t || "main"), this.elements.events)) {
              for (
                var n = this.elements.events.length, i = [], a = 0;
                a < n;
                a++
              ) {
                var r = this.elements.events[a],
                  o = r.event;
                o.part.dayIndex === e &&
                  o.part.grid === t &&
                  (this.Qe(r), i.push(a));
              }
              for (var a = i.length - 1; a >= 0; a--)
                this.elements.events.splice(i[a], 1);
            }
          }),
          (this.Qe = function (e) {
            var t = e.domArgs;
            if (
              ((e.domArgs = null),
              t &&
                "function" == typeof E.onDomRemoveEvent &&
                E.onDomRemoveEvent(t),
              t &&
                "function" == typeof E.onBeforeEventDomRemove &&
                E.onBeforeEventDomRemove(t),
              t && "function" == typeof E.onBeforeEventDomAdd)
            ) {
              var n = t && t.Le;
              if (n) {
                var i = E.W.reactDOM && v(t.element),
                  a = E.Y.Ne && (p(t.element) || m(t.element));
                i ? E.W.ka(n) : a && ((E.Y.Oe = !0), E.Y.la(n), (E.Y.Oe = !1));
              }
            }
            e.parentNode && e.parentNode.removeChild(e),
              (e.onclick = null),
              (e.oncontextmenu = null),
              (e.onmouseover = null),
              (e.onmouseout = null),
              (e.onmousemove = null),
              (e.onmousedown = null),
              (e.ondblclick = null),
              e.event && ((e.event.rendered = null), (e.event = null)),
              e.related && x(e.related);
          }),
          (this.Ru = function (e) {
            e.event && (e.event.rendered = !1),
              (e.onclick = null),
              (e.onmousedown = null),
              (e.event = null),
              e.parentNode && e.parentNode.removeChild(e);
          }),
          (this.Su = function () {
            if ("Progressive" === this.dynamicEventRendering) {
              if (E.dynamicEventRenderingCacheSweeping) {
                var e = E.dynamicEventRenderingCacheSize || 0;
                this.divEvents.style.display = "none";
                for (
                  var t = [], n = this.elements.events.length, i = n - 1;
                  i >= 0;
                  i--
                ) {
                  var a = this.elements.events[i];
                  this.Tu(a.event)
                    ? e > 0
                      ? (e--, t.unshift(a))
                      : this.Qe(a)
                    : t.unshift(a);
                }
                (this.elements.events = t), (this.divEvents.style.display = "");
              }
            }
          }),
          (this.Uu = function (e) {
            for (
              var t = this.xd(), n = this.elements.cells.length, i = n - 1;
              i >= 0;
              i--
            ) {
              var a = this.elements.cells[i];
              (t.xStart < a.coords.x &&
                a.coords.x <= t.xEnd &&
                t.yStart < a.coords.y &&
                a.coords.y <= t.yEnd) ||
                (e > 0 ? e-- : this.Jf(a));
            }
          }),
          (this.Jf = function (e) {
            if (e && e.coords) {
              var t = e.coords.x,
                n = e.coords.y,
                i = e.coords.grid;
              !(function () {
                var t = e.domArgs;
                if (
                  ((e.domArgs = null),
                  t &&
                    "function" == typeof E.onBeforeCellDomRemove &&
                    E.onBeforeCellDomRemove(t),
                  t && "function" == typeof E.onBeforeCellDomAdd)
                ) {
                  var n = t && t.Le;
                  if (n) {
                    var i = E.W.reactDOM && v(t.element),
                      a = E.Y.Ne && (p(t.element) || m(t.element));
                    i
                      ? E.W.ka(n)
                      : a && ((E.Y.Oe = !0), E.Y.la(n), (E.Y.Oe = !1));
                  }
                }
              })(),
                DayPilot.rfa(E.elements.cells, e),
                x(e),
                (E.va.cells[i + "_" + t + "_" + n] = null);
            }
          }),
          (this.$l = function () {
            if (this.elements.separators)
              for (var e = 0; e < this.elements.separators.length; e++) {
                var t = this.elements.separators[e];
                x(t);
              }
            this.elements.separators = [];
          }),
          (this.Vu = function () {
            var e = "Progressive" === this.dynamicEventRendering;
            if (!this.nav.scroll) return !1;
            for (
              var t = this.nav.scroll.scrollTop,
                n = t + this.nav.scroll.clientHeight,
                i = E.Ym(),
                a = 0;
              a < i.length;
              a++
            ) {
              var r = i[a],
                o = r.top,
                l = r.top + r.height;
              if (!e || !(n <= o || t >= l))
                for (var s = 0; s < r.lines.length; s++)
                  for (var d = r.lines[s], c = 0; c < d.length; c++) {
                    var u = d[c];
                    if (this.Wu(u)) return !0;
                  }
            }
            return !1;
          }),
          (this.Wu = function (e) {
            if (e.rendered) return !1;
            var t = "Progressive" === this.dynamicEventRendering,
              n = this.nav.scroll.scrollLeft,
              i = n + this.nav.scroll.clientWidth,
              a = e.part.left,
              r = e.part.left + e.part.width;
            return !t || !(i <= a || n >= r);
          }),
          (this.Tu = function (e) {
            if (!e.rendered) return !0;
            var t = this.xd(),
              n = t.pixels.top,
              i = t.pixels.bottom,
              a = t.pixels.left - this.dynamicEventRenderingMargin,
              r = t.pixels.right + this.dynamicEventRenderingMargin,
              o = e.part.left,
              l = e.part.right,
              s = e.part.fullTop,
              d = e.part.fullBottom;
            return r <= o || a >= l || i <= s || n >= d;
          }),
          (this.Ws = y()),
          (this.Xu = function (e) {
            if (e.rendered) return !1;
            var t = e.row;
            if (t.hidden) return !1;
            var n = E.pm[t.grid],
              i = e.min,
              a = e.max - e.min,
              r = E.eventHeight,
              l = e.row.top;
            "number" == typeof t.forcedHeight &&
              (r = Math.min(t.forcedHeight, E.eventHeight));
            var s = o();
            (s.style.position = "absolute"),
              (s.style.left = i + "px"),
              (s.style.top = l + "px"),
              (s.style.width = a + "px"),
              (s.style.height = r + "px"),
              (s.className = E.ca("_event_group")),
              (s.style.cursor = "pointer");
            var d = {};
            (d.group = {}),
              (d.group.count = e.events.length),
              (d.group.events = y(e.events, !0)),
              (d.group.html = "&#x1F7A7; " + e.events.length + " events"),
              (d.group.bubbleHtml = null),
              "function" == typeof E.onBeforeGroupRender &&
                E.onBeforeGroupRender(d);
            var c = o();
            return (
              (c.innerHTML = d.group.html),
              s.appendChild(c),
              (s.onmousedown = function (e) {
                e.cancelBubble = !0;
              }),
              (s.onclick = function (e) {
                var n = s.event;
                (n.expanded = !0), E.Ru(s);
                var i = k(E.elements.events, s);
                i !== -1 && E.elements.events.splice(i, 1);
                var a = E.Ws;
                y(n.events).forEach(function (e) {
                  a.push(e.id());
                }),
                  "undefined" != typeof DayPilot.Bubble &&
                    (DayPilot.Bubble.hideActive(),
                    DayPilot.Bubble.cancelShowing()),
                  E.wn(),
                  E.xn([t]),
                  E.Bb(),
                  E.Fb(),
                  (e.cancelBubble = !0);
              }),
              (s.onmousemove = function () {
                if (E.groupBubble) {
                  var t = {};
                  (t.calendar = E),
                    (t.type = "Group"),
                    (t.object = { events: y(e.events, !0) }),
                    (t.staticHTML = d.group.bubbleHtml),
                    (t.div = s),
                    (t.toJSON = function () {
                      var e = {};
                      return (
                        (e.uid = E.uniqueID),
                        (e.type = "Group"),
                        (e.object = t.object),
                        e
                      );
                    }),
                    E.groupBubble.showGroup(t);
                }
              }),
              (s.onmouseout = function () {
                E.groupBubble && E.groupBubble.hideOnMouseOut();
              }),
              (e.part = {}),
              (e.part.left = i),
              (e.part.width = a),
              (e.part.height = E.eventHeight),
              (e.part.dayIndex = k(n.rowlist, e.row)),
              (e.part.top = 0),
              (e.part.isBlock = !0),
              (e.part.grid = e.row.grid),
              (e.client = {}),
              (e.client.html = function () {
                return d.group.html;
              }),
              (e.data = {}),
              (s.event = e),
              this.elements.events.push(s),
              n.divEvents.appendChild(s),
              (e.rendered = !0),
              !0
            );
          }),
          (this.Ue = function (e, t) {
            t = t || {};
            var n = t.forced;
            if (e.rendered) return !1;
            if (E.groupConcurrentEvents) {
              var i = e.part.block;
              if (i.events.length > 1 && !i.expanded) return E.Xu(i);
            }
            var a = "Progressive" === this.dynamicEventRendering,
              r = e.part.dayIndex,
              l = e.part.grid || "main",
              s = E.pm[l],
              c = s.divEvents,
              h = s.rowlist,
              f = h[r];
            if (f.hidden) return !1;
            var g = Math.max(0, f.resource.maxLines || 1e5);
            if (e.part.line >= g) return !1;
            var b = f.top,
              w = this.xd(),
              x = w.pixels.left - this.dynamicEventRenderingMargin,
              k = w.pixels.right + this.dynamicEventRenderingMargin,
              C = w.pixels.top,
              _ = w.pixels.bottom,
              S = e.part.left,
              D = e.part.left + e.part.width,
              H = e.part.top + b,
              M = H + e.part.height,
              B = E.multiselect.Dd(e),
              N = k <= S || x >= D,
              P = "main" === l && (_ <= H || C >= M);
            if (!n && !B && a && (N || P)) return !1;
            var L = "Milestone" === e.data.type,
              z = e.part.width,
              I = e.part.height,
              O = e.cache || e.data,
              j = O.borderRadius || E.eventBorderRadius;
            "number" == typeof j && (j += "px");
            var U = O.padding || E.eventPadding;
            "number" == typeof U && (U += "px"), (z = u(0, z)), (I = u(0, I));
            var Y = o();
            if (
              ((Y.related = []),
              (function (t) {
                E.eventVersionsEnabled &&
                  y(O.versions).forEach(function (n, i) {
                    if (n) {
                      var a = e.versions[i];
                      if (a) {
                        var r = o();
                        (r.style.position = "absolute"),
                          (r.style.overflow = "hidden"),
                          (r.style.left = a.left + "px"),
                          (r.style.top = b + a.top + "px"),
                          (r.style.width = a.width + "px"),
                          (r.style.height = E.eventVersionHeight + "px"),
                          (r.className =
                            E.ca(A.event) +
                            " " +
                            E.ca("_event_previous") +
                            " " +
                            E.ca("_event_version")),
                          j && (r.style.borderRadius = j),
                          (r.onmousedown = function (e) {
                            e.preventDefault(), e.stopPropagation();
                          }),
                          n.toolTip && (r.title = n.toolTip),
                          n.cssClass && d(r, n.cssClass);
                        var l = o();
                        (l.className = E.ca(A.eventInner)),
                          (l.innerHTML = E.La(n.text, n.html)),
                          j && (l.style.borderRadius = j),
                          n.backColor && (l.style.background = n.backColor),
                          n.fontColor && (l.style.color = n.fontColor),
                          n.borderColor &&
                            (l.style.borderColor = n.borderColor),
                          n.backImage &&
                            ((l.style.backgroundImage =
                              "url(" + n.backImage + ")"),
                            n.backRepeat &&
                              (l.style.backgroundRepeat = n.backRepeat)),
                          r.appendChild(l),
                          a.continueLeft &&
                            !L &&
                            d(r, E.ca("_event_continueleft")),
                          a.continueRight &&
                            !L &&
                            d(r, E.ca("_event_continueright"));
                        var s = E.durationBarVisible && !n.barHidden,
                          u = a.width;
                        if (s && u > 0) {
                          var h = (100 * a.barLeft) / u,
                            f = Math.ceil((100 * a.barWidth) / u);
                          "PercentComplete" === E.durationBarMode &&
                            ((h = 0), (f = n.complete || 0));
                          var v = o();
                          (v.className = E.ca(A.eventBar)),
                            (v.style.position = "absolute"),
                            n.barBackColor &&
                              (v.style.backgroundColor = n.barBackColor);
                          var p = o();
                          (p.className = E.ca(A.eventBarInner)),
                            (p.style.left = h + "%"),
                            0 < f && f <= 1
                              ? (p.style.width = "1px")
                              : (p.style.width = f + "%"),
                            n.barColor &&
                              (p.style.backgroundColor = n.barColor),
                            n.barImageUrl &&
                              (p.style.backgroundImage =
                                "url(" + n.barImageUrl + ")"),
                            v.appendChild(p),
                            r.appendChild(v);
                        }
                        if (n.htmlLeft) {
                          var m = E.eventHtmlLeftMargin,
                            g = o();
                          (g.style.position = "absolute"),
                            (g.style.right = -(a.left - m) + "px"),
                            (g.style.top = b + a.top + "px"),
                            (g.style.height = E.eventVersionHeight + "px"),
                            (g.style.boxSizing = "border-box"),
                            (g.innerHTML = n.htmlLeft),
                            (g.className = E.ca("_event_left")),
                            (g.type = "divLeft"),
                            (g.versionPart = a),
                            t.related.push(g),
                            c.appendChild(g);
                        }
                        if (n.htmlRight) {
                          var m = E.eventHtmlRightMargin,
                            y = o();
                          (y.style.position = "absolute"),
                            (y.style.left = a.left + a.width + m + "px"),
                            (y.style.top = b + a.top + "px"),
                            (y.style.height = E.eventVersionHeight + "px"),
                            (y.style.boxSizing = "border-box"),
                            (y.innerHTML = n.htmlRight),
                            (y.className = E.ca("_event_right")),
                            (y.type = "divRight"),
                            (y.versionPart = a),
                            t.related.push(y),
                            c.appendChild(y);
                        }
                        (r.versionPart = a), (r.type = "version");
                        var w = DayPilot.Areas.resolvePosition(
                          n.areas,
                          E,
                          a.left,
                          a.width
                        );
                        DayPilot.Areas.attach(r, n, { areas: w }),
                          t.related.push(r),
                          c.appendChild(r);
                      }
                    }
                  });
              })(Y),
              O.htmlLeft)
            ) {
              var F = E.eventHtmlLeftMargin,
                q = o();
              (q.style.position = "absolute"),
                (q.style.right = -(e.part.left - F) + "px"),
                (q.style.top = b + e.part.top + "px"),
                (q.style.height = E.eventHeight + "px"),
                (q.style.boxSizing = "border-box"),
                (q.innerHTML = O.htmlLeft),
                (q.className = E.ca("_event_left")),
                (q.type = "divLeft"),
                Y.related.push(q),
                c.appendChild(q);
            }
            if (O.htmlRight) {
              var F = E.eventHtmlRightMargin,
                V = o();
              (V.style.position = "absolute"),
                (V.style.left = e.part.left + e.part.width + F + "px"),
                (V.style.top = b + e.part.top + "px"),
                (V.style.height = E.eventHeight + "px"),
                (V.style.boxSizing = "border-box"),
                (V.innerHTML = O.htmlRight),
                (V.className = E.ca("_event_right")),
                (V.type = "divRight"),
                Y.related.push(V),
                c.appendChild(V);
            }
            if (E.treeAnimation) {
              var J =
                "number" == typeof f.forcedHeight ? f.forcedHeight : f.height;
              e.part.top + e.part.height > J &&
                (I = Math.max(0, J - e.part.top));
            }
            (Y.style.position = "absolute"),
              (Y.style.left = e.part.left + E.eventMarginLeft + "px"),
              (Y.style.top = b + e.part.top + "px"),
              (Y.style.width =
                z - E.eventMarginLeft - E.eventMarginRight + "px"),
              (Y.style.height = I + "px"),
              E.eventTextWrappingEnabled || (Y.style.whiteSpace = "nowrap"),
              (Y.style.overflow = "hidden"),
              (Y.className = this.ca(A.event)),
              L && d(Y, E.ca("_task_milestone")),
              "Group" === e.data.type &&
                (d(Y, E.ca("_task_parent")), d(Y, E.ca("_task_group"))),
              O.cssClass && d(Y, O.cssClass);
            "number" == typeof e.part.line &&
              d(Y, this.ca(A.eventLine + e.part.line)),
              j && (Y.style.borderRadius = j),
              E.showToolTip &&
                !E.bubble &&
                (Y.title = e.client.toolTip() || ""),
              (Y.onmousemove = this.Ve),
              (Y.onmouseout = this.We),
              (Y.onmousedown = this.Xe),
              (Y.onmouseup = this.Yu),
              DayPilot.reNonPassive(Y, "touchstart", R.Zu),
              DayPilot.rePassive(Y, "touchmove", R.$u),
              DayPilot.reNonPassive(Y, "touchend", R._u),
              e.client.clickEnabled() && (Y.onclick = this.Pj),
              e.client.doubleClickEnabled() && (Y.ondblclick = this.cc),
              (Y.oncontextmenu = function (e) {
                E.allowDefaultContextMenu || e.preventDefault();
              }),
              "undefined" != typeof O.ariaLabel
                ? Y.setAttribute("aria-label", O.ariaLabel)
                : Y.setAttribute("aria-label", O.text),
              Y.setAttribute("tabindex", "-1");
            var G = o();
            (G.className = E.ca(A.eventInner)),
              j && (G.style.borderRadius = j),
              U && (G.style.padding = U),
              O.backColor && (G.style.background = O.backColor),
              "contrasting" === O.fontColor && O.backColor
                ? (G.style.color = DayPilot.ColorUtil.contrasting(O.backColor))
                : (G.style.color = O.fontColor),
              "darker" === O.borderColor && O.backColor
                ? (G.style.borderColor = DayPilot.ColorUtil.darker(
                    O.backColor,
                    2
                  ))
                : (G.style.borderColor = O.borderColor),
              O.backImage &&
                ((G.style.backgroundImage = "url(" + O.backImage + ")"),
                O.backRepeat && (G.style.backgroundRepeat = O.backRepeat)),
              Y.appendChild(G);
            var X = e.start().getTime() === e.part.start.getTime(),
              Z = e.rawend().getTime() === e.part.end.getTime();
            if (
              (X || L || d(Y, this.ca("_event_continueleft")),
              Z || L || d(Y, this.ca("_event_continueright")),
              e.client.barVisible() && z > 0 && !L)
            ) {
              var K = (100 * e.part.barLeft) / z,
                Q = Math.ceil((100 * e.part.barWidth) / z);
              "PercentComplete" === E.durationBarMode &&
                ((K = 0), (Q = O.complete || 0)),
                E.durationBarHeight &&
                  (G.style.paddingTop = E.durationBarHeight + "px");
              var $ = o();
              ($.className = this.ca(A.eventBar)),
                ($.style.position = "absolute"),
                E.durationBarHeight &&
                  ($.style.height = E.durationBarHeight + "px"),
                O.barBackColor && ($.style.backgroundColor = O.barBackColor);
              var ee = o();
              (ee.className = this.ca(A.eventBarInner)),
                (ee.style.left = K + "%"),
                E.durationBarHeight &&
                  (ee.style.height = E.durationBarHeight + "px"),
                0 < Q && Q <= 1
                  ? (ee.style.width = "1px")
                  : (ee.style.width = Q + "%"),
                O.barColor && (ee.style.backgroundColor = O.barColor),
                O.barImageUrl &&
                  (ee.style.backgroundImage = "url(" + O.barImageUrl + ")"),
                $.appendChild(ee),
                Y.appendChild($);
            }
            if (((Y.row = r), O.areas)) {
              var te = DayPilot.Areas.resolvePosition(
                O.areas,
                E,
                e.part.left,
                e.part.width
              );
              (te = te.filter(function (e) {
                return DayPilot.Areas.isVisible(e);
              })),
                te.forEach(function (t) {
                  var n = DayPilot.Areas.createArea(Y, e, t);
                  Y.appendChild(n);
                });
            }
            if (
              ((Y.event = e),
              B && (E.multiselect.add(Y.event, !0), E.multiselect.Od(Y)),
              T.source && W.gp(Y),
              (function () {
                if (
                  "function" != typeof E.onBeforeEventDomAdd &&
                  "function" != typeof E.onBeforeEventDomRemove
                )
                  return void (L || E.av(G, O.text, O.html));
                var t = {};
                if (
                  ((t.control = E),
                  (t.e = e),
                  (t.element = null),
                  (Y.domArgs = t),
                  "function" == typeof E.onDomAddEvent && E.onDomAddEvent(t),
                  "function" == typeof E.onBeforeEventDomAdd &&
                    E.onBeforeEventDomAdd(t),
                  t.element)
                ) {
                  var n = G;
                  if (n) {
                    t.Le = n;
                    var i = v(t.element),
                      a = p(t.element),
                      r = m(t.element);
                    if (i) {
                      if (!E.W.reactDOM)
                        throw new DayPilot.Exception("Can't reach ReactDOM");
                      E.W.V(t.element, n);
                    } else if (a) {
                      if (!E.Y.Ne)
                        throw new DayPilot.Exception("Can't reach Vue");
                      (E.Y.Oe = !0),
                        E.Y.Z(t.element, n, t.props),
                        (E.Y.Oe = !1);
                    } else if (r) {
                      if (!E.Y.Ne)
                        throw new DayPilot.Exception("Can't reach Vue");
                      (E.Y.Oe = !0), E.Y.Pe(t.element, n), (E.Y.Oe = !1);
                    } else n.appendChild(t.element);
                  }
                } else L || (G.innerHTML = e.client.innerHTML());
              })(),
              this.elements.events.push(Y),
              c.appendChild(Y),
              (e.rendered = !0),
              E.Kb())
            ) {
              if ("function" == typeof E.onAfterEventRender) {
                var ne = {};
                (ne.e = Y.event), (ne.div = Y), E.onAfterEventRender(ne);
              }
            } else E.afterEventRender && E.afterEventRender(Y.event, Y);
            return !0;
          }),
          (this.bv = function () {
            var e = o();
            e.className = E.ca("_event");
            var t = o();
            return (t.className = E.ca("_event_inner")), e.appendChild(t), e;
          }),
          (this.La = function (e, t) {
            return E.Ba.Ma()
              ? DayPilot.Util.escapeTextHtml(e, t)
              : h(t)
              ? h(e)
                ? ""
                : e
              : t;
          }),
          (this.av = function (e, t, n) {
            h(n)
              ? null !== t &&
                void 0 !== t &&
                (E.Ba.Ma() ? (e.innerText = t) : (e.innerHTML = t))
              : (e.innerHTML = n);
          }),
          (this.Kb = function () {
            return 2 === E.api;
          }),
          (this._n = function () {
            for (
              var e = function (e) {
                  var n = t.elements.events[e],
                    i = n.event,
                    a = i.part.dayIndex,
                    r = E.Uo(i.part.grid),
                    o = r.rowlist[a],
                    l = o.top,
                    s = l + i.part.top,
                    d =
                      "number" == typeof o.forcedHeight
                        ? o.forcedHeight
                        : o.height,
                    c = i.part.height;
                  i.part.top + i.part.height > d &&
                    (c = Math.max(0, d - i.part.top)),
                    (n.style.top = s + "px"),
                    (n.style.height = c + "px"),
                    y(n.related)
                      .filter(function (e) {
                        return !!e.versionPart;
                      })
                      .forEach(function (e) {
                        var t = e.versionPart;
                        e.style.top = l + t.top + "px";
                      }),
                    y(n.related)
                      .filter(function (e) {
                        return (
                          !e.versionPart &&
                          ("divLeft" === e.type || "divRight" === e.type)
                        );
                      })
                      .forEach(function (e) {
                        e.style.top = s + "px";
                      });
                },
                t = this,
                n = 0;
              n < this.elements.events.length;
              n++
            )
              e(n);
          }),
          (this.jh = function (e) {
            if (!e) return null;
            for (var t = 0; t < E.elements.events.length; t++) {
              var n = E.elements.events[t];
              if (E.Ld(n.event.data, e.data)) return n;
            }
            return null;
          }),
          (this.Np = function (e) {
            var t = E.events.xp(e.data);
            if (!t) return null;
            var n = E.rowlist[t.part.dayIndex];
            return E.zr(n), E.Ue(t, { forced: !0 }), E.jh(t);
          }),
          (this.We = function (e) {
            var t = e.currentTarget;
            DayPilot.Areas.hideAreas(t, e),
              t.active ||
                (s(t, E.ca("_event_hover")),
                E.cv(t),
                T.source || W.pp(),
                E.bubble &&
                  "Bubble" === E.eventHoverHandling &&
                  E.bubble.hideOnMouseOut());
          }),
          (this.dv = function (e) {
            var t = {};
            (t.div = e),
              (t.e = e.event),
              "function" == typeof this.onEventMouseOver &&
                this.onEventMouseOver(t),
              "function" == typeof this.onEventMouseEnter &&
                this.onEventMouseEnter(t);
          }),
          (this.cv = function (e) {
            var t = {};
            (t.div = e),
              (t.e = e.event),
              "function" == typeof this.onEventMouseOut &&
                this.onEventMouseOut(t),
              "function" == typeof this.onEventMouseLeave &&
                this.onEventMouseLeave(t);
          }),
          (this.ev = function (e) {
            var t = e.row,
              n = {};
            (n.div = e),
              (n.row = E.lo(t)),
              "function" == typeof this.onRowMouseOver &&
                this.onRowMouseOver(n);
          }),
          (this.fv = function (e) {
            var t = e.row,
              n = {};
            (n.div = e),
              (n.row = E.lo(t)),
              "function" == typeof this.onRowMouseOut && this.onRowMouseOut(n);
          }),
          (this.Ve = function (e) {
            E.cellBubble && E.cellBubble.delayedHide();
            for (var t = e.currentTarget; t && !t.event; ) t = t.parentNode;
            var n = t.event;
            E.gv(t, e);
            var i = t.event.cache
              ? t.event.cache.deleteDisabled
              : t.event.data.deleteDisabled;
            if (!t.active) {
              var a = [];
              if ("Disabled" !== E.eventDeleteHandling && !i) {
                var r = E.durationBarVisible ? H.Cr() : 0;
                a.push({
                  action: "JavaScript",
                  v: "Hover",
                  w: 17,
                  h: 17,
                  top: r + 2,
                  right: 2,
                  css: E.ca(A.eventDelete),
                  js: function (e) {
                    E.jc(e);
                  },
                });
              }
              if (!e.preventBubbleActivation) {
                var o = t.event.cache
                  ? t.event.cache.areas
                  : t.event.data.areas;
                o &&
                  o.length > 0 &&
                  ((o = DayPilot.Areas.resolvePosition(
                    o,
                    E,
                    n.part.left,
                    n.part.width
                  )),
                  (a = a.concat(o))),
                  DayPilot.Areas.showAreas(t, t.event, null, a);
              }
              d(t, E.ca("_event_hover")), E.dv(t);
            }
            "Disabled" === E.linkCreateHandling ||
              T.source ||
              (W.jp(), W.On(), E.Eu() && W.gp(t)),
              E.pn(e),
              (E.coords.insideEvent = t.event);
          }),
          (this.mn = {}),
          (this.Yu = function (e) {
            var t = E.mn;
            if (g(e).right) return void E.dc.call(this, e);
            if (E.ionicEventClickFix) {
              var n = t.Yf;
              if (n) {
                var i = DayPilot.mc(e);
                n.x === i.x &&
                  n.y === i.y &&
                  (E.Pj.call(this, e), e.preventDefault(), e.stopPropagation());
              }
            }
          }),
          (this.Xe = function (e) {
            E.gb(),
              "undefined" != typeof DayPilot.Bubble &&
                (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()),
              E.pn(e);
            var t = g(e);
            if ((e.preventDefault(), e.stopPropagation(), t.left)) {
              var a = e.shiftKey;
              if ("Disabled" !== H.qn() && a) return P.start(), !1;
              "w-resize" === this.style.cursor ||
              "e-resize" === this.style.cursor
                ? ((n.ln = !0),
                  (n.nq = this),
                  (n.Gq = this.event),
                  (n.Yf = DayPilot.mc(e)),
                  (r().style.cursor = this.style.cursor),
                  W.On())
                : "not-allowed" === this.style.cursor
                ? i()
                : ("move" === this.style.cursor ||
                    ("Full" === E.moveBy && this.event.client.moveEnabled())) &&
                  E.ne(this, e);
            }
            DayPilot.Menu &&
              DayPilot.Menu.active &&
              (DayPilot.Menu.active.hide(), (DayPilot.Menu.active = null));
          }),
          (this.ne = function (e, t) {
            var n = E.mn;
            E.pn(t),
              (n.hv = !0),
              (n.mn = e),
              (n.jq = e.event),
              (n.Yf = DayPilot.mc(t)),
              (n.iq = DayPilot.mo3(e, t).x),
              (n.mq = E.getDate(E.coords.x, !0)),
              W.On();
          }),
          "undefined" == typeof b.touch && (b.touch = {}),
          (b.touch.active = !1),
          (b.touch.start = !1),
          (R.nn = []),
          (R.relativeCoords = function (e) {
            return R.Ug(e);
          }),
          (R.startResizing = function (e, t) {
            R.ze(e, t);
          }),
          (R.startMoving = function (e, t) {
            R.ne(e, t);
          }),
          (R.Zu = function (e) {
            if (!b.touch.active && !b.touch.start) {
              DayPilot.Menu && DayPilot.Menu.touchPosition(e),
                e.stopPropagation(),
                R.iv(),
                (b.touch.start = !0),
                (b.touch.active = !1);
              var n = e.currentTarget;
              E.coords = R.Ug(e);
              var i = E.tapAndHoldTimeout;
              R.nn.push(
                window.setTimeout(function () {
                  (b.touch.active = !0), (b.touch.start = !1);
                  var i = n.event;
                  if (i)
                    switch (E.eventTapAndHoldHandling) {
                      case "Move":
                        if (i.client.moveEnabled()) {
                          var a = t(e);
                          R.ne(n, a);
                        }
                        break;
                      case "ContextMenu":
                        DayPilot.Menu && DayPilot.Menu.touchPosition(e);
                        var r = i.client.contextMenu();
                        r ? r.show(i) : E.contextMenu && E.contextMenu.show(i);
                    }
                }, i)
              );
            }
          }),
          (R.$u = function () {
            R.iv(), (b.touch.start = !1);
          }),
          (R._u = function (e) {
            if (!DayPilot.Util.isMouseEvent(e)) {
              if ((R.iv(), b.touch.start)) {
                (b.touch.start = !1), e.preventDefault(), e.stopPropagation();
                var t = e.currentTarget;
                window.setTimeout(function () {
                  E.$b(t, e);
                });
              }
              window.setTimeout(function () {
                (b.touch.start = !1), (b.touch.active = !1);
              }, 500);
            }
          }),
          (R.mf = function (e) {
            if (
              !(
                b.touch.active ||
                b.touch.start ||
                e.touches.length > 1 ||
                "Disabled" === E.timeRangeSelectedHandling
              )
            ) {
              R.iv(), (b.touch.start = !0), (b.touch.active = !1);
              var t = E.tapAndHoldTimeout;
              R.nn.push(
                window.setTimeout(function () {
                  (b.touch.active = !0),
                    (b.touch.start = !1),
                    "Always" !== E.multiRangeMode && N.clear(),
                    (E.coords = R.Ug(e)),
                    E.Tc(E.coords) ? E.jv(e) : (R.oq = E.kv());
                }, t)
              );
              E.coords = R.Ug(e);
            }
          }),
          (R.nf = function (e) {
            if ((R.iv(), (b.touch.start = !1), n.nq))
              return e.preventDefault(), void R.Yg();
            if (b.touch.active) {
              if ((e.preventDefault(), (E.coords = R.Ug(e)), n.mn))
                return void R.Zg();
              if (R.oq) {
                var t = R.oq;
                (t.end = {
                  x: Math.floor(E.coords.x / E.cellWidth),
                  time: E.getDate(E.coords.x, !0),
                }),
                  E.go(t);
              }
            }
          }),
          (R.debug = function () {}),
          (R.of = function (e) {
            R.iv();
            var t = function (e) {
              E.elements.range2.overlapping
                ? (x(E.elements.range2), (E.elements.range2 = null), E.as())
                : E.Dl.add(e),
                (n.oq = null),
                E.Dl.dispatch();
            };
            if (b.touch.active) {
              if (n.mn) {
                e.preventDefault();
                var i = n.jq;
                if (E !== n.Sr.calendar) return;
                var a = n.Sr.start,
                  o = n.Sr.end,
                  l = "Days" !== E.viewType ? n.Sr.row.id : null,
                  d = b.drag && i.part.external,
                  c = n.Sr.overlapping,
                  u = !n.Sr.allowed;
                if (
                  (s(n.mn, E.ca(E.Cl.eventMovingSource)),
                  x(n.Sr),
                  E.as(),
                  (n.Sr.calendar = null),
                  (r().style.cursor = ""),
                  (n.mn = null),
                  (n.jq = null),
                  (n.Sr = null),
                  E.Ll.clear(),
                  c || u || E.Ll.forbidden || E.Ll.invalid)
                )
                  return;
                E.zc(i, a, o, l, d);
              }
              if (R.oq) {
                var h = R.oq;
                if (((R.oq = null), E.allowMultiRange && E.elements.range2))
                  t(h);
                else {
                  var f = E.elements.range2;
                  f && f.overlapping
                    ? E.clearSelection()
                    : ((E.fo = h), E.co(h));
                }
              }
            } else if (b.touch.start) {
              if (E.coords.x < E.getScrollX()) return;
              "Always" !== E.multiRangeMode && N.clear();
              var h = E.kv();
              E.go(h);
              var f = E.elements.range2;
              f && E.allowMultiRange
                ? t(h)
                : f && f.overlapping
                ? E.clearSelection()
                : ((E.fo = h), E.co(h));
            }
            window.setTimeout(function () {
              (b.touch.start = !1), (b.touch.active = !1);
            }, 500);
          }),
          (R.iv = function () {
            for (var e = 0; e < R.nn.length; e++) clearTimeout(R.nn[e]);
            R.nn = [];
          }),
          (R.Ug = function (e) {
            function t(e, t, n) {
              var i = DayPilot.abs(n);
              return {
                x: e - i.x,
                y: t - i.y,
                toString: function () {
                  return "x: " + this.x + ", y:" + this.y;
                },
              };
            }
            var n = E.nm,
              i = e.touches ? e.touches[0] : e,
              a = i.pageX,
              r = i.pageY,
              o = t(a, r, n);
            if (((o.grid = "main"), E.pm.top.enabled())) {
              var l = E.pm.top,
                s = t(a, r, l.divCells);
              s.y > 0 && s.y <= l.height && ((o = s), (o.grid = "top"));
            }
            if (E.pm.bottom.enabled()) {
              var d = E.pm.bottom,
                c = t(a, r, d.divCells);
              c.y > 0 && c.y <= top.height && ((o = c), (o.grid = "bottom"));
            }
            return o;
          }),
          (R.ne = function (e, t) {
            (n.mn = e), (n.jq = e.event), (n.Yf = t);
            var i = DayPilot.abs(e);
            (n.iq = t.x - i.x),
              (n.mq = E.getDate(E.coords.x, !0)),
              (n.Sr = E.Lb(e)),
              E.Dq();
          }),
          (R.ze = function (e, t) {
            (n.nq = e),
              (n.Gq = e.event),
              (n.nq.dpBorder = t),
              n.Fq || (n.Fq = E.Lb(e)),
              E.Ur();
          }),
          (R.Yg = function () {
            if (!n.Fq) {
              var e = n.nq;
              n.Fq = E.Lb(e);
            }
            E.Ur();
            var t = { x: E.coords.x, y: E.coords.y, grid: E.coords.grid };
            E.bg(t);
          }),
          (R.Zg = function () {
            if ((n.Sr && n.Sr.calendar !== E && E.as(), !n.Sr)) {
              var e = n.mn;
              n.Sr = E.Lb(e);
            }
            n.Sr.calendar.Dq();
            var t = { x: E.coords.x, y: E.coords.y, grid: E.coords.grid };
            E.bg(t);
          }),
          (R.Fs = function (e) {
            var t = this.row,
              n = E.lo(t);
            if (!(b.touch.active || b.touch.start || e.touches.length > 1)) {
              R.iv(), (b.touch.start = !0), (b.touch.active = !1);
              var i = E.tapAndHoldTimeout;
              R.nn.push(
                window.setTimeout(function () {
                  (b.touch.active = !0),
                    (b.touch.start = !1),
                    e.preventDefault(),
                    E.contextMenuResource && E.contextMenuResource.show(n);
                }, i)
              );
              E.coords = R.Ug(e);
            }
          }),
          (R.Gs = function (e) {
            b.touch.active &&
              ((b.touch.start = !1), e.preventDefault(), e.stopPropagation()),
              window.setTimeout(function () {
                (b.touch.start = !1), (b.touch.active = !1);
              }, 500);
          }),
          (this.gv = function (e, t) {
            var i = this.eventResizeMargin,
              a = this.eventMoveMargin,
              r = e;
            if ("undefined" != typeof n) {
              var o = DayPilot.mo3(e, t);
              if (o && ((E.eventOffset = o), !n.nq && !n.mn)) {
                var l =
                    r.event.part.start.toString() ===
                    r.event.start().toString(),
                  s =
                    r.event.part.end.toString() === r.event.rawend().toString();
                if (
                  ("Top" === E.moveBy &&
                  o.y <= a &&
                  r.event.client.moveEnabled() &&
                  "Disabled" !== E.eventMoveHandling
                    ? (e.style.cursor = "move")
                    : ("Top" === E.moveBy || "Full" === E.moveBy) &&
                      o.x <= i &&
                      r.event.client.resizeEnabled() &&
                      "Disabled" !== E.eventResizeHandling
                    ? l
                      ? ((e.style.cursor = "w-resize"), (e.dpBorder = "left"))
                      : (e.style.cursor = "not-allowed")
                    : "Left" === E.moveBy &&
                      o.x <= a &&
                      r.event.client.moveEnabled() &&
                      "Disabled" !== E.eventMoveHandling
                    ? (e.style.cursor = "move")
                    : e.offsetWidth - o.x <= i &&
                      r.event.client.resizeEnabled() &&
                      "Disabled" !== E.eventResizeHandling
                    ? s
                      ? ((e.style.cursor = "e-resize"), (e.dpBorder = "right"))
                      : (e.style.cursor = "not-allowed")
                    : n.nq ||
                      n.mn ||
                      (r.event.client.clickEnabled() &&
                      "Disabled" !== E.eventClickHandling
                        ? (e.style.cursor = "pointer")
                        : (e.style.cursor = "default")),
                  "undefined" != typeof DayPilot.Bubble &&
                    E.bubble &&
                    "Bubble" === E.eventHoverHandling &&
                    ("default" === e.style.cursor ||
                      "pointer" === e.style.cursor ||
                      E.eventBubbleShowForMargins))
                ) {
                  var d = this.$g && o.x === this.$g.x && o.y === this.$g.y;
                  (d = !1),
                    d ||
                      ((this.$g = o),
                      t.preventBubbleActivation || E.bubble.showEvent(e.event));
                }
              }
            }
          }),
          (this.cr = function () {
            return "Days" !== this.viewType
              ? this.itline.length
              : Math.floor(1440 / this.cellDuration);
          }),
          (this.do = function (e) {
            if (((e = e || n.oq || E.fo), !e)) return null;
            var t = E.Uo(e.start.grid),
              i = t.rowlist[e.start.y];
            if (!i) return null;
            var a = e.lv ? e.lv : e,
              r = a.end.time > a.start.time,
              o = i.id,
              l = r ? a.start.x : a.end.x,
              s = r ? a.end.x : a.start.x,
              d = i.start.getTime() - this.Ub().getTime(),
              c = E.snapToGrid && E.snapToGridTimeRangeSelecting;
            e.forceSnap && (c = !0);
            var u, h;
            c
              ? ((u = this.itline[l].start.addTime(d)),
                (h = this.itline[s].end.addTime(d)))
              : r
              ? ((u = a.start.time), (h = a.end.time))
              : ((u = a.end.time), (h = a.start.time));
            var f = new DayPilot.Selection(u, h, o, E);
            return (f.allowed = !e.div || !e.div.overlapping), f;
          }),
          (this.sd = function (e) {
            var t = e.parentNode,
              n = E.eventEditMinWidth,
              i = (e.event.text() || "").trim(),
              a = document.createElement("textarea");
            return (
              (a.style.position = "absolute"),
              (a.style.width =
                (e.offsetWidth < n ? n : e.offsetWidth - 2) + "px"),
              (a.style.height = e.offsetHeight - 2 + "px"),
              (a.style.fontFamily =
                DayPilot.gs(e, "fontFamily") || DayPilot.gs(e, "font-family")),
              (a.style.fontSize =
                DayPilot.gs(e, "fontSize") || DayPilot.gs(e, "font-size")),
              (a.style.left = e.offsetLeft + "px"),
              (a.style.top = e.offsetTop + "px"),
              (a.style.border = "1px solid black"),
              (a.style.padding = "1px"),
              (a.style.marginTop = "0px"),
              (a.style.backgroundColor = "white"),
              (a.value = i),
              (a.event = e.event),
              t.appendChild(a),
              a
            );
          }),
          (this.mv = function (e) {
            var t = G.Rk();
            t.sort(function (e, t) {
              var n = e.event,
                i = t.event;
              return n.part.dayIndex !== i.part.dayIndex
                ? n.part.dayIndex - i.part.dayIndex
                : n.start() !== i.start()
                ? n.start().getTime() - i.start().getTime()
                : i.end().getTime() - n.end().getTime();
            });
            var n = t.indexOf(e);
            return n === -1 ? null : n + 1 < t.length ? t[n + 1] : t[0];
          }),
          (this._b = function (e) {
            if (e) {
              if ((n.Pp && n.Pp.blur(), e.event)) {
                var t = e.event;
                B.Qp();
                var i = this.sd(e);
                if (
                  ((n.Pp = i),
                  DayPilot.rePassive(i, DayPilot.touch.start, function (e) {
                    e.stopPropagation();
                  }),
                  (i.onblur = function () {
                    if (
                      ((i.onblur = null),
                      n.Pp === i && (n.Pp = null),
                      i.parentNode && i.parentNode.removeChild(i),
                      e.event)
                    ) {
                      var t = i.value;
                      E.Mc(e.event, t, i.canceling);
                    }
                  }),
                  (i.onmousedown = function (e) {
                    e.stopPropagation();
                  }),
                  (i.cancel = function () {
                    n.Pp && ((n.Pp.canceling = !0), n.Pp.blur());
                  }),
                  (i.onkeydown = function (a) {
                    if ("function" == typeof E.onEventEditKeyDown) {
                      var r = {};
                      if (
                        ((r.e = e.event),
                        (r.element = i),
                        (r.preventDefault = function () {
                          r.preventDefault.value = !0;
                        }),
                        (r.submit = function () {
                          i.onblur();
                        }),
                        (r.cancel = function () {
                          n.Pp.cancel();
                        }),
                        (r.originalEvent = a),
                        E.onEventEditKeyDown(r),
                        r.preventDefault.value)
                      )
                        return;
                    }
                    var o = n.Pp,
                      l = a.keyCode;
                    if (
                      (13 === l && (a.stopPropagation(), this.onblur()),
                      27 === l)
                    )
                      o.cancel();
                    else if (9 === l && E.eventEditTabNext) {
                      var s = E.jh(t),
                        d = E.mv(s);
                      return (
                        o && o.cancel(),
                        d &&
                          setTimeout(function () {
                            E._b(d);
                          }, 0),
                        !1
                      );
                    }
                  }),
                  "function" == typeof E.onAfterEventEditRender)
                ) {
                  var a = {};
                  (a.element = i), (a.e = e.event), E.onAfterEventEditRender(a);
                }
                i.select(), i.focus();
              }
            }
          }),
          (this.nv = {}),
          (this.nv.resource = (function () {
            return "undefined" != typeof DayPilot.Bubble
              ? new DayPilot.Bubble()
              : {
                  showResource: function () {},
                  hideOnMouseOut: function () {},
                };
          })()),
          (this.nv.cell = (function () {
            return "undefined" != typeof DayPilot.Bubble
              ? new DayPilot.Bubble()
              : {
                  showResource: function () {},
                  hideOnMouseOut: function () {},
                };
          })()),
          (this.zs = function (e) {
            var t = e.currentTarget,
              n = t.row;
            if (
              (E.ib(),
              (E.ov = !0),
              clearTimeout(E.pv),
              (E.pv = setTimeout(function () {
                E.ov = !1;
              }, 500)),
              "undefined" != typeof DayPilot.Bubble)
            ) {
              E.cellBubble;
              var i = E.lo(n);
              (i.div = t),
                E.resourceBubble
                  ? E.resourceBubble.showResource(i)
                  : n.bubbleHtml && E.nv.resource.showResource(i);
            }
          }),
          (this.xs = function (e) {
            var t = e.currentTarget;
            t.active || ((t.active = !0), E.ev(t));
          }),
          (this.ys = function (e) {
            var t = e.currentTarget;
            delete t.active, E.fv(t);
          }),
          (this.As = function (e) {
            var t = e.currentTarget;
            "undefined" != typeof DayPilot.Bubble && E.resourceBubble
              ? E.resourceBubble.hideOnMouseOut()
              : E.nv.resource.hideOnMouseOut();
            var n = t.firstChild;
            DayPilot.Areas.hideAreas(n, e), (n.data = null);
          }),
          (this.Bs = function (e) {
            _.row &&
              ((M.cancelClick = !0),
              setTimeout(function () {
                M.cancelClick = !1;
              }, 100)),
              E.pt && ((E.pt = !1), clearTimeout(E.qt), E.Ds.call(this, e));
          }),
          (this.Wl = function () {
            if ("None" !== E.timeHeaderPosition && this.timeHeader) {
              (this.va.timeHeader = {}),
                E.elements.timeHeader.length > 0 && E.Ko();
              var e = o();
              (e.style.position = "relative"), (this.nav.timeHeader = e);
              for (var t = 0; t < this.timeHeader.length; t++)
                for (var n = this.timeHeader[t], i = 0; i < n.length; i++)
                  this.qv(i, t);
              var a = this.divNorth;
              1 === a.childNodes.length
                ? a.replaceChild(e, a.childNodes[0])
                : ((a.innerHTML = ""), a.appendChild(e));
              var r = this.Fm();
              (a.style.width = r + 5e3 + "px"),
                r > 0 && (this.divStretch.style.width = r + "px"),
                E.rv();
            }
          }),
          (this.ab = function () {
            if (E.divCorner) {
              var e = E.divCorner && E.divCorner.domArgs;
              if (
                ((E.divCorner.domArgs = null),
                e &&
                  ("function" == typeof E.onBeforeCornerDomRemove &&
                    E.onBeforeCornerDomRemove(e),
                  "function" == typeof E.onBeforeCornerDomAdd))
              ) {
                var t = E.divCorner;
                if (t) {
                  var n = E.W.reactDOM && v(e.element),
                    i = E.Y.Ne && (p(e.element) || m(e.element));
                  n
                    ? E.W.ka(t)
                    : i && ((E.Y.Oe = !0), E.Y.la(t), (E.Y.Oe = !1));
                }
              }
            }
          }),
          (this.gn = function (e, t) {
            var n = null,
              i = this.Ba.Xc();
            t = t || this.cellGroupBy;
            var a = e.start;
            switch (t) {
              case "Minute":
                n = a.toString("m");
                break;
              case "Hour":
                n =
                  "Clock12Hours" === E.Ba.Wc()
                    ? a.toString("h tt", i)
                    : a.toString("H", i);
                break;
              case "Day":
                n = a.toString(i.datePattern);
                break;
              case "Week":
                n = 1 === H.Wd() ? a.weekNumberISO() : a.weekNumber();
                break;
              case "Month":
                n = a.toString("MMMM yyyy", i);
                break;
              case "Quarter":
                n = "Q" + Math.floor(a.getMonth() / 3 + 1);
                break;
              case "Year":
                n = a.toString("yyyy");
                break;
              case "None":
                n = "";
                break;
              case "Cell":
                var r = (e.end.ticks - e.start.ticks) / 6e4;
                n = this.sv(a, r);
                break;
              default:
                throw new DayPilot.Exception("Invalid groupBy value: " + t);
            }
            return n;
          }),
          (this.sv = function (e, t) {
            var n = this.Ba.Xc();
            return (
              (t = t || this.cellDuration),
              t < 1
                ? e.toString("ss")
                : t < 60
                ? e.toString("mm")
                : t < 1440
                ? "Clock12Hours" === E.Ba.Wc()
                  ? e.toString("h tt", n)
                  : e.toString("H", n)
                : t < 10080
                ? e.toString("d")
                : 10080 === t
                ? 1 === H.Wd()
                  ? e.weekNumberISO()
                  : e.weekNumber()
                : e.toString("MMMM yyyy", n)
            );
          }),
          (this.cn = function (e) {
            var t = this.scale;
            switch (t) {
              case "Cell":
                throw new DayPilot.Exception("Invalid scale: Cell");
              case "Manual":
                throw new DayPilot.Exception(
                  "Internal error (addScaleSize in Manual mode)"
                );
              case "CellDuration":
                return e.addMinutes(this.cellDuration);
              default:
                return this.en(e, t, !0);
            }
          }),
          (this.en = function (e, t, n) {
            var i, a;
            if (n) {
              var r = "Days" !== this.viewType ? this.days : 1;
              (a = this.startDate.addDays(r)),
                "Manual" === E.scale && (a = E.je());
            } else
              (a = E.je()),
                "Days" === E.viewType && (a = E.startDate.addDays(1));
            t = t || this.cellGroupBy;
            var o = 60;
            switch (t) {
              case "Minute":
                e.getMinutes() + e.getSeconds() + e.getMilliseconds() > 0 &&
                  (e = e
                    .getDatePart()
                    .addHours(e.getHours())
                    .addMinutes(e.getMinutes())),
                  (i = e.addMinutes(1));
                break;
              case "Hour":
                e.getHours() +
                  e.getMinutes() +
                  e.getSeconds() +
                  e.getMilliseconds() >
                  0 && (e = e.getDatePart().addHours(e.getHours())),
                  (i = e.addHours(1));
                break;
              case "Day":
                i = e.getDatePart().addDays(1);
                break;
              case "Week":
                for (i = e.getDatePart().addDays(1); i.dayOfWeek() !== H.Wd(); )
                  i = i.addDays(1);
                break;
              case "Month":
                (e = e.getDatePart()),
                  (i = e.addMonths(1)),
                  (i = i.firstDayOfMonth());
                for (
                  var l = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0;
                  !l;

                )
                  (i = i.addHours(1)),
                    (l = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0);
                break;
              case "Quarter":
                for (
                  e = e.getDatePart(),
                    i = e.addMonths(1),
                    i = i.firstDayOfMonth();
                  i.getMonth() % 3;

                )
                  i = i.addMonths(1);
                for (
                  var l = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0;
                  !l;

                )
                  (i = i.addHours(1)),
                    (l = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0);
                break;
              case "Year":
                (e = e.getDatePart()),
                  (i = e.addYears(1)),
                  (i = i.firstDayOfYear());
                for (
                  var l = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0;
                  !l;

                )
                  (i = i.addHours(1)),
                    (l = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0);
                break;
              case "None":
                i = a;
                break;
              case "Cell":
                var s = this.kn(e);
                i = s.current
                  ? s.current.end
                  : s.past
                  ? s.previous.end
                  : s.next.start;
                break;
              default:
                throw n
                  ? new DayPilot.Exception("Invalid scale value: " + t)
                  : new DayPilot.Exception("Invalid groupBy value: " + t);
            }
            return i.getTime() > a.getTime() && (i = a), i;
          }),
          (this.Cl.timeheadercol = "_timeheadercol"),
          (this.Cl.timeheadercol = "_timeheadercol"),
          (this.Cl.timeheadercolInner = "_timeheadercol_inner"),
          (this.Cl.resourcedivider = "_resourcedivider"),
          (this.Cl.eventFloat = "_event_float"),
          (this.Cl.eventFloatInner = "_event_float_inner"),
          (this.Cl.event = "_event"),
          (this.Cl.eventInner = "_event_inner"),
          (this.Cl.eventBar = "_event_bar"),
          (this.Cl.eventBarInner = "_event_bar_inner"),
          (this.Cl.eventDelete = "_event_delete"),
          (this.Cl.eventLine = "_event_line"),
          (this.Cl.eventMovingSource = "_event_moving_source"),
          (this.qv = function (e, t) {
            var n = this.nav.timeHeader,
              i = this.timeHeader[t][e],
              a = e === this.timeHeader[t].length - 1,
              r = t < this.timeHeader.length - 1,
              l = i.left,
              s = i.width,
              c = I.Dr(t),
              u = c.top,
              h = c.height,
              f = o();
            (f.style.position = "absolute"),
              (f.style.top = u + "px"),
              (f.style.left = l + "px"),
              (f.style.width = s + "px"),
              (f.style.height = h + "px"),
              i.toolTip && !E.timeHeaderBubble && (f.title = i.toolTip),
              f.setAttribute("aria-hidden", "true"),
              i.cssClass && d(f, i.cssClass),
              (f.style.userSelect = "none"),
              (f.style.webkitUserSelect = "none"),
              (f.cell = {}),
              (f.cell.start = i.start),
              (f.cell.end = i.end),
              (f.cell.level = t),
              (f.cell.th = i),
              (f.onclick = this.Ks),
              (f.oncontextmenu = this.Ls),
              (f.onmousemove = this.Bf),
              (f.onmouseout = this.Cf),
              DayPilot.rePassive(f, DayPilot.touch.start, function (e) {
                e.stopPropagation();
              }),
              (f.style.overflow = "hidden"),
              E.timeHeaderTextWrappingEnabled ||
                (f.style.whiteSpace = "nowrap");
            var g = o();
            E.av(g, i.text, i.innerHTML),
              i.backColor && (g.style.background = i.backColor),
              i.fontColor && (g.style.color = i.fontColor);
            var b = this.ca(A.timeheadercol),
              y = this.ca(A.timeheadercolInner);
            r &&
              ((b = this.ca("_timeheadergroup")),
              (y = this.ca("_timeheadergroup_inner"))),
              d(f, b),
              d(g, y),
              d(f, E.ca("_timeheader_cell")),
              d(g, E.ca("_timeheader_cell_inner")),
              a && d(f, E.ca("_timeheader_cell_last")),
              (function () {
                if (
                  "function" == typeof E.onBeforeTimeHeaderDomAdd ||
                  "function" == typeof E.onBeforeTimeHeaderDomRemove
                ) {
                  var e = {};
                  if (
                    ((e.control = E),
                    (e.header = {}),
                    (e.header.start = i.start),
                    (e.header.end = i.end),
                    (e.header.level = t),
                    (e.element = null),
                    (f.domArgs = e),
                    "function" == typeof E.onBeforeTimeHeaderDomAdd)
                  ) {
                    E.onBeforeTimeHeaderDomAdd(e);
                    var n = e.element;
                    if (n) {
                      g.innerHTML = "";
                      var a = o();
                      g.appendChild(a), (e.Le = a);
                      var r = v(n),
                        l = p(n),
                        s = m(n);
                      if (r) {
                        if (!E.W.reactDOM)
                          throw new DayPilot.Exception("Can't reach ReactDOM");
                        E.W.V(n, a);
                      } else if (l) {
                        if (!E.Y.Ne)
                          throw new DayPilot.Exception("Can't reach Vue");
                        (E.Y.Oe = !0),
                          E.Y.Z(e.element, a, e.props),
                          (E.Y.Oe = !1);
                      } else if (s) {
                        if (!E.Y.Ne)
                          throw new DayPilot.Exception("Can't reach Vue");
                        (E.Y.Oe = !0), E.Y.Pe(e.element, a), (E.Y.Oe = !1);
                      } else a.appendChild(n);
                    }
                  }
                }
              })(),
              f.appendChild(g);
            var w = DayPilot.Areas.resolvePosition(i.areas, E, l, s),
              x = i;
            i.$ && i.$.areaSource && (x = i.$.areaSource),
              DayPilot.Areas.attach(f, x, { areas: w }),
              (this.va.timeHeader[e + "_" + t] = f),
              this.elements.timeHeader.push(f),
              n.appendChild(f);
          }),
          (this.tv = function () {
            var e = E.timeHeader,
              t = e.length - 1;
            if (t < 0) return null;
            for (
              var n = e[t], i = DayPilot.Date.now(), a = 0;
              a < n.length;
              a++
            ) {
              var r = n[a];
              if (r.start <= i && i <= r.end)
                return E.va.timeHeader[a + "_" + t];
            }
            return null;
          }),
          (this.uv = null),
          (this.rv = function () {
            var e = E.ca("_timeheader_cell_now"),
              t = E.uv,
              n = E.tv();
            t !== n && (s(t, e), d(n, e), (E.uv = n));
          }),
          (this.vv = null),
          (this.wv = function () {
            clearTimeout(E.vv),
              (E.vv = setTimeout(function () {
                E.rv(), E.wv();
              }, 5e3));
          }),
          (this.Lo = function () {
            clearTimeout(E.vv);
          }),
          (this.Rn = function () {
            clearTimeout(E.vv), E.showCurrentTimeHeader && (E.rv(), E.wv());
          }),
          (this.wn = function () {
            return E.rl
              ? void L.Xs()
              : (E.Ym().forEach(function (e) {
                  var t = e.getHeight() + e.marginBottom + e.marginTop;
                  e.height !== t && (E.Yn = !0), (e.height = t);
                }),
                void (E.Yn && (E.va.drawArea = null)));
          }),
          (this.Yl = function () {
            E.Ym().forEach(function (e) {
              if (!e.hidden) {
                var t = E.Uo(e.grid),
                  n = t.divHeader;
                if (n) {
                  var i = e.index;
                  if (n.rows[i])
                    for (var a = 0; a < n.rows[i].cells.length; a++) {
                      var r = n.rows[i].cells[a],
                        o = t.rowlist[i].cells[a];
                      E.ns && r && (r.style.top = e.top + "px");
                      var l = e.height;
                      o.rowspan > 1 && (l = o.totalHeight()),
                        r &&
                          r.firstChild &&
                          parseInt(r.firstChild.style.height, 10) !== l &&
                          (r.firstChild.style.height = l + "px");
                    }
                }
              }
            }),
              E.ns &&
                E.nav.resScrollSpace &&
                (E.nav.resScrollSpace.style.top = E.vl + "px");
          }),
          (this.dh = function (e) {
            var t = this.separators[e];
            (t.location = t.location || t.Location),
              (t.color = t.color || t.Color),
              (t.layer = t.layer || t.Layer),
              (t.width = t.width || t.Width),
              (t.opacity = t.opacity || t.Opacity);
            var n = new DayPilot.Date(t.location),
              i = t.color,
              a = t.width ? t.width : 1,
              r = !!t.layer && "AboveEvents" === t.layer,
              l = t.opacity ? t.opacity : 100;
            if (
              !(
                n.getTime() < E.Ub().getTime() ||
                n.getTime() >= E.je().getTime()
              )
            ) {
              var s = this.getPixels(n);
              if (!s.cut && !(s.left < 0 || s.left > E.Fm())) {
                var d = o();
                (d.style.width = a + "px"),
                  (d.style.height = E.vl + "px"),
                  (d.style.position = "absolute"),
                  (d.style.left = s.left - 1 + "px"),
                  (d.style.top = "0px"),
                  (d.style.backgroundColor = i),
                  (d.style.opacity = l / 100),
                  (d.style.filter = "alpha(opacity=" + l + ")"),
                  (d.className = E.ca("_separator")),
                  t.cssClass && (d.className += " " + t.cssClass),
                  t.toolTip && (d.title = t.toolTip),
                  r
                    ? this.divSeparatorsAbove.appendChild(d)
                    : this.divSeparators.appendChild(d),
                  this.elements.separators.push(d);
              }
            }
          }),
          (this.jg = function () {}),
          (this.yu = function (e) {
            if ("Disabled" === E.timeRangeDoubleClickHandling) return !1;
            n.xv && (clearTimeout(n.xv), (n.xv = null)),
              E.pn(e),
              e.stopPropagation(),
              (e.cancelBubble = !0);
            var t = E.Tc(E.coords);
            if (t) {
              var i = E.do(t);
              E.Lc(i.start, i.end, i.resource);
            } else if (((n.oq = E.kv()), n.oq)) {
              n.yv = E;
              var i = E.do(n.oq);
              E.Lc(i.start, i.end, i.resource), (E.fo = n.oq);
            }
            n.oq = null;
          }),
          (this.vu = function (e) {
            var t = g(e);
            if (
              ("undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide(),
              !(
                ("Disabled" === E.timeRangeRightClickHandling && t.right) ||
                b.touch.start ||
                b.touch.active
              ))
            ) {
              if ((E.zv(), E.ib(), E.pn(e), n.bn)) return !1;
              if (E.Lg()) return !1;
              var i = E.Tc(E.coords);
              if (t.middle || (t.right && i)) return !1;
              if (i) return !1;
              var a = t.left
                ? "left"
                : t.right
                ? "right"
                : t.middle
                ? "middle"
                : "unknown";
              E.Av = a;
              var r = e.ctrlKey,
                o = e.metaKey,
                l = e.shiftKey,
                s = E.multiRangeMode,
                d = r || o || "Always" === s,
                c = {};
              if (
                ((c.action = "None"),
                "Disabled" !== H.qn() && l
                  ? (c.action = "RectangleSelect")
                  : "Disabled" !== E.timeRangeSelectedHandling &&
                    (c.action = "TimeRangeSelect"),
                (c.shift = l),
                (c.ctrl = l),
                (c.meta = o),
                (c.originalEvent = e),
                (c.button = a),
                (c.preventDefault = function () {
                  c.action = "None";
                }),
                "function" == typeof E.onGridMouseDown && E.onGridMouseDown(c),
                "None" === c.action)
              )
                return (
                  "undefined" != typeof DayPilot.Menu &&
                    DayPilot.Menu.hide({ calendar: E }),
                  e.preventDefault(),
                  e.stopPropagation(),
                  !1
                );
              if ("RectangleSelect" === c.action) {
                var u = {};
                return (u.start = E.coords), (u.calendar = E), (n.bn = u), !1;
              }
              E.allowMultiRange && !d && N.clear();
              return (
                !E.Am(E.coords.y, E.coords.grid).element.isNewRow &&
                ((n.oq = E.kv()),
                n.oq && ((n.oq.ctrl = d), (n.oq.Bv = E.coords), (n.yv = E)),
                !1)
              );
            }
          }),
          (this.kv = function () {
            var e = {},
              t = E.in(E.coords.x).x,
              n = E.getDate(E.coords.x, !0),
              i = E.Am(E.coords.y, E.coords.grid);
            if (E.ho()) {
              var a = i.element.data.end,
                r = i.element.start.getTime() - E.Ub().getTime();
              if (n.addTime(r) > a) return null;
            }
            return (
              (e.start = { y: i.i, x: t, grid: E.coords.grid, time: n }),
              (e.end = { x: t, time: n }),
              E.xq(i.i, E.coords.grid) ? null : ((e.calendar = E), E.go(e), e)
            );
          }),
          (this.Vr = function () {
            E.Xf();
            var e = n.Fq,
              t = E.Cv,
              i = { start: e.start, end: E.ak(e.end) };
            e.original = i;
            var a = "left" === n.nq.dpBorder ? "start" : "end",
              r = e.original;
            if (!r || !t || t.start !== r.start || t.end !== r.end) {
              V.clear(),
                V.Ir(),
                (function () {
                  e.overlapping = !1;
                  var t = n.nq.event,
                    i = E.rowlist[t.part.dayIndex],
                    a = e.left,
                    r = e.width,
                    o = y(V.list)
                      .map(function (e) {
                        return e.event.data;
                      })
                      .add(t.data);
                  if ((E.Or(e, i, a, r, o), e.start)) {
                    var l = { start: e.start, end: E.ak(e.end) };
                    E.Pr(e, l.start, l.end, i.id);
                  }
                })();
              var o = n.nq;
              !(function () {
                V.clear(),
                  V.Ir(),
                  t && (s(e, t.cssClass), (e.firstChild.innerHTML = ""));
                var r = o.event.part.dayIndex,
                  l = E.rowlist[r],
                  c = {};
                (c.start = i.start),
                  (c.end = i.end),
                  (c.duration = new DayPilot.Duration(c.start, c.end)),
                  (c.row = E.lo(l)),
                  (c.e = o.event),
                  (c.allowed = !0),
                  (c.resizing = a),
                  (c.what = a),
                  (c.anchor = "end" === c.what ? i.start : i.end),
                  (c.areaData = b.resizingAreaData),
                  (c.left = {}),
                  (c.left.html = c.start.toString(
                    E.eventResizingStartEndFormat,
                    H.Xc()
                  )),
                  (c.left.enabled = E.eventResizingStartEndEnabled),
                  (c.left.space = 5),
                  (c.left.width = null),
                  (c.left.height = E.eventHeight),
                  (c.right = {}),
                  (c.right.html = c.end.toString(
                    E.eventResizingStartEndFormat,
                    H.Xc()
                  )),
                  (c.right.enabled = E.eventResizingStartEndEnabled),
                  (c.right.space = 5),
                  (c.right.width = null),
                  (c.right.height = E.eventHeight),
                  (c.cssClass = null),
                  (c.html = null),
                  (c.overlapping =
                    c.row.events.forRange(c.start, c.end).filter(function (e) {
                      return !E.Ld(e, c.e);
                    }).length > 0),
                  (c.shift = E.coords.shift),
                  (c.ctrl = E.coords.ctrl),
                  (c.meta = E.coords.meta),
                  (c.alt = E.coords.alt),
                  (c.multiresize = V.Gr());
                var u = {};
                (u.event = o.event),
                  (u.start = c.start),
                  (u.end = c.end),
                  c.multiresize.splice(0, 0, u),
                  (E.Cv = i),
                  "function" == typeof E.onEventResizing &&
                    E.onEventResizing(c),
                  (V.list = y(c.multiresize, !0)),
                  V.list.splice(0, 1),
                  V.qp(),
                  (e.allowed = c.allowed),
                  d(e, c.cssClass),
                  c.html && (e.firstChild.innerHTML = c.html);
                var h = c.start,
                  f = E.Fj(c.end);
                if (
                  ((e.finalStart = h),
                  (e.finalEnd = f),
                  "Days" === E.viewType || E.ho())
                ) {
                  var v = l.start.getTime() - E.Ub().getTime();
                  (h = h.addTime(-v)), (f = f.addTime(-v));
                }
                var p = E.snapToGrid && E.snapToGridEventResizing,
                  m = p ? E.getPixels(h).boxLeft : E.getPixels(h).left,
                  g = p ? E.getPixels(f).boxRight : E.getPixels(f).left;
                (e.style.left = m + "px"),
                  (e.style.width = g - m + "px"),
                  (e.left = m),
                  (e.width = g - m);
                var w = y(V.list)
                  .map(function (e) {
                    return e.event.data;
                  })
                  .add(o.event.data);
                E.Or(n.Fq, l, m, g - m, w),
                  E.Pr(n.Fq, e.finalStart, e.finalEnd, l.id),
                  E.Xr(n.Fq, c),
                  E.Yr(n.Fq, c);
              })();
            }
          }),
          (this.xu = function (e) {
            if (n.bn)
              return (e.cancelBubble = !0), e.preventDefault(), n.Hg(e), !1;
            if (((E.mn = {}), E.fo || N.list.length > 0)) {
              if (g(e).left) {
                var t = E.Tc(E.coords);
                if (t) {
                  var i = function (e) {
                    return function () {
                      n.xv = null;
                      var t = E.do(e);
                      if (t) {
                        var i = {};
                        (i.start = t.start),
                          (i.end = t.end),
                          (i.resource = t.resource),
                          (i.preventDefault = function () {
                            i.preventDefault.value = !0;
                          }),
                          "function" == typeof E.onTimeRangeClick &&
                            E.onTimeRangeClick(i),
                          i.preventDefault.value ||
                            ("function" == typeof E.onTimeRangeClicked &&
                              E.onTimeRangeClicked(i));
                      }
                    };
                  };
                  "Disabled" !== E.timeRangeClickHandling &&
                    ("Disabled" === E.timeRangeDoubleClickHandling
                      ? i(t)()
                      : (clearTimeout(n.xv),
                        (n.xv = setTimeout(i(t), E.doubleClickTimeout))));
                }
              }
            }
            g(e).right && E.jv(e);
          }),
          (this.jv = function (e) {
            if (
              "Disabled" !== E.timeRangeSelectedHandling &&
              "Disabled" !== E.timeRangeRightClickHandling
            ) {
              var t = n.oq || E.fo || !y(N.list).isEmpty();
              if (t) {
                var i = E.Am(E.coords.y, E.coords.grid);
                if (E.xq(i.i, i.grid)) return void (n.oq = null);
                var a = null,
                  r = E.Tc(E.coords);
                if (((a = r ? E.do(r) : E.do()), !a)) return void (n.oq = null);
                var o = r && r.args,
                  l = t.args,
                  s =
                    (o && o.ignoreDisabledCells) ||
                    (l && l.ignoreDisabledCells);
                if (
                  (E.Zc(a.start, a.end, a.resource) ||
                    (l && l.overlapping && !E.allowEventOverlap)) &&
                  !s
                )
                  return (n.oq = null), void E.clearSelection();
                a.end = E.ak(a.end);
                var d = {};
                (d.start = a.start),
                  (d.end = a.end),
                  (d.resource = a.resource),
                  (d.ctrl = e.ctrlKey),
                  (d.shift = e.shiftKey),
                  (d.meta = e.metaKey),
                  (d.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  ("function" == typeof E.onTimeRangeRightClick &&
                    (E.onTimeRangeRightClick(d), d.preventDefault.value)) ||
                    ("ContextMenu" === E.timeRangeRightClickHandling &&
                      E.contextMenuSelection &&
                      E.contextMenuSelection.show(a),
                    "function" == typeof E.onTimeRangeRightClicked &&
                      E.onTimeRangeRightClicked(d));
              }
            }
          }),
          (this.Lg = function () {
            return !!(n.nq || n.mn || n.oq || b.drag) || !!E.mn.hv;
          }),
          (this.dragInProgress = function () {
            return E.Lg();
          }),
          (this.pn = function (e) {
            var t = DayPilot.mo3(E.nm, e);
            if (((t = t || {}), (t.grid = "main"), E.pm.top.enabled())) {
              var n = E.pm.top,
                i = DayPilot.mo3(n.divCells, e);
              i && i.y > 0 && i.y <= n.height && ((t = i), (t.grid = "top"));
            }
            if (E.pm.bottom.enabled()) {
              var a = E.pm.bottom,
                r = DayPilot.mo3(a.divCells, e);
              r && r.y > 0 && r.y <= a.height && ((t = r), (t.grid = "bottom"));
            }
            (t.stamp = t.grid + "_" + t.x + "_" + t.y),
              (E.coords && E.coords.stamp === t.stamp) || (E.coords = t);
          }),
          (this.getCoords = function () {
            if (!E.coords) return null;
            var e = {};
            (e.x = E.coords.x), (e.y = E.coords.y), (e.grid = E.coords.grid);
            var t = E.Am(e.y, e.grid).element;
            return (
              (e.row = E.lo(t)),
              (e.time = E.getDate(e.x, !0)),
              (e.cell = E.cells.findByPixels(e.x, e.y, e.grid)[0]),
              (e.event = E.coords.insideEvent ? E.coords.insideEvent : null),
              (e.eventOffset = null),
              e.event && (e.eventOffset = f(E.eventOffset, {}, ["x", "y"])),
              e
            );
          }),
          (this.tu = !0),
          (this.bs = function (e) {
            if (!b.touch.active) {
              var t = DayPilot.mc(e);
              if ((E.pn(e), (e.insideMainD = !0), (E.tu = !0), E.mn.hv)) {
                var i = 2,
                  a = DayPilot.distance(E.mn.Yf, t);
                a > i && (f(E.mn, n), (r().style.cursor = "move"), (E.mn = {}));
              }
              if (n.nq && n.Gq.calendar === E)
                n.nq.event || (n.nq.event = n.Gq), E.Dv();
              else if (n.jq) {
                var o = n.jq.calendar,
                  l = o !== E;
                if (o && !o.dragOutAllowed && l) return;
                l && o && n.jq.calendar.gb(), (n.jq.part.external = l), E.Ev();
              } else if (n.oq && n.oq.calendar === E) {
                E.Fv();
                var s = n.oq,
                  i = 2,
                  a = DayPilot.distance(s.Bv, E.coords);
                (a > i || s.start.x !== s.end.x) && (s.moved = !0);
              } else if (T.source) {
                var d = T.source;
                W.Jj(d.coords, E.coords);
              } else
                n.bn &&
                  ((n.bn.moved = !0),
                  clearTimeout(P.Gv),
                  (P.Gv = setTimeout(function () {
                    P.draw();
                  }, 0)));
              "Disabled" !== E.crosshairType && E.Hv(), E.Iv();
              var c = E.coords.insideEvent;
              if (
                E.cellBubble &&
                E.coords &&
                E.rowlist &&
                E.rowlist.length > 0 &&
                !c
              ) {
                var u = E.in(E.coords.x).x,
                  h = E.Am(E.coords.y, E.coords.grid).i;
                if (
                  0 <= h &&
                  h < E.rowlist.length &&
                  0 <= u &&
                  u < E.itline.length
                ) {
                  var v = {};
                  (v.calendar = E),
                    (v.start = E.itline[u].start),
                    (v.end = E.itline[u].end),
                    (v.resource = E.rowlist[h].id),
                    (v.toJSON = function () {
                      var e = {};
                      return (
                        (e.start = this.start),
                        (e.end = this.end),
                        (e.resource = this.resource),
                        e
                      );
                    });
                  var p = E.coords.grid + "_" + u + "_" + h,
                    m = E.va.cells[p];
                  E.cellBubble.showCell(v, m);
                }
              }
              var g = b.drag;
              if (g) {
                if (
                  (E.zv(),
                  n.Jv && r().removeChild(n.Jv),
                  (n.Jv = null),
                  !n.Sr && E.coords && E.rowlist.length > 0)
                ) {
                  if (!n.jq) {
                    n.mn = g.Kv || {};
                    var y = g.Kv ? g.Kv.event : null,
                      w = y || g.event;
                    if (w)
                      if (E !== w.calendar) {
                        var o = w.calendar,
                          x = w,
                          k = f(w.data);
                        (w = new DayPilot.Event(k)),
                          (w.calendar = o),
                          (w.part.duration = o.rq(x)),
                          (w.part.external = !0);
                      } else w.part.external = !1;
                    else {
                      var C = E.Lv();
                      (w = new DayPilot.Event(C)),
                        (w.calendar = E),
                        (w.calendar = null),
                        (w.part.duration = 1e3 * g.duration),
                        (w.part.external = !0);
                    }
                    n.mn.event || (n.mn.event = w), (n.jq = w);
                  }
                  n.Sr = E.Lb(n.jq);
                }
                e.cancelBubble = !0;
              }
              if (n.tt) {
                var _ = n.Jv;
                (_.style.left = t.x + "px"), (_.style.top = t.y + "px");
              }
              var S = { x: E.coords.x, y: E.coords.y, grid: E.coords.grid };
              E.bg(S);
            }
          }),
          (this.Lv = function () {
            var e,
              t = E.itline[0].start,
              n = b.drag,
              i = n.ag;
            if (i)
              (e = f(i, {})), (e.start = t), (e.end = t.addSeconds(n.duration));
            else {
              e = {
                id: n.id,
                start: t,
                end: t.addSeconds(n.duration),
                text: n.text,
              };
              var a = n._f;
              if (a) {
                var r = ["duration", "element", "remove", "id", "text"];
                for (var o in a) w(r, o) || (e[o] = a[o]);
              }
            }
            return e;
          }),
          (this.bg = function (e) {
            var t = e.grid,
              i = !!(n.mn || n.nq || n.oq || n.bn || T.source),
              a = "Always" === E.autoScroll,
              r = "Drag" === E.autoScroll && i,
              o = a || r,
              l = !E.autoScrollHorizontal,
              s = !E.autoScrollVertical || n.nq || n.oq || "main" !== t;
            if (
              (r && !E.autoScrollRectangleSelection && n.bn && (o = !1),
              "Auto" !== E.cellWidthSpec || E.Nm || (l = !0),
              o)
            ) {
              var d = E.nav.scroll;
              (e.x -= d.scrollLeft), (e.x += Y.vm), (e.y -= d.scrollTop);
              var c = d.clientWidth,
                u = d.clientHeight,
                h = 30,
                f = e.x < h ? e.x : 0,
                v = c - e.x < h ? c - e.x : 0,
                p = E.pm.top.height,
                m = e.y - p,
                g = m < h && m > 0 ? m : 0,
                b = u - E.pm.bottom.height - E.pm.top.height,
                y = b - m < h ? u - e.y : 0,
                w = 0,
                x = 0,
                k = E.autoScrollSpeed;
              f && (w = -k * D(f, h)),
                v && (w = k * D(v, h)),
                g && (x = (-k * D(g, h)) / 2),
                y && (x = (k * D(g, h)) / 2),
                s && (x = 0),
                l && (w = 0),
                w || x
                  ? (clearTimeout(E.Mv),
                    (E.Mv = setTimeout(function () {
                      E.Og(w, x);
                    }, E.autoScrollDelay)))
                  : E.ib();
            }
          }),
          (this.Fv = function () {
            var e = n.oq,
              t = E.in(E.coords.x).x,
              i = E.getDate(E.coords.x, !0);
            if (E.ho()) {
              var a = E.Uo(e.start.grid),
                r = a.rowlist,
                o = r[e.start.y],
                l = o.data.end,
                s = o.start.getTime() - E.Ub().getTime();
              if (i.addTime(s) >= l) return;
            }
            (e.end = { x: t, time: i }), E.go(e);
          }),
          (this.Dv = function () {
            n.Fq || (n.Fq = E.Lb(n.nq)), E.Ur();
          }),
          (this.Ev = function () {
            if (
              (n.Sr &&
                n.Sr.calendar !== E &&
                n.Sr.calendar &&
                (n.Sr.calendar.gb(),
                (n.Sr.calendar = null),
                x(n.Sr),
                (n.Sr = null)),
              !n.Sr)
            ) {
              d(n.mn, E.ca(A.eventMovingSource));
              var e = n.jq;
              n.Sr = E.Lb(e);
            }
            E.Bq(), E.Dq();
          }),
          E.ja() && !E.Ga.startsWith("ja") && (X.ur = null),
          (P.start = function () {
            var e = {};
            (e.start = E.coords), (e.calendar = E), (n.bn = e);
          }),
          (P.draw = function () {
            var e = n.bn;
            if (e) {
              var t = n.bn.start,
                i = E.coords,
                a = E.Fm(),
                r = E.vl;
              (i.x = Math.min(i.x, a)), (i.y = Math.min(i.y, r)), P.clear();
              var o,
                l,
                s,
                d,
                u,
                h,
                f,
                v,
                p = { x: e.x, y: e.y, width: e.width, height: e.height };
              if (
                ((function () {
                  (u = Math.min(t.x, i.x)),
                    (f = Math.max(t.x, i.x)),
                    "Free" === H.qn()
                      ? ((h = Math.min(t.y, i.y)), (v = Math.max(t.y, i.y)))
                      : "Row" === H.qn() && ((h = t.y), (v = t.y));
                })(),
                "Free" === H.qn())
              )
                (o = u), (l = h), (s = f - u), (d = v - h);
              else {
                if ("Row" !== H.qn())
                  throw new DayPilot.Exception(
                    "Invalid DayPilot.Scheduler.rectangleSelectMode value: " +
                      E.rectangleSelectMode
                  );
                var m = E.Am(h).i,
                  g = E.rowlist[m];
                (l = g.top), (d = g.height);
                if (E.snapToGrid && E.snapToGridRectangleSelecting) {
                  o = E.in(u).cell.left;
                  var b = E.in(f).cell;
                  s = b.left + b.width - o;
                } else (o = u), (s = f - u);
              }
              var y = c(null, o, l, s, d);
              if (
                ((y.style.boxSizing = "border-box"),
                (y.className = E.ca("_selectionrectangle")),
                e.Nv && (e.Nv.visible || (y.style.display = "none")),
                (e.x = o),
                (e.y = l),
                (e.width = s),
                (e.height = d),
                !(
                  (e.x === p.x &&
                    e.y === p.y &&
                    e.width === p.width &&
                    e.height === p.height) ||
                  ("function" != typeof E.onRectangleEventSelecting &&
                    "function" != typeof E.onRectangleSelecting)
                ))
              ) {
                var w = E.Am(e.y),
                  x = w.i,
                  k = E.Am(e.y + e.height),
                  C = k.i,
                  _ = { start: { y: x }, end: { y: C } },
                  T = E.Do(_),
                  S = w.element.start.getTime() - E.Ub().getTime(),
                  D = k.element.start.getTime() - E.Ub().getTime(),
                  M = {};
                (M.events = G.zm(e.x, e.y, e.width, e.height)),
                  (M.start = E.getDate(e.x, !0).addTime(S)),
                  (M.end = E.getDate(e.x + e.width, !0).addTime(D)),
                  (M.resources = T),
                  (M.visible = !0),
                  "function" == typeof E.onRectangleEventSelecting &&
                    E.onRectangleEventSelecting(M),
                  "function" == typeof E.onRectangleSelecting &&
                    E.onRectangleSelecting(M),
                  (e.Nv = M),
                  (y.style.display = M.visible ? "" : "none");
              }
              E.divRectangle.appendChild(y);
            }
          }),
          (P.clear = function () {
            (E.divRectangle.innerHTML = ""), (E.elements.rectangle = []);
          }),
          (this.Ov = function () {
            if (!E.coords) return null;
            if (!E.Bu()) return null;
            if (!E.itline || 0 === E.itline.length) return null;
            var e = E.in(E.coords.x).x,
              t = E.Am(E.coords.y, E.coords.grid).element;
            if (!t) return null;
            var n = t.index;
            return E.cells.findXy(e, n, E.coords.grid)[0];
          }),
          (this.Iv = function () {
            var e = this.Ov();
            if (this.hover.cell) {
              if (
                this.hover.cell.x === e.x &&
                this.hover.cell.y === e.y &&
                this.hover.cell.grid === e.grid
              )
                return;
              this.uu();
            }
            this.hover.cell = e;
            var t = {};
            (t.cell = e),
              "function" == typeof this.onCellMouseOver &&
                this.onCellMouseOver(t),
              "function" == typeof this.onCellMouseEnter &&
                this.onCellMouseEnter(t);
          }),
          (this.uu = function () {
            if (this.hover.cell) {
              var e = {};
              (e.cell = this.hover.cell),
                "function" == typeof this.onCellMouseOut &&
                  this.onCellMouseOut(e),
                "function" == typeof this.onCellMouseLeave &&
                  this.onCellMouseLeave(e),
                (this.hover.cell = null);
            }
          }),
          (this.hover = {}),
          (this.Hv = function () {
            var e = E.Pv();
            if (e) {
              var t = E.hover.crosshair;
              (t &&
                t.x === e.x &&
                t.y === e.y &&
                t.grid === e.grid &&
                t.thX === e.thX) ||
                ((E.hover.crosshair = e), this.Wf());
            }
          });
        this.Pv = function () {
          if (!E.coords) return null;
          if (!E.Bu()) return null;
          if (!E.itline || 0 === E.itline.length) return null;
          var e = E.Am(E.coords.y, E.coords.grid).element;
          if (!e) return null;
          var t = e.index,
            n = null,
            i = E.in(E.coords.x);
          i && (n = i.x);
          var a = E.Qv(),
            r = null,
            o = E.gr(a, E.coords.x);
          return o && (r = o.x), { x: n, thX: r, y: t, grid: E.coords.grid };
        };
        (this.zv = function () {
          (this.pm.top.divCrosshair.innerHTML = ""),
            (this.pm.main.divCrosshair.innerHTML = ""),
            (this.pm.bottom.divCrosshair.innerHTML = ""),
            (this.Rv = null),
            (this.Sv = null);
        }),
          (this.hb = function () {
            if (
              (this.zv(),
              (E.hover.crosshair = null),
              this.No &&
                this.No.parentNode &&
                (this.No.parentNode.removeChild(this.No), (this.No = null)),
              this.Mo)
            ) {
              for (var e = 0; e < this.Mo.length; e++) {
                var t = this.Mo[e];
                t.parentNode && t.parentNode.removeChild(t);
              }
              this.Mo = null;
            }
            (this.ul = -1), (this.tl = -1), (this.Tv = null);
          }),
          (this.Qv = function () {
            var e = this.timeHeader ? this.timeHeader.length - 1 : 1;
            return (
              "number" == typeof E.crosshairTimeHeaderLevel &&
                E.crosshairTimeHeaderLevel < e &&
                E.crosshairTimeHeaderLevel >= 0 &&
                (e = E.crosshairTimeHeaderLevel),
              e
            );
          }),
          (this.Wf = function () {
            function e(e, t) {
              var n = E.pm[e],
                i = n.height,
                a = t.left,
                r = E.Rv[e];
              r ||
                ((r = o()),
                (r.style.height = i + "px"),
                (r.style.position = "absolute"),
                (r.style.top = "0px"),
                (r.style.pointerEvents = "none"),
                (r.className = E.ca("_crosshair_vertical")),
                (E.Rv[e] = r),
                n.divCrosshair.appendChild(r)),
                (r.style.left = a + "px"),
                (r.style.width = t.width + "px");
            }
            if (E.coords && E.Bu()) {
              var t = E.Am(E.coords.y, E.coords.grid).element;
              if (t) {
                var n = E.in(E.coords.x).x,
                  i = t.index,
                  a = t.grid,
                  r = E.Uo(a),
                  l = ["top", "main", "bottom"],
                  s = this.crosshairType;
                if ((this.Rv || (this.Rv = {}), "Full" === s)) {
                  var d = this.itline[n];
                  l.forEach(function (t) {
                    e(t, d);
                  });
                  var c = t.top,
                    u = t.height,
                    h = E.Fm(),
                    f = E.Sv;
                  f &&
                    f.parentNode &&
                    E.Tv !== a &&
                    (f.parentNode.removeChild(f), (f = null)),
                    f ||
                      ((f = o()),
                      (f.style.width = h + "px"),
                      (f.style.height = u + "px"),
                      (f.style.position = "absolute"),
                      (f.style.top = c + "px"),
                      (f.style.left = "0px"),
                      (f.style.pointerEvents = "none"),
                      (f.className = E.ca("_crosshair_horizontal")),
                      (E.Sv = f),
                      r.divCrosshair.appendChild(f)),
                    (f.style.top = c + "px"),
                    (f.style.height = u + "px");
                }
                var v = E.Qv(),
                  p = E.gr(v, E.coords.x);
                if (p && E.ul !== p.x) {
                  E.No &&
                    this.No.parentNode &&
                    (E.No.parentNode.removeChild(E.No), (E.No = null));
                  var u = I.Dr(v).height,
                    f = o();
                  (f.style.width = p.cell.width + "px"),
                    (f.style.height = u + "px"),
                    (f.style.left = "0px"),
                    (f.style.top = "0px"),
                    (f.style.position = "absolute"),
                    (f.className = E.ca("_crosshair_top")),
                    (E.No = f);
                  var m = this.divNorth,
                    g = v;
                  E.nav.timeHeader
                    ? E.va.timeHeader[p.x + "_" + g].appendChild(f)
                    : m &&
                      m.firstChild.rows[g].cells[n] &&
                      m.firstChild.rows[g].cells[n].firstChild.appendChild(f);
                }
                if (E.tl !== i || E.Tv !== a) {
                  if (E.Mo) {
                    for (var b = 0; b < E.Mo.length; b++) {
                      var y = E.Mo[b];
                      y.parentNode && y.parentNode.removeChild(y);
                    }
                    E.Mo = null;
                  }
                  if (((E.Mo = []), r.rowlist[i]))
                    for (var b = 0; b < r.rowlist[i].cells.length; b++) {
                      var w = r.rowlist[i].cells[b],
                        x = w.refCell,
                        u = t.height,
                        k = i;
                      x
                        ? ((u = x.row.split.totalHeight()), (k = x.y))
                        : w.rowspan > 1 && (u = w.totalHeight());
                      var C =
                        r.divHeader.rows[k] && r.divHeader.rows[k].cells[b];
                      if (C) {
                        var h = E.Im(),
                          f = o();
                        (f.style.width = h + "px"),
                          (f.style.height = u + "px"),
                          (f.style.left = "0px"),
                          (f.style.top = "0px"),
                          (f.style.position = "absolute"),
                          (f.className = E.ca("_crosshair_left")),
                          E.Mo.push(f),
                          r.divHeader.rows[k].cells[b].firstChild.appendChild(
                            f
                          );
                      }
                    }
                }
                p && (E.ul = p.x), (E.tl = i), (E.Tv = a);
              }
            }
          }),
          (this.gr = function (e, t) {
            var n = E.timeHeader[e];
            if (!n) return null;
            for (var i = 0; i < n.length; i++) {
              var a = n[i];
              if (t >= a.left && t < a.left + a.width) {
                var r = {};
                return (r.cell = a), (r.x = i), r;
              }
            }
            return null;
          }),
          (this.Uv = function (e) {
            return E.gr(E.timeHeader.length - 1, e);
          }),
          (this.wu = function (e) {
            if (((e.cancelBubble = !0), !E.allowDefaultContextMenu)) return !1;
          }),
          (this.Tc = function (e) {
            function t(t) {
              if (!t || !t.start || !t.end) return !1;
              t = t.lv ? t.lv : t;
              var n = t.start.grid,
                i = E.Lp(t.start.y, t.start.grid),
                a = 0;
              "main" === n && (a = E.pm.top.height);
              var r = t.start.time.getTime() < t.end.time.getTime(),
                o = r ? t.start.x : t.end.x,
                l = r ? t.end.x : t.start.x,
                s = E.itline[o].left,
                d = E.itline[l],
                c = d.left + d.width,
                u = i.top + a,
                h = i.bottom + a,
                f = e.x >= s && e.x <= c,
                v = e.y >= u && e.y <= h,
                p = e.grid === t.start.grid;
              return !!(f && v && p) && t;
            }
            var n = E.fo;
            return n
              ? t(n)
              : y(N.list).isEmpty()
              ? void 0
              : N.list.find(function (e) {
                  return t(e);
                });
          }),
          (this.go = function (e, t) {
            function i(e, t) {
              var n,
                i,
                a,
                r,
                d = e.end.time > e.start.time,
                h = e.start.y,
                f = e.start.time && e.end.time;
              if (s || !f) {
                var v = d ? e.start.x : e.end.x,
                  p = d ? e.end.x : e.start.x,
                  m = E.itline[v],
                  g = E.itline[p];
                (n = m.left), (i = g.left + g.width);
              } else
                d
                  ? ((a = e.start.time), (r = e.end.time))
                  : ((a = e.end.time), (r = e.start.time)),
                  (n = E.getPixels(a).left),
                  (i = E.getPixels(r).left);
              var b = i - n,
                y = E.elements.range2;
              if (!y) {
                (y = o()), (y.style.position = "absolute");
                var w = o();
                (w.className = E.ca("_shadow_inner")),
                  l && ((y.style.borderRadius = l), (w.style.borderRadius = l)),
                  y.appendChild(w),
                  c.divShadow.appendChild(y);
              }
              y.grid !== e.start.grid &&
                (y.parentNode.removeChild(y), c.divShadow.appendChild(y));
              var x = u[h];
              return (
                (y.className = E.ca("_shadow")),
                (y.firstChild.innerHTML = ""),
                (y.style.left = n + "px"),
                (y.style.top = x.top + "px"),
                (y.style.width = b + "px"),
                (y.style.height = x.height - 1 + "px"),
                (y.calendar = E),
                (y.grid = e.start.grid),
                (y.row = x),
                (E.elements.range2 = y),
                (function () {
                  y.overlapping = !1;
                  var i = u[h];
                  E.Or(y, i, n, b, null);
                  var a = d ? e.start.time : e.end.time,
                    r = d ? e.end.time : e.start.time;
                  t.ignoreDisabledCells || E.Pr(y, a, r, i.id);
                })(),
                y
              );
            }
            if (((e = e || n.oq), e && e.calendar === E)) {
              n.Pp && n.Pp.blur(), (t = t || {});
              var a = t.justDraw,
                r = e.forceSnap,
                l = E.eventBorderRadius;
              "number" == typeof l && (l += "px");
              var s = E.snapToGrid && E.snapToGridTimeRangeSelecting;
              r && (s = !0);
              var c = E.Uo(e.start.grid),
                u = c.rowlist;
              !(function () {
                var t = e.end.time >= e.start.time,
                  n = t ? e.start.x : e.end.x,
                  r = t ? e.end.x : e.start.x,
                  o = e.start.y,
                  l = u[o];
                if (l && !l.hidden) {
                  var c = E.itline[n],
                    h = E.itline[r],
                    f = E.Vv,
                    v = c.start.addTime(l.data.offset),
                    p = h.end.addTime(l.data.offset);
                  if (
                    (s ||
                      (t
                        ? ((v = e.start.time), (p = e.end.time))
                        : ((v = e.end.time), (p = e.start.time))),
                    a ||
                      !f ||
                      f.start.getTime() !== v.getTime() ||
                      f.rawend.getTime() !== p.getTime() ||
                      f.resource !== u[o].id)
                  ) {
                    var m = {
                        start: v,
                        end: E.ak(p),
                        rawend: p,
                        resource: u[o].id,
                      },
                      g = {};
                    (g.anchor = t ? m.start : m.end),
                      (g.start = m.start),
                      (g.end = m.end),
                      (g.duration = new DayPilot.Duration(v, p)),
                      (g.resource = u[o].id),
                      (g.row = E.lo(l)),
                      (g.allowed = !0),
                      (g.control = E),
                      (g.ignoreDisabledCells = !1),
                      (g.left = {}),
                      (g.left.html = g.start.toString(
                        E.timeRangeSelectingStartEndFormat,
                        H.Xc()
                      )),
                      (g.left.enabled = E.timeRangeSelectingStartEndEnabled),
                      (g.left.space = 5),
                      (g.left.width = null),
                      (g.left.height = E.eventHeight),
                      (g.right = {}),
                      (g.right.html = g.end.toString(
                        E.timeRangeSelectingStartEndFormat,
                        H.Xc()
                      )),
                      (g.right.enabled = E.timeRangeSelectingStartEndEnabled),
                      (g.right.space = 5),
                      (g.right.width = null),
                      (g.right.height = E.eventHeight),
                      (g.overlapping = g.row.events.forRange(v, p).length > 0),
                      (g.html = null),
                      (g.cssClass = null),
                      (g.button = E.Av),
                      (g.multirange = E.Dl.get(!1)),
                      (E.Vv = m),
                      "function" != typeof E.onTimeRangeSelecting ||
                        a ||
                        (E.onTimeRangeSelecting(g), (g.resource = m.resource)),
                      (g.end = E.Fj(g.end)),
                      (e.args = g);
                    var b = E.Wv(e);
                    E.eo(b, g.start, g.end);
                    var y = i(b, g);
                    g.html && (y.firstChild.innerHTML = g.html),
                      g.cssClass && d(y, g.cssClass),
                      E.Xr(y, g),
                      (e.lv = b),
                      (e.disabled = !g.allowed),
                      E.Yr(y, g);
                  }
                }
              })();
            }
          }),
          (this.Wv = function (e) {
            return {
              start: {
                x: e.start.x,
                y: e.start.y,
                time: e.start.time,
                grid: e.start.grid,
              },
              end: { x: e.end.x, time: e.end.time },
              disabled: e.disabled,
              calendar: e.calendar,
              args: e.args,
              forceSnap: e.forceSnap,
            };
          }),
          (this.range = {}),
          (this.range.all = function () {
            return E.multirange.get();
          }),
          (this.multirange = {}),
          (this.multirange.get = function () {
            return N.get(!0);
          }),
          (this.multirange.add = function (e) {
            if (!e) throw new DayPilot.Exception("Range not specified");
            if (!e.start || !e.end)
              throw new DayPilot.Exception("Invalid range specified");
            if (y(N.list).isEmpty()) {
              var t = E.do();
              if (t) {
                var n = E.Xv(t.start, t.end, t.resource);
                E.Dl.add(n);
              }
            }
            var i = E.Xv(e.start, e.end, e.resource);
            E.go(i), E.Dl.add(i);
          }),
          (this.multirange.clear = function () {
            N.clear(), E.clearSelection(), (E.Vv = null);
          }),
          (this.Dl.list = []),
          (this.Dl.drawLaterTimeout = null),
          (this.Dl.drawLater = function () {
            clearTimeout(E.Dl.drawLaterTimeout),
              (E.Dl.drawLaterTimeout = setTimeout(function () {
                N.qp();
              }, 0));
          }),
          (this.Dl.qp = function () {
            x(
              y(N.list).map(function (e) {
                return e.div;
              })
            ),
              N.list.forEach(function (e) {
                (E.elements.range2 = null), E.go(e, { justDraw: !0 });
              });
          }),
          (this.Dl.clear = function () {
            x(
              y(N.list).map(function (e) {
                return e.div;
              })
            ),
              (N.list = []);
          }),
          (this.Dl.add = function (e) {
            (e.div = E.elements.range2),
              (E.elements.range2 = null),
              E.as(),
              N.list.push(e);
          }),
          (this.Dl.get = function (e) {
            var t = y(N.list).map(function (e) {
              return E.do(e);
            });
            if (e && t.isEmpty()) {
              var n = E.do();
              n && t.push(n);
            }
            return t;
          }),
          (this.Dl.dispatch = function () {
            if (E.allowMultiRange && !n.oq) {
              var e = y(N.list).last();
              E.co(e);
            }
          }),
          (this.Yv = function (e) {
            if ("Disabled" === E.timeRangeSelectedHandling) return !1;
            if (!b.touch.active && !b.touch.start) {
              var t = g(e);
              if (
                !n.oq &&
                !n.bn &&
                !(
                  (E.fo && E.Tc(E.coords) && (t.right || t.middle)) ||
                  E.xq(E.Am(E.coords.y).i, E.coords.grid)
                )
              ) {
                var i = {},
                  a = E.in(E.coords.x).x;
                (i.start = {
                  y: E.Am(E.coords.y).i,
                  x: a,
                  grid: E.coords.grid,
                }),
                  (i.end = { x: a }),
                  (i.calendar = E),
                  (E.fo = i),
                  E.co(i, "click");
              }
            }
          }),
          (this.nn = {}),
          (this.nn.Fb = null),
          (this.nn.drawCells = null),
          (this.nn.drawRows = null),
          (this.nn.click = null),
          (this.nn.resClick = []),
          (this.nn.updateFloats = null),
          (this.hm = function (e, t) {
            if (!E.Aa) {
              (t = t || {}),
                "undefined" == typeof DayPilot.Bubble ||
                  t.dontHideBubble ||
                  DayPilot.Bubble.hideActive(),
                E.Ka();
              var a = E.nav.scroll;
              if (
                ((E.Tq = a.scrollLeft),
                (E.Qq = a.scrollTop),
                (E.Ju = a.clientWidth),
                E.divTimeScroll && (E.divTimeScroll.scrollLeft = E.Tq),
                E.pm.top.enabled() && (E.pm.top.div.scrollLeft = E.Tq),
                E.pm.bottom.enabled() && (E.pm.bottom.div.scrollLeft = E.Tq),
                DayPilot.browser.ios && n.iu
                  ? i()
                  : (E.divResScroll.scrollTop = E.Qq),
                Y.$m() && E.za && "Auto" !== E.cellWidthSpec && !E.mm)
              )
                if (Y.s) i();
                else {
                  if (E.nav.scroll.scrollLeft < E.infiniteScrollingMargin)
                    return (
                      (Y.s = !0),
                      (E.nav.scroll.style.overflowX = "hidden"),
                      void setTimeout(function () {
                        Y.Vm(-E.infiniteScrollingStepDays);
                      }, 100)
                    );
                  if (
                    E.nav.scroll.scrollWidth -
                      (E.nav.scroll.scrollLeft + E.nav.scroll.clientWidth) <
                    E.infiniteScrollingMargin
                  )
                    return (
                      (Y.s = !0),
                      (Y.an = E.nav.scroll.scrollLeft),
                      (E.nav.scroll.style.overflowX = "hidden"),
                      void setTimeout(function () {
                        Y.Vm(E.infiniteScrollingStepDays);
                      }, 100)
                    );
                }
              if (
                (E.navigatorBackSync &&
                  !(function () {
                    var e = DayPilot.Util.evalVariable(E.navigatorBackSync),
                      t = E.getViewPort().start;
                    e.select(t, { dontNotify: !0, dontFocus: !0 });
                  })(),
                E.progressiveRowRendering &&
                  (E.nn.drawRows &&
                    (clearTimeout(E.nn.drawRows), (E.nn.drawRows = null)),
                  E.scrollDelayRows > 0
                    ? (E.nn.drawRows = setTimeout(function () {
                        E.Fn();
                      }, E.scrollDelayRows))
                    : E.Fn()),
                E.nn.drawCells &&
                  (clearTimeout(E.nn.drawCells), (E.nn.drawCells = null)),
                E.scrollDelayCells > 0)
              )
                E.nn.drawCells = setTimeout(E.Zv(), E.scrollDelayCells);
              else {
                E.Zv()();
              }
              if (E.dynamicLoading) return E.yk(), void E.$v();
              E.nn.Fb && (clearTimeout(E.nn.Fb), (E.nn.Fb = null)),
                E.scrollDelayEvents > 0
                  ? (E.nn.Fb = setTimeout(E._v(), E.scrollDelayEvents))
                  : E.Fb(),
                E.nn.updateFloats &&
                  (clearTimeout(E.nn.updateFloats), (E.nn.updateFloats = null)),
                E.scrollDelayFloats > 0
                  ? (E.nn.updateFloats = setTimeout(function () {
                      E.fm();
                    }, E.scrollDelayFloats))
                  : E.fm(),
                (E.onScrollCalled = !0);
            }
          }),
          (this.Zv = function () {
            return function () {
              E && (E.yk(), E.bm());
            };
          }),
          (this._v = function () {
            return function () {
              E &&
                (E.Vu()
                  ? window.setTimeout(function () {
                      E.Su(),
                        window.setTimeout(function () {
                          E.Fb(!0);
                        }, 50);
                    }, 50)
                  : E.xm());
            };
          }),
          (this.Iu = function () {
            if (
              E.dynamicLoading &&
              "function" == typeof E.onScrollEnd &&
              !E.Aa
            ) {
              var e = function (e) {
                  var t = function () {
                    if (E.Kb() && "function" == typeof E.onAfterRender) {
                      var e = {};
                      (e.isCallBack = !1),
                        (e.isScroll = !0),
                        (e.data = null),
                        E.onAfterRender(e);
                    }
                  };
                  E.dm(e.events, t, e);
                },
                t = {};
              (t.viewport = E.getViewPort()),
                (t.async = !0),
                (t.events = []),
                (t.remove = []),
                (t.clearEvents = !0),
                (t.dontForceCellRendering = !1),
                (t.loaded = function () {
                  this.async && e(t);
                }),
                E.onScrollEnd(t),
                t.async || e(t);
            }
          }),
          (this.Ka = function () {
            (E.va.eventHeight = null), (E.va.drawArea = null);
          }),
          (this.show = function () {
            (E.visible = !0),
              (E.xl = !0),
              (E.nav.top.style.display = ""),
              E.D(),
              E.Hb(),
              E.Yp(),
              E.hm();
          }),
          (this.hide = function () {
            (E.visible = !1), (E.xl = !1), (E.nav.top.style.display = "none");
          }),
          (this.$v = function () {
            var e = E.nav.scroll;
            (E.Tq = e.scrollLeft),
              (E.Qq = e.scrollTop),
              (E.Ju = e.clientWidth),
              (E.divTimeScroll.scrollLeft = E.Tq),
              (E.divResScroll.scrollTop = E.Qq),
              E.refreshTimeout && window.clearTimeout(E.refreshTimeout);
            var t = E.scrollDelayDynamic;
            E.aw ||
              (E.refreshTimeout = window.setTimeout(
                E.bw(e.scrollLeft, e.scrollTop),
                t
              )),
              E.fm();
          }),
          (this.lh = function (e) {
            if (!E.events.list) return null;
            for (var t = 0; t < this.events.list.length; t++) {
              var n = this.events.list[t];
              if (E.Ld(n, e)) {
                var i = {};
                return (i.ex = n), (i.index = t), (i.modified = !E.mh(e, n)), i;
              }
            }
            return null;
          }),
          (this.mh = function (e, t) {
            for (var n in e)
              if (
                ("object" != typeof e[n] || e[n] instanceof DayPilot.Date) &&
                e[n] !== t[n]
              )
                return !1;
            for (var i in t)
              if ("object" != typeof t[i] && e[i] !== t[i]) return !1;
            return !0;
          }),
          (this.aw = !1),
          (this.dm = function (e, t, n) {
            E.aw = !0;
            var i = n && n.clearEvents,
              a = n && n.remove,
              r = n && n.dontForceCellRendering,
              o = [];
            if ((E.events.list || (E.events.list = []), i)) E.tb(e), W.Sl();
            else {
              var l = [];
              y(a).forEach(function (e) {
                var t = y(E.events.list).find(function (t) {
                  return t.id === e;
                });
                t && l.push(t);
              }),
                l.forEach(function (e) {
                  var t = E.events.tn(e);
                  (o = o.concat(t)), DayPilot.rfa(E.events.list, e);
                });
              for (var s = [], d = 0; d < e.length; d++) {
                var c = e[d];
                s[d] = E.lh(c);
              }
              for (var d = 0; d < e.length; d++) {
                var c = e[d],
                  u = s[d],
                  h = u && u.modified,
                  f = !u;
                if (h) {
                  this.events.list[u.index] = c;
                  var v = E.events.tn(u.ex);
                  o = o.concat(v);
                } else f && this.events.list.push(c);
                (h || f) && (o = o.concat(E.events.un(c)));
              }
              E.vn(o), E.wn();
            }
            if ((E.Xl(), E.Bb(), i || r)) {
              E.Ya();
              var p = E.Yn || !E.beforeCellRenderCaching;
              p && E.Zl(),
                E.Yl(),
                p ? E.bm() : E.Yp(),
                E.Fb(),
                null === t || void 0 === t ? void 0 : t();
            } else
              E.xn(o, !1, function () {
                null === t || void 0 === t ? void 0 : t(), E.Su(), E.Fb();
              }),
                E.Yp();
            setTimeout(function () {
              E.aw = !1;
            }, 0);
          }),
          (this.bw = function (e, t) {
            return E.ja()
              ? function () {
                  (E.scrollX = e), (E.scrollY = t), E.Pa("Scroll");
                }
              : function () {
                  if ("function" == typeof E.onScroll) {
                    var e = function (e) {
                        var t = function () {
                          if (E.Kb() && "function" == typeof E.onAfterRender) {
                            var e = {};
                            (e.isCallBack = !1),
                              (e.isScroll = !0),
                              (e.data = null),
                              E.onAfterRender(e);
                          }
                        };
                        E.dm(e.events, t, e);
                      },
                      t = {};
                    (t.viewport = E.getViewPort()),
                      (t.async = !0),
                      (t.events = []),
                      (t.remove = []),
                      (t.clearEvents = !0),
                      (t.dontForceCellRendering = !1),
                      (t.loaded = function () {
                        this.async && e(t);
                      }),
                      E.onScroll(t),
                      t.async || e(t);
                  }
                };
          }),
          (this.cw = function () {
            var e = this.xd(),
              t = e.xStart,
              n = e.xEnd - e.xStart,
              i = e.yStart,
              a = e.yEnd - e.yStart;
            this.cellProperties || (this.cellProperties = {});
            for (var r = E.pm.top, o = E.pm.bottom, l = 0; l <= n; l++) {
              for (var s = t + l, d = 0; d < a; d++) {
                var c = i + d;
                this.rowlist[c].hidden || this._e(s, c);
              }
              if ((this.dw(s), r.enabled())) {
                for (var c = 0; c < r.rowlist.length; c++) this._e(s, c, "top");
                this.dw(s, "top");
              }
              if (o.enabled()) {
                for (var c = 0; c < o.rowlist.length; c++)
                  this._e(s, c, "bottom");
                this.dw(s, "bottom");
              }
            }
            for (var u = this.es(), c = u.start; c < u.end; c++)
              this.rowlist[c].hidden || this.ew(c);
            if (r.enabled())
              for (var c = 0; c < r.rowlist.length; c++)
                r.rowlist[c].hidden || this.ew(c, "top");
            if (o.enabled())
              for (var c = 0; c < o.rowlist.length; c++)
                o.rowlist[c].hidden || this.ew(c, "bottom");
          }),
          (this.bm = function () {
            if (!E.Aa) {
              var e = E.Ym();
              if (e && e.length > 0) {
                if (this.cellSweeping) {
                  var t = this.cellSweepingCacheSize;
                  this.Uu(t);
                }
                B.Qp(), this.cw(), this.fw(), B.xo({ dontFocus: !0 });
              }
              this.Yn = !1;
            }
          }),
          (this.fw = function () {
            for (
              var e = this.xd(), t = E.pm.top, n = E.pm.bottom, i = e.xStart;
              i < e.xEnd;
              i++
            ) {
              i < this.itline.length - 1 &&
                this.itline[i + 1].breakBefore &&
                (this.gw(i),
                t.enabled() && this.gw(i, "top"),
                n.enabled() && this.gw(i, "bottom"));
            }
          }),
          (this.gw = function (e, t) {
            t = t || "main";
            var n = E.pm[t],
              i = n.divBreaks,
              a = "main" === t,
              r = a ? E.vl : n.height,
              l = t + "_x_" + e;
            if (!this.va.breaks[l]) {
              var s = {};
              if ("function" == typeof E.onBeforeGridLineRender) {
                var d = E.itline[e],
                  c = E.itline[e + 1];
                if (
                  ((s.start = d && d.end),
                  (s.end = c && c.start),
                  (s.hidden = !1),
                  (s.cssClass = null),
                  (s.type = "VerticalBreak"),
                  (s.grid = t),
                  (s.color = null),
                  E.onBeforeGridLineRender(s),
                  s.hidden)
                )
                  return;
              }
              var u = E.itline[e + 1].left - 1,
                h = o();
              (h.style.left = u + "px"),
                (h.style.top = "0px"),
                (h.style.width = "1px"),
                (h.style.height = r + "px"),
                (h.style.fontSize = "1px"),
                (h.style.lineHeight = "1px"),
                (h.style.overflow = "hidden"),
                (h.style.position = "absolute"),
                (h.className = this.ca("_matrix_vertical_break")),
                s.cssClass && (h.className += " " + s.cssClass),
                s.color && (h.style.backgroundColor = s.color),
                i.appendChild(h),
                this.elements.breaks.push(h),
                (this.va.breaks[l] = h);
            }
          }),
          (this.xd = function () {
            if (E.va.drawArea) return E.va.drawArea;
            if (!this.nav.scroll) return null;
            var e = E.Qq,
              t = {},
              n =
                null != this.dynamicEventRenderingMarginX
                  ? this.dynamicEventRenderingMarginX
                  : this.dynamicEventRenderingMargin,
              i =
                null != this.dynamicEventRenderingMarginY
                  ? this.dynamicEventRenderingMarginY
                  : this.dynamicEventRenderingMargin,
              a = E.Tq - n - Y.vm,
              r = a + E.Ju + 2 * n,
              o = 0,
              l = 0;
            if (E.itline && E.itline.length > 0) {
              (o = E.in(a).x), (l = E.in(r, !0).x);
              var s = this.cr();
              (l = Math.min(l, s)), (o = u(o, 0));
            }
            var d = e - i,
              c = e + this.nav.scroll.offsetHeight + 2 * i,
              h = this.Am(d).i,
              f = this.Am(c).i;
            f < this.rowlist.length && f++,
              (t.xStart = o),
              (t.xEnd = l),
              (t.yStart = h),
              (t.yEnd = f);
            var v = E.nav.scroll;
            return (
              0 === v.clientWidth && (v = E.divTimeScroll),
              (t.pixels = {}),
              (t.pixels.left = v.scrollLeft - Y.vm),
              (t.pixels.right = v.scrollLeft - Y.vm + v.clientWidth),
              (t.pixels.top = v.scrollTop),
              (t.pixels.bottom = v.scrollTop + v.clientHeight),
              (t.pixels.width = v.scrollWidth),
              (t.sw = DayPilot.sw(E.nav.scroll)),
              (E.va.drawArea = t),
              t
            );
          }),
          (this.Fm = function () {
            var e = 0,
              t = this.itline[this.itline.length - 1];
            return (
              (e = t ? t.left + t.width : 0), (e < 0 || isNaN(e)) && (e = 0), e
            );
          }),
          (this.ew = function (e, t) {
            t = t || "main";
            var n = E.pm[t],
              i = n.rowlist,
              a = n.divLines,
              r = t + "_y_" + e;
            if (!this.va.zl[r]) {
              var l = i[e],
                s = {};
              if (
                "function" != typeof E.onBeforeGridLineRender ||
                ((s.row = E.lo(l)),
                (s.hidden = !1),
                (s.cssClass = null),
                (s.type = "HorizontalLine"),
                (s.color = null),
                E.onBeforeGridLineRender(s),
                !s.hidden)
              ) {
                var d =
                    "number" == typeof l.forcedHeight
                      ? l.forcedHeight
                      : l.height,
                  c = l.top + d - 1,
                  u = this.Fm(),
                  h = o(),
                  f = h.style;
                (f.left = "0px"),
                  (f.top = c + "px"),
                  (f.width = u + "px"),
                  (f.height = "1px"),
                  (f.fontSize = "1px"),
                  (f.lineHeight = "1px"),
                  (f.overflow = "hidden"),
                  (f.position = "absolute"),
                  (h.className = this.ca("_matrix_horizontal_line")),
                  s.cssClass && (h.className += " " + s.cssClass),
                  s.color && (f.backgroundColor = s.color),
                  a.appendChild(h),
                  (this.va.zl[r] = h);
              }
            }
          }),
          (this.dw = function (e, t) {
            var n = this.itline[e];
            if (n) {
              t = t || "main";
              var i = E.pm[t],
                a = i.divLines,
                r = "main" === t,
                l = r ? E.vl : i.height,
                s = t + "_x_" + e;
              if (!this.va.yl[s]) {
                var d = {};
                if (
                  "function" != typeof E.onBeforeGridLineRender ||
                  ((d.start = n.start),
                  (d.end = n.end),
                  (d.hidden = !1),
                  (d.cssClass = null),
                  (d.type = "VerticalLine"),
                  (d.color = null),
                  E.onBeforeGridLineRender(d),
                  !d.hidden)
                ) {
                  var c = n.left + n.width - 1,
                    u = o(),
                    h = u.style;
                  (h.left = c + "px"),
                    (h.top = "0px"),
                    (h.width = "1px"),
                    (h.height = l + "px"),
                    (h.fontSize = "1px"),
                    (h.lineHeight = "1px"),
                    (h.overflow = "hidden"),
                    (h.position = "absolute"),
                    (u.className = this.ca("_matrix_vertical_line")),
                    d.cssClass && (u.className += " " + d.cssClass),
                    d.color && (h.backgroundColor = d.color),
                    a.appendChild(u),
                    this.elements.linesVertical.push(u),
                    (this.va.yl[s] = u);
                }
              }
            }
          }),
          (this.Cq = function (e, t) {
            function n() {
              var t = E.hw(e, i.expanded, !1);
              if (!a)
                for (var n = 0; n < t.length; n++) {
                  var r = t[n];
                  E.Zn(r);
                }
              E.Rl(), E.Os(), E.Bb(), E.yk();
              var o = E.lo(i, e);
              a ? E.wo(o) : E.vo(o);
            }
            E.lm.bq && (E.lm.skip = !0);
            var i = this.rowlist[e],
              a = !i.expanded;
            if (
              ((i.expanded = a),
              i.resource && (i.resource.expanded = a),
              (t = t || {}),
              E.Rl({ includeHidden: !0 }),
              E.treeAnimation && !t.notAnimated)
            ) {
              var r = this.hw(e, i.expanded, !0);
              E.Ns(r, a ? "show" : "hide", function () {
                n();
              });
            } else n();
          }),
          (this.Os = function (e) {
            E.Xl(),
              E.Tl(),
              E.Ul(),
              E.Bb(),
              E.Ka(),
              E._n(),
              W.Bn(),
              E.Zl(),
              E.bm(),
              E.Fn(e),
              E.Fb(),
              E.Ka();
          }),
          (this.Hs = function (e) {
            var t = {};
            if (((t.index = e), "function" == typeof this.onLoadNode)) {
              var n = {},
                i = this.rowlist[e].resource;
              (n.resource = i),
                (n.async = !1),
                (n.loaded = function () {
                  this.async &&
                    ((i.dynamicChildren = !1), (i.expanded = !0), E.update());
                }),
                this.onLoadNode(n),
                n.async ||
                  ((i.dynamicChildren = !1), (i.expanded = !0), this.update());
            } else this.Pa("LoadNode", t);
          }),
          (this.hw = function (e, t, n) {
            var i = this.rowlist[e],
              a = [];
            if (null === i.children || 0 === i.children.length) return a;
            for (var r = 0; r < i.children.length; r++) {
              var o = i.children[r],
                l = this.rowlist[o],
                s = t && i.expanded && !l.Pt;
              t && l.hidden && (l.forcedHeight = 0),
                (n && !t) || (l.hidden = !s),
                n || delete l.forcedHeight,
                t === s && a.push(o);
              var d = this.hw(o, t && !l.hidden);
              d.length > 0 && (a = a.concat(d));
            }
            return a;
          }),
          (this.Og = function (e, t) {
            this.ib(), this.Pg(e, t);
          }),
          (this.Qg = function (e) {
            if (!e) return !1;
            var t = this.nav.scroll,
              n = E.Fm(),
              i = t.scrollLeft,
              a = t.clientWidth,
              r = i + a;
            return (
              !(e < 0 && i <= 0) &&
              !(e > 0 && r >= n) &&
              ((t.scrollLeft += e), (E.coords.x += e), E.Rg(), !0)
            );
          }),
          (this.Sg = function (e) {
            if (!e) return !1;
            var t = this.nav.scroll,
              n = t.scrollHeight,
              i = t.scrollTop,
              a = t.clientHeight,
              r = i + a;
            return (
              !(e < 0 && i <= 0) &&
              !(e > 0 && r >= n) &&
              ((t.scrollTop += e), (E.coords.y += e), E.Rg(), !0)
            );
          }),
          (this.Rg = function () {
            n.nq && n.nq.event.calendar === E
              ? E.Dv()
              : n.mn &&
                (n.jq.calendar === E ||
                  (n.jq.calendar && n.jq.calendar.dragOutAllowed))
              ? (n.mn.event || (n.mn.event = n.jq), E.Ev())
              : n.oq && n.oq.calendar === E
              ? E.Fv()
              : n.bn && P.draw();
          }),
          (this.Pg = function (e, t) {
            if (!E.ov) {
              if (!(this.Qg(e) || this.Sg(t))) return;
            }
            var n = function (e, t) {
              return function () {
                E.Pg(e, t);
              };
            };
            clearTimeout(E.Tg), (E.Tg = setTimeout(n(e, t), 100));
          }),
          (this.ib = function () {
            clearTimeout(E.Tg), clearTimeout(E.Mv);
          }),
          (this.Xl = function () {
            E.pm.top.enabled() && (E.pm.top.height = E.iw(E.pm.top.rowlist, 0)),
              E.pm.bottom.enabled() &&
                (E.pm.bottom.height = E.iw(E.pm.bottom.rowlist, 0)),
              (E.vl = E.iw(E.rowlist, E.pm.top.height));
          }),
          (this.iw = function (e, t) {
            var n = 0,
              i = t || 0;
            t = t || 0;
            for (var a = 0; a < e.length; a++) {
              var r = e[a];
              r.hidden ||
                ((r.top = t),
                (r.displayY = n),
                (t +=
                  "number" == typeof r.forcedHeight
                    ? r.forcedHeight
                    : r.height),
                (n += 1)),
                (r.absTop = i),
                (i += r.height);
            }
            return t;
          }),
          (this.Zl = function () {
            "function" == typeof E.onBeforeCellDomAdd && E.jw(),
              (E.elements.cells = []),
              (E.elements.breaks = []),
              (E.va.cells = []),
              (E.va.breaks = []),
              (E.divBreaks.innerHTML = ""),
              (E.pm.top.divBreaks.innerHTML = ""),
              (E.pm.bottom.divBreaks.innerHTML = ""),
              (E.divCells.innerHTML = ""),
              (E.pm.top.divCells.innerHTML = ""),
              (E.pm.bottom.divCells.innerHTML = ""),
              E.ss();
          }),
          (this.ss = function () {
            (E.divLines.innerHTML = ""),
              (E.pm.top.divLines.innerHTML = ""),
              (E.pm.bottom.divLines.innerHTML = ""),
              (E.va.yl = {}),
              (E.va.zl = {}),
              (E.elements.linesVertical = []);
          }),
          (this.jw = function () {
            var e = y();
            for (var t in E.va.cells) e.push(E.va.cells[t]);
            e.forEach(function (e) {
              E.Jf(e);
            });
          }),
          (this.ao = function (e, t) {
            t = t || "main";
            var n = y();
            for (var i in E.va.cells) n.push(E.va.cells[i]);
            n.filter(function (n) {
              return n && n.coords && n.coords.y === e && n.coords.grid === t;
            }).forEach(function (e) {
              E.Jf(e);
            });
          }),
          (this.kw = 0),
          (this.lw = y([
            "html",
            "cssClass",
            "backColor",
            "backImage",
            "backRepeat",
            "areas",
            "disabled",
            "fontColor",
            "text",
            "verticalAlignment",
            "horizontalAlignment",
          ])),
          (this.mw = E.lw.add("business")),
          (this._e = function (e, t, n) {
            if (this.za) {
              var i = E.on(e);
              if (i) {
                n = n || "main";
                var a = this.pm[n],
                  r = a.rowlist,
                  l = a.divCells,
                  s = "main" === n,
                  c = n + "_" + e + "_" + t;
                if (!this.va.cells[c]) {
                  var u = this.fq(e, t, n);
                  if ((E.xr(e, t, n), !this.drawBlankCells)) {
                    var h = !1;
                    if (
                      (s && this.yq(t)
                        ? (h = !1)
                        : this.nw(u, E.lw) || (h = !0),
                      h)
                    )
                      return;
                  }
                  var g = o();
                  (g.style.left = i.left + "px"),
                    (g.style.top = r[t].top + "px"),
                    (g.style.width = i.width + "px"),
                    (g.style.height = r[t].height + "px"),
                    (g.style.position = "absolute"),
                    (g.className = this.ca("_cell")),
                    (g.coords = {}),
                    (g.coords.x = e),
                    (g.coords.y = t),
                    (g.coords.grid = n),
                    s && E.yq(t) && d(g, this.ca("_cellparent")),
                    z.va[n + "_" + t] && d(g, this.ca("_cell_selected"));
                  var b = E.cells.findXy(e, t, n)[0];
                  if (u) {
                    if (
                      (u.cssClass && d(g, u.cssClass),
                      (g.innerHTML = E.La(u.text, u.html)),
                      u.backImage &&
                        (g.style.backgroundImage =
                          'url("' + u.backImage + '")'),
                      u.backRepeat && (g.style.backgroundRepeat = u.backRepeat),
                      u.business &&
                        E.cellsMarkBusiness &&
                        d(g, E.ca("_cell_business")),
                      u.disabled && d(g, E.ca("_cell_disabled")),
                      u.backColor && (g.style.backgroundColor = u.backColor),
                      u.fontColor && (g.style.color = u.fontColor),
                      u.horizontalAlignment || u.verticalAlignment)
                    ) {
                      switch (
                        ((g.style.display = "flex"), u.horizontalAlignment)
                      ) {
                        case "right":
                          g.style.justifyContent = "flex-end";
                          break;
                        case "left":
                          g.style.justifyContent = "flex-start";
                          break;
                        case "center":
                          g.style.justifyContent = "center";
                      }
                      switch (u.verticalAlignment) {
                        case "center":
                          g.style.alignItems = "center";
                          break;
                        case "top":
                          g.style.alignItems = "flex-start";
                          break;
                        case "bottom":
                          g.style.alignItems = "flex-end";
                      }
                    }
                    var y = DayPilot.Areas.resolvePosition(
                      u.areas,
                      E,
                      i.left,
                      i.width
                    );
                    DayPilot.Areas.attach(g, b, { areas: y });
                  }
                  if (
                    ((function () {
                      if (
                        "function" == typeof E.onBeforeCellDomAdd ||
                        "function" == typeof E.onBeforeCellDomRemove
                      ) {
                        var e = {};
                        if (
                          ((e.control = E),
                          (e.cell = b),
                          (e.element = null),
                          (g.domArgs = e),
                          "function" == typeof E.onBeforeCellDomAdd &&
                            E.onBeforeCellDomAdd(e),
                          e.element)
                        ) {
                          var t = g;
                          if (t) {
                            e.Le = t;
                            var n = v(e.element),
                              i = p(e.element),
                              a = m(e.element);
                            if (n) {
                              if (!E.W.reactDOM)
                                throw new DayPilot.Exception(
                                  "Can't reach ReactDOM"
                                );
                              E.W.V(e.element, t);
                            } else if (i) {
                              if (!E.Y.Ne)
                                throw new DayPilot.Exception("Can't reach Vue");
                              (E.Y.Oe = !0),
                                E.Y.Z(e.element, t, e.props),
                                (E.Y.Oe = !1);
                            } else if (a) {
                              if (!E.Y.Ne)
                                throw new DayPilot.Exception("Can't reach Vue");
                              (E.Y.Oe = !0),
                                E.Y.Pe(e.element, t),
                                (E.Y.Oe = !1);
                            } else t.appendChild(e.element);
                          }
                        }
                      }
                    })(),
                    l.appendChild(g),
                    this.elements.cells.push(g),
                    (this.va.cells[c] = g),
                    "function" == typeof E.onAfterCellRender)
                  ) {
                    var w = {};
                    (w.cell = f(b, {}, [
                      "x",
                      "y",
                      "displayY",
                      "start",
                      "end",
                      "resource",
                      "grid",
                    ])),
                      (w.div = g),
                      E.onAfterCellRender(w);
                  }
                }
              }
            }
          }),
          (this._m = {}),
          (this.Yp = function () {
            E.ot(),
              E.ow().forEach(function (e) {
                E.ao(e.y, e.grid);
              }),
              E.bm();
          }),
          (this.ot = function () {
            function e(e) {
              E.pm[e].rowlist.forEach(function (t, n) {
                t.isNewRow ||
                  (t.resource.cellsAutoUpdated &&
                    E.itline.forEach(function (t, i) {
                      var a = e + "_" + i + "_" + n;
                      delete E._m[a], (E.cellProperties[a] = null);
                    }));
              });
            }
            e("main"), e("top"), e("bottom");
          }),
          (this.ow = function () {
            function e(e, n, r) {
              for (var o = 0; o < r; o++)
                for (
                  var l = n + o, s = E.pm[e].rowlist[l], d = 0;
                  d <= a;
                  d++
                ) {
                  var c = i + d;
                  if (!s.hidden && !E._m[e + "_" + c + "_" + l]) {
                    t.push({ grid: e, y: l });
                    break;
                  }
                }
            }
            var t = y(),
              n = this.xd(),
              i = n.xStart,
              a = n.xEnd - n.xStart;
            return (
              e("main", n.yStart, n.yEnd - n.yStart),
              e("top", 0, E.pm.top.rowlist.length),
              e("bottom", 0, E.pm.bottom.rowlist.length),
              t
            );
          }),
          (this.xr = function (e, t, n) {
            if ("function" == typeof this.onBeforeCellRender) {
              n = n || "main";
              var i = n + "_" + e + "_" + t;
              if (E.beforeCellRenderCaching && E._m[i]) return;
              E._m[i] = !0;
              var a = E.on(e);
              if (!a) return;
              var r = E.cells.findXy(e, t, n)[0],
                o = {};
              return (
                (o.cell = r),
                (o.control = E),
                (o.getPixels = function (e) {
                  var t = new DayPilot.Date(e);
                  return E.getPixels(t).left - a.left;
                }),
                this.onBeforeCellRender(o),
                f(o.cell, o.cell.properties, E.mw),
                o.cell.properties.disabled && (E._m.$r = !0),
                o
              );
            }
          }),
          (this.nw = function (e, t) {
            if (t) {
              for (var n = 0; n < t.length; n++) if (!h(e[t[n]])) return !0;
            } else for (var i in e) if (!h(e[i])) return !0;
            return !1;
          }),
          (this.clearSelection = function () {
            this.em(), N.clear();
          }),
          (this.cleanSelection = this.clearSelection),
          (this.Xv = function (e, t, n) {
            return (
              (e = new DayPilot.Date(e)),
              (t = new DayPilot.Date(t)),
              E.pw(e, t, n).map(function (n) {
                var i = n.start.getTime() - E.Ub().getTime(),
                  a = e.addTime(-i),
                  r = t.addTime(-i),
                  o = E.kn(a),
                  l = o.current || o.next;
                if (!l)
                  throw new DayPilot.Exception(
                    "Time range selection 'start' out of timeline"
                  );
                var s = E.kn(r.addMilliseconds(-1)),
                  d = s.current || s.previous;
                if (!d)
                  throw new DayPilot.Exception(
                    "Time range selection 'end' out of timeline"
                  );
                var c = {};
                return (
                  (c.start = {
                    y: n.index,
                    x: k(E.itline, l),
                    time: e,
                    grid: n.grid,
                  }),
                  (c.end = { x: k(E.itline, d), time: t }),
                  (c.calendar = E),
                  c
                );
              })[0]
            );
          }),
          (this.pw = function (e, t, n) {
            var i = E.Ym(),
              a = e.getTime(),
              r = t.getTime();
            return i.filter(function (e) {
              return (
                e.id === n &&
                (!(r <= e.data.startTicks || a >= e.data.endTicks) ||
                  (a === r && a === e.data.startTicks))
              );
            });
          }),
          (this.selectTimeRange = function (e, t, n, i) {
            var a = E.Xv(e, t, n);
            E.go(a),
              i ||
                setTimeout(function () {
                  E.co(a, "api");
                }, 0);
          }),
          (this.Cc = function () {
            var e = n.Sr && n.Sr.source;
            e && s(e, E.ca(E.Cl.eventMovingSource)),
              x(n.Sr),
              (n.Sr = null),
              E.as(),
              E.Ll.clear(),
              U.Sl();
          }),
          (this.em = function () {
            var e = E.elements.range2;
            e && e.remove(),
              (E.elements.range = []),
              (E.elements.range2 = null),
              E.as(),
              (E.fo = null),
              (E.Vv = null);
          }),
          (B.bl = null),
          (B.Rp = !1),
          (B.qw = function (e) {
            if (!e) return null;
            var t = {};
            if ("event" === e.type) t.e = e.event;
            else if ("cell" === e.type) {
              var n = B.rw(e.x, e.y);
              (t.cell = {}),
                (t.cell.start = n.thc.start),
                (t.cell.end = n.thc.end),
                (t.cell.resource = n.row.id);
            }
            return t;
          }),
          (B.xo = function (e) {
            if (!n.Pp && !B.Rp) {
              e = e || {};
              var t = e.dontFocus,
                i = B.bl;
              if (i) {
                var a = i.x,
                  r = i.y;
                if ("cell" === i.type) {
                  var o = B.rw(a, r),
                    l = o.row,
                    s = B.tw(a, r);
                  s && d(s, E.ca("_cell_focus")),
                    "top" === i.line &&
                      l.marginTop &&
                      d(s, E.ca("_cell_focus_top")),
                    "bottom" === i.line &&
                      l.marginBottom &&
                      d(s, E.ca("_cell_focus_bottom"));
                } else {
                  var s = E.jh(i.event);
                  s && d(s, E.ca("_event_focus"));
                }
                if (!t) {
                  var c = E.Ho();
                  if (c.start.x >= a) {
                    var u = E.itline[a].start;
                    E.scrollTo(u);
                  } else if (c.end.x <= a) {
                    var h = E.itline[a].end;
                    E.scrollTo(h, !1, "right");
                  }
                  if (c.start.y >= r)
                    E.nav.scroll.scrollTop = E.rowlist[r].top - E.pm.top.height;
                  else if (c.end.y <= r) {
                    var l = E.rowlist[r],
                      f = l.top + l.height;
                    E.nav.scroll.scrollTop =
                      f - E.nav.scroll.clientHeight + E.pm.bottom.height;
                  }
                }
              }
            }
          }),
          (B.Qp = function () {
            var e = B.bl;
            if (e)
              if ("cell" === e.type) {
                var t = B.tw(B.bl.x, B.bl.y);
                t &&
                  (s(t, E.ca("_cell_focus")),
                  s(t, E.ca("_cell_focus_top")),
                  s(t, E.ca("_cell_focus_bottom")));
              } else {
                var t = E.jh(e.event);
                t && s(t, E.ca("_event_focus"));
              }
          }),
          (B.rw = function (e, t) {
            var n = {},
              i = E.rowlist[t],
              a = E.itline[e],
              r = [],
              o = i.lines.map(function (e) {
                var t = e.filter(function (e) {
                  return l(e.part.start, e.part.end, a.start, a.end);
                });
                return (r = r.concat(t)), t;
              });
            return (n.lines = o), (n.thc = a), (n.row = i), (n.events = r), n;
          }),
          (B.Tn = function () {
            var e = B.bl;
            e &&
              (B.Qp(),
              (B.bl = B.uw(e.x, e.y, e.pixels, e.line)),
              B.xo({ dontFocus: !0 }));
          }),
          (B.uw = function (e, t, n, i) {
            var a = {};
            (n = n || E.itline[e].left), (i = h(i) ? "top" : i);
            var r = B.rw(e, t),
              o = r.lines,
              s = r.row,
              d = r.events,
              c = s.marginTop || s.marginBottom,
              u = !1,
              f = d.length > 0,
              v = i,
              p = null,
              m = null;
            if (f)
              if (s.marginTop && "top" === i) (u = !0), (v = "top");
              else if (s.marginBottom && "bottom" === i)
                (u = !0), (v = "bottom");
              else {
                if ("top" === i)
                  if (s.marginBottom) {
                    var g = r.lines.find(function (e) {
                      return e.find(function (e) {
                        return e.part.left <= n && n <= e.part.right;
                      });
                    });
                    if (g) v = r.lines.indexOf(g);
                    else {
                      var b = r.lines.find(function (e) {
                        return e.find(function (e) {
                          return l(
                            e.part.left,
                            e.part.right,
                            r.thc.left,
                            r.thc.left + r.thc.right
                          );
                        });
                      });
                      b
                        ? ((v = r.lines.indexOf(b)), (m = b[0]))
                        : (v = "bottom");
                    }
                  } else v = s.marginTop ? "top" : 0;
                else if ("bottom" === i)
                  if (c) {
                    var g = r.lines
                      .slice()
                      .reverse()
                      .find(function (e) {
                        return e.find(function (e) {
                          return e.part.left <= n && n <= e.part.right;
                        });
                      });
                    (v = r.lines.indexOf(g)), v === -1 && (v = B.vw(i, s));
                  } else v = o.length - 1;
                else v = i;
                var y = o[v];
                m ||
                  (m =
                    y &&
                    y.find(function (e) {
                      return e.part.left <= n && n <= e.part.right;
                    })),
                  m || ((u = !0), (v = B.vw(v, s))),
                  (p = m);
              }
            else (u = !0), (v = c ? B.vw(i, s) : 0);
            return (
              (a.x = e),
              (a.y = t),
              u
                ? ((a.type = "cell"), (a.pixels = n), (a.line = v), a)
                : ((a.type = "event"),
                  (a.event = p),
                  (a.pixels = p.part.left),
                  (a.x = E.in(p.part.left).x),
                  (a.line = v),
                  a)
            );
          }),
          (B.ww = function (e) {
            var t = {},
              n = B.bl,
              i = E.rowlist[n.y],
              a = i.lines[n.line],
              r = B.rw(n.x, n.y),
              o = i.marginTop || i.marginBottom;
            if ("right" === e) {
              if ("event" === n.type) {
                var s = n.event.part.end,
                  d = n.event.part.right,
                  c = E.kn(s),
                  u = c.i,
                  h = c.current.left + c.current.width,
                  f = a.indexOf(n.event) + 1,
                  v = a[f],
                  p = r.lines[n.line],
                  m = p[p.indexOf(n.event) + 1];
                if (v && v.part.left === d)
                  return (
                    (t.x = u),
                    (t.y = n.y),
                    (t.type = "event"),
                    (t.line = n.line),
                    (t.pixels = v.part.left),
                    (t.event = v),
                    t
                  );
                if (m && o)
                  return (
                    (t.x = u),
                    (t.y = n.y),
                    (t.type = "event"),
                    (t.line = n.line),
                    (t.pixels = m.part.left),
                    (t.event = m),
                    t
                  );
                if (h === d) {
                  var g = B.xw(u);
                  return g === u
                    ? n
                    : ((t.x = u + 1),
                      (t.y = n.y),
                      (t.type = "cell"),
                      (t.pixels = E.itline[t.x].left),
                      (t.line = 0),
                      i.marginTop
                        ? (t.line = "top")
                        : i.marginBottom && (t.line = "bottom"),
                      t);
                }
                return (
                  (t.x = u),
                  (t.y = n.y),
                  (t.type = "cell"),
                  (t.line = n.line),
                  (t.pixels = n.event.part.right),
                  o && (t.line = B.vw(n.line, i)),
                  t
                );
              }
              var b = B.rw(n.x, n.y),
                y = b.lines[n.line],
                v =
                  y &&
                  y.find(function (e) {
                    return e.part.left > n.pixels;
                  });
              if (v)
                return (
                  (t.x = n.x),
                  (t.y = n.y),
                  (t.type = "event"),
                  (t.event = v),
                  (t.pixels = v.part.left),
                  (t.line = n.line),
                  t
                );
              var g = B.xw(n.x);
              return g === n.x ? n : B.uw(g, n.y, null, n.line);
            }
            if ("left" === e) {
              var w = n.x;
              if ("event" === n.type) {
                w = E.in(n.event.part.left).x;
                var c = E.itline[w];
                if (n.event.part.left !== c.left) {
                  var f = a.indexOf(n.event) - 1,
                    v = a[f];
                  return v && v.part.right === n.event.part.left
                    ? ((c = E.in(v.part.right, !0)),
                      (t.x = c.x),
                      (t.y = n.y),
                      (t.type = "event"),
                      (t.line = n.line),
                      (t.pixels = v.part.right),
                      (t.event = v),
                      t)
                    : ((c = E.in(n.event.part.left)),
                      (t.x = c.x),
                      (t.y = n.y),
                      (t.type = "cell"),
                      (t.line = n.line),
                      (t.pixels = n.event.part.left),
                      o && (t.line = B.vw(n.line, i)),
                      t);
                }
                if (0 === w) return n;
                t = B.uw(w - 1, n.y, c.right, n.line);
              } else {
                var x = B.rw(n.x, n.y),
                  k = x.lines[n.line],
                  v =
                    k &&
                    k
                      .slice()
                      .reverse()
                      .find(function (e) {
                        return e.part.right < n.pixels;
                      });
                if (v)
                  return (
                    (t.x = n.x),
                    (t.y = n.y),
                    (t.type = "event"),
                    (t.event = v),
                    (t.pixels = v.part.right),
                    (t.line = n.line),
                    t
                  );
                var g = B.yw(n.x);
                if (g === n.x) return n;
                var c = E.itline[w - 1],
                  h = c.left + c.width;
                t = B.uw(g, n.y, h, n.line);
              }
              return t;
            }
            if ("down" === e) {
              var C = B.rw(n.x, n.y),
                _ = C.lines.find(function (e) {
                  return e.find(function (e) {
                    return e.part.left <= n.pixels && n.pixels <= e.part.right;
                  });
                });
              if ("top" === n.line && i.marginTop) {
                if (_) {
                  var T = C.lines.indexOf(_);
                  return (
                    (t = B.uw(n.x, n.y, n.pixels, T)),
                    (t.pixels = n.pixels),
                    (t.x = n.x),
                    t
                  );
                }
                var S = C.lines.find(function (e) {
                  return e.find(function (e) {
                    return l(
                      e.part.left,
                      e.part.right,
                      C.thc.left,
                      C.thc.left + C.thc.right
                    );
                  });
                });
                if (S) {
                  var D = S[0];
                  return (
                    (t = B.uw(n.x, n.y, D.part.left, C.lines.indexOf(S))),
                    (t.pixels = n.pixels),
                    (t.x = n.x),
                    t
                  );
                }
                var H = B.zw(n.y);
                return H === n.y
                  ? n
                  : ((t = B.uw(n.x, H, n.pixels, "top")),
                    (t.pixels = n.pixels),
                    (t.x = n.x),
                    t);
              }
              if ("bottom" === n.line && i.marginBottom) {
                var H = B.zw(n.y);
                return H === n.y
                  ? n
                  : ((t = B.uw(n.x, H, n.pixels, "top")),
                    (t.pixels = n.pixels),
                    (t.x = n.x),
                    t);
              }
              if (n.line < i.lines.length - 1) {
                var M = n.y,
                  A = n.line + 1;
                i.marginTop && "top" === n.line && (A = 0);
                var R = C.lines.slice(A).find(function (e) {
                  return e.find(function (e) {
                    return e.part.left <= n.pixels && n.pixels <= e.part.right;
                  });
                });
                if (R) A = C.lines.indexOf(R);
                else if (i.marginBottom) A = "bottom";
                else if (i.marginTop) {
                  var S = C.lines.slice(n.line + 1).find(function (e) {
                    return e.find(function (e) {
                      return l(
                        e.part.left,
                        e.part.right,
                        C.thc.left,
                        C.thc.left + C.thc.right
                      );
                    });
                  });
                  if (S) {
                    var D = S[0];
                    return (t = B.uw(
                      n.x,
                      n.y,
                      D.part.left,
                      C.lines.indexOf(S)
                    ));
                  }
                  (A = "top"), (M += 1);
                } else if (n.event) A = i.lines.length - 1;
                else {
                  var H = B.zw(n.y);
                  if (H === n.y) return n;
                  (A = 0), (M += 1);
                }
                return (
                  (t = B.uw(n.x, M, n.pixels, A)),
                  (t.pixels = n.pixels),
                  (t.x = n.x),
                  t
                );
              }
              if (n.line === i.lines.length - 1 && i.marginBottom)
                return (
                  (t = B.uw(n.x, n.y, n.pixels, "bottom")),
                  (t.pixels = n.pixels),
                  (t.x = n.x),
                  t
                );
              var H = B.zw(n.y);
              return H === n.y
                ? n
                : ((t = B.uw(n.x, H, n.pixels, "top")),
                  (t.pixels = n.pixels),
                  (t.x = n.x),
                  t);
            }
            if ("up" === e) {
              var N = B.rw(n.x, n.y),
                _ = N.lines
                  .slice()
                  .reverse()
                  .find(function (e) {
                    return e.find(function (e) {
                      return (
                        e.part.left <= n.pixels && n.pixels <= e.part.right
                      );
                    });
                  });
              if ("bottom" === n.line && i.marginBottom && _) {
                var T = N.lines.indexOf(_);
                t = B.uw(n.x, n.y, n.pixels, T);
              } else if (0 === n.line && i.marginTop)
                t = B.uw(n.x, n.y, n.pixels, "top");
              else if (n.line > 0) {
                var A = "bottom",
                  M = n.y,
                  P = N.lines
                    .slice(0, n.line)
                    .reverse()
                    .find(function (e) {
                      return e.find(function (e) {
                        return (
                          e.part.left <= n.pixels && n.pixels <= e.part.right
                        );
                      });
                    });
                P
                  ? (A = N.lines.indexOf(P))
                  : i.marginTop
                  ? (A = "top")
                  : i.marginBottom
                  ? (M -= 1)
                  : (A = 0);
                var H = B.Aw(M);
                if (H === M) return n;
                t = B.uw(n.x, M, n.pixels, A);
              } else {
                var H = B.Aw(n.y);
                if (H === n.y) return n;
                t = B.uw(n.x, H, n.pixels, "bottom");
              }
              return (t.x = n.x), (t.pixels = n.pixels), t;
            }
            return null;
          }),
          (B.vw = function (e, t) {
            var n =
              ("top" === e && t.marginTop) ||
              ("bottom" === e && t.marginBottom);
            if ("number" == typeof e || !n) {
              if (t.marginTop) return "top";
              if (t.marginBottom) return "bottom";
            }
            return e;
          }),
          (B.tw = function (e, t, n) {
            n = n || "main";
            var i = n + "_" + e + "_" + t;
            return E.va.cells[i];
          }),
          (B.Bw = function () {
            return B.bl;
          }),
          (B.ei = function () {
            var e = E.keyboardTarget;
            switch (e) {
              case "component":
                return E.nav.top;
              case "document":
                return document;
            }
            throw new DayPilot.Exception("Invalid keyboardTarget value: " + e);
          }),
          (B.oq = null),
          (B.Cw = function (e) {
            if (16 === e.keyCode) {
              var t = B.oq;
              if (((B.oq = null), !t || !t.end)) return;
              var n = t.start.x < t.end.x,
                i = n ? t.start.x : t.end.x,
                a = n ? t.end.x : t.start.x;
              B.Dw(i, t.start.y, a, { forceSnap: !0 });
            }
          }),
          (B.Ew = function (e) {
            var t = 37,
              i = 38,
              a = 39,
              r = 40,
              o = 13,
              l = {};
            (l["_37"] = "left"),
              (l["_39"] = "right"),
              (l["_38"] = "up"),
              (l["_40"] = "down");
            var s = [t, i, a, r],
              d = s.indexOf(e.keyCode) !== -1,
              c = [t, i, a, r, o],
              u = c.indexOf(e.keyCode) !== -1;
            if (!n.Pp) {
              if ("function" == typeof E.onKeyDown) {
                var h = {};
                if (
                  ((h.originalEvent = e),
                  (h.preventDefault = function () {
                    h.preventDefault.value = !0;
                  }),
                  E.onKeyDown(h),
                  h.preventDefault.value)
                )
                  return;
              }
              if (d && (e.preventDefault(), !B.bl)) return void B.Fw();
              if (u) {
                var f = e.shiftKey,
                  v = !1;
                if (
                  (B.bl &&
                    ((v = !(E.yq(B.bl.y) && E.treePreventParentUsage)),
                    f &&
                      !B.bl.event &&
                      !B.oq &&
                      v &&
                      (B.oq = {
                        calendar: E,
                        forceSnap: !0,
                        start: {
                          x: B.bl.x,
                          y: B.bl.y,
                          time: E.itline[B.bl.x].start,
                        },
                      })),
                  !B.oq || (e.keyCode !== i && e.keyCode !== r))
                ) {
                  var p = B.ww(l["_" + e.keyCode]),
                    m = {};
                  if (
                    ((m.previous = E.keyboard.getFocus()),
                    (m.focus = B.qw(p)),
                    (m.preventDefault = function () {
                      m.preventDefault.value = !0;
                    }),
                    !d ||
                      "function" != typeof E.onKeyboardFocusChange ||
                      (E.onKeyboardFocusChange(m), !m.preventDefault.value))
                  ) {
                    if (d) B.Qp(), (B.bl = p), B.xo();
                    else
                      switch (e.keyCode) {
                        case o:
                          if ((e.preventDefault(), B.bl && B.bl.event)) {
                            var g = E.jh(B.bl.event);
                            B.Gw(g, e);
                          } else v && B.Dw(B.bl.x, B.bl.y);
                      }
                    (d &&
                      "function" == typeof E.onKeyboardFocusChanged &&
                      (E.onKeyboardFocusChanged(m), m.preventDefault.value)) ||
                      ((e.keyCode !== t && e.keyCode !== a) ||
                        (B.oq &&
                          ((B.oq.end = {
                            x: B.bl.x,
                            y: B.bl.y,
                            time: E.itline[B.bl.x].start,
                          }),
                          E.go(B.oq))),
                      B.oq);
                  }
                }
              }
            }
          }),
          (B.Oo = function () {
            var e = B.ei();
            e.removeEventListener("keyup", B.Cw),
              e.removeEventListener("keydown", B.Ew);
          }),
          (B.Hw = function () {
            var e = B.ei();
            e !== document && E.nav.top.setAttribute("tabindex", "-1"),
              E.ja() ||
                (e.addEventListener("keyup", B.Cw),
                e.addEventListener("keydown", B.Ew));
          }),
          (B.Gw = function (e, t) {
            E.$b(e, t);
          }),
          (B.Dw = function (e, t, n) {
            a = a || {};
            var i = {};
            (i.forceSnap = !0),
              (i.start = { y: t, x: e, time: E.itline[e].start }),
              (i.end = { x: "undefined" == typeof n ? e : n }),
              (i.end.time = E.itline[i.end.x].start),
              (i.calendar = E),
              (E.fo = i),
              E.co(i, "keyboard");
          }),
          (B.Fw = function () {
            var e = E.Ho();
            B.Qp(), (B.bl = B.uw(e.start.x, e.start.y)), B.xo();
          }),
          (B._o = function () {
            var e = "Always" === E.useEventBoxes;
            (e = e && !E.ja()),
              e && (B.Hw(), B.ei() !== document && E.nav.top.focus());
          }),
          (B.Pn = function (e) {
            if (e.e) {
              var t = E.events.find(e.e.id());
              t && E.keyboard.focusEvent(t.id());
            } else if (e.cell) {
              var n = e.cell.start,
                i = e.cell.resource,
                a = E.cq(n, i);
              a && "main" === a.grid && E.keyboard.focusCell(n, i);
            }
          }),
          (B.Aw = function (e) {
            if (e <= 0) return e;
            for (var t = e; t > 0; )
              if (((t -= 1), !E.rowlist[t].hidden)) return t;
            return e;
          }),
          (B.zw = function (e) {
            var t = E.rowlist.length - 1;
            if (e >= t) return e;
            for (var n = e; n < t; )
              if (((n += 1), !E.rowlist[n].hidden)) return n;
            return e;
          }),
          (B.xw = function (e) {
            return e >= E.itline.length - 1 ? e : e + 1;
          }),
          (B.yw = function (e) {
            return e <= 0 ? e : e - 1;
          }),
          (B.Kn = function () {
            B.bl = null;
          }),
          (this.Ln = B),
          (this.keyboard = {}),
          (this.keyboard.focusCell = function (e, t) {
            var n = E.cq(e, t);
            if (!n)
              throw new DayPilot.Exception("Can't find the specified cell");
            if ("main" !== n.grid)
              throw new DayPilot.Exception(
                "Can't focus a cell in a frozen row"
              );
            B.Qp(), (B.bl = B.uw(n.x, n.y));
            for (
              var i = B.rw(n.x, n.y), a = i.lines.length, r = ["top"], o = 0;
              o < a;
              o++
            )
              r.push(o);
            r.push("bottom");
            for (var o = 0; o < r.length; o++) {
              var l = B.uw(n.x, n.y, null, r[o]);
              if ("cell" === l.type) {
                B.bl = l;
                break;
              }
            }
            B.xo();
          }),
          (this.keyboard.focusEvent = function (e) {
            e instanceof DayPilot.Event && (e = e.id());
            var t = E.events.find(e);
            if (!t) throw new DayPilot.Exception("Event not found");
            t = E.events.xp(t.data);
            var n = {};
            (n.type = "event"),
              (n.event = t),
              (n.pixels = t.part.left),
              (n.x = E.in(t.part.left).x),
              (n.y = t.part.dayIndex),
              (n.line = t.part.line),
              B.Qp(),
              (B.bl = n),
              B.xo();
          }),
          (this.keyboard.resetFocus = function () {
            B.Fw();
          }),
          (this.keyboard.getFocus = function () {
            return (
              !y(E.events.Sp.rows).isEmpty() &&
                ((B.Rp = !0), E.events.bo({ dontResetFocus: !0 })),
              (B.Rp = !1),
              B.qw(B.bl)
            );
          }),
          (this.keyboard.clearFocus = function () {
            B.Qp(), B.Kn();
          }),
          (this.keyboard.move = function (e, t) {
            t = t || {};
            var n = t.dontFireEvent;
            B.Qp();
            var i = B.ww(e),
              a = {};
            return (
              (a.previous = E.keyboard.getFocus()),
              (a.focus = B.qw(i)),
              (a.preventDefault = function () {
                a.preventDefault.value = !0;
              }),
              "function" == typeof E.onKeyboardFocusChange &&
              !n &&
              (E.onKeyboardFocusChange(a), a.preventDefault.value)
                ? void B.xo()
                : ((B.bl = i),
                  B.xo(),
                  void (
                    "function" != typeof E.onKeyboardFocusChanged ||
                    n ||
                    E.onKeyboardFocusChanged(a)
                  ))
            );
          }),
          (H.nh = function () {
            delete E.va.eventHeight, delete E.va.headerHeight;
          }),
          (H.Ma = function () {
            return "Disabled" !== E.xssProtection;
          }),
          (H.Xc = function () {
            return DayPilot.Locale.find(E.locale);
          }),
          (H.Wc = function () {
            return "Auto" !== E.timeFormat ? E.timeFormat : H.Xc().timeFormat;
          }),
          (H.Wd = function () {
            if ("Auto" === E.weekStarts) {
              var e = H.Xc();
              return e ? e.weekStarts : 0;
            }
            return E.weekStarts || 0;
          }),
          (H.ts = function () {
            var e = navigator.userAgent.toLowerCase();
            return e.indexOf("mobile") !== -1 || e.indexOf("android") != -1;
          }),
          (H.Vt = function () {
            var e = /MSIE 6/i.test(navigator.userAgent);
            return "Auto" === E.layout
              ? e
                ? "TableBased"
                : "DivBased"
              : E.layout;
          }),
          (H.lc = function () {
            var e;
            if ("Immediate" === E.notifyCommit) e = "Notify";
            else {
              if ("Queue" !== E.notifyCommit)
                throw new DayPilot.Exception(
                  "Invalid notifyCommit value: " + E.notifyCommit
                );
              e = "Queue";
            }
            return e;
          }),
          (H.Qs = function () {
            return "Days" !== E.viewType;
          }),
          (H.fh = function (e) {
            return (
              "Always" === E.useEventBoxes ||
              ("Never" !== E.useEventBoxes && e < 60 * E.lq() * 1e3)
            );
          }),
          (H.Cr = function () {
            return "number" == typeof E.durationBarHeight
              ? E.durationBarHeight
              : 4;
          }),
          (H.Xo = function () {
            if (E.va.eventHeight) return E.va.eventHeight;
            var e = E.uh("_event_height").height;
            return e || (e = E.eventHeight), (E.va.eventHeight = e), e;
          }),
          (H.mg = function () {
            if (E.va.headerHeight) return E.va.headerHeight;
            var e = E.uh("_header_height").height;
            return e || (e = E.headerHeight), (E.va.headerHeight = e), e;
          }),
          (H.ku = function () {
            if (E.va.scrollLineHeight) return E.va.scrollLineHeight;
            var e = o();
            (e.style.fontSize = "initial"),
              (e.style.display = "none"),
              r().appendChild(e);
            var t = parseInt(window.getComputedStyle(e).fontSize) || 16;
            return r().removeChild(e), (E.va.scrollLineHeight = t), t;
          }),
          (H.Jm = function () {
            return E.rowHeaderScrolling ? E.rowHeaderSplitterWidth : 1;
          }),
          (H.qn = function () {
            return "string" == typeof E.multiSelectRectangle
              ? E.multiSelectRectangle
              : "Disabled" === E.rectangleSelectHandling
              ? "Disabled"
              : E.rectangleSelectMode;
          }),
          (H.Iw = function () {
            return "string" == typeof E.multiSelectRectangle
              ? "Free" === E.multiSelectRectangle ||
                "Row" === E.multiSelectRectangle
                ? "EventSelect"
                : "Disabled"
              : E.rectangleSelectHandling;
          }),
          (H.vr = function () {
            return y(E.rowHeaderColumns).filter(function (e) {
              return !e.hidden;
            });
          }),
          (I.Dr = function (e) {
            var t = {};
            (t.top = 0), (t.height = 0);
            for (var n = H.mg(), i = 0; i <= e; i++) {
              var a = E.timeHeaders[i];
              (t.top += t.height), (t.height = a.height || n);
            }
            return t;
          }),
          (this.fq = function (e, t, n) {
            n = n || "main";
            var i = n + "_" + e + "_" + t,
              a = E.pm[n],
              r = a.rowlist;
            if (E.cellConfig) {
              i = e + "_" + t;
              for (var o = 0, l = 0; l < E.resources.length; l++)
                if (!E.resources[l].hidden) {
                  if (o === t) {
                    t = l;
                    break;
                  }
                  o += 1;
                }
            }
            if (
              (this.cellProperties || (this.cellProperties = {}),
              this.cellProperties[i])
            )
              return this.cellProperties[i];
            if (
              (this.ol && (this.cellProperties[i] = E.Jw(e, t)),
              !this.cellProperties[i])
            ) {
              var s = r[t],
                d = s.id,
                c = s.start.getTime() - E.Ub().getTime(),
                u = E.on(e),
                h = u.start.addTime(c),
                f = u.end.addTime(c),
                v = {};
              (v.start = h), (v.end = f), (v.resource = d);
              var p = {};
              (p.business = E.isBusiness(v)),
                s.cellsDisabled && ((E._m.$r = !0), (p.disabled = !0)),
                (this.cellProperties[i] = p);
            }
            return this.cellProperties[i];
          }),
          (this.Kw = function (e, t, n) {
            var i = t + "_" + n;
            return (
              (this.cellProperties[i] = {}),
              f(e, this.cellProperties[i], E.mw),
              this.cellProperties[i]
            );
          }),
          (this.Jw = function (e, t) {
            if (!this.cellConfig) return null;
            var n = this.cellConfig,
              i = this.cellProperties[e + "_" + t];
            !i && n.vertical && (i = this.cellProperties[e + "_0"]),
              !i && n.horizontal && (i = this.cellProperties["0_" + t]),
              !i && n["default"] && (i = n["default"]);
            var a = {};
            return f(i, a, E.mw), a;
          }),
          (this.sb = function () {
            if (!this.ol && !this.ql && ((this.ql = !0), this.cellConfig)) {
              var e = this.cellConfig;
              if (e.vertical)
                for (var t = 0; t < e.x; t++) {
                  var n = this.cellProperties[t + "_0"];
                  if (n) for (var i = 1; i < e.y; i++) this.Kw(n, t, i);
                }
              if (e.horizontal)
                for (var i = 0; i < e.y; i++) {
                  var n = this.cellProperties["0_" + i];
                  if (n) for (var t = 1; t < e.x; t++) this.Kw(n, t, i);
                }
              if (e["default"])
                for (var n = e["default"], i = 0; i < e.y; i++)
                  for (var t = 0; t < e.x; t++)
                    this.cellProperties[t + "_" + i] || this.Kw(n, t, i);
            }
          }),
          (this.isBusiness = function (e, t) {
            var n = e.start,
              i = e.end,
              a = (i.getTime() - n.getTime()) / 6e4;
            if (
              a <= 1440 &&
              !(
                E.businessWeekends ||
                t ||
                (0 !== e.start.dayOfWeek() && 6 !== e.start.dayOfWeek())
              )
            )
              return !1;
            if (a < 720) {
              var r = n.getHours();
              (r += n.getMinutes() / 60),
                (r += n.getSeconds() / 3600),
                (r += n.getMilliseconds() / 36e5);
              var o = this.businessBeginsHour,
                l = this.businessEndsHour;
              if ((0 === l && (l = 24), o === l)) return !1;
              if (!(o < l)) return r < l || r >= o;
              if (r < o) return !1;
              if (l >= 24) return !0;
              if (r >= l) return !1;
            }
            return !0;
          }),
          (this.bf = function () {
            switch (E.Ga) {
              case "aspnet":
                if (!this.Ua())
                  throw new DayPilot.Exception(
                    "ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/"
                  );
                break;
              case "netmvc":
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/"
                  );
                break;
              case "javaxx":
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/"
                  );
            }
          }),
          (this.D = function () {
            "hidden" === this.nav.top.style.visibility &&
              (this.nav.top.style.visibility = "visible");
          }),
          (this.vg = function () {
            var e = E.nav.top;
            return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
          }),
          (this.wg = function () {
            var e = E.vg;
            return e()
              ? void E.xg()
              : void (
                  E.Va ||
                  (E.Va = setInterval(function () {
                    e() && (clearInterval(E.Va), E.show(), E.hs(), E.xg());
                  }, 100))
                );
          }),
          (this.Lw = function (e) {
            "Parent100Pct" !== this.heightSpec && (this.heightSpec = "Fixed"),
              (this.height = e - (this.Km() + 2)),
              this.Bb();
          }),
          (this.setHeight = this.Lw),
          (this.sm = function (e) {
            var t = E._r(e);
            return 0 === t.length ? null : t[0];
          }),
          (this.Hh = function () {
            if (this.id && this.id.tagName) this.nav.top = this.id;
            else {
              if ("string" != typeof this.id)
                throw new DayPilot.Exception(
                  "DayPilot.Scheduler() constructor requires the target element or its ID as a parameter"
                );
              if (
                ((this.nav.top = document.getElementById(this.id)),
                !this.nav.top)
              )
                throw new DayPilot.Exception(
                  "DayPilot.Scheduler: The placeholder element not found: '" +
                    e +
                    "'."
                );
            }
          }),
          (this.Mw = function () {
            (this.rowHeaderColumnsMode = "Legacy"),
              this.oh(),
              this.Ql(),
              this.Rl(),
              this.Nn(),
              this.Hb(),
              this.Eg(),
              this.eb(),
              n.Jh(this),
              this.ob(this.afterRenderData, !1),
              this.Hu(),
              this.Jb(),
              this.Pa("Init");
          }),
          (this.init = function () {
            if (this.za)
              throw new DayPilot.Exception(
                "This instance is already initialized. Use update() to change properties."
              );
            if ((this.Hh(), this.nav.top.dp)) {
              if (this.nav.top.dp === E) return E;
              if (this.Ua()) return E;
              throw new DayPilot.Exception(
                "The target placeholder was already initialized by another DayPilot component instance."
              );
            }
            return this.Cu(), this.Nw(), this.wg(), this.Ow(), this;
          }),
          (this.Ow = function () {
            E.keyboardEnabled && B._o();
          }),
          (this.Pw = function () {
            E.multiselect._l(E.selectedEvents);
          }),
          (this.Nw = function () {
            if ((this.In(), this.Gh()))
              return this.Mw(), (this.za = !0), void this.Ka();
            this.Eg(),
              this.eb(),
              n.Jh(this),
              this.Hu(),
              this.Pw(),
              E.zoomLevels &&
                E.zoomLevels[E.zoom.active] &&
                E.zoom.setActive(E.zoom.active),
              !E.za && Y.$m() && (E.mm || (E.mm = { date: E.startDate })),
              this.Od();
            var angular = E.kh.scope || E.lm.enabled;
            E.scrollToDate
              ? E.scrollTo(E.scrollToDate)
              : E.scrollX || E.scrollY
              ? E.setScroll(E.scrollX, E.scrollY)
              : angular || E.hm(),
              E.scrollToResourceId &&
                (E.scrollToResource(E.scrollToResourceId),
                (E.scrollToResourceId = null));
            var e = function () {
              E.scrollY && E.setScroll(E.scrollX, E.scrollY);
            };
            window.setTimeout(e, 200),
              this.messageHTML &&
                window.setTimeout(function () {
                  E.message(E.messageHTML);
                }, 0),
              this.Jb(),
              this.Ka(),
              this.ob(this.afterRenderData, !1),
              E.initEventEnabled &&
                setTimeout(function () {
                  E.Pa("Init");
                }),
              this.Kh(),
              (this.za = !0),
              (this.Qw = !0);
            var t = E.mm;
            t ? E.scrollTo(t.date, t.animated, t.position) : E.hm(),
              (E.mm = null);
          }),
          (this.Du = function () {
            E.ja() && delete E.infinite;
          }),
          (this.Lh = null),
          (this.rh = function (e) {
            if (e) {
              var t = {
                resources: {
                  preInit: function () {
                    var e = this.data;
                    e && (E.resources = e);
                  },
                },
                events: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (C(e.list)
                        ? (E.events.list = e.list)
                        : (E.events.list = e));
                  },
                  postInit: function () {},
                },
                links: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (C(e.list)
                        ? (E.links.list = e.list)
                        : (E.links.list = e));
                  },
                  postInit: function () {},
                },
                scrollTo: {
                  preInit: function () {},
                  postInit: function () {
                    this.data &&
                      E.km(this.data, e.scrollToAnimated, e.scrollToPosition);
                  },
                },
                scrollX: {
                  postInit: function () {
                    this.data && E.qm(this.data);
                  },
                },
                scrollY: {
                  postInit: function () {
                    this.data && E.Gm(this.data);
                  },
                },
                zoom: {
                  preInit: function () {
                    var e = this.data;
                    if ("string" == typeof e) {
                      var t = e;
                      e = E.zoom.td(t);
                    }
                    var n = e !== E.zoom.active,
                      i = E.zoom.Ik();
                    E.zoom.vd(e, i), n ? (this.date = i) : (this.date = null);
                  },
                  postInit: function () {
                    this.date && E.km(this.date, !1, E.zoomPosition);
                  },
                },
              };
              (E.Lh = t),
                E.lm.scrollToRequested &&
                  ((t.scrollTo.data = E.lm.scrollToRequested),
                  (E.lm.scrollToRequested = null)),
                E.lm.scrollXRequested &&
                  ((t.scrollX.data = E.lm.scrollXRequested),
                  (E.lm.scrollXRequested = null)),
                E.lm.scrollYRequested &&
                  ((t.scrollY.data = E.lm.scrollYRequested),
                  (E.lm.scrollYRequested = null));
              for (var n in e) t[n] || (E[n] = e[n]);
              for (var i in e)
                if (t[i]) {
                  var a = t[i];
                  (a.data = e[i]), a.preInit && a.preInit();
                }
            }
          }),
          (this.Kh = function () {
            var e = E.Lh;
            for (var t in e) {
              var n = e[t];
              n.postInit && n.postInit();
            }
            E.Lh = {};
          }),
          (this.diag = function () {
            var e = {};
            return (
              (e.dataEvents = E.events.list && E.events.list.length),
              (e.dataRows = E.rowlist && E.rowlist.length),
              (e.dataTimeline = E.itline && E.itline.length),
              (e.dataCells = e.dataTimeline * e.dataRows),
              (e.renderedEvents = E.elements.events.length),
              (e.renderedCells = E.elements.cells.length),
              (e.renderedRows =
                E.divResScroll.firstChild.childNodes.length - 1),
              (e.domEvents = E.divEvents.getElementsByTagName("*").length),
              (e.domCells = E.divCells.getElementsByTagName("*").length),
              (e.domRows = E.divResScroll.getElementsByTagName("*").length),
              e
            );
          }),
          (this.temp = {}),
          (this.temp.allowDuplicateEventIds = !1),
          (this.internal = {}),
          (this.internal.initialized = function () {
            return E.za;
          }),
          (this.internal.dragInProgress = this.Lg),
          (this.internal.startMoving = this.ne),
          (this.internal.invokeEvent = this.kc),
          (this.internal.eventMenuClick = this.Hc),
          (this.internal.timeRangeMenuClick = this.Ic),
          (this.internal.resourceHeaderMenuClick = this.jo),
          (this.internal.linkMenuClick = this.io),
          (this.internal.bubbleCallBack = this.Fc),
          (this.internal.findEventDiv = this.jh),
          (this.internal.rowStartMoving = this.Bl.ne),
          (this.internal.getNodeChildren = this.mb),
          (this.internal.callback = function () {
            E.Pa.apply(E, arguments);
          }),
          (this.internal.createRowObject = this.lo),
          (this.internal.restools = this.Gl),
          (this.internal.gantt = null),
          (this.internal.f = this.events.xp),
          (this.internal.bd = E.qq),
          (this.internal.abd = E.uq),
          (this.internal.adjustEndIn = E.Fj),
          (this.internal.adjustEndNormalize = E.dk),
          (this.internal.xssTextHtml = E.La),
          (this.internal.touch = E.Ca),
          (this.internal.cssNames = E.Cl),
          (this.internal.enableCellStacking = function (e) {
            (E.rl = !0), (E.sl = e);
          }),
          (this.internal.deleteDragSource = function () {
            E.Dc();
          }),
          (this.internal.outerRowHeaderWidth = function () {
            return E.Im();
          }),
          (this.internal.skipUpdate = E.lm.skipUpdate),
          (this.internal.skipped = E.lm.skipped),
          (this.internal.loadOptions = E.rh),
          (this.internal.postInit = E.Kh),
          (this.internal.enableAngular2 = function () {
            E.lm.enabled = !0;
          }),
          (this.internal.eventsFromAttr = function () {
            E.lm.Wp = !0;
          });
        this.internal.resourcesFromAttr = function () {
          E.lm.bq = !0;
        };
        (this.internal.evImmediateRefresh = function () {
          E.events.bo();
        }),
          (this.internal.upd = function (e) {
            E.qh(e);
          }),
          (this.internal.enableReact = function (e, t) {
            (E.W.react = e), (E.W.reactDOM = t);
          }),
          (this.internal.reactRefs = function () {
            return f(E.W, {}, ["react", "reactDOM"]);
          }),
          (this.internal.enableVue = function (e) {
            E.Y.Ne = e;
          }),
          (this.internal.vueRef = function () {
            return E.Y.Ne;
          }),
          (this.internal.vueRendering = function () {
            return E.Y.Oe;
          }),
          (this.Init = this.init),
          this.rh(a);
      }),
        (a = "2025.3.6631" === new DayPilot.Scheduler().v),
        (DayPilot.Row = function (e, t) {
          function n(e) {
            var n = function (e) {
              for (var n = 0; n < t.elements.events.length; n++) {
                var i = t.elements.events[n];
                if (i.event === e) return i;
              }
              return null;
            };
            (this.Tw = function () {
              e.expanded = !0;
              var i = t.Ws;
              y(e.events).forEach(function (e) {
                i.push(e.id());
              });
              var a = n(e);
              if (a) {
                t.Ru(a);
                var r = k(t.elements.events, a);
                r !== -1 && t.elements.events.splice(r, 1);
              }
            }),
              (this.expand = function () {
                this.Tw(), t.wn(), t.xn([e.row]), t.Bb(), t.Fb();
              }),
              (this.Sw = function () {
                if (e.lines.length > t.groupConcurrentEventsLimit) {
                  e.expanded = !1;
                  var n = y(e.events).map(function (e) {
                    return e.id();
                  });
                  t.Ws = t.Ws.filter(function (e) {
                    return !w(n, e);
                  });
                }
              }),
              (this.collapse = function () {
                this.Sw(), t.wn(), t.xn([e.row]), t.Bb();
              });
          }
          function i(e, t) {
            this.html = function (n) {
              var i = e.calendar.divHeader,
                a = i.rows[e.index];
              if (!a) throw new DayPilot.Exception("Row not rendered");
              var r = a.cells[t],
                o = r.textDiv;
              return "undefined" == typeof n
                ? o.innerHTML
                : void (o.innerHTML = n);
            };
          }
          if (!e)
            throw new DayPilot.Exception(
              "No row object supplied when creating DayPilot.Row"
            );
          if (!t)
            throw new DayPilot.Exception(
              "No parent control supplied when creating DayPilot.Row"
            );
          this.Rw = {};
          var a = this.Rw;
          (a.id = e.id),
            (a.name = e.name),
            (a.data = e.resource),
            (a.tags = e.tags);
          var r = this;
          (r.isRow = !0),
            (r.menuType = "resource"),
            (r.start = e.start),
            (r.name = e.name),
            (r.value = e.id),
            (r.id = e.id),
            (r.tags = e.tags),
            (r.bubbleHtml = e.bubbleHtml),
            (r.index = e.index),
            (r.displayY = e.displayY),
            (r.level = e.level),
            (r.calendar = t),
            (r.data = e.resource),
            (r.grid = e.grid),
            (r.Nr = e),
            (r.$ = {}),
            (r.$.row = e),
            (r.toJSON = function () {
              var e = {};
              return (
                (e.start = this.start),
                (e.name = this.name),
                (e.value = this.value),
                (e.id = this.id),
                (e.index = this.index),
                e
              );
            }),
            (r.parent = function () {
              return r.Nr.Ft ? t.lo(r.Nr.Ft) : null;
            }),
            (r.children = function () {
              var e = y(r.$.row.children).map(function (e) {
                return t.lo(t.rowlist[e]);
              });
              return (
                (e.add = function (e) {
                  var t = r.$.row.resource;
                  t.children || (t.children = []), t.children.push(e);
                }),
                e
              );
            }),
            (r.splitParent = function () {
              return r.Nr.split.parent ? t.lo(r.Nr.split.parent) : null;
            }),
            (r.splitChildren = function () {
              return (r.Nr.split.list || []).map(function (e) {
                return t.lo(e);
              });
            }),
            (r.loaded = function () {
              return r.Nr.loaded;
            }),
            Object.defineProperty(r, "hidden", {
              get: function () {
                return r.Nr.hidden;
              },
            }),
            Object.defineProperty(r, "height", {
              get: function () {
                return this.Nr.height;
              },
            }),
            Object.defineProperty(r, "lines", {
              get: function () {
                var e, t;
                return null !==
                  (t =
                    null === (e = this.Nr.lines) || void 0 === e
                      ? void 0
                      : e.length) && void 0 !== t
                  ? t
                  : 0;
              },
            }),
            Object.defineProperty(r, "hiddenUsingFilter", {
              get: function () {
                return r.Nr.Pt;
              },
              set: function (e) {
                (r.Nr.Pt = e), e || (r.Nr.hidden = !r.Nr.Qt());
              },
            }),
            (r.cells = {}),
            (r.cells.all = function () {
              for (
                var e = [], n = t.itline.length, i = r.index, a = 0;
                a < n;
                a++
              ) {
                var o = t.cells.findXy(a, i, r.grid);
                e.push(o[0]);
              }
              return t.dq(e);
            }),
            (r.cells.forRange = function (e, n) {
              var i = r,
                a = i.start.getTime() - t.Ub().getTime(),
                o = r.Nr.data.endTicks - r.Nr.data.startTicks;
              (e = new DayPilot.Date(e)), (n = new DayPilot.Date(n));
              var l = t.Ub().addTime(a),
                s = l.addTime(o);
              e < l && (e = l), n > s && (n = s);
              var d = t.cells.find(e, r)[0],
                c = t.cells.find(n.addTime(-1), r)[0];
              if (!d) return null;
              if (!c) return null;
              if (d.y !== c.y) return null;
              for (var u = d.y, h = [], f = d.x; f <= c.x; f++)
                h.push(t.cells.qe(f, u, d.grid));
              return t.dq(h);
            }),
            (r.cells.totalDuration = function (e) {
              var t = r.cells.all();
              return (
                "function" == typeof e && (t = t.filter(e)),
                new DayPilot.Duration(
                  t
                    .map(function (e) {
                      return e.end.getTime() - e.start.getTime();
                    })
                    .reduce(function (e, t) {
                      return e + t;
                    }, 0)
                )
              );
            }),
            (r.events = {}),
            (r.events.all = function () {
              for (var e = y(), t = 0; t < r.Nr.events.length; t++)
                e.push(r.Nr.events[t]);
              return e;
            }),
            (r.events.isEmpty = function () {
              return 0 === r.Nr.events.length;
            }),
            (r.events.forRange = function (e, t) {
              return r.Nr.events.forRange(e, t);
            }),
            (r.events.totalDuration = function () {
              var e = 0;
              return (
                r.events.all().forEach(function (t) {
                  e += t.part.end.getTime() - t.part.start.getTime();
                }),
                new DayPilot.Duration(e)
              );
            }),
            (r.groups = {}),
            (r.groups.collapseAll = function () {
              for (var e = 0; e < r.Nr.blocks.length; e++) {
                new n(r.Nr.blocks[e]).Sw();
              }
              t.wn(), t.xn([r.Nr]), t.Bb();
            }),
            (r.groups.expandAll = function () {
              for (var e = 0; e < r.Nr.blocks.length; e++) {
                new n(r.Nr.blocks[e]).Tw();
              }
              t.wn(), t.xn([r.Nr]), t.Bb(), t.Fb();
            }),
            (r.groups.expanded = function () {
              for (var e = [], i = 0; i < r.Nr.blocks.length; i++) {
                var a = r.Nr.blocks[i];
                a.expanded &&
                  a.lines.length > t.groupConcurrentEventsLimit &&
                  e.push(new n(a));
              }
              return y(e);
            }),
            (r.groups.collapsed = function () {
              for (var e = [], t = 0; t < r.Nr.blocks.length; t++) {
                var i = r.Nr.blocks[t];
                i.expanded || e.push(new n(i));
              }
              return y(e);
            }),
            (r.groups.all = function () {
              for (var e = [], t = 0; t < r.Nr.blocks.length; t++) {
                var i = r.Nr.blocks[t];
                e.push(new n(i));
              }
              return y(e);
            }),
            (r.events.collapseGroups = r.groups.collapseAll),
            (r.events.expandGroups = r.groups.expandAll),
            (r.column = function (e) {
              return new i(r, e);
            }),
            (r.toggle = function () {
              t.Cq(r.index);
            }),
            (r.collapse = function () {
              r.$.row.expanded && r.toggle();
            }),
            (r.expand = function () {
              r.$.row.expanded || r.toggle();
            }),
            (r.remove = function () {
              t.rows.remove(r);
            }),
            (r.edit = function () {
              t.rows.edit(r);
            }),
            (r.jt = function (e) {
              r.data = e;
            }),
            (r.addClass = function (e) {
              var n = t.divHeader,
                i = n.rows[r.index];
              if (i) {
                d(
                  y(i.cells).map(function (e) {
                    return e.cellDiv;
                  }),
                  e
                );
              }
              (r.$.row.cssClass = DayPilot.Util.addClassToString(
                r.$.row.cssClass,
                e
              )),
                (r.data.cssClass = e);
            }),
            (r.removeClass = function (e) {
              var n = t.divHeader,
                i = n.rows[r.index];
              if (i) {
                s(
                  y(i.cells).map(function (e) {
                    return e.cellDiv;
                  }),
                  e
                );
              }
              (r.$.row.cssClass = DayPilot.Util.removeClassFromString(
                r.$.row.cssClass,
                e
              )),
                (r.data.cssClass = DayPilot.Util.removeClassFromString(
                  r.data.cssClass,
                  e
                ));
            });
        }),
        (n.mn = null),
        (n.jq = null),
        (n.Yf = null),
        (n.nq = null),
        (n.Gq = null),
        (n.ln = !1),
        (n.Fg = !1),
        (n.xv = null),
        (n.Uw = null),
        (n.Vw = function (e, t, n, i) {
          DayPilot.us(e);
          var a = (b.drag = {});
          return (
            (a.element = e),
            (a.duration = t),
            (a.text = i),
            (a.id = n),
            (a.data = { id: n, text: i, duration: t, externalHtml: i }),
            !1
          );
        }),
        (DayPilot.Scheduler.def = {}),
        (DayPilot.Scheduler.startDragging = function (e) {
          e = e || {};
          var t = e.element,
            n = e.keepElement ? null : t;
          DayPilot.us(t);
          var i = (b.drag = {});
          return (
            (i.element = n),
            (i.id = e.id),
            (i.duration = e.duration || 60),
            (i.text = e.text || ""),
            (i.data = e),
            (i._f = e),
            (i.ag = e.data),
            !1
          );
        }),
        (DayPilot.Scheduler.makeDraggable = function (e) {
          function t() {
            var t = (b.drag = {});
            (t.element = a),
              (t.id = o),
              (t.duration = s),
              (t.text = l),
              (t.data = e),
              (t._f = e),
              (t.ag = e.data);
          }
          e = e || {};
          var i = e.element,
            a = e.keepElement ? null : e.remove || i,
            r = e.data || {},
            o = "undefined" != typeof e.id ? e.id : r.id,
            l = "string" == typeof e.text ? e.text : r.text || "",
            s = e.duration || r.duration;
          if (
            (s instanceof DayPilot.Duration && (s = s.totalSeconds()),
            s ||
              (s =
                r.start && r.end
                  ? new DayPilot.Duration(r.start, r.end).totalSeconds()
                  : 60),
            !i)
          )
            throw new DayPilot.Exception(
              "makeDraggable(options): options.element must be specified"
            );
          DayPilot.us(i),
            DayPilot.re(i, "mousedown", function (e) {
              if (g(e).left) {
                t();
                var n = e.target || e.srcElement;
                if (n.tagName) {
                  var i = n.tagName.toLowerCase();
                  if ("textarea" === i || "select" === i || "input" === i)
                    return !1;
                }
                return e.preventDefault(), !1;
              }
            }),
            DayPilot.reNonPassive(i, "touchstart", function (e) {
              window.setTimeout(function () {
                t(), n.Ig(e), e.preventDefault();
              }, 0),
                e.preventDefault();
            });
        }),
        (DayPilot.Scheduler.makeDraggableAsRow = function (e) {
          function t() {
            var t = (n.tt = {});
            (t.element = a), (t.options = e), (t.source = null);
          }
          e = e || {};
          var i = e.element,
            a = e.keepElement ? null : e.remove || i;
          if (!i)
            throw new DayPilot.Exception(
              "makeDraggable(options): options.element must be specified"
            );
          DayPilot.us(i),
            DayPilot.re(i, "mousedown", function (e) {
              if (g(e).left) {
                t();
                var n = e.target || e.srcElement;
                if (n.tagName) {
                  var i = n.tagName.toLowerCase();
                  if ("textarea" === i || "select" === i || "input" === i)
                    return !1;
                }
                return e.preventDefault(), !1;
              }
            });
        }),
        (DayPilot.Scheduler.stopDragging = function () {
          var e = b.drag;
          if (e && e.Kv) {
            var t = e.Kv,
              i = t.event.calendar;
            i && s(t, i.ca(i.Cl.eventMovingSource));
          }
          if (
            (n.Ww(),
            (n.ln = !1),
            n.nq && (x(n.Fq), (n.nq = null), (n.Gq = null), (n.Fq = null)),
            n.mn)
          ) {
            var a = n.jq.calendar;
            a && (a.Cc(), (a.jb = null), s(n.mn, a.ca(a.Cl.eventMovingSource))),
              x(n.Sr),
              (n.mn = null),
              (n.jq = null),
              (n.Sr = null);
          }
          if (n.oq) {
            var a = n.oq.calendar;
            a.clearSelection(), (n.oq = null);
          }
          (r().style.cursor = ""),
            y(n.Vf).forEach(function (e) {
              e.ib(), e.as(), e.Bl.st(), e.Ll.clear();
            });
        }),
        (DayPilot.Scheduler.registerDropTarget = function (e) {
          e = e || {};
          var t = e.element,
            n = e.onDragOver,
            i = "function" == typeof n,
            a = e.onDrop,
            r = "function" == typeof a,
            o = e.onDragLeave,
            l = "function" == typeof o;
          if (!t)
            throw new DayPilot.Exception(
              "registerDropTarget(options): options.element must be specified"
            );
          var s = function () {
              var e = b.drag;
              if (e) {
                var t = e.event;
                if (t && i) {
                  var a = {};
                  (a.e = t), n(a);
                }
              }
            },
            d = function () {
              var e = b.drag;
              if (e) {
                var t = e.event;
                if (t && l) {
                  var n = {};
                  (n.e = t), o(n);
                }
              }
            },
            c = function () {
              var e = b.drag;
              if (e) {
                var t = e.event;
                if (t && r) {
                  var n = {};
                  (n.e = t), a(n);
                }
              }
            };
          t.addEventListener("mousemove", s),
            t.addEventListener("mouseleave", d),
            t.addEventListener("mouseup", c),
            (t.Uh = function () {
              t.removeEventListener("mousemove", s),
                t.removeEventListener("mouseleave", d),
                t.removeEventListener("mouseup", c),
                (t.Uh = null);
            });
        }),
        (DayPilot.Scheduler.registerRowDropTarget = function (e) {
          e = e || {};
          var t = e.element,
            i = e.onDragOver,
            a = "function" == typeof i,
            r = e.onDrop,
            o = "function" == typeof r,
            l = e.onDragLeave,
            s = "function" == typeof l;
          if (!t)
            throw new DayPilot.Exception(
              "registerRowDropTarget(options): options.element must be specified"
            );
          var d = function () {
              if (!n.tt) return null;
              var e = n.tt.Ut;
              return e ? new DayPilot.Row(e.row, e.sourceCalendar) : null;
            },
            c = function () {
              var e = d();
              if (e && a) {
                var t = {};
                (t.row = e), i(t);
              }
            },
            u = function () {
              var e = d();
              if (e && s) {
                var t = {};
                (t.row = e), l(t);
              }
            },
            h = function () {
              var e = d();
              if (e && o) {
                var t = {};
                (t.row = e), r(t);
              }
            };
          t.addEventListener("mousemove", c),
            t.addEventListener("mouseleave", u),
            t.addEventListener("mouseup", h),
            (t.Uh = function () {
              t.removeEventListener("mousemove", c),
                t.removeEventListener("mouseleave", u),
                t.removeEventListener("mouseup", h),
                (t.Uh = null);
            });
        }),
        (DayPilot.Scheduler.unregisterDropTarget = function (e) {
          e = e || {};
          var t = e.element;
          t && t.Uh && t.Uh();
        }),
        (n.Ww = function () {
          n.Jv && (r().removeChild(n.Jv), (n.Jv = null)), (b.drag = null);
        }),
        (n.Sh = function () {
          var e = b.drag;
          if (e) {
            var t = e && e._f,
              n = t && t.onDrop;
            if ("function" == typeof n) {
              var i = {};
              (i.options = t), n(i);
            }
          }
        }),
        (n.Jh = function (e) {
          n.Vf ||
            ((n.Vf = y()),
            (n.Vf.out = function () {
              n.Vf.forEach(function (e) {
                e.gb();
              });
            }));
          for (var t = 0; t < n.Vf.length; t++) if (n.Vf[t] === e) return;
          n.Vf.push(e);
        }),
        (n.db = function (e) {
          var t = n.Vf;
          if (t) {
            var i = k(t, e);
            i !== -1 && t.splice(i, 1), 0 === t.length && (t = null);
          }
          t ||
            (DayPilot.ue(document, "mousemove", n.Gg),
            DayPilot.ue(document, "mouseup", n.Hg),
            DayPilot.ue(document, "mousedown", n.Fu),
            DayPilot.ue(document, "touchmove", n.Ig),
            DayPilot.ue(document, "touchend", n.Jg),
            DayPilot.ue(window, "keyup", n.Gu),
            (n.Fg = !1));
        }),
        (n.Ig = function (i) {
          var a;
          if (n.nq) {
            var o = n.nq.event.calendar;
            (o.coords = o.Ca.Ug(i)), o.Ca.Yg();
          }
          if (n.mn && !b.drag) {
            var l = n.jq.calendar;
            (l.coords = l.Ca.Ug(i)),
              l.Ca.Zg(),
              (function () {
                var t;
                if (l.dragOutAllowed) {
                  var a = e(i);
                  if (!a || a !== l) {
                    var r = n.jq;
                    b.drag = {};
                    var o = b.drag;
                    (o.id = r.id()),
                      (o.text = r.text()),
                      (o.Kv = n.mn),
                      (o.element = null),
                      (o.duration =
                        (r.rawend().getTime() - r.start().getTime()) / 1e3),
                      (o.text = r.text()),
                      (o.id = r.id()),
                      (o.event = f(r, new DayPilot.Event())),
                      l.as(),
                      x(n.Sr),
                      (n.Sr.calendar = null),
                      (n.Sr = null),
                      (n.mq = null),
                      null === (t = n.Vf) || void 0 === t ? void 0 : t.out();
                  }
                }
              })();
          }
          var s = b.drag;
          if (s) {
            var d = t(i),
              o = e(i);
            if (o) {
              if (
                (n.Jv && r().removeChild(n.Jv),
                (n.Jv = null),
                (o.coords = o.Ca.Ug(i)),
                !n.Sr && o.rowlist.length > 0)
              ) {
                if (!n.mn) {
                  n.mn = {};
                  var c = s.event;
                  if (!c) {
                    var u = o.Lv();
                    (c = new DayPilot.Event(u)),
                      (c.calendar = o),
                      (c.part.duration = 1e3 * s.duration);
                  }
                  c.part.external = !0;
                  var h = s.Kv;
                  h &&
                    h.event &&
                    h.event.calendar === o &&
                    (c.part.external = !1),
                    (n.jq = c);
                }
                n.Sr = o.Lb(n.jq);
              }
              n.mn && o.Ca.Zg();
            } else {
              x(n.Sr);
              var v = n.mn;
              (n.mn = null),
                (n.jq = null),
                (n.Sr = null),
                n.Jv || ((n.Jv = n.Xw(s._f)), (n.Jv.source = v));
              var p = n.Jv;
              (p.style.left = d.x + "px"),
                (p.style.top = d.y + "px"),
                null === (a = n.Vf) || void 0 === a ? void 0 : a.out();
            }
          }
        }),
        (n.Jg = function (e) {
          (n.iu = !1), n.Hg(e);
        }),
        (n.Gg = function (e) {
          var t;
          if (
            "undefined" != typeof n &&
            !b.touch.active &&
            !b.touch.start &&
            !(e.insideMainD || (e.srcElement && e.srcElement.inside))
          ) {
            var i = DayPilot.mc(e);
            if (_.row && !n.tt) {
              var a = (n.tt = {});
              (a.element = null),
                (a.options = { data: _.row.resource }),
                (a.Ut = _),
                (a.source = null);
            }
            var o = b.drag;
            if (n.tt) {
              (r().style.cursor = "move"), n.Jv || (n.Jv = n.Xw(n.tt.options));
              var l = n.Jv;
              (l.style.left = i.x + "px"), (l.style.top = i.y + "px");
            } else if (o) {
              var s = o._f || {};
              if (!o.Rh) {
                var d = s.onDragStart,
                  c = !1;
                if ("function" == typeof d) {
                  var u = {};
                  (u.options = s),
                    (u.preventDefault = function () {
                      u.preventDefault.value = !0;
                    }),
                    d(u),
                    (c = u.preventDefault.value);
                }
                if (((o.Rh = !0), c)) return n.Sh(), void (b.drag = null);
              }
              var h = "move";
              "string" == typeof s.externalCursor && (h = s.externalCursor),
                (r().style.cursor = h),
                n.Jv || (n.Jv = n.Xw(o._f));
              var l = n.Jv;
              if (
                ((l.style.left = i.x + "px"),
                (l.style.top = i.y + "px"),
                (l.style.cursor = h),
                (n.mn = null),
                (n.jq = null),
                n.Sr)
              ) {
                var v = n.Sr.calendar;
                null === v || void 0 === v ? void 0 : v.as(),
                  (n.Sr.calendar = null),
                  x(n.Sr),
                  (n.Sr = null);
              }
            } else if (n.mn && n.jq && n.jq.calendar.dragOutAllowed && !o) {
              var v = n.jq.calendar,
                p = n.jq;
              (r().style.cursor = "move"),
                n.Jv || ((n.Jv = n.Xw(p.data)), (n.Jv.source = n.mn));
              var l = n.Jv;
              (l.style.left = i.x + "px"), (l.style.top = i.y + "px");
              var m = {};
              (m.Kv = n.mn),
                (m.element = null),
                (m.duration =
                  (p.rawend().getTime() - p.start().getTime()) / 1e3),
                (m.text = p.text()),
                (m.id = p.value()),
                (m.event = f(p, new DayPilot.Event())),
                (b.drag = m),
                v.as(),
                x(n.Sr),
                (n.Sr.calendar = null),
                (n.Sr = null);
            }
            if (n.rs && 0 === e.buttons) {
              n.rs.cleanup(), (n.rs = null);
            }
            null === (t = n.Vf) || void 0 === t ? void 0 : t.out();
          }
        }),
        (n.Th = function () {
          if (n.Vf)
            for (var e = 0; e < n.Vf.length; e++) {
              var t = n.Vf[e];
              n.db(t);
            }
        }),
        (n.Fu = function () {
          n.Pp && n.Pp.blur();
        }),
        (n.Gu = function (e) {
          if (("Control" === e.key || "Meta" === e.key) && n.yv) {
            n.yv.Dl.dispatch(), (n.yv = null);
          }
        }),
        (n.Hg = function (e) {
          if (
            (y(n.Vf).forEach(function (e) {
              e.ib(), (e.mn = {}), (e.Av = null);
            }),
            n.nq)
          ) {
            var t = function () {
              b.resizingAreaData = null;
              var e = n.Gq,
                t = e.calendar;
              (r().style.cursor = ""),
                (n.nq = null),
                (n.Gq = null),
                x(n.Fq),
                (n.Fq = null),
                t && (t.Cv = null);
            };
            if (
              (setTimeout(function () {
                n.ln = !1;
              }),
              !n.Fq)
            )
              return void t();
            var a = n.Gq,
              o = a.calendar,
              l = n.Fq.finalStart,
              d = n.Fq.finalEnd,
              c = n.Fq.overlapping,
              u = !n.Fq.allowed,
              h = o.Ml.isInvalid();
            o.as(), o.Ml.clear();
            var v = "left" === n.nq.dpBorder ? "start" : "end";
            if ((t(), c || u || h || o.Ml.forbidden)) return;
            o.qc(a, l, d, v);
          } else if (n.jq) {
            var t = function () {
              b.movingAreaData = null;
              var e = n.Sr && n.Sr.calendar;
              n.Sr && (x(n.Sr), (n.Sr.calendar = null)),
                (r().style.cursor = ""),
                (n.mn = null),
                (n.jq = null),
                n.Sh(),
                (b.drag = null),
                e && (e.jb = null);
            };
            if (
              (setTimeout(function () {
                n.ln = !1;
              }),
              !n.Sr)
            )
              return void t();
            var p = b.drag,
              m = p && p.Kv,
              a = m ? m.event : n.jq,
              w = n.Sr.calendar;
            if (!w) return void t();
            if (a.calendar && a.calendar !== w) {
              var k = a.calendar,
                C = a,
                S = f(a.data);
              (a = new DayPilot.Event(S, k)),
                (a.part = { external: !0, duration: k.rq(C) });
            }
            if (
              ((n.Sr.source = n.mn),
              (function () {
                if (p && p.Kv) {
                  var e = p.Kv;
                  if (e && e.event) {
                    s(e, e.event.calendar.ca(w.Cl.eventMovingSource));
                  }
                }
              })(),
              !n.Sr.row)
            )
              return void t();
            clearTimeout(w.Aq.timeout);
            var l = n.Sr.start,
              d = n.Sr.end,
              D = "Days" !== w.viewType ? n.Sr.row.id : null,
              E = a.part.external,
              H = n.Sr.line,
              c = n.Sr.overlapping,
              u = !n.Sr.allowed;
            if (
              (p &&
                (w.im || (w.im = {}),
                (w.im.jm = p.element),
                n.Sh(),
                (b.drag = null)),
              (n.Sr.calendar = null),
              (r().style.cursor = ""),
              (n.mn = null),
              (n.jq = null),
              c || u || w.Ll.forbidden || w.Ll.invalid)
            )
              return void w.Cc();
            w.zc(a, l, d, D, E, e, H), (b.movingAreaData = null);
          } else if (n.oq) {
            var M = g(e),
              A = n.oq,
              R = A.moved,
              B = A.calendar,
              t = function () {};
            B.Vv = null;
            var N = e.ctrlKey || e.metaKey;
            if (B.allowMultiRange && B.elements.range2)
              return (
                B.elements.range2.overlapping || A.disabled
                  ? (x(B.elements.range2), (B.elements.range2 = null), B.as())
                  : B.Dl.add(A),
                (n.oq = null),
                N || (M.left && B.Dl.dispatch()),
                void t()
              );
            if (n.xv) return clearTimeout(n.xv), (n.xv = null), void t();
            (B.fo = A), (n.oq = null);
            var P = function (e) {
                return function () {
                  n.xv = null;
                  var t = B.elements.range2;
                  if (t && t.overlapping) return void B.clearSelection();
                  var i = R ? "drag" : "click";
                  B.co(e, i);
                };
              },
              L = B.Wv(A);
            if ((t(), !M.left)) return void (n.xv = null);
            if (A.moved || "Disabled" === B.timeRangeDoubleClickHandling)
              return P(L)(), (e.cancelBubble = !0), !1;
            n.xv = setTimeout(P(L), B.doubleClickTimeout);
          } else if (_.row) {
            var o = _.calendar;
            null === o || void 0 === o ? void 0 : o.rt();
          } else if (T.source) {
            var o = T.calendar;
            o.Jl.Nj(), o.Jl.On(), (T.source = null), (T.calendar = null);
          } else if (n.rs) {
            var z = n.rs;
            z.cleanup(), (n.rs = null);
          } else if (n.bn) {
            var I = n.bn,
              O = I.calendar;
            if (!I.moved) {
              n.bn = null;
              var j = O.ym.zm(I.start.x, I.start.y, 1, 1),
                U = j.length > 0;
              return void (O.Tc(O.coords) || U || O.Yv(e));
            }
            var W = I.x,
              Y = I.y,
              F = I.width,
              q = I.height,
              V = !1,
              J = O.ym.zm(W, Y, F, q),
              G = function () {
                setTimeout(function () {
                  O.El.clear(), (n.bn = null), O.ib();
                }, 0),
                  O.as();
              };
            if (
              "function" == typeof O.onRectangleEventSelect ||
              "function" == typeof O.onRectangleSelect
            ) {
              var X = O.Am(I.y),
                Z = X.i,
                K = O.Am(I.y + I.height),
                Q = K.i,
                $ = { start: { y: Z }, end: { y: Q } },
                ee = O.Do($),
                te = X.element.start.getTime() - O.Ub().getTime(),
                ne = K.element.start.getTime() - O.Ub().getTime(),
                ie = {};
              if (
                ((ie.events = J),
                (ie.append = !1),
                (ie.start = O.getDate(I.x, !0).addTime(te)),
                (ie.end = O.getDate(I.x + I.width, !0).addTime(ne)),
                (ie.resources = ee),
                (ie.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof O.onRectangleEventSelect &&
                  O.onRectangleEventSelect(ie),
                "function" == typeof O.onRectangleSelect &&
                  O.onRectangleSelect(ie),
                ie.preventDefault.value)
              )
                return O.El.clear(), (n.bn = null), void G();
              V = ie.append;
            }
            if (
              ("EventSelect" === O.Ba.Iw() &&
                (V || O.multiselect.clear(!0),
                J.forEach(function (e) {
                  O.multiselect.add(e, !0);
                }),
                O.multiselect.redraw()),
              G(),
              "function" == typeof O.onRectangleEventSelected ||
                "function" == typeof O.onRectangleSelected)
            ) {
              var ie = {};
              (ie.events = J),
                "function" == typeof O.onRectangleEventSelected &&
                  O.onRectangleEventSelected(ie),
                "function" == typeof O.onRectangleSelected &&
                  O.onRectangleSelected(ie);
            }
          }
          var ae = b.drag;
          if (
            (ae &&
              (ae.event && ae.event.part && delete ae.event.part.external,
              n.Sh(),
              (b.drag = null),
              (r().style.cursor = "")),
            n.tt)
          ) {
            var re = n.tt.Ut;
            re && re.sourceCalendar && re.sourceCalendar.Bl.At(re.row),
              (n.tt = null),
              (r().style.cursor = "");
          }
          if (n.Jv) {
            if (n.Jv.source) {
              var m = n.Jv.source;
              if (m.event) {
                var o = n.Jv.source.event.calendar;
                s(n.Jv.source, o.ca(o.Cl.eventMovingSource));
              } else i();
            }
            r().removeChild(n.Jv), (n.Jv = null);
          }
          (n.iq = null), (n.mq = null);
        }),
        (n.Xw = function (e) {
          e = e || {};
          var t = o();
          return (
            (t.style.position = "absolute"),
            (t.style.width = "100px"),
            (t.style.height = "20px"),
            (t.style.zIndex = 101),
            (t.style.pointerEvents = "none"),
            (t.style.backgroundColor = "#aaaaaa"),
            (t.style.opacity = 0.5),
            (t.style.overflow = "hidden"),
            (t.className = e.externalCssClass),
            e.externalHtml && (t.innerHTML = e.externalHtml),
            r().appendChild(t),
            t
          );
        }),
        "undefined" != typeof jQuery &&
          !(function (e) {
            e.fn.daypilotScheduler = function (e) {
              var t = null,
                n = this.each(function () {
                  if (!this.daypilot) {
                    var n = new DayPilot.Scheduler(this.id || this, e);
                    n.init(), (this.daypilot = n), t || (t = n);
                  }
                });
              return 1 === this.length ? t : n;
            };
          })(jQuery),
        (function () {
          var e = DayPilot.am();
          e &&
            e.directive("daypilotScheduler", [
              "$parse",
              function (e) {
                return {
                  restrict: "E",
                  template: "<div id='{{id}}'></div>",
                  compile: function (t, n) {
                    return (
                      t[0].removeAttribute("id"),
                      (t[0].innerHTML = this["template"].replace(
                        "{{id}}",
                        n["id"]
                      )),
                      function (t, n, i) {
                        var a = new DayPilot.Scheduler(n[0].firstChild);
                        a.kh.scope = t;
                        var r = i["id"];
                        r && (t[r] = a);
                        var o = i["publishAs"];
                        if (o) {
                          (0, e(o).assign)(t, a);
                        }
                        for (var l in i)
                          if (0 === l.indexOf("on")) {
                            var s = DayPilot.Util.shouldApply(l);
                            s
                              ? !(function (n) {
                                  a[n] = function (a) {
                                    var r = e(i[n]);
                                    DayPilot.Util.safeApply(t, function () {
                                      r(t, { args: a });
                                    });
                                  };
                                })(l)
                              : !(function (n) {
                                  a[n] = function (a) {
                                    e(i[n])(t, { args: a });
                                  };
                                })(l);
                          }
                        var d = t["$watch"],
                          c = i["config"] || i["daypilotConfig"],
                          u = i["events"] || i["daypilotEvents"];
                        c || a.init(),
                          d.call(
                            t,
                            c,
                            function (e) {
                              a.rh(e), a.za ? (a.update(), a.Kh()) : a.init();
                            },
                            !0
                          ),
                          u &&
                            d.call(
                              t,
                              u,
                              function (e) {
                                (a.events.list = e), a.Od({ eventsOnly: !0 });
                              },
                              !0
                            ),
                          t.$on("$destroy", function () {
                            a.dispose();
                          });
                      }
                    );
                  },
                };
              },
            ]);
        })(),
        "undefined" != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(DayPilot);
